var cG=Object.defineProperty;var uG=(n,t,e)=>t in n?cG(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var dG=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var b=(n,t,e)=>uG(n,typeof t!="symbol"?t+"":t,e);var wNe=dG((Fs,qi)=>{function QM(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function mc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var L2={exports:{}},vm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q6;function hG(){if(q6)return vm;q6=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var a in s)a!=="key"&&(r[a]=s[a])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return vm.Fragment=t,vm.jsx=e,vm.jsxs=e,vm}var G6;function fG(){return G6||(G6=1,L2.exports=hG()),L2.exports}var y=fG(),B2={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y6;function mG(){if(Y6)return bt;Y6=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function p(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function C(M,oe,De){this.props=M,this.context=oe,this.refs=k,this.updater=De||v}C.prototype.isReactComponent={},C.prototype.setState=function(M,oe){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,oe,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=C.prototype;function S(M,oe,De){this.props=M,this.context=oe,this.refs=k,this.updater=De||v}var I=S.prototype=new T;I.constructor=S,_(I,C.prototype),I.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function N(M,oe,De,Fe,H,q){return De=q.ref,{$$typeof:n,type:M,key:oe,ref:De!==void 0?De:null,props:q}}function j(M,oe){return N(M.type,oe,void 0,void 0,void 0,M.props)}function z(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function J(M){var oe={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(De){return oe[De]})}var _e=/\/+/g;function ae(M,oe){return typeof M=="object"&&M!==null&&M.key!=null?J(""+M.key):oe.toString(36)}function xe(){}function be(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(xe,xe):(M.status="pending",M.then(function(oe){M.status==="pending"&&(M.status="fulfilled",M.value=oe)},function(oe){M.status==="pending"&&(M.status="rejected",M.reason=oe)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ae(M,oe,De,Fe,H){var q=typeof M;(q==="undefined"||q==="boolean")&&(M=null);var Q=!1;if(M===null)Q=!0;else switch(q){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(M.$$typeof){case n:case t:Q=!0;break;case h:return Q=M._init,Ae(Q(M._payload),oe,De,Fe,H)}}if(Q)return H=H(M),Q=Fe===""?"."+ae(M,0):Fe,P(H)?(De="",Q!=null&&(De=Q.replace(_e,"$&/")+"/"),Ae(H,oe,De,"",function(de){return de})):H!=null&&(z(H)&&(H=j(H,De+(H.key==null||M&&M.key===H.key?"":(""+H.key).replace(_e,"$&/")+"/")+Q)),oe.push(H)),1;Q=0;var se=Fe===""?".":Fe+":";if(P(M))for(var ue=0;ue<M.length;ue++)Fe=M[ue],q=se+ae(Fe,ue),Q+=Ae(Fe,oe,De,q,H);else if(ue=p(M),typeof ue=="function")for(M=ue.call(M),ue=0;!(Fe=M.next()).done;)Fe=Fe.value,q=se+ae(Fe,ue++),Q+=Ae(Fe,oe,De,q,H);else if(q==="object"){if(typeof M.then=="function")return Ae(be(M),oe,De,Fe,H);throw oe=String(M),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Q}function Y(M,oe,De){if(M==null)return M;var Fe=[],H=0;return Ae(M,Fe,"","",function(q){return oe.call(De,q,H++)}),Fe}function we(M){if(M._status===-1){var oe=M._result;oe=oe(),oe.then(function(De){(M._status===0||M._status===-1)&&(M._status=1,M._result=De)},function(De){(M._status===0||M._status===-1)&&(M._status=2,M._result=De)}),M._status===-1&&(M._status=0,M._result=oe)}if(M._status===1)return M._result.default;throw M._result}var ne=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function re(){}return bt.Children={map:Y,forEach:function(M,oe,De){Y(M,function(){oe.apply(this,arguments)},De)},count:function(M){var oe=0;return Y(M,function(){oe++}),oe},toArray:function(M){return Y(M,function(oe){return oe})||[]},only:function(M){if(!z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},bt.Component=C,bt.Fragment=e,bt.Profiler=s,bt.PureComponent=S,bt.StrictMode=i,bt.Suspense=l,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(M){return function(){return M.apply(null,arguments)}},bt.cloneElement=function(M,oe,De){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Fe=_({},M.props),H=M.key,q=void 0;if(oe!=null)for(Q in oe.ref!==void 0&&(q=void 0),oe.key!==void 0&&(H=""+oe.key),oe)!D.call(oe,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&oe.ref===void 0||(Fe[Q]=oe[Q]);var Q=arguments.length-2;if(Q===1)Fe.children=De;else if(1<Q){for(var se=Array(Q),ue=0;ue<Q;ue++)se[ue]=arguments[ue+2];Fe.children=se}return N(M.type,H,void 0,void 0,q,Fe)},bt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:r,_context:M},M},bt.createElement=function(M,oe,De){var Fe,H={},q=null;if(oe!=null)for(Fe in oe.key!==void 0&&(q=""+oe.key),oe)D.call(oe,Fe)&&Fe!=="key"&&Fe!=="__self"&&Fe!=="__source"&&(H[Fe]=oe[Fe]);var Q=arguments.length-2;if(Q===1)H.children=De;else if(1<Q){for(var se=Array(Q),ue=0;ue<Q;ue++)se[ue]=arguments[ue+2];H.children=se}if(M&&M.defaultProps)for(Fe in Q=M.defaultProps,Q)H[Fe]===void 0&&(H[Fe]=Q[Fe]);return N(M,q,void 0,void 0,null,H)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(M){return{$$typeof:a,render:M}},bt.isValidElement=z,bt.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:we}},bt.memo=function(M,oe){return{$$typeof:u,type:M,compare:oe===void 0?null:oe}},bt.startTransition=function(M){var oe=O.T,De={};O.T=De;try{var Fe=M(),H=O.S;H!==null&&H(De,Fe),typeof Fe=="object"&&Fe!==null&&typeof Fe.then=="function"&&Fe.then(re,ne)}catch(q){ne(q)}finally{O.T=oe}},bt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},bt.use=function(M){return O.H.use(M)},bt.useActionState=function(M,oe,De){return O.H.useActionState(M,oe,De)},bt.useCallback=function(M,oe){return O.H.useCallback(M,oe)},bt.useContext=function(M){return O.H.useContext(M)},bt.useDebugValue=function(){},bt.useDeferredValue=function(M,oe){return O.H.useDeferredValue(M,oe)},bt.useEffect=function(M,oe){return O.H.useEffect(M,oe)},bt.useId=function(){return O.H.useId()},bt.useImperativeHandle=function(M,oe,De){return O.H.useImperativeHandle(M,oe,De)},bt.useInsertionEffect=function(M,oe){return O.H.useInsertionEffect(M,oe)},bt.useLayoutEffect=function(M,oe){return O.H.useLayoutEffect(M,oe)},bt.useMemo=function(M,oe){return O.H.useMemo(M,oe)},bt.useOptimistic=function(M,oe){return O.H.useOptimistic(M,oe)},bt.useReducer=function(M,oe,De){return O.H.useReducer(M,oe,De)},bt.useRef=function(M){return O.H.useRef(M)},bt.useState=function(M){return O.H.useState(M)},bt.useSyncExternalStore=function(M,oe,De){return O.H.useSyncExternalStore(M,oe,De)},bt.useTransition=function(){return O.H.useTransition()},bt.version="19.0.0",bt}var Z6;function rw(){return Z6||(Z6=1,B2.exports=mG()),B2.exports}var E=rw();const Ve=mc(E),gG=QM({__proto__:null,default:Ve},[E]);var F2={exports:{}},wm={},z2={exports:{}},j2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K6;function pG(){return K6||(K6=1,function(n){function t(Y,we){var ne=Y.length;Y.push(we);e:for(;0<ne;){var re=ne-1>>>1,M=Y[re];if(0<s(M,we))Y[re]=we,Y[ne]=M,ne=re;else break e}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var we=Y[0],ne=Y.pop();if(ne!==we){Y[0]=ne;e:for(var re=0,M=Y.length,oe=M>>>1;re<oe;){var De=2*(re+1)-1,Fe=Y[De],H=De+1,q=Y[H];if(0>s(Fe,ne))H<M&&0>s(q,Fe)?(Y[re]=q,Y[H]=ne,re=H):(Y[re]=Fe,Y[De]=ne,re=De);else if(H<M&&0>s(q,ne))Y[re]=q,Y[H]=ne,re=H;else break e}}return we}function s(Y,we){var ne=Y.sortIndex-we.sortIndex;return ne!==0?ne:Y.id-we.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,m=null,p=3,v=!1,_=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function I(Y){for(var we=e(u);we!==null;){if(we.callback===null)i(u);else if(we.startTime<=Y)i(u),we.sortIndex=we.expirationTime,t(l,we);else break;we=e(u)}}function P(Y){if(k=!1,I(Y),!_)if(e(l)!==null)_=!0,be();else{var we=e(u);we!==null&&Ae(P,we.startTime-Y)}}var O=!1,D=-1,N=5,j=-1;function z(){return!(n.unstable_now()-j<N)}function J(){if(O){var Y=n.unstable_now();j=Y;var we=!0;try{e:{_=!1,k&&(k=!1,T(D),D=-1),v=!0;var ne=p;try{t:{for(I(Y),m=e(l);m!==null&&!(m.expirationTime>Y&&z());){var re=m.callback;if(typeof re=="function"){m.callback=null,p=m.priorityLevel;var M=re(m.expirationTime<=Y);if(Y=n.unstable_now(),typeof M=="function"){m.callback=M,I(Y),we=!0;break t}m===e(l)&&i(l),I(Y)}else i(l);m=e(l)}if(m!==null)we=!0;else{var oe=e(u);oe!==null&&Ae(P,oe.startTime-Y),we=!1}}break e}finally{m=null,p=ne,v=!1}we=void 0}}finally{we?_e():O=!1}}}var _e;if(typeof S=="function")_e=function(){S(J)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,xe=ae.port2;ae.port1.onmessage=J,_e=function(){xe.postMessage(null)}}else _e=function(){C(J,0)};function be(){O||(O=!0,_e())}function Ae(Y,we){D=C(function(){Y(n.unstable_now())},we)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,be())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var we=3;break;default:we=p}var ne=p;p=we;try{return Y()}finally{p=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,we){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=p;p=Y;try{return we()}finally{p=ne}},n.unstable_scheduleCallback=function(Y,we,ne){var re=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?re+ne:re):ne=re,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ne+M,Y={id:h++,callback:we,priorityLevel:Y,startTime:ne,expirationTime:M,sortIndex:-1},ne>re?(Y.sortIndex=ne,t(u,Y),e(l)===null&&Y===e(u)&&(k?(T(D),D=-1):k=!0,Ae(P,ne-re))):(Y.sortIndex=M,t(l,Y),_||v||(_=!0,be())),Y},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(Y){var we=p;return function(){var ne=p;p=we;try{return Y.apply(this,arguments)}finally{p=ne}}}}(j2)),j2}var X6;function bG(){return X6||(X6=1,z2.exports=pG()),z2.exports}var U2={exports:{}},ji={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J6;function vG(){if(J6)return ji;J6=1;var n=rw();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(l,u,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:l,containerInfo:u,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ji.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ji.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return r(l,u,null,h)},ji.flushSync=function(l){var u=o.T,h=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=u,i.p=h,i.d.f()}},ji.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},ji.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},ji.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,m=a(h,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:v}):h==="script"&&i.d.X(l,{crossOrigin:m,integrity:p,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ji.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},ji.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,m=a(h,u.crossOrigin);i.d.L(l,h,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ji.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=a(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},ji.requestFormReset=function(l){i.d.r(l)},ji.unstable_batchedUpdates=function(l,u){return l(u)},ji.useFormState=function(l,u,h){return o.H.useFormState(l,u,h)},ji.useFormStatus=function(){return o.H.useHostTransitionStatus()},ji.version="19.0.0",ji}var Q6;function eD(){if(Q6)return U2.exports;Q6=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),U2.exports=vG(),U2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function wG(){if(eI)return wm;eI=1;var n=bG(),t=rw(),e=eD();function i(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(c){return c===null||typeof c!="object"?null:(c=O&&c[O]||c["@@iterator"],typeof c=="function"?c:null)}var N=Symbol.for("react.client.reference");function j(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===N?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case a:return"Portal";case h:return"Profiler";case u:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Provider";case p:return(c._context.displayName||"Context")+".Consumer";case _:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return d=c.displayName||null,d!==null?d:j(c.type)||"Memo";case S:d=c._payload,c=c._init;try{return j(c(d))}catch{}}return null}var z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Object.assign,_e,ae;function xe(c){if(_e===void 0)try{throw Error()}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);_e=d&&d[1]||"",ae=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+c+ae}var be=!1;function Ae(c,d){if(!c||be)return"";be=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(d){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var te=le}Reflect.construct(c,[],ve)}else{try{ve.call()}catch(le){te=le}c.call(ve.prototype)}}else{try{throw Error()}catch(le){te=le}(ve=c())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&te&&typeof le.stack=="string")return[le.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=g.DetermineComponentFrameRoot(),A=x[0],R=x[1];if(A&&R){var V=A.split(`
`),W=R.split(`
`);for(w=g=0;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;for(;w<W.length&&!W[w].includes("DetermineComponentFrameRoot");)w++;if(g===V.length||w===W.length)for(g=V.length-1,w=W.length-1;1<=g&&0<=w&&V[g]!==W[w];)w--;for(;1<=g&&0<=w;g--,w--)if(V[g]!==W[w]){if(g!==1||w!==1)do if(g--,w--,0>w||V[g]!==W[w]){var ce=`
`+V[g].replace(" at new "," at ");return c.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",c.displayName)),ce}while(1<=g&&0<=w);break}}}finally{be=!1,Error.prepareStackTrace=f}return(f=c?c.displayName||c.name:"")?xe(f):""}function Y(c){switch(c.tag){case 26:case 27:case 5:return xe(c.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return c=Ae(c.type,!1),c;case 11:return c=Ae(c.type.render,!1),c;case 1:return c=Ae(c.type,!0),c;default:return""}}function we(c){try{var d="";do d+=Y(c),c=c.return;while(c);return d}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ne(c){var d=c,f=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(f=d.return),c=d.return;while(c)}return d.tag===3?f:null}function re(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function M(c){if(ne(c)!==c)throw Error(i(188))}function oe(c){var d=c.alternate;if(!d){if(d=ne(c),d===null)throw Error(i(188));return d!==c?null:c}for(var f=c,g=d;;){var w=f.return;if(w===null)break;var x=w.alternate;if(x===null){if(g=w.return,g!==null){f=g;continue}break}if(w.child===x.child){for(x=w.child;x;){if(x===f)return M(w),c;if(x===g)return M(w),d;x=x.sibling}throw Error(i(188))}if(f.return!==g.return)f=w,g=x;else{for(var A=!1,R=w.child;R;){if(R===f){A=!0,f=w,g=x;break}if(R===g){A=!0,g=w,f=x;break}R=R.sibling}if(!A){for(R=x.child;R;){if(R===f){A=!0,f=x,g=w;break}if(R===g){A=!0,g=x,f=w;break}R=R.sibling}if(!A)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?c:d}function De(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=De(c),d!==null)return d;c=c.sibling}return null}var Fe=Array.isArray,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Q=[],se=-1;function ue(c){return{current:c}}function de(c){0>se||(c.current=Q[se],Q[se]=null,se--)}function ie(c,d){se++,Q[se]=c.current,c.current=d}var Ee=ue(null),ke=ue(null),Ze=ue(null),tt=ue(null);function Kt(c,d){switch(ie(Ze,d),ie(ke,c),ie(Ee,null),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?_6(d):0;break;default:if(c=c===8?d.parentNode:d,d=c.tagName,c=c.namespaceURI)c=_6(c),d=x6(c,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}de(Ee),ie(Ee,d)}function Bt(){de(Ee),de(ke),de(Ze)}function rt(c){c.memoizedState!==null&&ie(tt,c);var d=Ee.current,f=x6(d,c.type);d!==f&&(ie(ke,c),ie(Ee,f))}function B(c){ke.current===c&&(de(Ee),de(ke)),tt.current===c&&(de(tt),fm._currentValue=q)}var $=Object.prototype.hasOwnProperty,K=n.unstable_scheduleCallback,Ie=n.unstable_cancelCallback,Te=n.unstable_shouldYield,pe=n.unstable_requestPaint,Z=n.unstable_now,ge=n.unstable_getCurrentPriorityLevel,Me=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,ct=n.unstable_NormalPriority,gi=n.unstable_LowPriority,qn=n.unstable_IdlePriority,ds=n.log,Tt=n.unstable_setDisableYieldValue,yt=null,En=null;function pi(c){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(yt,c,void 0,(c.current.flags&128)===128)}catch{}}function hs(c){if(typeof ds=="function"&&Tt(c),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(yt,c)}catch{}}var Gn=Math.clz32?Math.clz32:K$,xf=Math.log,Py=Math.LN2;function K$(c){return c>>>=0,c===0?32:31-(xf(c)/Py|0)|0}var a0=128,l0=4194304;function Cc(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function c0(c,d){var f=c.pendingLanes;if(f===0)return 0;var g=0,w=c.suspendedLanes,x=c.pingedLanes,A=c.warmLanes;c=c.finishedLanes!==0;var R=f&134217727;return R!==0?(f=R&~w,f!==0?g=Cc(f):(x&=R,x!==0?g=Cc(x):c||(A=R&~A,A!==0&&(g=Cc(A))))):(R=f&~w,R!==0?g=Cc(R):x!==0?g=Cc(x):c||(A=f&~A,A!==0&&(g=Cc(A)))),g===0?0:d!==0&&d!==g&&(d&w)===0&&(w=g&-g,A=d&-d,w>=A||w===32&&(A&4194176)!==0)?d:g}function kf(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function X$(c,d){switch(c){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fA(){var c=a0;return a0<<=1,(a0&4194176)===0&&(a0=128),c}function mA(){var c=l0;return l0<<=1,(l0&62914560)===0&&(l0=4194304),c}function Oy(c){for(var d=[],f=0;31>f;f++)d.push(c);return d}function Cf(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function J$(c,d,f,g,w,x){var A=c.pendingLanes;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=f,c.entangledLanes&=f,c.errorRecoveryDisabledLanes&=f,c.shellSuspendCounter=0;var R=c.entanglements,V=c.expirationTimes,W=c.hiddenUpdates;for(f=A&~f;0<f;){var ce=31-Gn(f),ve=1<<ce;R[ce]=0,V[ce]=-1;var te=W[ce];if(te!==null)for(W[ce]=null,ce=0;ce<te.length;ce++){var le=te[ce];le!==null&&(le.lane&=-536870913)}f&=~ve}g!==0&&gA(c,g,0),x!==0&&w===0&&c.tag!==0&&(c.suspendedLanes|=x&~(A&~d))}function gA(c,d,f){c.pendingLanes|=d,c.suspendedLanes&=~d;var g=31-Gn(d);c.entangledLanes|=d,c.entanglements[g]=c.entanglements[g]|1073741824|f&4194218}function pA(c,d){var f=c.entangledLanes|=d;for(c=c.entanglements;f;){var g=31-Gn(f),w=1<<g;w&d|c[g]&d&&(c[g]|=d),f&=~w}}function bA(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function vA(){var c=H.p;return c!==0?c:(c=window.event,c===void 0?32:z6(c.type))}function Q$(c,d){var f=H.p;try{return H.p=c,d()}finally{H.p=f}}var cl=Math.random().toString(36).slice(2),Fi="__reactFiber$"+cl,fs="__reactProps$"+cl,Qu="__reactContainer$"+cl,My="__reactEvents$"+cl,eW="__reactListeners$"+cl,tW="__reactHandles$"+cl,wA="__reactResources$"+cl,Ef="__reactMarker$"+cl;function Dy(c){delete c[Fi],delete c[fs],delete c[My],delete c[eW],delete c[tW]}function Ec(c){var d=c[Fi];if(d)return d;for(var f=c.parentNode;f;){if(d=f[Qu]||f[Fi]){if(f=d.alternate,d.child!==null||f!==null&&f.child!==null)for(c=E6(c);c!==null;){if(f=c[Fi])return f;c=E6(c)}return d}c=f,f=c.parentNode}return null}function ed(c){if(c=c[Fi]||c[Qu]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function Tf(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(i(33))}function td(c){var d=c[wA];return d||(d=c[wA]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function bi(c){c[Ef]=!0}var yA=new Set,_A={};function Tc(c,d){nd(c,d),nd(c+"Capture",d)}function nd(c,d){for(_A[c]=d,c=0;c<d.length;c++)yA.add(d[c])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nW=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xA={},kA={};function iW(c){return $.call(kA,c)?!0:$.call(xA,c)?!1:nW.test(c)?kA[c]=!0:(xA[c]=!0,!1)}function u0(c,d,f){if(iW(d))if(f===null)c.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var g=d.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+f)}}function d0(c,d,f){if(f===null)c.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+f)}}function Zo(c,d,f,g){if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttributeNS(d,f,""+g)}}function Zs(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function CA(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function sW(c){var d=CA(c)?"checked":"value",f=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),g=""+c[d];if(!c.hasOwnProperty(d)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,x=f.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return w.call(this)},set:function(A){g=""+A,x.call(this,A)}}),Object.defineProperty(c,d,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function h0(c){c._valueTracker||(c._valueTracker=sW(c))}function EA(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var f=d.getValue(),g="";return c&&(g=CA(c)?c.checked?"true":"false":c.value),c=g,c!==f?(d.setValue(c),!0):!1}function f0(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var rW=/[\n"\\]/g;function Ks(c){return c.replace(rW,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Vy(c,d,f,g,w,x,A,R){c.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?c.type=A:c.removeAttribute("type"),d!=null?A==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Zs(d)):c.value!==""+Zs(d)&&(c.value=""+Zs(d)):A!=="submit"&&A!=="reset"||c.removeAttribute("value"),d!=null?Ny(c,A,Zs(d)):f!=null?Ny(c,A,Zs(f)):g!=null&&c.removeAttribute("value"),w==null&&x!=null&&(c.defaultChecked=!!x),w!=null&&(c.checked=w&&typeof w!="function"&&typeof w!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?c.name=""+Zs(R):c.removeAttribute("name")}function TA(c,d,f,g,w,x,A,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(c.type=x),d!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||d!=null))return;f=f!=null?""+Zs(f):"",d=d!=null?""+Zs(d):f,R||d===c.value||(c.value=d),c.defaultValue=d}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,c.checked=R?c.checked:!!g,c.defaultChecked=!!g,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(c.name=A)}function Ny(c,d,f){d==="number"&&f0(c.ownerDocument)===c||c.defaultValue===""+f||(c.defaultValue=""+f)}function id(c,d,f,g){if(c=c.options,d){d={};for(var w=0;w<f.length;w++)d["$"+f[w]]=!0;for(f=0;f<c.length;f++)w=d.hasOwnProperty("$"+c[f].value),c[f].selected!==w&&(c[f].selected=w),w&&g&&(c[f].defaultSelected=!0)}else{for(f=""+Zs(f),d=null,w=0;w<c.length;w++){if(c[w].value===f){c[w].selected=!0,g&&(c[w].defaultSelected=!0);return}d!==null||c[w].disabled||(d=c[w])}d!==null&&(d.selected=!0)}}function SA(c,d,f){if(d!=null&&(d=""+Zs(d),d!==c.value&&(c.value=d),f==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=f!=null?""+Zs(f):""}function AA(c,d,f,g){if(d==null){if(g!=null){if(f!=null)throw Error(i(92));if(Fe(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),d=f}f=Zs(d),c.defaultValue=f,g=c.textContent,g===f&&g!==""&&g!==null&&(c.value=g)}function sd(c,d){if(d){var f=c.firstChild;if(f&&f===c.lastChild&&f.nodeType===3){f.nodeValue=d;return}}c.textContent=d}var oW=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function IA(c,d,f){var g=d.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":g?c.setProperty(d,f):typeof f!="number"||f===0||oW.has(d)?d==="float"?c.cssFloat=f:c[d]=(""+f).trim():c[d]=f+"px"}function RA(c,d,f){if(d!=null&&typeof d!="object")throw Error(i(62));if(c=c.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||d!=null&&d.hasOwnProperty(g)||(g.indexOf("--")===0?c.setProperty(g,""):g==="float"?c.cssFloat="":c[g]="");for(var w in d)g=d[w],d.hasOwnProperty(w)&&f[w]!==g&&IA(c,w,g)}else for(var x in d)d.hasOwnProperty(x)&&IA(c,x,d[x])}function Ly(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aW=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lW=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function m0(c){return lW.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var By=null;function Fy(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var rd=null,od=null;function PA(c){var d=ed(c);if(d&&(c=d.stateNode)){var f=c[fs]||null;e:switch(c=d.stateNode,d.type){case"input":if(Vy(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),d=f.name,f.type==="radio"&&d!=null){for(f=c;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ks(""+d)+'"][type="radio"]'),d=0;d<f.length;d++){var g=f[d];if(g!==c&&g.form===c.form){var w=g[fs]||null;if(!w)throw Error(i(90));Vy(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(d=0;d<f.length;d++)g=f[d],g.form===c.form&&EA(g)}break e;case"textarea":SA(c,f.value,f.defaultValue);break e;case"select":d=f.value,d!=null&&id(c,!!f.multiple,d,!1)}}}var zy=!1;function OA(c,d,f){if(zy)return c(d,f);zy=!0;try{var g=c(d);return g}finally{if(zy=!1,(rd!==null||od!==null)&&(X0(),rd&&(d=rd,c=od,od=rd=null,PA(d),c)))for(d=0;d<c.length;d++)PA(c[d])}}function Sf(c,d){var f=c.stateNode;if(f===null)return null;var g=f[fs]||null;if(g===null)return null;f=g[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(c=c.type,g=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!g;break e;default:c=!1}if(c)return null;if(f&&typeof f!="function")throw Error(i(231,d,typeof f));return f}var jy=!1;if(Yo)try{var Af={};Object.defineProperty(Af,"passive",{get:function(){jy=!0}}),window.addEventListener("test",Af,Af),window.removeEventListener("test",Af,Af)}catch{jy=!1}var ul=null,Uy=null,g0=null;function MA(){if(g0)return g0;var c,d=Uy,f=d.length,g,w="value"in ul?ul.value:ul.textContent,x=w.length;for(c=0;c<f&&d[c]===w[c];c++);var A=f-c;for(g=1;g<=A&&d[f-g]===w[x-g];g++);return g0=w.slice(c,1<g?1-g:void 0)}function p0(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function b0(){return!0}function DA(){return!1}function ms(c){function d(f,g,w,x,A){this._reactName=f,this._targetInst=w,this.type=g,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var R in c)c.hasOwnProperty(R)&&(f=c[R],this[R]=f?f(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?b0:DA,this.isPropagationStopped=DA,this}return J(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=b0)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=b0)},persist:function(){},isPersistent:b0}),d}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v0=ms(Sc),If=J({},Sc,{view:0,detail:0}),cW=ms(If),Hy,$y,Rf,w0=J({},If,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qy,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Rf&&(Rf&&c.type==="mousemove"?(Hy=c.screenX-Rf.screenX,$y=c.screenY-Rf.screenY):$y=Hy=0,Rf=c),Hy)},movementY:function(c){return"movementY"in c?c.movementY:$y}}),VA=ms(w0),uW=J({},w0,{dataTransfer:0}),dW=ms(uW),hW=J({},If,{relatedTarget:0}),Wy=ms(hW),fW=J({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),mW=ms(fW),gW=J({},Sc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),pW=ms(gW),bW=J({},Sc,{data:0}),NA=ms(bW),vW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _W(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=yW[c])?!!d[c]:!1}function qy(){return _W}var xW=J({},If,{key:function(c){if(c.key){var d=vW[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=p0(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?wW[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qy,charCode:function(c){return c.type==="keypress"?p0(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?p0(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),kW=ms(xW),CW=J({},w0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LA=ms(CW),EW=J({},If,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qy}),TW=ms(EW),SW=J({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),AW=ms(SW),IW=J({},w0,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),RW=ms(IW),PW=J({},Sc,{newState:0,oldState:0}),OW=ms(PW),MW=[9,13,27,32],Gy=Yo&&"CompositionEvent"in window,Pf=null;Yo&&"documentMode"in document&&(Pf=document.documentMode);var DW=Yo&&"TextEvent"in window&&!Pf,BA=Yo&&(!Gy||Pf&&8<Pf&&11>=Pf),FA=" ",zA=!1;function jA(c,d){switch(c){case"keyup":return MW.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UA(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ad=!1;function VW(c,d){switch(c){case"compositionend":return UA(d);case"keypress":return d.which!==32?null:(zA=!0,FA);case"textInput":return c=d.data,c===FA&&zA?null:c;default:return null}}function NW(c,d){if(ad)return c==="compositionend"||!Gy&&jA(c,d)?(c=MA(),g0=Uy=ul=null,ad=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return BA&&d.locale!=="ko"?null:d.data;default:return null}}var LW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HA(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!LW[c.type]:d==="textarea"}function $A(c,d,f,g){rd?od?od.push(g):od=[g]:rd=g,d=nb(d,"onChange"),0<d.length&&(f=new v0("onChange","change",null,f,g),c.push({event:f,listeners:d}))}var Of=null,Mf=null;function BW(c){p6(c,0)}function y0(c){var d=Tf(c);if(EA(d))return c}function WA(c,d){if(c==="change")return d}var qA=!1;if(Yo){var Yy;if(Yo){var Zy="oninput"in document;if(!Zy){var GA=document.createElement("div");GA.setAttribute("oninput","return;"),Zy=typeof GA.oninput=="function"}Yy=Zy}else Yy=!1;qA=Yy&&(!document.documentMode||9<document.documentMode)}function YA(){Of&&(Of.detachEvent("onpropertychange",ZA),Mf=Of=null)}function ZA(c){if(c.propertyName==="value"&&y0(Mf)){var d=[];$A(d,Mf,c,Fy(c)),OA(BW,d)}}function FW(c,d,f){c==="focusin"?(YA(),Of=d,Mf=f,Of.attachEvent("onpropertychange",ZA)):c==="focusout"&&YA()}function zW(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return y0(Mf)}function jW(c,d){if(c==="click")return y0(d)}function UW(c,d){if(c==="input"||c==="change")return y0(d)}function HW(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ss=typeof Object.is=="function"?Object.is:HW;function Df(c,d){if(Ss(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var f=Object.keys(c),g=Object.keys(d);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var w=f[g];if(!$.call(d,w)||!Ss(c[w],d[w]))return!1}return!0}function KA(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function XA(c,d){var f=KA(c);c=0;for(var g;f;){if(f.nodeType===3){if(g=c+f.textContent.length,c<=d&&g>=d)return{node:f,offset:d-c};c=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=KA(f)}}function JA(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?JA(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function QA(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=f0(c.document);d instanceof c.HTMLIFrameElement;){try{var f=typeof d.contentWindow.location.href=="string"}catch{f=!1}if(f)c=d.contentWindow;else break;d=f0(c.document)}return d}function Ky(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function $W(c,d){var f=QA(d);d=c.focusedElem;var g=c.selectionRange;if(f!==d&&d&&d.ownerDocument&&JA(d.ownerDocument.documentElement,d)){if(g!==null&&Ky(d)){if(c=g.start,f=g.end,f===void 0&&(f=c),"selectionStart"in d)d.selectionStart=c,d.selectionEnd=Math.min(f,d.value.length);else if(f=(c=d.ownerDocument||document)&&c.defaultView||window,f.getSelection){f=f.getSelection();var w=d.textContent.length,x=Math.min(g.start,w);g=g.end===void 0?x:Math.min(g.end,w),!f.extend&&x>g&&(w=g,g=x,x=w),w=XA(d,x);var A=XA(d,g);w&&A&&(f.rangeCount!==1||f.anchorNode!==w.node||f.anchorOffset!==w.offset||f.focusNode!==A.node||f.focusOffset!==A.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),f.removeAllRanges(),x>g?(f.addRange(c),f.extend(A.node,A.offset)):(c.setEnd(A.node,A.offset),f.addRange(c)))}}for(c=[],f=d;f=f.parentNode;)f.nodeType===1&&c.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<c.length;d++)f=c[d],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var WW=Yo&&"documentMode"in document&&11>=document.documentMode,ld=null,Xy=null,Vf=null,Jy=!1;function e3(c,d,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jy||ld==null||ld!==f0(g)||(g=ld,"selectionStart"in g&&Ky(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Vf&&Df(Vf,g)||(Vf=g,g=nb(Xy,"onSelect"),0<g.length&&(d=new v0("onSelect","select",null,d,f),c.push({event:d,listeners:g}),d.target=ld)))}function Ac(c,d){var f={};return f[c.toLowerCase()]=d.toLowerCase(),f["Webkit"+c]="webkit"+d,f["Moz"+c]="moz"+d,f}var cd={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionrun:Ac("Transition","TransitionRun"),transitionstart:Ac("Transition","TransitionStart"),transitioncancel:Ac("Transition","TransitionCancel"),transitionend:Ac("Transition","TransitionEnd")},Qy={},t3={};Yo&&(t3=document.createElement("div").style,"AnimationEvent"in window||(delete cd.animationend.animation,delete cd.animationiteration.animation,delete cd.animationstart.animation),"TransitionEvent"in window||delete cd.transitionend.transition);function Ic(c){if(Qy[c])return Qy[c];if(!cd[c])return c;var d=cd[c],f;for(f in d)if(d.hasOwnProperty(f)&&f in t3)return Qy[c]=d[f];return c}var n3=Ic("animationend"),i3=Ic("animationiteration"),s3=Ic("animationstart"),qW=Ic("transitionrun"),GW=Ic("transitionstart"),YW=Ic("transitioncancel"),r3=Ic("transitionend"),o3=new Map,a3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(c,d){o3.set(c,d),Tc(d,[c])}var Xs=[],ud=0,e_=0;function _0(){for(var c=ud,d=e_=ud=0;d<c;){var f=Xs[d];Xs[d++]=null;var g=Xs[d];Xs[d++]=null;var w=Xs[d];Xs[d++]=null;var x=Xs[d];if(Xs[d++]=null,g!==null&&w!==null){var A=g.pending;A===null?w.next=w:(w.next=A.next,A.next=w),g.pending=w}x!==0&&l3(f,w,x)}}function x0(c,d,f,g){Xs[ud++]=c,Xs[ud++]=d,Xs[ud++]=f,Xs[ud++]=g,e_|=g,c.lanes|=g,c=c.alternate,c!==null&&(c.lanes|=g)}function t_(c,d,f,g){return x0(c,d,f,g),k0(c)}function dl(c,d){return x0(c,null,null,d),k0(c)}function l3(c,d,f){c.lanes|=f;var g=c.alternate;g!==null&&(g.lanes|=f);for(var w=!1,x=c.return;x!==null;)x.childLanes|=f,g=x.alternate,g!==null&&(g.childLanes|=f),x.tag===22&&(c=x.stateNode,c===null||c._visibility&1||(w=!0)),c=x,x=x.return;w&&d!==null&&c.tag===3&&(x=c.stateNode,w=31-Gn(f),x=x.hiddenUpdates,c=x[w],c===null?x[w]=[d]:c.push(d),d.lane=f|536870912)}function k0(c){if(50<om)throw om=0,a2=null,Error(i(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var dd={},c3=new WeakMap;function Js(c,d){if(typeof c=="object"&&c!==null){var f=c3.get(c);return f!==void 0?f:(d={value:c,source:d,stack:we(d)},c3.set(c,d),d)}return{value:c,source:d,stack:we(d)}}var hd=[],fd=0,C0=null,E0=0,Qs=[],er=0,Rc=null,Ko=1,Xo="";function Pc(c,d){hd[fd++]=E0,hd[fd++]=C0,C0=c,E0=d}function u3(c,d,f){Qs[er++]=Ko,Qs[er++]=Xo,Qs[er++]=Rc,Rc=c;var g=Ko;c=Xo;var w=32-Gn(g)-1;g&=~(1<<w),f+=1;var x=32-Gn(d)+w;if(30<x){var A=w-w%5;x=(g&(1<<A)-1).toString(32),g>>=A,w-=A,Ko=1<<32-Gn(d)+w|f<<w|g,Xo=x+c}else Ko=1<<x|f<<w|g,Xo=c}function n_(c){c.return!==null&&(Pc(c,1),u3(c,1,0))}function i_(c){for(;c===C0;)C0=hd[--fd],hd[fd]=null,E0=hd[--fd],hd[fd]=null;for(;c===Rc;)Rc=Qs[--er],Qs[er]=null,Xo=Qs[--er],Qs[er]=null,Ko=Qs[--er],Qs[er]=null}var Ji=null,Oi=null,Ft=!1,Ar=null,ao=!1,s_=Error(i(519));function Oc(c){var d=Error(i(418,""));throw Bf(Js(d,c)),s_}function d3(c){var d=c.stateNode,f=c.type,g=c.memoizedProps;switch(d[Fi]=c,d[fs]=g,f){case"dialog":Pt("cancel",d),Pt("close",d);break;case"iframe":case"object":case"embed":Pt("load",d);break;case"video":case"audio":for(f=0;f<lm.length;f++)Pt(lm[f],d);break;case"source":Pt("error",d);break;case"img":case"image":case"link":Pt("error",d),Pt("load",d);break;case"details":Pt("toggle",d);break;case"input":Pt("invalid",d),TA(d,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),h0(d);break;case"select":Pt("invalid",d);break;case"textarea":Pt("invalid",d),AA(d,g.value,g.defaultValue,g.children),h0(d)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||d.textContent===""+f||g.suppressHydrationWarning===!0||y6(d.textContent,f)?(g.popover!=null&&(Pt("beforetoggle",d),Pt("toggle",d)),g.onScroll!=null&&Pt("scroll",d),g.onScrollEnd!=null&&Pt("scrollend",d),g.onClick!=null&&(d.onclick=ib),d=!0):d=!1,d||Oc(c)}function h3(c){for(Ji=c.return;Ji;)switch(Ji.tag){case 3:case 27:ao=!0;return;case 5:case 13:ao=!1;return;default:Ji=Ji.return}}function Nf(c){if(c!==Ji)return!1;if(!Ft)return h3(c),Ft=!0,!1;var d=!1,f;if((f=c.tag!==3&&c.tag!==27)&&((f=c.tag===5)&&(f=c.type,f=!(f!=="form"&&f!=="button")||C2(c.type,c.memoizedProps)),f=!f),f&&(d=!0),d&&Oi&&Oc(c),h3(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(f=c.data,f==="/$"){if(d===0){Oi=Rr(c.nextSibling);break e}d--}else f!=="$"&&f!=="$!"&&f!=="$?"||d++;c=c.nextSibling}Oi=null}}else Oi=Ji?Rr(c.stateNode.nextSibling):null;return!0}function Lf(){Oi=Ji=null,Ft=!1}function Bf(c){Ar===null?Ar=[c]:Ar.push(c)}var Ff=Error(i(460)),f3=Error(i(474)),r_={then:function(){}};function m3(c){return c=c.status,c==="fulfilled"||c==="rejected"}function T0(){}function g3(c,d,f){switch(f=c[f],f===void 0?c.push(d):f!==d&&(d.then(T0,T0),d=f),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Ff?Error(i(483)):c;default:if(typeof d.status=="string")d.then(T0,T0);else{if(c=hn,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=d,c.status="pending",c.then(function(g){if(d.status==="pending"){var w=d;w.status="fulfilled",w.value=g}},function(g){if(d.status==="pending"){var w=d;w.status="rejected",w.reason=g}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Ff?Error(i(483)):c}throw zf=d,Ff}}var zf=null;function p3(){if(zf===null)throw Error(i(459));var c=zf;return zf=null,c}var md=null,jf=0;function S0(c){var d=jf;return jf+=1,md===null&&(md=[]),g3(md,c,d)}function Uf(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function A0(c,d){throw d.$$typeof===r?Error(i(525)):(c=Object.prototype.toString.call(d),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function b3(c){var d=c._init;return d(c._payload)}function v3(c){function d(G,U){if(c){var X=G.deletions;X===null?(G.deletions=[U],G.flags|=16):X.push(U)}}function f(G,U){if(!c)return null;for(;U!==null;)d(G,U),U=U.sibling;return null}function g(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function w(G,U){return G=kl(G,U),G.index=0,G.sibling=null,G}function x(G,U,X){return G.index=X,c?(X=G.alternate,X!==null?(X=X.index,X<U?(G.flags|=33554434,U):X):(G.flags|=33554434,U)):(G.flags|=1048576,U)}function A(G){return c&&G.alternate===null&&(G.flags|=33554434),G}function R(G,U,X,he){return U===null||U.tag!==6?(U=Q_(X,G.mode,he),U.return=G,U):(U=w(U,X),U.return=G,U)}function V(G,U,X,he){var $e=X.type;return $e===l?ce(G,U,X.props.children,he,X.key):U!==null&&(U.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===S&&b3($e)===U.type)?(U=w(U,X.props),Uf(U,X),U.return=G,U):(U=q0(X.type,X.key,X.props,null,G.mode,he),Uf(U,X),U.return=G,U)}function W(G,U,X,he){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=e2(X,G.mode,he),U.return=G,U):(U=w(U,X.children||[]),U.return=G,U)}function ce(G,U,X,he,$e){return U===null||U.tag!==7?(U=Uc(X,G.mode,he,$e),U.return=G,U):(U=w(U,X),U.return=G,U)}function ve(G,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Q_(""+U,G.mode,X),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case o:return X=q0(U.type,U.key,U.props,null,G.mode,X),Uf(X,U),X.return=G,X;case a:return U=e2(U,G.mode,X),U.return=G,U;case S:var he=U._init;return U=he(U._payload),ve(G,U,X)}if(Fe(U)||D(U))return U=Uc(U,G.mode,X,null),U.return=G,U;if(typeof U.then=="function")return ve(G,S0(U),X);if(U.$$typeof===v)return ve(G,H0(G,U),X);A0(G,U)}return null}function te(G,U,X,he){var $e=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return $e!==null?null:R(G,U,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case o:return X.key===$e?V(G,U,X,he):null;case a:return X.key===$e?W(G,U,X,he):null;case S:return $e=X._init,X=$e(X._payload),te(G,U,X,he)}if(Fe(X)||D(X))return $e!==null?null:ce(G,U,X,he,null);if(typeof X.then=="function")return te(G,U,S0(X),he);if(X.$$typeof===v)return te(G,U,H0(G,X),he);A0(G,X)}return null}function le(G,U,X,he,$e){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return G=G.get(X)||null,R(U,G,""+he,$e);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case o:return G=G.get(he.key===null?X:he.key)||null,V(U,G,he,$e);case a:return G=G.get(he.key===null?X:he.key)||null,W(U,G,he,$e);case S:var kt=he._init;return he=kt(he._payload),le(G,U,X,he,$e)}if(Fe(he)||D(he))return G=G.get(X)||null,ce(U,G,he,$e,null);if(typeof he.then=="function")return le(G,U,X,S0(he),$e);if(he.$$typeof===v)return le(G,U,X,H0(U,he),$e);A0(U,he)}return null}function Je(G,U,X,he){for(var $e=null,kt=null,Qe=U,st=U=0,yi=null;Qe!==null&&st<X.length;st++){Qe.index>st?(yi=Qe,Qe=null):yi=Qe.sibling;var zt=te(G,Qe,X[st],he);if(zt===null){Qe===null&&(Qe=yi);break}c&&Qe&&zt.alternate===null&&d(G,Qe),U=x(zt,U,st),kt===null?$e=zt:kt.sibling=zt,kt=zt,Qe=yi}if(st===X.length)return f(G,Qe),Ft&&Pc(G,st),$e;if(Qe===null){for(;st<X.length;st++)Qe=ve(G,X[st],he),Qe!==null&&(U=x(Qe,U,st),kt===null?$e=Qe:kt.sibling=Qe,kt=Qe);return Ft&&Pc(G,st),$e}for(Qe=g(Qe);st<X.length;st++)yi=le(Qe,G,st,X[st],he),yi!==null&&(c&&yi.alternate!==null&&Qe.delete(yi.key===null?st:yi.key),U=x(yi,U,st),kt===null?$e=yi:kt.sibling=yi,kt=yi);return c&&Qe.forEach(function(Rl){return d(G,Rl)}),Ft&&Pc(G,st),$e}function ft(G,U,X,he){if(X==null)throw Error(i(151));for(var $e=null,kt=null,Qe=U,st=U=0,yi=null,zt=X.next();Qe!==null&&!zt.done;st++,zt=X.next()){Qe.index>st?(yi=Qe,Qe=null):yi=Qe.sibling;var Rl=te(G,Qe,zt.value,he);if(Rl===null){Qe===null&&(Qe=yi);break}c&&Qe&&Rl.alternate===null&&d(G,Qe),U=x(Rl,U,st),kt===null?$e=Rl:kt.sibling=Rl,kt=Rl,Qe=yi}if(zt.done)return f(G,Qe),Ft&&Pc(G,st),$e;if(Qe===null){for(;!zt.done;st++,zt=X.next())zt=ve(G,zt.value,he),zt!==null&&(U=x(zt,U,st),kt===null?$e=zt:kt.sibling=zt,kt=zt);return Ft&&Pc(G,st),$e}for(Qe=g(Qe);!zt.done;st++,zt=X.next())zt=le(Qe,G,st,zt.value,he),zt!==null&&(c&&zt.alternate!==null&&Qe.delete(zt.key===null?st:zt.key),U=x(zt,U,st),kt===null?$e=zt:kt.sibling=zt,kt=zt);return c&&Qe.forEach(function(lG){return d(G,lG)}),Ft&&Pc(G,st),$e}function zn(G,U,X,he){if(typeof X=="object"&&X!==null&&X.type===l&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case o:e:{for(var $e=X.key;U!==null;){if(U.key===$e){if($e=X.type,$e===l){if(U.tag===7){f(G,U.sibling),he=w(U,X.props.children),he.return=G,G=he;break e}}else if(U.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===S&&b3($e)===U.type){f(G,U.sibling),he=w(U,X.props),Uf(he,X),he.return=G,G=he;break e}f(G,U);break}else d(G,U);U=U.sibling}X.type===l?(he=Uc(X.props.children,G.mode,he,X.key),he.return=G,G=he):(he=q0(X.type,X.key,X.props,null,G.mode,he),Uf(he,X),he.return=G,G=he)}return A(G);case a:e:{for($e=X.key;U!==null;){if(U.key===$e)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){f(G,U.sibling),he=w(U,X.children||[]),he.return=G,G=he;break e}else{f(G,U);break}else d(G,U);U=U.sibling}he=e2(X,G.mode,he),he.return=G,G=he}return A(G);case S:return $e=X._init,X=$e(X._payload),zn(G,U,X,he)}if(Fe(X))return Je(G,U,X,he);if(D(X)){if($e=D(X),typeof $e!="function")throw Error(i(150));return X=$e.call(X),ft(G,U,X,he)}if(typeof X.then=="function")return zn(G,U,S0(X),he);if(X.$$typeof===v)return zn(G,U,H0(G,X),he);A0(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,U!==null&&U.tag===6?(f(G,U.sibling),he=w(U,X),he.return=G,G=he):(f(G,U),he=Q_(X,G.mode,he),he.return=G,G=he),A(G)):f(G,U)}return function(G,U,X,he){try{jf=0;var $e=zn(G,U,X,he);return md=null,$e}catch(Qe){if(Qe===Ff)throw Qe;var kt=sr(29,Qe,null,G.mode);return kt.lanes=he,kt.return=G,kt}finally{}}}var Mc=v3(!0),w3=v3(!1),gd=ue(null),I0=ue(0);function y3(c,d){c=la,ie(I0,c),ie(gd,d),la=c|d.baseLanes}function o_(){ie(I0,la),ie(gd,gd.current)}function a_(){la=I0.current,de(gd),de(I0)}var tr=ue(null),lo=null;function hl(c){var d=c.alternate;ie(ri,ri.current&1),ie(tr,c),lo===null&&(d===null||gd.current!==null||d.memoizedState!==null)&&(lo=c)}function _3(c){if(c.tag===22){if(ie(ri,ri.current),ie(tr,c),lo===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(lo=c)}}else fl()}function fl(){ie(ri,ri.current),ie(tr,tr.current)}function Jo(c){de(tr),lo===c&&(lo=null),de(ri)}var ri=ue(0);function R0(c){for(var d=c;d!==null;){if(d.tag===13){var f=d.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ZW=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(f,g){c.push(g)}};this.abort=function(){d.aborted=!0,c.forEach(function(f){return f()})}},KW=n.unstable_scheduleCallback,XW=n.unstable_NormalPriority,oi={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l_(){return{controller:new ZW,data:new Map,refCount:0}}function Hf(c){c.refCount--,c.refCount===0&&KW(XW,function(){c.controller.abort()})}var $f=null,c_=0,pd=0,bd=null;function JW(c,d){if($f===null){var f=$f=[];c_=0,pd=g2(),bd={status:"pending",value:void 0,then:function(g){f.push(g)}}}return c_++,d.then(x3,x3),d}function x3(){if(--c_===0&&$f!==null){bd!==null&&(bd.status="fulfilled");var c=$f;$f=null,pd=0,bd=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function QW(c,d){var f=[],g={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return c.then(function(){g.status="fulfilled",g.value=d;for(var w=0;w<f.length;w++)(0,f[w])(d)},function(w){for(g.status="rejected",g.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),g}var k3=z.S;z.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&JW(c,d),k3!==null&&k3(c,d)};var Dc=ue(null);function u_(){var c=Dc.current;return c!==null?c:hn.pooledCache}function P0(c,d){d===null?ie(Dc,Dc.current):ie(Dc,d.pool)}function C3(){var c=u_();return c===null?null:{parent:oi._currentValue,pool:c}}var ml=0,xt=null,en=null,ti=null,O0=!1,vd=!1,Vc=!1,M0=0,Wf=0,wd=null,eq=0;function Yn(){throw Error(i(321))}function d_(c,d){if(d===null)return!1;for(var f=0;f<d.length&&f<c.length;f++)if(!Ss(c[f],d[f]))return!1;return!0}function h_(c,d,f,g,w,x){return ml=x,xt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,z.H=c===null||c.memoizedState===null?Nc:gl,Vc=!1,x=f(g,w),Vc=!1,vd&&(x=T3(d,f,g,w)),E3(c),x}function E3(c){z.H=co;var d=en!==null&&en.next!==null;if(ml=0,ti=en=xt=null,O0=!1,Wf=0,wd=null,d)throw Error(i(300));c===null||vi||(c=c.dependencies,c!==null&&U0(c)&&(vi=!0))}function T3(c,d,f,g){xt=c;var w=0;do{if(vd&&(wd=null),Wf=0,vd=!1,25<=w)throw Error(i(301));if(w+=1,ti=en=null,c.updateQueue!=null){var x=c.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}z.H=Lc,x=d(f,g)}while(vd);return x}function tq(){var c=z.H,d=c.useState()[0];return d=typeof d.then=="function"?qf(d):d,c=c.useState()[0],(en!==null?en.memoizedState:null)!==c&&(xt.flags|=1024),d}function f_(){var c=M0!==0;return M0=0,c}function m_(c,d,f){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~f}function g_(c){if(O0){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}O0=!1}ml=0,ti=en=xt=null,vd=!1,Wf=M0=0,wd=null}function gs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?xt.memoizedState=ti=c:ti=ti.next=c,ti}function ni(){if(en===null){var c=xt.alternate;c=c!==null?c.memoizedState:null}else c=en.next;var d=ti===null?xt.memoizedState:ti.next;if(d!==null)ti=d,en=c;else{if(c===null)throw xt.alternate===null?Error(i(467)):Error(i(310));en=c,c={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},ti===null?xt.memoizedState=ti=c:ti=ti.next=c}return ti}var D0;D0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qf(c){var d=Wf;return Wf+=1,wd===null&&(wd=[]),c=g3(wd,c,d),d=xt,(ti===null?d.memoizedState:ti.next)===null&&(d=d.alternate,z.H=d===null||d.memoizedState===null?Nc:gl),c}function V0(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return qf(c);if(c.$$typeof===v)return zi(c)}throw Error(i(438,String(c)))}function p_(c){var d=null,f=xt.updateQueue;if(f!==null&&(d=f.memoCache),d==null){var g=xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(d={data:g.data.map(function(w){return w.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),f===null&&(f=D0(),xt.updateQueue=f),f.memoCache=d,f=d.data[d.index],f===void 0)for(f=d.data[d.index]=Array(c),g=0;g<c;g++)f[g]=P;return d.index++,f}function Qo(c,d){return typeof d=="function"?d(c):d}function N0(c){var d=ni();return b_(d,en,c)}function b_(c,d,f){var g=c.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var w=c.baseQueue,x=g.pending;if(x!==null){if(w!==null){var A=w.next;w.next=x.next,x.next=A}d.baseQueue=w=x,g.pending=null}if(x=c.baseState,w===null)c.memoizedState=x;else{d=w.next;var R=A=null,V=null,W=d,ce=!1;do{var ve=W.lane&-536870913;if(ve!==W.lane?(Mt&ve)===ve:(ml&ve)===ve){var te=W.revertLane;if(te===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ve===pd&&(ce=!0);else if((ml&te)===te){W=W.next,te===pd&&(ce=!0);continue}else ve={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(R=V=ve,A=x):V=V.next=ve,xt.lanes|=te,Cl|=te;ve=W.action,Vc&&f(x,ve),x=W.hasEagerState?W.eagerState:f(x,ve)}else te={lane:ve,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(R=V=te,A=x):V=V.next=te,xt.lanes|=ve,Cl|=ve;W=W.next}while(W!==null&&W!==d);if(V===null?A=x:V.next=R,!Ss(x,c.memoizedState)&&(vi=!0,ce&&(f=bd,f!==null)))throw f;c.memoizedState=x,c.baseState=A,c.baseQueue=V,g.lastRenderedState=x}return w===null&&(g.lanes=0),[c.memoizedState,g.dispatch]}function v_(c){var d=ni(),f=d.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var g=f.dispatch,w=f.pending,x=d.memoizedState;if(w!==null){f.pending=null;var A=w=w.next;do x=c(x,A.action),A=A.next;while(A!==w);Ss(x,d.memoizedState)||(vi=!0),d.memoizedState=x,d.baseQueue===null&&(d.baseState=x),f.lastRenderedState=x}return[x,g]}function S3(c,d,f){var g=xt,w=ni(),x=Ft;if(x){if(f===void 0)throw Error(i(407));f=f()}else f=d();var A=!Ss((en||w).memoizedState,f);if(A&&(w.memoizedState=f,vi=!0),w=w.queue,__(R3.bind(null,g,w,c),[c]),w.getSnapshot!==d||A||ti!==null&&ti.memoizedState.tag&1){if(g.flags|=2048,yd(9,I3.bind(null,g,w,f,d),{destroy:void 0},null),hn===null)throw Error(i(349));x||(ml&60)!==0||A3(g,d,f)}return f}function A3(c,d,f){c.flags|=16384,c={getSnapshot:d,value:f},d=xt.updateQueue,d===null?(d=D0(),xt.updateQueue=d,d.stores=[c]):(f=d.stores,f===null?d.stores=[c]:f.push(c))}function I3(c,d,f,g){d.value=f,d.getSnapshot=g,P3(d)&&O3(c)}function R3(c,d,f){return f(function(){P3(d)&&O3(c)})}function P3(c){var d=c.getSnapshot;c=c.value;try{var f=d();return!Ss(c,f)}catch{return!0}}function O3(c){var d=dl(c,2);d!==null&&Qi(d,c,2)}function w_(c){var d=gs();if(typeof c=="function"){var f=c;if(c=f(),Vc){hs(!0);try{f()}finally{hs(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:c},d}function M3(c,d,f,g){return c.baseState=f,b_(c,en,typeof g=="function"?g:Qo)}function nq(c,d,f,g,w){if(F0(c))throw Error(i(485));if(c=d.action,c!==null){var x={payload:w,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};z.T!==null?f(!0):x.isTransition=!1,g(x),f=d.pending,f===null?(x.next=d.pending=x,D3(d,x)):(x.next=f.next,d.pending=f.next=x)}}function D3(c,d){var f=d.action,g=d.payload,w=c.state;if(d.isTransition){var x=z.T,A={};z.T=A;try{var R=f(w,g),V=z.S;V!==null&&V(A,R),V3(c,d,R)}catch(W){y_(c,d,W)}finally{z.T=x}}else try{x=f(w,g),V3(c,d,x)}catch(W){y_(c,d,W)}}function V3(c,d,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){N3(c,d,g)},function(g){return y_(c,d,g)}):N3(c,d,f)}function N3(c,d,f){d.status="fulfilled",d.value=f,L3(d),c.state=f,d=c.pending,d!==null&&(f=d.next,f===d?c.pending=null:(f=f.next,d.next=f,D3(c,f)))}function y_(c,d,f){var g=c.pending;if(c.pending=null,g!==null){g=g.next;do d.status="rejected",d.reason=f,L3(d),d=d.next;while(d!==g)}c.action=null}function L3(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function B3(c,d){return d}function F3(c,d){if(Ft){var f=hn.formState;if(f!==null){e:{var g=xt;if(Ft){if(Oi){t:{for(var w=Oi,x=ao;w.nodeType!==8;){if(!x){w=null;break t}if(w=Rr(w.nextSibling),w===null){w=null;break t}}x=w.data,w=x==="F!"||x==="F"?w:null}if(w){Oi=Rr(w.nextSibling),g=w.data==="F!";break e}}Oc(g)}g=!1}g&&(d=f[0])}}return f=gs(),f.memoizedState=f.baseState=d,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B3,lastRenderedState:d},f.queue=g,f=i4.bind(null,xt,g),g.dispatch=f,g=w_(!1),x=T_.bind(null,xt,!1,g.queue),g=gs(),w={state:d,dispatch:null,action:c,pending:null},g.queue=w,f=nq.bind(null,xt,w,x,f),w.dispatch=f,g.memoizedState=c,[d,f,!1]}function z3(c){var d=ni();return j3(d,en,c)}function j3(c,d,f){d=b_(c,d,B3)[0],c=N0(Qo)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?qf(d):d;var g=ni(),w=g.queue,x=w.dispatch;return f!==g.memoizedState&&(xt.flags|=2048,yd(9,iq.bind(null,w,f),{destroy:void 0},null)),[d,x,c]}function iq(c,d){c.action=d}function U3(c){var d=ni(),f=en;if(f!==null)return j3(d,f,c);ni(),d=d.memoizedState,f=ni();var g=f.queue.dispatch;return f.memoizedState=c,[d,g,!1]}function yd(c,d,f,g){return c={tag:c,create:d,inst:f,deps:g,next:null},d=xt.updateQueue,d===null&&(d=D0(),xt.updateQueue=d),f=d.lastEffect,f===null?d.lastEffect=c.next=c:(g=f.next,f.next=c,c.next=g,d.lastEffect=c),c}function H3(){return ni().memoizedState}function L0(c,d,f,g){var w=gs();xt.flags|=c,w.memoizedState=yd(1|d,f,{destroy:void 0},g===void 0?null:g)}function B0(c,d,f,g){var w=ni();g=g===void 0?null:g;var x=w.memoizedState.inst;en!==null&&g!==null&&d_(g,en.memoizedState.deps)?w.memoizedState=yd(d,f,x,g):(xt.flags|=c,w.memoizedState=yd(1|d,f,x,g))}function $3(c,d){L0(8390656,8,c,d)}function __(c,d){B0(2048,8,c,d)}function W3(c,d){return B0(4,2,c,d)}function q3(c,d){return B0(4,4,c,d)}function G3(c,d){if(typeof d=="function"){c=c();var f=d(c);return function(){typeof f=="function"?f():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Y3(c,d,f){f=f!=null?f.concat([c]):null,B0(4,4,G3.bind(null,d,c),f)}function x_(){}function Z3(c,d){var f=ni();d=d===void 0?null:d;var g=f.memoizedState;return d!==null&&d_(d,g[1])?g[0]:(f.memoizedState=[c,d],c)}function K3(c,d){var f=ni();d=d===void 0?null:d;var g=f.memoizedState;if(d!==null&&d_(d,g[1]))return g[0];if(g=c(),Vc){hs(!0);try{c()}finally{hs(!1)}}return f.memoizedState=[g,d],g}function k_(c,d,f){return f===void 0||(ml&1073741824)!==0?c.memoizedState=d:(c.memoizedState=f,c=J4(),xt.lanes|=c,Cl|=c,f)}function X3(c,d,f,g){return Ss(f,d)?f:gd.current!==null?(c=k_(c,f,g),Ss(c,d)||(vi=!0),c):(ml&42)===0?(vi=!0,c.memoizedState=f):(c=J4(),xt.lanes|=c,Cl|=c,d)}function J3(c,d,f,g,w){var x=H.p;H.p=x!==0&&8>x?x:8;var A=z.T,R={};z.T=R,T_(c,!1,d,f);try{var V=w(),W=z.S;if(W!==null&&W(R,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ce=QW(V,g);Gf(c,d,ce,Ps(c))}else Gf(c,d,g,Ps(c))}catch(ve){Gf(c,d,{then:function(){},status:"rejected",reason:ve},Ps())}finally{H.p=x,z.T=A}}function sq(){}function C_(c,d,f,g){if(c.tag!==5)throw Error(i(476));var w=Q3(c).queue;J3(c,w,d,q,f===null?sq:function(){return e4(c),f(g)})}function Q3(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:q},next:null};var f={};return d.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:f},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function e4(c){var d=Q3(c).next.queue;Gf(c,d,{},Ps())}function E_(){return zi(fm)}function t4(){return ni().memoizedState}function n4(){return ni().memoizedState}function rq(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var f=Ps();c=vl(f);var g=wl(d,c,f);g!==null&&(Qi(g,d,f),Kf(g,d,f)),d={cache:l_()},c.payload=d;return}d=d.return}}function oq(c,d,f){var g=Ps();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},F0(c)?s4(d,f):(f=t_(c,d,f,g),f!==null&&(Qi(f,c,g),r4(f,d,g)))}function i4(c,d,f){var g=Ps();Gf(c,d,f,g)}function Gf(c,d,f,g){var w={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(F0(c))s4(d,w);else{var x=c.alternate;if(c.lanes===0&&(x===null||x.lanes===0)&&(x=d.lastRenderedReducer,x!==null))try{var A=d.lastRenderedState,R=x(A,f);if(w.hasEagerState=!0,w.eagerState=R,Ss(R,A))return x0(c,d,w,0),hn===null&&_0(),!1}catch{}finally{}if(f=t_(c,d,w,g),f!==null)return Qi(f,c,g),r4(f,d,g),!0}return!1}function T_(c,d,f,g){if(g={lane:2,revertLane:g2(),action:g,hasEagerState:!1,eagerState:null,next:null},F0(c)){if(d)throw Error(i(479))}else d=t_(c,f,g,2),d!==null&&Qi(d,c,2)}function F0(c){var d=c.alternate;return c===xt||d!==null&&d===xt}function s4(c,d){vd=O0=!0;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}function r4(c,d,f){if((f&4194176)!==0){var g=d.lanes;g&=c.pendingLanes,f|=g,d.lanes=f,pA(c,f)}}var co={readContext:zi,use:V0,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn};co.useCacheRefresh=Yn,co.useMemoCache=Yn,co.useHostTransitionStatus=Yn,co.useFormState=Yn,co.useActionState=Yn,co.useOptimistic=Yn;var Nc={readContext:zi,use:V0,useCallback:function(c,d){return gs().memoizedState=[c,d===void 0?null:d],c},useContext:zi,useEffect:$3,useImperativeHandle:function(c,d,f){f=f!=null?f.concat([c]):null,L0(4194308,4,G3.bind(null,d,c),f)},useLayoutEffect:function(c,d){return L0(4194308,4,c,d)},useInsertionEffect:function(c,d){L0(4,2,c,d)},useMemo:function(c,d){var f=gs();d=d===void 0?null:d;var g=c();if(Vc){hs(!0);try{c()}finally{hs(!1)}}return f.memoizedState=[g,d],g},useReducer:function(c,d,f){var g=gs();if(f!==void 0){var w=f(d);if(Vc){hs(!0);try{f(d)}finally{hs(!1)}}}else w=d;return g.memoizedState=g.baseState=w,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:w},g.queue=c,c=c.dispatch=oq.bind(null,xt,c),[g.memoizedState,c]},useRef:function(c){var d=gs();return c={current:c},d.memoizedState=c},useState:function(c){c=w_(c);var d=c.queue,f=i4.bind(null,xt,d);return d.dispatch=f,[c.memoizedState,f]},useDebugValue:x_,useDeferredValue:function(c,d){var f=gs();return k_(f,c,d)},useTransition:function(){var c=w_(!1);return c=J3.bind(null,xt,c.queue,!0,!1),gs().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,f){var g=xt,w=gs();if(Ft){if(f===void 0)throw Error(i(407));f=f()}else{if(f=d(),hn===null)throw Error(i(349));(Mt&60)!==0||A3(g,d,f)}w.memoizedState=f;var x={value:f,getSnapshot:d};return w.queue=x,$3(R3.bind(null,g,x,c),[c]),g.flags|=2048,yd(9,I3.bind(null,g,x,f,d),{destroy:void 0},null),f},useId:function(){var c=gs(),d=hn.identifierPrefix;if(Ft){var f=Xo,g=Ko;f=(g&~(1<<32-Gn(g)-1)).toString(32)+f,d=":"+d+"R"+f,f=M0++,0<f&&(d+="H"+f.toString(32)),d+=":"}else f=eq++,d=":"+d+"r"+f.toString(32)+":";return c.memoizedState=d},useCacheRefresh:function(){return gs().memoizedState=rq.bind(null,xt)}};Nc.useMemoCache=p_,Nc.useHostTransitionStatus=E_,Nc.useFormState=F3,Nc.useActionState=F3,Nc.useOptimistic=function(c){var d=gs();d.memoizedState=d.baseState=c;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=f,d=T_.bind(null,xt,!0,f),f.dispatch=d,[c,d]};var gl={readContext:zi,use:V0,useCallback:Z3,useContext:zi,useEffect:__,useImperativeHandle:Y3,useInsertionEffect:W3,useLayoutEffect:q3,useMemo:K3,useReducer:N0,useRef:H3,useState:function(){return N0(Qo)},useDebugValue:x_,useDeferredValue:function(c,d){var f=ni();return X3(f,en.memoizedState,c,d)},useTransition:function(){var c=N0(Qo)[0],d=ni().memoizedState;return[typeof c=="boolean"?c:qf(c),d]},useSyncExternalStore:S3,useId:t4};gl.useCacheRefresh=n4,gl.useMemoCache=p_,gl.useHostTransitionStatus=E_,gl.useFormState=z3,gl.useActionState=z3,gl.useOptimistic=function(c,d){var f=ni();return M3(f,en,c,d)};var Lc={readContext:zi,use:V0,useCallback:Z3,useContext:zi,useEffect:__,useImperativeHandle:Y3,useInsertionEffect:W3,useLayoutEffect:q3,useMemo:K3,useReducer:v_,useRef:H3,useState:function(){return v_(Qo)},useDebugValue:x_,useDeferredValue:function(c,d){var f=ni();return en===null?k_(f,c,d):X3(f,en.memoizedState,c,d)},useTransition:function(){var c=v_(Qo)[0],d=ni().memoizedState;return[typeof c=="boolean"?c:qf(c),d]},useSyncExternalStore:S3,useId:t4};Lc.useCacheRefresh=n4,Lc.useMemoCache=p_,Lc.useHostTransitionStatus=E_,Lc.useFormState=U3,Lc.useActionState=U3,Lc.useOptimistic=function(c,d){var f=ni();return en!==null?M3(f,en,c,d):(f.baseState=c,[c,f.queue.dispatch])};function S_(c,d,f,g){d=c.memoizedState,f=f(g,d),f=f==null?d:J({},d,f),c.memoizedState=f,c.lanes===0&&(c.updateQueue.baseState=f)}var A_={isMounted:function(c){return(c=c._reactInternals)?ne(c)===c:!1},enqueueSetState:function(c,d,f){c=c._reactInternals;var g=Ps(),w=vl(g);w.payload=d,f!=null&&(w.callback=f),d=wl(c,w,g),d!==null&&(Qi(d,c,g),Kf(d,c,g))},enqueueReplaceState:function(c,d,f){c=c._reactInternals;var g=Ps(),w=vl(g);w.tag=1,w.payload=d,f!=null&&(w.callback=f),d=wl(c,w,g),d!==null&&(Qi(d,c,g),Kf(d,c,g))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var f=Ps(),g=vl(f);g.tag=2,d!=null&&(g.callback=d),d=wl(c,g,f),d!==null&&(Qi(d,c,f),Kf(d,c,f))}};function o4(c,d,f,g,w,x,A){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(g,x,A):d.prototype&&d.prototype.isPureReactComponent?!Df(f,g)||!Df(w,x):!0}function a4(c,d,f,g){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(f,g),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(f,g),d.state!==c&&A_.enqueueReplaceState(d,d.state,null)}function Bc(c,d){var f=d;if("ref"in d){f={};for(var g in d)g!=="ref"&&(f[g]=d[g])}if(c=c.defaultProps){f===d&&(f=J({},f));for(var w in c)f[w]===void 0&&(f[w]=c[w])}return f}var z0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function l4(c){z0(c)}function c4(c){console.error(c)}function u4(c){z0(c)}function j0(c,d){try{var f=c.onUncaughtError;f(d.value,{componentStack:d.stack})}catch(g){setTimeout(function(){throw g})}}function d4(c,d,f){try{var g=c.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function I_(c,d,f){return f=vl(f),f.tag=3,f.payload={element:null},f.callback=function(){j0(c,d)},f}function h4(c){return c=vl(c),c.tag=3,c}function f4(c,d,f,g){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var x=g.value;c.payload=function(){return w(x)},c.callback=function(){d4(d,f,g)}}var A=f.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(c.callback=function(){d4(d,f,g),typeof w!="function"&&(El===null?El=new Set([this]):El.add(this));var R=g.stack;this.componentDidCatch(g.value,{componentStack:R!==null?R:""})})}function aq(c,d,f,g,w){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(d=f.alternate,d!==null&&Zf(d,f,w,!0),f=tr.current,f!==null){switch(f.tag){case 13:return lo===null?u2():f.alternate===null&&Fn===0&&(Fn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,g===r_?f.flags|=16384:(d=f.updateQueue,d===null?f.updateQueue=new Set([g]):d.add(g),h2(c,g,w)),!1;case 22:return f.flags|=65536,g===r_?f.flags|=16384:(d=f.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=d):(f=d.retryQueue,f===null?d.retryQueue=new Set([g]):f.add(g)),h2(c,g,w)),!1}throw Error(i(435,f.tag))}return h2(c,g,w),u2(),!1}if(Ft)return d=tr.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=w,g!==s_&&(c=Error(i(422),{cause:g}),Bf(Js(c,f)))):(g!==s_&&(d=Error(i(423),{cause:g}),Bf(Js(d,f))),c=c.current.alternate,c.flags|=65536,w&=-w,c.lanes|=w,g=Js(g,f),w=I_(c.stateNode,g,w),$_(c,w),Fn!==4&&(Fn=2)),!1;var x=Error(i(520),{cause:g});if(x=Js(x,f),sm===null?sm=[x]:sm.push(x),Fn!==4&&(Fn=2),d===null)return!0;g=Js(g,f),f=d;do{switch(f.tag){case 3:return f.flags|=65536,c=w&-w,f.lanes|=c,c=I_(f.stateNode,g,c),$_(f,c),!1;case 1:if(d=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(El===null||!El.has(x))))return f.flags|=65536,w&=-w,f.lanes|=w,w=h4(w),f4(w,c,f,g),$_(f,w),!1}f=f.return}while(f!==null);return!1}var m4=Error(i(461)),vi=!1;function Mi(c,d,f,g){d.child=c===null?w3(d,null,f,g):Mc(d,c.child,f,g)}function g4(c,d,f,g,w){f=f.render;var x=d.ref;if("ref"in g){var A={};for(var R in g)R!=="ref"&&(A[R]=g[R])}else A=g;return zc(d),g=h_(c,d,f,A,x,w),R=f_(),c!==null&&!vi?(m_(c,d,w),ea(c,d,w)):(Ft&&R&&n_(d),d.flags|=1,Mi(c,d,g,w),d.child)}function p4(c,d,f,g,w){if(c===null){var x=f.type;return typeof x=="function"&&!J_(x)&&x.defaultProps===void 0&&f.compare===null?(d.tag=15,d.type=x,b4(c,d,x,g,w)):(c=q0(f.type,null,g,d,d.mode,w),c.ref=d.ref,c.return=d,d.child=c)}if(x=c.child,!B_(c,w)){var A=x.memoizedProps;if(f=f.compare,f=f!==null?f:Df,f(A,g)&&c.ref===d.ref)return ea(c,d,w)}return d.flags|=1,c=kl(x,g),c.ref=d.ref,c.return=d,d.child=c}function b4(c,d,f,g,w){if(c!==null){var x=c.memoizedProps;if(Df(x,g)&&c.ref===d.ref)if(vi=!1,d.pendingProps=g=x,B_(c,w))(c.flags&131072)!==0&&(vi=!0);else return d.lanes=c.lanes,ea(c,d,w)}return R_(c,d,f,g,w)}function v4(c,d,f){var g=d.pendingProps,w=g.children,x=(d.stateNode._pendingVisibility&2)!==0,A=c!==null?c.memoizedState:null;if(Yf(c,d),g.mode==="hidden"||x){if((d.flags&128)!==0){if(g=A!==null?A.baseLanes|f:f,c!==null){for(w=d.child=c.child,x=0;w!==null;)x=x|w.lanes|w.childLanes,w=w.sibling;d.childLanes=x&~g}else d.childLanes=0,d.child=null;return w4(c,d,g,f)}if((f&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&P0(d,A!==null?A.cachePool:null),A!==null?y3(d,A):o_(),_3(d);else return d.lanes=d.childLanes=536870912,w4(c,d,A!==null?A.baseLanes|f:f,f)}else A!==null?(P0(d,A.cachePool),y3(d,A),fl(),d.memoizedState=null):(c!==null&&P0(d,null),o_(),fl());return Mi(c,d,w,f),d.child}function w4(c,d,f,g){var w=u_();return w=w===null?null:{parent:oi._currentValue,pool:w},d.memoizedState={baseLanes:f,cachePool:w},c!==null&&P0(d,null),o_(),_3(d),c!==null&&Zf(c,d,g,!0),null}function Yf(c,d){var f=d.ref;if(f===null)c!==null&&c.ref!==null&&(d.flags|=2097664);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(c===null||c.ref!==f)&&(d.flags|=2097664)}}function R_(c,d,f,g,w){return zc(d),f=h_(c,d,f,g,void 0,w),g=f_(),c!==null&&!vi?(m_(c,d,w),ea(c,d,w)):(Ft&&g&&n_(d),d.flags|=1,Mi(c,d,f,w),d.child)}function y4(c,d,f,g,w,x){return zc(d),d.updateQueue=null,f=T3(d,g,f,w),E3(c),g=f_(),c!==null&&!vi?(m_(c,d,x),ea(c,d,x)):(Ft&&g&&n_(d),d.flags|=1,Mi(c,d,f,x),d.child)}function _4(c,d,f,g,w){if(zc(d),d.stateNode===null){var x=dd,A=f.contextType;typeof A=="object"&&A!==null&&(x=zi(A)),x=new f(g,x),d.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=A_,d.stateNode=x,x._reactInternals=d,x=d.stateNode,x.props=g,x.state=d.memoizedState,x.refs={},U_(d),A=f.contextType,x.context=typeof A=="object"&&A!==null?zi(A):dd,x.state=d.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(S_(d,f,A,g),x.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&A_.enqueueReplaceState(x,x.state,null),Jf(d,g,x,w),Xf(),x.state=d.memoizedState),typeof x.componentDidMount=="function"&&(d.flags|=4194308),g=!0}else if(c===null){x=d.stateNode;var R=d.memoizedProps,V=Bc(f,R);x.props=V;var W=x.context,ce=f.contextType;A=dd,typeof ce=="object"&&ce!==null&&(A=zi(ce));var ve=f.getDerivedStateFromProps;ce=typeof ve=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=d.pendingProps!==R,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||W!==A)&&a4(d,x,g,A),bl=!1;var te=d.memoizedState;x.state=te,Jf(d,g,x,w),Xf(),W=d.memoizedState,R||te!==W||bl?(typeof ve=="function"&&(S_(d,f,ve,g),W=d.memoizedState),(V=bl||o4(d,f,V,g,te,W,A))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(d.flags|=4194308)):(typeof x.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=g,d.memoizedState=W),x.props=g,x.state=W,x.context=A,g=V):(typeof x.componentDidMount=="function"&&(d.flags|=4194308),g=!1)}else{x=d.stateNode,H_(c,d),A=d.memoizedProps,ce=Bc(f,A),x.props=ce,ve=d.pendingProps,te=x.context,W=f.contextType,V=dd,typeof W=="object"&&W!==null&&(V=zi(W)),R=f.getDerivedStateFromProps,(W=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==ve||te!==V)&&a4(d,x,g,V),bl=!1,te=d.memoizedState,x.state=te,Jf(d,g,x,w),Xf();var le=d.memoizedState;A!==ve||te!==le||bl||c!==null&&c.dependencies!==null&&U0(c.dependencies)?(typeof R=="function"&&(S_(d,f,R,g),le=d.memoizedState),(ce=bl||o4(d,f,ce,g,te,le,V)||c!==null&&c.dependencies!==null&&U0(c.dependencies))?(W||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(g,le,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(g,le,V)),typeof x.componentDidUpdate=="function"&&(d.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===c.memoizedProps&&te===c.memoizedState||(d.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===c.memoizedProps&&te===c.memoizedState||(d.flags|=1024),d.memoizedProps=g,d.memoizedState=le),x.props=g,x.state=le,x.context=V,g=ce):(typeof x.componentDidUpdate!="function"||A===c.memoizedProps&&te===c.memoizedState||(d.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===c.memoizedProps&&te===c.memoizedState||(d.flags|=1024),g=!1)}return x=g,Yf(c,d),g=(d.flags&128)!==0,x||g?(x=d.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:x.render(),d.flags|=1,c!==null&&g?(d.child=Mc(d,c.child,null,w),d.child=Mc(d,null,f,w)):Mi(c,d,f,w),d.memoizedState=x.state,c=d.child):c=ea(c,d,w),c}function x4(c,d,f,g){return Lf(),d.flags|=256,Mi(c,d,f,g),d.child}var P_={dehydrated:null,treeContext:null,retryLane:0};function O_(c){return{baseLanes:c,cachePool:C3()}}function M_(c,d,f){return c=c!==null?c.childLanes&~f:0,d&&(c|=rr),c}function k4(c,d,f){var g=d.pendingProps,w=!1,x=(d.flags&128)!==0,A;if((A=x)||(A=c!==null&&c.memoizedState===null?!1:(ri.current&2)!==0),A&&(w=!0,d.flags&=-129),A=(d.flags&32)!==0,d.flags&=-33,c===null){if(Ft){if(w?hl(d):fl(),Ft){var R=Oi,V;if(V=R){e:{for(V=R,R=ao;V.nodeType!==8;){if(!R){R=null;break e}if(V=Rr(V.nextSibling),V===null){R=null;break e}}R=V}R!==null?(d.memoizedState={dehydrated:R,treeContext:Rc!==null?{id:Ko,overflow:Xo}:null,retryLane:536870912},V=sr(18,null,null,0),V.stateNode=R,V.return=d,d.child=V,Ji=d,Oi=null,V=!0):V=!1}V||Oc(d)}if(R=d.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?d.lanes=16:d.lanes=536870912,null;Jo(d)}return R=g.children,g=g.fallback,w?(fl(),w=d.mode,R=V_({mode:"hidden",children:R},w),g=Uc(g,w,f,null),R.return=d,g.return=d,R.sibling=g,d.child=R,w=d.child,w.memoizedState=O_(f),w.childLanes=M_(c,A,f),d.memoizedState=P_,g):(hl(d),D_(d,R))}if(V=c.memoizedState,V!==null&&(R=V.dehydrated,R!==null)){if(x)d.flags&256?(hl(d),d.flags&=-257,d=N_(c,d,f)):d.memoizedState!==null?(fl(),d.child=c.child,d.flags|=128,d=null):(fl(),w=g.fallback,R=d.mode,g=V_({mode:"visible",children:g.children},R),w=Uc(w,R,f,null),w.flags|=2,g.return=d,w.return=d,g.sibling=w,d.child=g,Mc(d,c.child,null,f),g=d.child,g.memoizedState=O_(f),g.childLanes=M_(c,A,f),d.memoizedState=P_,d=w);else if(hl(d),R.data==="$!"){if(A=R.nextSibling&&R.nextSibling.dataset,A)var W=A.dgst;A=W,g=Error(i(419)),g.stack="",g.digest=A,Bf({value:g,source:null,stack:null}),d=N_(c,d,f)}else if(vi||Zf(c,d,f,!1),A=(f&c.childLanes)!==0,vi||A){if(A=hn,A!==null){if(g=f&-f,(g&42)!==0)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=(g&(A.suspendedLanes|f))!==0?0:g,g!==0&&g!==V.retryLane)throw V.retryLane=g,dl(c,g),Qi(A,c,g),m4}R.data==="$?"||u2(),d=N_(c,d,f)}else R.data==="$?"?(d.flags|=128,d.child=c.child,d=xq.bind(null,c),R._reactRetry=d,d=null):(c=V.treeContext,Oi=Rr(R.nextSibling),Ji=d,Ft=!0,Ar=null,ao=!1,c!==null&&(Qs[er++]=Ko,Qs[er++]=Xo,Qs[er++]=Rc,Ko=c.id,Xo=c.overflow,Rc=d),d=D_(d,g.children),d.flags|=4096);return d}return w?(fl(),w=g.fallback,R=d.mode,V=c.child,W=V.sibling,g=kl(V,{mode:"hidden",children:g.children}),g.subtreeFlags=V.subtreeFlags&31457280,W!==null?w=kl(W,w):(w=Uc(w,R,f,null),w.flags|=2),w.return=d,g.return=d,g.sibling=w,d.child=g,g=w,w=d.child,R=c.child.memoizedState,R===null?R=O_(f):(V=R.cachePool,V!==null?(W=oi._currentValue,V=V.parent!==W?{parent:W,pool:W}:V):V=C3(),R={baseLanes:R.baseLanes|f,cachePool:V}),w.memoizedState=R,w.childLanes=M_(c,A,f),d.memoizedState=P_,g):(hl(d),f=c.child,c=f.sibling,f=kl(f,{mode:"visible",children:g.children}),f.return=d,f.sibling=null,c!==null&&(A=d.deletions,A===null?(d.deletions=[c],d.flags|=16):A.push(c)),d.child=f,d.memoizedState=null,f)}function D_(c,d){return d=V_({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function V_(c,d){return Z4(c,d,0,null)}function N_(c,d,f){return Mc(d,c.child,null,f),c=D_(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function C4(c,d,f){c.lanes|=d;var g=c.alternate;g!==null&&(g.lanes|=d),z_(c.return,d,f)}function L_(c,d,f,g,w){var x=c.memoizedState;x===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:w}:(x.isBackwards=d,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=f,x.tailMode=w)}function E4(c,d,f){var g=d.pendingProps,w=g.revealOrder,x=g.tail;if(Mi(c,d,g.children,f),g=ri.current,(g&2)!==0)g=g&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&C4(c,f,d);else if(c.tag===19)C4(c,f,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}g&=1}switch(ie(ri,g),w){case"forwards":for(f=d.child,w=null;f!==null;)c=f.alternate,c!==null&&R0(c)===null&&(w=f),f=f.sibling;f=w,f===null?(w=d.child,d.child=null):(w=f.sibling,f.sibling=null),L_(d,!1,w,f,x);break;case"backwards":for(f=null,w=d.child,d.child=null;w!==null;){if(c=w.alternate,c!==null&&R0(c)===null){d.child=w;break}c=w.sibling,w.sibling=f,f=w,w=c}L_(d,!0,f,null,x);break;case"together":L_(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ea(c,d,f){if(c!==null&&(d.dependencies=c.dependencies),Cl|=d.lanes,(f&d.childLanes)===0)if(c!==null){if(Zf(c,d,f,!1),(f&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(i(153));if(d.child!==null){for(c=d.child,f=kl(c,c.pendingProps),d.child=f,f.return=d;c.sibling!==null;)c=c.sibling,f=f.sibling=kl(c,c.pendingProps),f.return=d;f.sibling=null}return d.child}function B_(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&U0(c)))}function lq(c,d,f){switch(d.tag){case 3:Kt(d,d.stateNode.containerInfo),pl(d,oi,c.memoizedState.cache),Lf();break;case 27:case 5:rt(d);break;case 4:Kt(d,d.stateNode.containerInfo);break;case 10:pl(d,d.type,d.memoizedProps.value);break;case 13:var g=d.memoizedState;if(g!==null)return g.dehydrated!==null?(hl(d),d.flags|=128,null):(f&d.child.childLanes)!==0?k4(c,d,f):(hl(d),c=ea(c,d,f),c!==null?c.sibling:null);hl(d);break;case 19:var w=(c.flags&128)!==0;if(g=(f&d.childLanes)!==0,g||(Zf(c,d,f,!1),g=(f&d.childLanes)!==0),w){if(g)return E4(c,d,f);d.flags|=128}if(w=d.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ie(ri,ri.current),g)break;return null;case 22:case 23:return d.lanes=0,v4(c,d,f);case 24:pl(d,oi,c.memoizedState.cache)}return ea(c,d,f)}function T4(c,d,f){if(c!==null)if(c.memoizedProps!==d.pendingProps)vi=!0;else{if(!B_(c,f)&&(d.flags&128)===0)return vi=!1,lq(c,d,f);vi=(c.flags&131072)!==0}else vi=!1,Ft&&(d.flags&1048576)!==0&&u3(d,E0,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var g=d.elementType,w=g._init;if(g=w(g._payload),d.type=g,typeof g=="function")J_(g)?(c=Bc(g,c),d.tag=1,d=_4(null,d,g,c,f)):(d.tag=0,d=R_(null,d,g,c,f));else{if(g!=null){if(w=g.$$typeof,w===_){d.tag=11,d=g4(null,d,g,c,f);break e}else if(w===T){d.tag=14,d=p4(null,d,g,c,f);break e}}throw d=j(g)||g,Error(i(306,d,""))}}return d;case 0:return R_(c,d,d.type,d.pendingProps,f);case 1:return g=d.type,w=Bc(g,d.pendingProps),_4(c,d,g,w,f);case 3:e:{if(Kt(d,d.stateNode.containerInfo),c===null)throw Error(i(387));var x=d.pendingProps;w=d.memoizedState,g=w.element,H_(c,d),Jf(d,x,null,f);var A=d.memoizedState;if(x=A.cache,pl(d,oi,x),x!==w.cache&&j_(d,[oi],f,!0),Xf(),x=A.element,w.isDehydrated)if(w={element:x,isDehydrated:!1,cache:A.cache},d.updateQueue.baseState=w,d.memoizedState=w,d.flags&256){d=x4(c,d,x,f);break e}else if(x!==g){g=Js(Error(i(424)),d),Bf(g),d=x4(c,d,x,f);break e}else for(Oi=Rr(d.stateNode.containerInfo.firstChild),Ji=d,Ft=!0,Ar=null,ao=!0,f=w3(d,null,x,f),d.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Lf(),x===g){d=ea(c,d,f);break e}Mi(c,d,x,f)}d=d.child}return d;case 26:return Yf(c,d),c===null?(f=I6(d.type,null,d.pendingProps,null))?d.memoizedState=f:Ft||(f=d.type,c=d.pendingProps,g=sb(Ze.current).createElement(f),g[Fi]=d,g[fs]=c,Di(g,f,c),bi(g),d.stateNode=g):d.memoizedState=I6(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return rt(d),c===null&&Ft&&(g=d.stateNode=T6(d.type,d.pendingProps,Ze.current),Ji=d,ao=!0,Oi=Rr(g.firstChild)),g=d.pendingProps.children,c!==null||Ft?Mi(c,d,g,f):d.child=Mc(d,null,g,f),Yf(c,d),d.child;case 5:return c===null&&Ft&&((w=g=Oi)&&(g=Bq(g,d.type,d.pendingProps,ao),g!==null?(d.stateNode=g,Ji=d,Oi=Rr(g.firstChild),ao=!1,w=!0):w=!1),w||Oc(d)),rt(d),w=d.type,x=d.pendingProps,A=c!==null?c.memoizedProps:null,g=x.children,C2(w,x)?g=null:A!==null&&C2(w,A)&&(d.flags|=32),d.memoizedState!==null&&(w=h_(c,d,tq,null,null,f),fm._currentValue=w),Yf(c,d),Mi(c,d,g,f),d.child;case 6:return c===null&&Ft&&((c=f=Oi)&&(f=Fq(f,d.pendingProps,ao),f!==null?(d.stateNode=f,Ji=d,Oi=null,c=!0):c=!1),c||Oc(d)),null;case 13:return k4(c,d,f);case 4:return Kt(d,d.stateNode.containerInfo),g=d.pendingProps,c===null?d.child=Mc(d,null,g,f):Mi(c,d,g,f),d.child;case 11:return g4(c,d,d.type,d.pendingProps,f);case 7:return Mi(c,d,d.pendingProps,f),d.child;case 8:return Mi(c,d,d.pendingProps.children,f),d.child;case 12:return Mi(c,d,d.pendingProps.children,f),d.child;case 10:return g=d.pendingProps,pl(d,d.type,g.value),Mi(c,d,g.children,f),d.child;case 9:return w=d.type._context,g=d.pendingProps.children,zc(d),w=zi(w),g=g(w),d.flags|=1,Mi(c,d,g,f),d.child;case 14:return p4(c,d,d.type,d.pendingProps,f);case 15:return b4(c,d,d.type,d.pendingProps,f);case 19:return E4(c,d,f);case 22:return v4(c,d,f);case 24:return zc(d),g=zi(oi),c===null?(w=u_(),w===null&&(w=hn,x=l_(),w.pooledCache=x,x.refCount++,x!==null&&(w.pooledCacheLanes|=f),w=x),d.memoizedState={parent:g,cache:w},U_(d),pl(d,oi,w)):((c.lanes&f)!==0&&(H_(c,d),Jf(d,null,null,f),Xf()),w=c.memoizedState,x=d.memoizedState,w.parent!==g?(w={parent:g,cache:g},d.memoizedState=w,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=w),pl(d,oi,g)):(g=x.cache,pl(d,oi,g),g!==w.cache&&j_(d,[oi],f,!0))),Mi(c,d,d.pendingProps.children,f),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}var F_=ue(null),Fc=null,ta=null;function pl(c,d,f){ie(F_,d._currentValue),d._currentValue=f}function na(c){c._currentValue=F_.current,de(F_)}function z_(c,d,f){for(;c!==null;){var g=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,g!==null&&(g.childLanes|=d)):g!==null&&(g.childLanes&d)!==d&&(g.childLanes|=d),c===f)break;c=c.return}}function j_(c,d,f,g){var w=c.child;for(w!==null&&(w.return=c);w!==null;){var x=w.dependencies;if(x!==null){var A=w.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=w;for(var V=0;V<d.length;V++)if(R.context===d[V]){x.lanes|=f,R=x.alternate,R!==null&&(R.lanes|=f),z_(x.return,f,c),g||(A=null);break e}x=R.next}}else if(w.tag===18){if(A=w.return,A===null)throw Error(i(341));A.lanes|=f,x=A.alternate,x!==null&&(x.lanes|=f),z_(A,f,c),A=null}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===c){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}}function Zf(c,d,f,g){c=null;for(var w=d,x=!1;w!==null;){if(!x){if((w.flags&524288)!==0)x=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var A=w.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var R=w.type;Ss(w.pendingProps.value,A.value)||(c!==null?c.push(R):c=[R])}}else if(w===tt.current){if(A=w.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(c!==null?c.push(fm):c=[fm])}w=w.return}c!==null&&j_(d,c,f,g),d.flags|=262144}function U0(c){for(c=c.firstContext;c!==null;){if(!Ss(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function zc(c){Fc=c,ta=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function zi(c){return S4(Fc,c)}function H0(c,d){return Fc===null&&zc(c),S4(c,d)}function S4(c,d){var f=d._currentValue;if(d={context:d,memoizedValue:f,next:null},ta===null){if(c===null)throw Error(i(308));ta=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else ta=ta.next=d;return f}var bl=!1;function U_(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H_(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function vl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wl(c,d,f){var g=c.updateQueue;if(g===null)return null;if(g=g.shared,(Sn&2)!==0){var w=g.pending;return w===null?d.next=d:(d.next=w.next,w.next=d),g.pending=d,d=k0(c),l3(c,null,f),d}return x0(c,g,d,f),k0(c)}function Kf(c,d,f){if(d=d.updateQueue,d!==null&&(d=d.shared,(f&4194176)!==0)){var g=d.lanes;g&=c.pendingLanes,f|=g,d.lanes=f,pA(c,f)}}function $_(c,d){var f=c.updateQueue,g=c.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var w=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var A={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?w=x=A:x=x.next=A,f=f.next}while(f!==null);x===null?w=x=d:x=x.next=d}else w=x=d;f={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:x,shared:g.shared,callbacks:g.callbacks},c.updateQueue=f;return}c=f.lastBaseUpdate,c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=d}var W_=!1;function Xf(){if(W_){var c=bd;if(c!==null)throw c}}function Jf(c,d,f,g){W_=!1;var w=c.updateQueue;bl=!1;var x=w.firstBaseUpdate,A=w.lastBaseUpdate,R=w.shared.pending;if(R!==null){w.shared.pending=null;var V=R,W=V.next;V.next=null,A===null?x=W:A.next=W,A=V;var ce=c.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==A&&(R===null?ce.firstBaseUpdate=W:R.next=W,ce.lastBaseUpdate=V))}if(x!==null){var ve=w.baseState;A=0,ce=W=V=null,R=x;do{var te=R.lane&-536870913,le=te!==R.lane;if(le?(Mt&te)===te:(g&te)===te){te!==0&&te===pd&&(W_=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Je=c,ft=R;te=d;var zn=f;switch(ft.tag){case 1:if(Je=ft.payload,typeof Je=="function"){ve=Je.call(zn,ve,te);break e}ve=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=ft.payload,te=typeof Je=="function"?Je.call(zn,ve,te):Je,te==null)break e;ve=J({},ve,te);break e;case 2:bl=!0}}te=R.callback,te!==null&&(c.flags|=64,le&&(c.flags|=8192),le=w.callbacks,le===null?w.callbacks=[te]:le.push(te))}else le={lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(W=ce=le,V=ve):ce=ce.next=le,A|=te;if(R=R.next,R===null){if(R=w.shared.pending,R===null)break;le=R,R=le.next,le.next=null,w.lastBaseUpdate=le,w.shared.pending=null}}while(!0);ce===null&&(V=ve),w.baseState=V,w.firstBaseUpdate=W,w.lastBaseUpdate=ce,x===null&&(w.shared.lanes=0),Cl|=A,c.lanes=A,c.memoizedState=ve}}function A4(c,d){if(typeof c!="function")throw Error(i(191,c));c.call(d)}function I4(c,d){var f=c.callbacks;if(f!==null)for(c.callbacks=null,c=0;c<f.length;c++)A4(f[c],d)}function Qf(c,d){try{var f=d.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var w=g.next;f=w;do{if((f.tag&c)===c){g=void 0;var x=f.create,A=f.inst;g=x(),A.destroy=g}f=f.next}while(f!==w)}}catch(R){an(d,d.return,R)}}function yl(c,d,f){try{var g=d.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var x=w.next;g=x;do{if((g.tag&c)===c){var A=g.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,w=d;var V=f;try{R()}catch(W){an(w,V,W)}}}g=g.next}while(g!==x)}}catch(W){an(d,d.return,W)}}function R4(c){var d=c.updateQueue;if(d!==null){var f=c.stateNode;try{I4(d,f)}catch(g){an(c,c.return,g)}}}function P4(c,d,f){f.props=Bc(c.type,c.memoizedProps),f.state=c.memoizedState;try{f.componentWillUnmount()}catch(g){an(c,d,g)}}function jc(c,d){try{var f=c.ref;if(f!==null){var g=c.stateNode;switch(c.tag){case 26:case 27:case 5:var w=g;break;default:w=g}typeof f=="function"?c.refCleanup=f(w):f.current=w}}catch(x){an(c,d,x)}}function As(c,d){var f=c.ref,g=c.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(w){an(c,d,w)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){an(c,d,w)}else f.current=null}function O4(c){var d=c.type,f=c.memoizedProps,g=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(w){an(c,c.return,w)}}function M4(c,d,f){try{var g=c.stateNode;Mq(g,c.type,f,d),g[fs]=d}catch(w){an(c,c.return,w)}}function D4(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function q_(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||D4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function G_(c,d,f){var g=c.tag;if(g===5||g===6)c=c.stateNode,d?f.nodeType===8?f.parentNode.insertBefore(c,d):f.insertBefore(c,d):(f.nodeType===8?(d=f.parentNode,d.insertBefore(c,f)):(d=f,d.appendChild(c)),f=f._reactRootContainer,f!=null||d.onclick!==null||(d.onclick=ib));else if(g!==4&&g!==27&&(c=c.child,c!==null))for(G_(c,d,f),c=c.sibling;c!==null;)G_(c,d,f),c=c.sibling}function $0(c,d,f){var g=c.tag;if(g===5||g===6)c=c.stateNode,d?f.insertBefore(c,d):f.appendChild(c);else if(g!==4&&g!==27&&(c=c.child,c!==null))for($0(c,d,f),c=c.sibling;c!==null;)$0(c,d,f),c=c.sibling}var ia=!1,Bn=!1,Y_=!1,V4=typeof WeakSet=="function"?WeakSet:Set,wi=null,N4=!1;function cq(c,d){if(c=c.containerInfo,x2=ub,c=QA(c),Ky(c)){if("selectionStart"in c)var f={start:c.selectionStart,end:c.selectionEnd};else e:{f=(f=c.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var w=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var A=0,R=-1,V=-1,W=0,ce=0,ve=c,te=null;t:for(;;){for(var le;ve!==f||w!==0&&ve.nodeType!==3||(R=A+w),ve!==x||g!==0&&ve.nodeType!==3||(V=A+g),ve.nodeType===3&&(A+=ve.nodeValue.length),(le=ve.firstChild)!==null;)te=ve,ve=le;for(;;){if(ve===c)break t;if(te===f&&++W===w&&(R=A),te===x&&++ce===g&&(V=A),(le=ve.nextSibling)!==null)break;ve=te,te=ve.parentNode}ve=le}f=R===-1||V===-1?null:{start:R,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for(k2={focusedElem:c,selectionRange:f},ub=!1,wi=d;wi!==null;)if(d=wi,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,wi=c;else for(;wi!==null;){switch(d=wi,x=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&x!==null){c=void 0,f=d,w=x.memoizedProps,x=x.memoizedState,g=f.stateNode;try{var Je=Bc(f.type,w,f.elementType===f.type);c=g.getSnapshotBeforeUpdate(Je,x),g.__reactInternalSnapshotBeforeUpdate=c}catch(ft){an(f,f.return,ft)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,f=c.nodeType,f===9)S2(c);else if(f===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":S2(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=d.sibling,c!==null){c.return=d.return,wi=c;break}wi=d.return}return Je=N4,N4=!1,Je}function L4(c,d,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:ra(c,f),g&4&&Qf(5,f);break;case 1:if(ra(c,f),g&4)if(c=f.stateNode,d===null)try{c.componentDidMount()}catch(R){an(f,f.return,R)}else{var w=Bc(f.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(w,d,c.__reactInternalSnapshotBeforeUpdate)}catch(R){an(f,f.return,R)}}g&64&&R4(f),g&512&&jc(f,f.return);break;case 3:if(ra(c,f),g&64&&(g=f.updateQueue,g!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{I4(g,c)}catch(R){an(f,f.return,R)}}break;case 26:ra(c,f),g&512&&jc(f,f.return);break;case 27:case 5:ra(c,f),d===null&&g&4&&O4(f),g&512&&jc(f,f.return);break;case 12:ra(c,f);break;case 13:ra(c,f),g&4&&z4(c,f);break;case 22:if(w=f.memoizedState!==null||ia,!w){d=d!==null&&d.memoizedState!==null||Bn;var x=ia,A=Bn;ia=w,(Bn=d)&&!A?_l(c,f,(f.subtreeFlags&8772)!==0):ra(c,f),ia=x,Bn=A}g&512&&(f.memoizedProps.mode==="manual"?jc(f,f.return):As(f,f.return));break;default:ra(c,f)}}function B4(c){var d=c.alternate;d!==null&&(c.alternate=null,B4(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&Dy(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ii=null,Is=!1;function sa(c,d,f){for(f=f.child;f!==null;)F4(c,d,f),f=f.sibling}function F4(c,d,f){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(yt,f)}catch{}switch(f.tag){case 26:Bn||As(f,d),sa(c,d,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Bn||As(f,d);var g=ii,w=Is;for(ii=f.stateNode,sa(c,d,f),f=f.stateNode,d=f.attributes;d.length;)f.removeAttributeNode(d[0]);Dy(f),ii=g,Is=w;break;case 5:Bn||As(f,d);case 6:w=ii;var x=Is;if(ii=null,sa(c,d,f),ii=w,Is=x,ii!==null)if(Is)try{c=ii,g=f.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)}catch(A){an(f,d,A)}else try{ii.removeChild(f.stateNode)}catch(A){an(f,d,A)}break;case 18:ii!==null&&(Is?(d=ii,f=f.stateNode,d.nodeType===8?T2(d.parentNode,f):d.nodeType===1&&T2(d,f),bm(d)):T2(ii,f.stateNode));break;case 4:g=ii,w=Is,ii=f.stateNode.containerInfo,Is=!0,sa(c,d,f),ii=g,Is=w;break;case 0:case 11:case 14:case 15:Bn||yl(2,f,d),Bn||yl(4,f,d),sa(c,d,f);break;case 1:Bn||(As(f,d),g=f.stateNode,typeof g.componentWillUnmount=="function"&&P4(f,d,g)),sa(c,d,f);break;case 21:sa(c,d,f);break;case 22:Bn||As(f,d),Bn=(g=Bn)||f.memoizedState!==null,sa(c,d,f),Bn=g;break;default:sa(c,d,f)}}function z4(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{bm(c)}catch(f){an(d,d.return,f)}}function uq(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new V4),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new V4),d;default:throw Error(i(435,c.tag))}}function Z_(c,d){var f=uq(c);d.forEach(function(g){var w=kq.bind(null,c,g);f.has(g)||(f.add(g),g.then(w,w))})}function nr(c,d){var f=d.deletions;if(f!==null)for(var g=0;g<f.length;g++){var w=f[g],x=c,A=d,R=A;e:for(;R!==null;){switch(R.tag){case 27:case 5:ii=R.stateNode,Is=!1;break e;case 3:ii=R.stateNode.containerInfo,Is=!0;break e;case 4:ii=R.stateNode.containerInfo,Is=!0;break e}R=R.return}if(ii===null)throw Error(i(160));F4(x,A,w),ii=null,Is=!1,x=w.alternate,x!==null&&(x.return=null),w.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)j4(d,c),d=d.sibling}var Ir=null;function j4(c,d){var f=c.alternate,g=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:nr(d,c),ir(c),g&4&&(yl(3,c,c.return),Qf(3,c),yl(5,c,c.return));break;case 1:nr(d,c),ir(c),g&512&&(Bn||f===null||As(f,f.return)),g&64&&ia&&(c=c.updateQueue,c!==null&&(g=c.callbacks,g!==null&&(f=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var w=Ir;if(nr(d,c),ir(c),g&512&&(Bn||f===null||As(f,f.return)),g&4){var x=f!==null?f.memoizedState:null;if(g=c.memoizedState,f===null)if(g===null)if(c.stateNode===null){e:{g=c.type,f=c.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":x=w.getElementsByTagName("title")[0],(!x||x[Ef]||x[Fi]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=w.createElement(g),w.head.insertBefore(x,w.querySelector("head > title"))),Di(x,g,f),x[Fi]=c,bi(x),g=x;break e;case"link":var A=O6("link","href",w).get(g+(f.href||""));if(A){for(var R=0;R<A.length;R++)if(x=A[R],x.getAttribute("href")===(f.href==null?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){A.splice(R,1);break t}}x=w.createElement(g),Di(x,g,f),w.head.appendChild(x);break;case"meta":if(A=O6("meta","content",w).get(g+(f.content||""))){for(R=0;R<A.length;R++)if(x=A[R],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){A.splice(R,1);break t}}x=w.createElement(g),Di(x,g,f),w.head.appendChild(x);break;default:throw Error(i(468,g))}x[Fi]=c,bi(x),g=x}c.stateNode=g}else M6(w,c.type,c.stateNode);else c.stateNode=P6(w,g,c.memoizedProps);else x!==g?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,g===null?M6(w,c.type,c.stateNode):P6(w,g,c.memoizedProps)):g===null&&c.stateNode!==null&&M4(c,c.memoizedProps,f.memoizedProps)}break;case 27:if(g&4&&c.alternate===null){w=c.stateNode,x=c.memoizedProps;try{for(var V=w.firstChild;V;){var W=V.nextSibling,ce=V.nodeName;V[Ef]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&V.rel.toLowerCase()==="stylesheet"||w.removeChild(V),V=W}for(var ve=c.type,te=w.attributes;te.length;)w.removeAttributeNode(te[0]);Di(w,ve,x),w[Fi]=c,w[fs]=x}catch(Je){an(c,c.return,Je)}}case 5:if(nr(d,c),ir(c),g&512&&(Bn||f===null||As(f,f.return)),c.flags&32){w=c.stateNode;try{sd(w,"")}catch(Je){an(c,c.return,Je)}}g&4&&c.stateNode!=null&&(w=c.memoizedProps,M4(c,w,f!==null?f.memoizedProps:w)),g&1024&&(Y_=!0);break;case 6:if(nr(d,c),ir(c),g&4){if(c.stateNode===null)throw Error(i(162));g=c.memoizedProps,f=c.stateNode;try{f.nodeValue=g}catch(Je){an(c,c.return,Je)}}break;case 3:if(ab=null,w=Ir,Ir=rb(d.containerInfo),nr(d,c),Ir=w,ir(c),g&4&&f!==null&&f.memoizedState.isDehydrated)try{bm(d.containerInfo)}catch(Je){an(c,c.return,Je)}Y_&&(Y_=!1,U4(c));break;case 4:g=Ir,Ir=rb(c.stateNode.containerInfo),nr(d,c),ir(c),Ir=g;break;case 12:nr(d,c),ir(c);break;case 13:nr(d,c),ir(c),c.child.flags&8192&&c.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(s2=Z()),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,Z_(c,g)));break;case 22:if(g&512&&(Bn||f===null||As(f,f.return)),V=c.memoizedState!==null,W=f!==null&&f.memoizedState!==null,ce=ia,ve=Bn,ia=ce||V,Bn=ve||W,nr(d,c),Bn=ve,ia=ce,ir(c),d=c.stateNode,d._current=c,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,g&8192&&(d._visibility=V?d._visibility&-2:d._visibility|1,V&&(d=ia||Bn,f===null||W||d||_d(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(f=null,d=c;;){if(d.tag===5||d.tag===26||d.tag===27){if(f===null){W=f=d;try{if(w=W.stateNode,V)x=w.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{A=W.stateNode,R=W.memoizedProps.style;var le=R!=null&&R.hasOwnProperty("display")?R.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Je){an(W,W.return,Je)}}}else if(d.tag===6){if(f===null){W=d;try{W.stateNode.nodeValue=V?"":W.memoizedProps}catch(Je){an(W,W.return,Je)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}g&4&&(g=c.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,Z_(c,f))));break;case 19:nr(d,c),ir(c),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,Z_(c,g)));break;case 21:break;default:nr(d,c),ir(c)}}function ir(c){var d=c.flags;if(d&2){try{if(c.tag!==27){e:{for(var f=c.return;f!==null;){if(D4(f)){var g=f;break e}f=f.return}throw Error(i(160))}switch(g.tag){case 27:var w=g.stateNode,x=q_(c);$0(c,x,w);break;case 5:var A=g.stateNode;g.flags&32&&(sd(A,""),g.flags&=-33);var R=q_(c);$0(c,R,A);break;case 3:case 4:var V=g.stateNode.containerInfo,W=q_(c);G_(c,W,V);break;default:throw Error(i(161))}}}catch(ce){an(c,c.return,ce)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function U4(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;U4(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function ra(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)L4(c,d.alternate,d),d=d.sibling}function _d(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:yl(4,d,d.return),_d(d);break;case 1:As(d,d.return);var f=d.stateNode;typeof f.componentWillUnmount=="function"&&P4(d,d.return,f),_d(d);break;case 26:case 27:case 5:As(d,d.return),_d(d);break;case 22:As(d,d.return),d.memoizedState===null&&_d(d);break;default:_d(d)}c=c.sibling}}function _l(c,d,f){for(f=f&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var g=d.alternate,w=c,x=d,A=x.flags;switch(x.tag){case 0:case 11:case 15:_l(w,x,f),Qf(4,x);break;case 1:if(_l(w,x,f),g=x,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(W){an(g,g.return,W)}if(g=x,w=g.updateQueue,w!==null){var R=g.stateNode;try{var V=w.shared.hiddenCallbacks;if(V!==null)for(w.shared.hiddenCallbacks=null,w=0;w<V.length;w++)A4(V[w],R)}catch(W){an(g,g.return,W)}}f&&A&64&&R4(x),jc(x,x.return);break;case 26:case 27:case 5:_l(w,x,f),f&&g===null&&A&4&&O4(x),jc(x,x.return);break;case 12:_l(w,x,f);break;case 13:_l(w,x,f),f&&A&4&&z4(w,x);break;case 22:x.memoizedState===null&&_l(w,x,f),jc(x,x.return);break;default:_l(w,x,f)}d=d.sibling}}function K_(c,d){var f=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==f&&(c!=null&&c.refCount++,f!=null&&Hf(f))}function X_(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Hf(c))}function xl(c,d,f,g){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)H4(c,d,f,g),d=d.sibling}function H4(c,d,f,g){var w=d.flags;switch(d.tag){case 0:case 11:case 15:xl(c,d,f,g),w&2048&&Qf(9,d);break;case 3:xl(c,d,f,g),w&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Hf(c)));break;case 12:if(w&2048){xl(c,d,f,g),c=d.stateNode;try{var x=d.memoizedProps,A=x.id,R=x.onPostCommit;typeof R=="function"&&R(A,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(V){an(d,d.return,V)}}else xl(c,d,f,g);break;case 23:break;case 22:x=d.stateNode,d.memoizedState!==null?x._visibility&4?xl(c,d,f,g):em(c,d):x._visibility&4?xl(c,d,f,g):(x._visibility|=4,xd(c,d,f,g,(d.subtreeFlags&10256)!==0)),w&2048&&K_(d.alternate,d);break;case 24:xl(c,d,f,g),w&2048&&X_(d.alternate,d);break;default:xl(c,d,f,g)}}function xd(c,d,f,g,w){for(w=w&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var x=c,A=d,R=f,V=g,W=A.flags;switch(A.tag){case 0:case 11:case 15:xd(x,A,R,V,w),Qf(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?xd(x,A,R,V,w):em(x,A):(ce._visibility|=4,xd(x,A,R,V,w)),w&&W&2048&&K_(A.alternate,A);break;case 24:xd(x,A,R,V,w),w&&W&2048&&X_(A.alternate,A);break;default:xd(x,A,R,V,w)}d=d.sibling}}function em(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var f=c,g=d,w=g.flags;switch(g.tag){case 22:em(f,g),w&2048&&K_(g.alternate,g);break;case 24:em(f,g),w&2048&&X_(g.alternate,g);break;default:em(f,g)}d=d.sibling}}var tm=8192;function kd(c){if(c.subtreeFlags&tm)for(c=c.child;c!==null;)$4(c),c=c.sibling}function $4(c){switch(c.tag){case 26:kd(c),c.flags&tm&&c.memoizedState!==null&&Jq(Ir,c.memoizedState,c.memoizedProps);break;case 5:kd(c);break;case 3:case 4:var d=Ir;Ir=rb(c.stateNode.containerInfo),kd(c),Ir=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=tm,tm=16777216,kd(c),tm=d):kd(c));break;default:kd(c)}}function W4(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function nm(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var g=d[f];wi=g,G4(g,c)}W4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)q4(c),c=c.sibling}function q4(c){switch(c.tag){case 0:case 11:case 15:nm(c),c.flags&2048&&yl(9,c,c.return);break;case 3:nm(c);break;case 12:nm(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&4&&(c.return===null||c.return.tag!==13)?(d._visibility&=-5,W0(c)):nm(c);break;default:nm(c)}}function W0(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var g=d[f];wi=g,G4(g,c)}W4(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:yl(8,d,d.return),W0(d);break;case 22:f=d.stateNode,f._visibility&4&&(f._visibility&=-5,W0(d));break;default:W0(d)}c=c.sibling}}function G4(c,d){for(;wi!==null;){var f=wi;switch(f.tag){case 0:case 11:case 15:yl(8,f,d);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Hf(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,wi=g;else e:for(f=c;wi!==null;){g=wi;var w=g.sibling,x=g.return;if(B4(g),g===f){wi=null;break e}if(w!==null){w.return=x,wi=w;break e}wi=x}}}function dq(c,d,f,g){this.tag=c,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(c,d,f,g){return new dq(c,d,f,g)}function J_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function kl(c,d){var f=c.alternate;return f===null?(f=sr(c.tag,d,c.key,c.mode),f.elementType=c.elementType,f.type=c.type,f.stateNode=c.stateNode,f.alternate=c,c.alternate=f):(f.pendingProps=d,f.type=c.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=c.flags&31457280,f.childLanes=c.childLanes,f.lanes=c.lanes,f.child=c.child,f.memoizedProps=c.memoizedProps,f.memoizedState=c.memoizedState,f.updateQueue=c.updateQueue,d=c.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},f.sibling=c.sibling,f.index=c.index,f.ref=c.ref,f.refCleanup=c.refCleanup,f}function Y4(c,d){c.flags&=31457282;var f=c.alternate;return f===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,d=f.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function q0(c,d,f,g,w,x){var A=0;if(g=c,typeof c=="function")J_(c)&&(A=1);else if(typeof c=="string")A=Kq(c,f,Ee.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return Uc(f.children,w,x,d);case u:A=8,w|=24;break;case h:return c=sr(12,f,d,w|2),c.elementType=h,c.lanes=x,c;case k:return c=sr(13,f,d,w),c.elementType=k,c.lanes=x,c;case C:return c=sr(19,f,d,w),c.elementType=C,c.lanes=x,c;case I:return Z4(f,w,x,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:case v:A=10;break e;case p:A=9;break e;case _:A=11;break e;case T:A=14;break e;case S:A=16,g=null;break e}A=29,f=Error(i(130,c===null?"null":typeof c,"")),g=null}return d=sr(A,f,d,w),d.elementType=c,d.type=g,d.lanes=x,d}function Uc(c,d,f,g){return c=sr(7,c,g,d),c.lanes=f,c}function Z4(c,d,f,g){c=sr(22,c,g,d),c.elementType=I,c.lanes=f;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=w._current;if(x===null)throw Error(i(456));if((w._pendingVisibility&2)===0){var A=dl(x,2);A!==null&&(w._pendingVisibility|=2,Qi(A,x,2))}},attach:function(){var x=w._current;if(x===null)throw Error(i(456));if((w._pendingVisibility&2)!==0){var A=dl(x,2);A!==null&&(w._pendingVisibility&=-3,Qi(A,x,2))}}};return c.stateNode=w,c}function Q_(c,d,f){return c=sr(6,c,null,d),c.lanes=f,c}function e2(c,d,f){return d=sr(4,c.children!==null?c.children:[],c.key,d),d.lanes=f,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function oa(c){c.flags|=4}function K4(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!D6(d)){if(d=tr.current,d!==null&&((Mt&4194176)===Mt?lo!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||d!==lo))throw zf=r_,f3;c.flags|=8192}}function G0(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?mA():536870912,c.lanes|=d,Ed|=d)}function im(c,d){if(!Ft)switch(c.tailMode){case"hidden":d=c.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?c.tail=null:f.sibling=null;break;case"collapsed":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:g.sibling=null}}function Tn(c){var d=c.alternate!==null&&c.alternate.child===c.child,f=0,g=0;if(d)for(var w=c.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags&31457280,g|=w.flags&31457280,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=g,c.childLanes=f,d}function hq(c,d,f){var g=d.pendingProps;switch(i_(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(d),null;case 1:return Tn(d),null;case 3:return f=d.stateNode,g=null,c!==null&&(g=c.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),na(oi),Bt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(c===null||c.child===null)&&(Nf(d)?oa(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ar!==null&&(l2(Ar),Ar=null))),Tn(d),null;case 26:return f=d.memoizedState,c===null?(oa(d),f!==null?(Tn(d),K4(d,f)):(Tn(d),d.flags&=-16777217)):f?f!==c.memoizedState?(oa(d),Tn(d),K4(d,f)):(Tn(d),d.flags&=-16777217):(c.memoizedProps!==g&&oa(d),Tn(d),d.flags&=-16777217),null;case 27:B(d),f=Ze.current;var w=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==g&&oa(d);else{if(!g){if(d.stateNode===null)throw Error(i(166));return Tn(d),null}c=Ee.current,Nf(d)?d3(d):(c=T6(w,g,f),d.stateNode=c,oa(d))}return Tn(d),null;case 5:if(B(d),f=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==g&&oa(d);else{if(!g){if(d.stateNode===null)throw Error(i(166));return Tn(d),null}if(c=Ee.current,Nf(d))d3(d);else{switch(w=sb(Ze.current),c){case 1:c=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:c=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":c=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":c=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":c=w.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof g.is=="string"?w.createElement("select",{is:g.is}):w.createElement("select"),g.multiple?c.multiple=!0:g.size&&(c.size=g.size);break;default:c=typeof g.is=="string"?w.createElement(f,{is:g.is}):w.createElement(f)}}c[Fi]=d,c[fs]=g;e:for(w=d.child;w!==null;){if(w.tag===5||w.tag===6)c.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break e;for(;w.sibling===null;){if(w.return===null||w.return===d)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}d.stateNode=c;e:switch(Di(c,f,g),f){case"button":case"input":case"select":case"textarea":c=!!g.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&oa(d)}}return Tn(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==g&&oa(d);else{if(typeof g!="string"&&d.stateNode===null)throw Error(i(166));if(c=Ze.current,Nf(d)){if(c=d.stateNode,f=d.memoizedProps,g=null,w=Ji,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}c[Fi]=d,c=!!(c.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||y6(c.nodeValue,f)),c||Oc(d)}else c=sb(c).createTextNode(g),c[Fi]=d,d.stateNode=c}return Tn(d),null;case 13:if(g=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(w=Nf(d),g!==null&&g.dehydrated!==null){if(c===null){if(!w)throw Error(i(318));if(w=d.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[Fi]=d}else Lf(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Tn(d),w=!1}else Ar!==null&&(l2(Ar),Ar=null),w=!0;if(!w)return d.flags&256?(Jo(d),d):(Jo(d),null)}if(Jo(d),(d.flags&128)!==0)return d.lanes=f,d;if(f=g!==null,c=c!==null&&c.memoizedState!==null,f){g=d.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool);var x=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(x=g.memoizedState.cachePool.pool),x!==w&&(g.flags|=2048)}return f!==c&&f&&(d.child.flags|=8192),G0(d,d.updateQueue),Tn(d),null;case 4:return Bt(),c===null&&w2(d.stateNode.containerInfo),Tn(d),null;case 10:return na(d.type),Tn(d),null;case 19:if(de(ri),w=d.memoizedState,w===null)return Tn(d),null;if(g=(d.flags&128)!==0,x=w.rendering,x===null)if(g)im(w,!1);else{if(Fn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(x=R0(c),x!==null){for(d.flags|=128,im(w,!1),c=x.updateQueue,d.updateQueue=c,G0(d,c),d.subtreeFlags=0,c=f,f=d.child;f!==null;)Y4(f,c),f=f.sibling;return ie(ri,ri.current&1|2),d.child}c=c.sibling}w.tail!==null&&Z()>Y0&&(d.flags|=128,g=!0,im(w,!1),d.lanes=4194304)}else{if(!g)if(c=R0(x),c!==null){if(d.flags|=128,g=!0,c=c.updateQueue,d.updateQueue=c,G0(d,c),im(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!Ft)return Tn(d),null}else 2*Z()-w.renderingStartTime>Y0&&f!==536870912&&(d.flags|=128,g=!0,im(w,!1),d.lanes=4194304);w.isBackwards?(x.sibling=d.child,d.child=x):(c=w.last,c!==null?c.sibling=x:d.child=x,w.last=x)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=Z(),d.sibling=null,c=ri.current,ie(ri,g?c&1|2:c&1),d):(Tn(d),null);case 22:case 23:return Jo(d),a_(),g=d.memoizedState!==null,c!==null?c.memoizedState!==null!==g&&(d.flags|=8192):g&&(d.flags|=8192),g?(f&536870912)!==0&&(d.flags&128)===0&&(Tn(d),d.subtreeFlags&6&&(d.flags|=8192)):Tn(d),f=d.updateQueue,f!==null&&G0(d,f.retryQueue),f=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==f&&(d.flags|=2048),c!==null&&de(Dc),null;case 24:return f=null,c!==null&&(f=c.memoizedState.cache),d.memoizedState.cache!==f&&(d.flags|=2048),na(oi),Tn(d),null;case 25:return null}throw Error(i(156,d.tag))}function fq(c,d){switch(i_(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return na(oi),Bt(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return B(d),null;case 13:if(Jo(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(i(340));Lf()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return de(ri),null;case 4:return Bt(),null;case 10:return na(d.type),null;case 22:case 23:return Jo(d),a_(),c!==null&&de(Dc),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return na(oi),null;case 25:return null;default:return null}}function X4(c,d){switch(i_(d),d.tag){case 3:na(oi),Bt();break;case 26:case 27:case 5:B(d);break;case 4:Bt();break;case 13:Jo(d);break;case 19:de(ri);break;case 10:na(d.type);break;case 22:case 23:Jo(d),a_(),c!==null&&de(Dc);break;case 24:na(oi)}}var mq={getCacheForType:function(c){var d=zi(oi),f=d.data.get(c);return f===void 0&&(f=c(),d.data.set(c,f)),f}},gq=typeof WeakMap=="function"?WeakMap:Map,Sn=0,hn=null,St=null,Mt=0,fn=0,Rs=null,aa=!1,Cd=!1,t2=!1,la=0,Fn=0,Cl=0,Hc=0,n2=0,rr=0,Ed=0,sm=null,uo=null,i2=!1,s2=0,Y0=1/0,Z0=null,El=null,K0=!1,$c=null,rm=0,r2=0,o2=null,om=0,a2=null;function Ps(){if((Sn&2)!==0&&Mt!==0)return Mt&-Mt;if(z.T!==null){var c=pd;return c!==0?c:g2()}return vA()}function J4(){rr===0&&(rr=(Mt&536870912)===0||Ft?fA():536870912);var c=tr.current;return c!==null&&(c.flags|=32),rr}function Qi(c,d,f){(c===hn&&fn===2||c.cancelPendingCommit!==null)&&(Td(c,0),ca(c,Mt,rr,!1)),Cf(c,f),((Sn&2)===0||c!==hn)&&(c===hn&&((Sn&2)===0&&(Hc|=f),Fn===4&&ca(c,Mt,rr,!1)),ho(c))}function Q4(c,d,f){if((Sn&6)!==0)throw Error(i(327));var g=!f&&(d&60)===0&&(d&c.expiredLanes)===0||kf(c,d),w=g?vq(c,d):d2(c,d,!0),x=g;do{if(w===0){Cd&&!g&&ca(c,d,0,!1);break}else if(w===6)ca(c,d,0,!aa);else{if(f=c.current.alternate,x&&!pq(f)){w=d2(c,d,!1),x=!1;continue}if(w===2){if(x=d,c.errorRecoveryDisabledLanes&x)var A=0;else A=c.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){d=A;e:{var R=c;w=sm;var V=R.current.memoizedState.isDehydrated;if(V&&(Td(R,A).flags|=256),A=d2(R,A,!1),A!==2){if(t2&&!V){R.errorRecoveryDisabledLanes|=x,Hc|=x,w=4;break e}x=uo,uo=w,x!==null&&l2(x)}w=A}if(x=!1,w!==2)continue}}if(w===1){Td(c,0),ca(c,d,0,!0);break}e:{switch(g=c,w){case 0:case 1:throw Error(i(345));case 4:if((d&4194176)===d){ca(g,d,rr,!aa);break e}break;case 2:uo=null;break;case 3:case 5:break;default:throw Error(i(329))}if(g.finishedWork=f,g.finishedLanes=d,(d&62914560)===d&&(x=s2+300-Z(),10<x)){if(ca(g,d,rr,!aa),c0(g,0)!==0)break e;g.timeoutHandle=k6(e6.bind(null,g,f,uo,Z0,i2,d,rr,Hc,Ed,aa,2,-0,0),x);break e}e6(g,f,uo,Z0,i2,d,rr,Hc,Ed,aa,0,-0,0)}}break}while(!0);ho(c)}function l2(c){uo===null?uo=c:uo.push.apply(uo,c)}function e6(c,d,f,g,w,x,A,R,V,W,ce,ve,te){var le=d.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(hm={stylesheets:null,count:0,unsuspend:Xq},$4(d),d=Qq(),d!==null)){c.cancelPendingCommit=d(a6.bind(null,c,f,g,w,A,R,V,1,ve,te)),ca(c,x,A,!W);return}a6(c,f,g,w,A,R,V,ce,ve,te)}function pq(c){for(var d=c;;){var f=d.tag;if((f===0||f===11||f===15)&&d.flags&16384&&(f=d.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var w=f[g],x=w.getSnapshot;w=w.value;try{if(!Ss(x(),w))return!1}catch{return!1}}if(f=d.child,d.subtreeFlags&16384&&f!==null)f.return=d,d=f;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ca(c,d,f,g){d&=~n2,d&=~Hc,c.suspendedLanes|=d,c.pingedLanes&=~d,g&&(c.warmLanes|=d),g=c.expirationTimes;for(var w=d;0<w;){var x=31-Gn(w),A=1<<x;g[x]=-1,w&=~A}f!==0&&gA(c,f,d)}function X0(){return(Sn&6)===0?(am(0),!1):!0}function c2(){if(St!==null){if(fn===0)var c=St.return;else c=St,ta=Fc=null,g_(c),md=null,jf=0,c=St;for(;c!==null;)X4(c.alternate,c),c=c.return;St=null}}function Td(c,d){c.finishedWork=null,c.finishedLanes=0;var f=c.timeoutHandle;f!==-1&&(c.timeoutHandle=-1,Vq(f)),f=c.cancelPendingCommit,f!==null&&(c.cancelPendingCommit=null,f()),c2(),hn=c,St=f=kl(c.current,null),Mt=d,fn=0,Rs=null,aa=!1,Cd=kf(c,d),t2=!1,Ed=rr=n2=Hc=Cl=Fn=0,uo=sm=null,i2=!1,(d&8)!==0&&(d|=d&32);var g=c.entangledLanes;if(g!==0)for(c=c.entanglements,g&=d;0<g;){var w=31-Gn(g),x=1<<w;d|=c[w],g&=~x}return la=d,_0(),f}function t6(c,d){xt=null,z.H=co,d===Ff?(d=p3(),fn=3):d===f3?(d=p3(),fn=4):fn=d===m4?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Rs=d,St===null&&(Fn=1,j0(c,Js(d,c.current)))}function n6(){var c=z.H;return z.H=co,c===null?co:c}function i6(){var c=z.A;return z.A=mq,c}function u2(){Fn=4,aa||(Mt&4194176)!==Mt&&tr.current!==null||(Cd=!0),(Cl&134217727)===0&&(Hc&134217727)===0||hn===null||ca(hn,Mt,rr,!1)}function d2(c,d,f){var g=Sn;Sn|=2;var w=n6(),x=i6();(hn!==c||Mt!==d)&&(Z0=null,Td(c,d)),d=!1;var A=Fn;e:do try{if(fn!==0&&St!==null){var R=St,V=Rs;switch(fn){case 8:c2(),A=6;break e;case 3:case 2:case 6:tr.current===null&&(d=!0);var W=fn;if(fn=0,Rs=null,Sd(c,R,V,W),f&&Cd){A=0;break e}break;default:W=fn,fn=0,Rs=null,Sd(c,R,V,W)}}bq(),A=Fn;break}catch(ce){t6(c,ce)}while(!0);return d&&c.shellSuspendCounter++,ta=Fc=null,Sn=g,z.H=w,z.A=x,St===null&&(hn=null,Mt=0,_0()),A}function bq(){for(;St!==null;)s6(St)}function vq(c,d){var f=Sn;Sn|=2;var g=n6(),w=i6();hn!==c||Mt!==d?(Z0=null,Y0=Z()+500,Td(c,d)):Cd=kf(c,d);e:do try{if(fn!==0&&St!==null){d=St;var x=Rs;t:switch(fn){case 1:fn=0,Rs=null,Sd(c,d,x,1);break;case 2:if(m3(x)){fn=0,Rs=null,r6(d);break}d=function(){fn===2&&hn===c&&(fn=7),ho(c)},x.then(d,d);break e;case 3:fn=7;break e;case 4:fn=5;break e;case 7:m3(x)?(fn=0,Rs=null,r6(d)):(fn=0,Rs=null,Sd(c,d,x,7));break;case 5:var A=null;switch(St.tag){case 26:A=St.memoizedState;case 5:case 27:var R=St;if(!A||D6(A)){fn=0,Rs=null;var V=R.sibling;if(V!==null)St=V;else{var W=R.return;W!==null?(St=W,J0(W)):St=null}break t}}fn=0,Rs=null,Sd(c,d,x,5);break;case 6:fn=0,Rs=null,Sd(c,d,x,6);break;case 8:c2(),Fn=6;break e;default:throw Error(i(462))}}wq();break}catch(ce){t6(c,ce)}while(!0);return ta=Fc=null,z.H=g,z.A=w,Sn=f,St!==null?0:(hn=null,Mt=0,_0(),Fn)}function wq(){for(;St!==null&&!Te();)s6(St)}function s6(c){var d=T4(c.alternate,c,la);c.memoizedProps=c.pendingProps,d===null?J0(c):St=d}function r6(c){var d=c,f=d.alternate;switch(d.tag){case 15:case 0:d=y4(f,d,d.pendingProps,d.type,void 0,Mt);break;case 11:d=y4(f,d,d.pendingProps,d.type.render,d.ref,Mt);break;case 5:g_(d);default:X4(f,d),d=St=Y4(d,la),d=T4(f,d,la)}c.memoizedProps=c.pendingProps,d===null?J0(c):St=d}function Sd(c,d,f,g){ta=Fc=null,g_(d),md=null,jf=0;var w=d.return;try{if(aq(c,w,d,f,Mt)){Fn=1,j0(c,Js(f,c.current)),St=null;return}}catch(x){if(w!==null)throw St=w,x;Fn=1,j0(c,Js(f,c.current)),St=null;return}d.flags&32768?(Ft||g===1?c=!0:Cd||(Mt&536870912)!==0?c=!1:(aa=c=!0,(g===2||g===3||g===6)&&(g=tr.current,g!==null&&g.tag===13&&(g.flags|=16384))),o6(d,c)):J0(d)}function J0(c){var d=c;do{if((d.flags&32768)!==0){o6(d,aa);return}c=d.return;var f=hq(d.alternate,d,la);if(f!==null){St=f;return}if(d=d.sibling,d!==null){St=d;return}St=d=c}while(d!==null);Fn===0&&(Fn=5)}function o6(c,d){do{var f=fq(c.alternate,c);if(f!==null){f.flags&=32767,St=f;return}if(f=c.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!d&&(c=c.sibling,c!==null)){St=c;return}St=c=f}while(c!==null);Fn=6,St=null}function a6(c,d,f,g,w,x,A,R,V,W){var ce=z.T,ve=H.p;try{H.p=2,z.T=null,yq(c,d,f,g,ve,w,x,A,R,V,W)}finally{z.T=ce,H.p=ve}}function yq(c,d,f,g,w,x,A,R){do Ad();while($c!==null);if((Sn&6)!==0)throw Error(i(327));var V=c.finishedWork;if(g=c.finishedLanes,V===null)return null;if(c.finishedWork=null,c.finishedLanes=0,V===c.current)throw Error(i(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var W=V.lanes|V.childLanes;if(W|=e_,J$(c,g,W,x,A,R),c===hn&&(St=hn=null,Mt=0),(V.subtreeFlags&10256)===0&&(V.flags&10256)===0||K0||(K0=!0,r2=W,o2=f,Cq(ct,function(){return Ad(),null})),f=(V.flags&15990)!==0,(V.subtreeFlags&15990)!==0||f?(f=z.T,z.T=null,x=H.p,H.p=2,A=Sn,Sn|=4,cq(c,V),j4(V,c),$W(k2,c.containerInfo),ub=!!x2,k2=x2=null,c.current=V,L4(c,V.alternate,V),pe(),Sn=A,H.p=x,z.T=f):c.current=V,K0?(K0=!1,$c=c,rm=g):l6(c,W),W=c.pendingLanes,W===0&&(El=null),pi(V.stateNode),ho(c),d!==null)for(w=c.onRecoverableError,V=0;V<d.length;V++)W=d[V],w(W.value,{componentStack:W.stack});return(rm&3)!==0&&Ad(),W=c.pendingLanes,(g&4194218)!==0&&(W&42)!==0?c===a2?om++:(om=0,a2=c):om=0,am(0),null}function l6(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Hf(d)))}function Ad(){if($c!==null){var c=$c,d=r2;r2=0;var f=bA(rm),g=z.T,w=H.p;try{if(H.p=32>f?32:f,z.T=null,$c===null)var x=!1;else{f=o2,o2=null;var A=$c,R=rm;if($c=null,rm=0,(Sn&6)!==0)throw Error(i(331));var V=Sn;if(Sn|=4,q4(A.current),H4(A,A.current,R,f),Sn=V,am(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(yt,A)}catch{}x=!0}return x}finally{H.p=w,z.T=g,l6(c,d)}}return!1}function c6(c,d,f){d=Js(f,d),d=I_(c.stateNode,d,2),c=wl(c,d,2),c!==null&&(Cf(c,2),ho(c))}function an(c,d,f){if(c.tag===3)c6(c,c,f);else for(;d!==null;){if(d.tag===3){c6(d,c,f);break}else if(d.tag===1){var g=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(El===null||!El.has(g))){c=Js(f,c),f=h4(2),g=wl(d,f,2),g!==null&&(f4(f,g,d,c),Cf(g,2),ho(g));break}}d=d.return}}function h2(c,d,f){var g=c.pingCache;if(g===null){g=c.pingCache=new gq;var w=new Set;g.set(d,w)}else w=g.get(d),w===void 0&&(w=new Set,g.set(d,w));w.has(f)||(t2=!0,w.add(f),c=_q.bind(null,c,d,f),d.then(c,c))}function _q(c,d,f){var g=c.pingCache;g!==null&&g.delete(d),c.pingedLanes|=c.suspendedLanes&f,c.warmLanes&=~f,hn===c&&(Mt&f)===f&&(Fn===4||Fn===3&&(Mt&62914560)===Mt&&300>Z()-s2?(Sn&2)===0&&Td(c,0):n2|=f,Ed===Mt&&(Ed=0)),ho(c)}function u6(c,d){d===0&&(d=mA()),c=dl(c,d),c!==null&&(Cf(c,d),ho(c))}function xq(c){var d=c.memoizedState,f=0;d!==null&&(f=d.retryLane),u6(c,f)}function kq(c,d){var f=0;switch(c.tag){case 13:var g=c.stateNode,w=c.memoizedState;w!==null&&(f=w.retryLane);break;case 19:g=c.stateNode;break;case 22:g=c.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(d),u6(c,f)}function Cq(c,d){return K(c,d)}var Q0=null,Id=null,f2=!1,eb=!1,m2=!1,Wc=0;function ho(c){c!==Id&&c.next===null&&(Id===null?Q0=Id=c:Id=Id.next=c),eb=!0,f2||(f2=!0,Tq(Eq))}function am(c,d){if(!m2&&eb){m2=!0;do for(var f=!1,g=Q0;g!==null;){if(c!==0){var w=g.pendingLanes;if(w===0)var x=0;else{var A=g.suspendedLanes,R=g.pingedLanes;x=(1<<31-Gn(42|c)+1)-1,x&=w&~(A&~R),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(f=!0,f6(g,x))}else x=Mt,x=c0(g,g===hn?x:0),(x&3)===0||kf(g,x)||(f=!0,f6(g,x));g=g.next}while(f);m2=!1}}function Eq(){eb=f2=!1;var c=0;Wc!==0&&(Dq()&&(c=Wc),Wc=0);for(var d=Z(),f=null,g=Q0;g!==null;){var w=g.next,x=d6(g,d);x===0?(g.next=null,f===null?Q0=w:f.next=w,w===null&&(Id=f)):(f=g,(c!==0||(x&3)!==0)&&(eb=!0)),g=w}am(c)}function d6(c,d){for(var f=c.suspendedLanes,g=c.pingedLanes,w=c.expirationTimes,x=c.pendingLanes&-62914561;0<x;){var A=31-Gn(x),R=1<<A,V=w[A];V===-1?((R&f)===0||(R&g)!==0)&&(w[A]=X$(R,d)):V<=d&&(c.expiredLanes|=R),x&=~R}if(d=hn,f=Mt,f=c0(c,c===d?f:0),g=c.callbackNode,f===0||c===d&&fn===2||c.cancelPendingCommit!==null)return g!==null&&g!==null&&Ie(g),c.callbackNode=null,c.callbackPriority=0;if((f&3)===0||kf(c,f)){if(d=f&-f,d===c.callbackPriority)return d;switch(g!==null&&Ie(g),bA(f)){case 2:case 8:f=nt;break;case 32:f=ct;break;case 268435456:f=qn;break;default:f=ct}return g=h6.bind(null,c),f=K(f,g),c.callbackPriority=d,c.callbackNode=f,d}return g!==null&&g!==null&&Ie(g),c.callbackPriority=2,c.callbackNode=null,2}function h6(c,d){var f=c.callbackNode;if(Ad()&&c.callbackNode!==f)return null;var g=Mt;return g=c0(c,c===hn?g:0),g===0?null:(Q4(c,g,d),d6(c,Z()),c.callbackNode!=null&&c.callbackNode===f?h6.bind(null,c):null)}function f6(c,d){if(Ad())return null;Q4(c,d,!0)}function Tq(c){Nq(function(){(Sn&6)!==0?K(Me,c):c()})}function g2(){return Wc===0&&(Wc=fA()),Wc}function m6(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:m0(""+c)}function g6(c,d){var f=d.ownerDocument.createElement("input");return f.name=d.name,f.value=d.value,c.id&&f.setAttribute("form",c.id),d.parentNode.insertBefore(f,d),c=new FormData(c),f.parentNode.removeChild(f),c}function Sq(c,d,f,g,w){if(d==="submit"&&f&&f.stateNode===w){var x=m6((w[fs]||null).action),A=g.submitter;A&&(d=(d=A[fs]||null)?m6(d.formAction):A.getAttribute("formAction"),d!==null&&(x=d,A=null));var R=new v0("action","action",null,g,w);c.push({event:R,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Wc!==0){var V=A?g6(w,A):new FormData(w);C_(f,{pending:!0,data:V,method:w.method,action:x},null,V)}}else typeof x=="function"&&(R.preventDefault(),V=A?g6(w,A):new FormData(w),C_(f,{pending:!0,data:V,method:w.method,action:x},x,V))},currentTarget:w}]})}}for(var p2=0;p2<a3.length;p2++){var b2=a3[p2],Aq=b2.toLowerCase(),Iq=b2[0].toUpperCase()+b2.slice(1);Sr(Aq,"on"+Iq)}Sr(n3,"onAnimationEnd"),Sr(i3,"onAnimationIteration"),Sr(s3,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(qW,"onTransitionRun"),Sr(GW,"onTransitionStart"),Sr(YW,"onTransitionCancel"),Sr(r3,"onTransitionEnd"),nd("onMouseEnter",["mouseout","mouseover"]),nd("onMouseLeave",["mouseout","mouseover"]),nd("onPointerEnter",["pointerout","pointerover"]),nd("onPointerLeave",["pointerout","pointerover"]),Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lm));function p6(c,d){d=(d&4)!==0;for(var f=0;f<c.length;f++){var g=c[f],w=g.event;g=g.listeners;e:{var x=void 0;if(d)for(var A=g.length-1;0<=A;A--){var R=g[A],V=R.instance,W=R.currentTarget;if(R=R.listener,V!==x&&w.isPropagationStopped())break e;x=R,w.currentTarget=W;try{x(w)}catch(ce){z0(ce)}w.currentTarget=null,x=V}else for(A=0;A<g.length;A++){if(R=g[A],V=R.instance,W=R.currentTarget,R=R.listener,V!==x&&w.isPropagationStopped())break e;x=R,w.currentTarget=W;try{x(w)}catch(ce){z0(ce)}w.currentTarget=null,x=V}}}}function Pt(c,d){var f=d[My];f===void 0&&(f=d[My]=new Set);var g=c+"__bubble";f.has(g)||(b6(d,c,2,!1),f.add(g))}function v2(c,d,f){var g=0;d&&(g|=4),b6(f,c,g,d)}var tb="_reactListening"+Math.random().toString(36).slice(2);function w2(c){if(!c[tb]){c[tb]=!0,yA.forEach(function(f){f!=="selectionchange"&&(Rq.has(f)||v2(f,!1,c),v2(f,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[tb]||(d[tb]=!0,v2("selectionchange",!1,d))}}function b6(c,d,f,g){switch(z6(d)){case 2:var w=nG;break;case 8:w=iG;break;default:w=O2}f=w.bind(null,d,f,c),w=void 0,!jy||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(w=!0),g?w!==void 0?c.addEventListener(d,f,{capture:!0,passive:w}):c.addEventListener(d,f,!0):w!==void 0?c.addEventListener(d,f,{passive:w}):c.addEventListener(d,f,!1)}function y2(c,d,f,g,w){var x=g;if((d&1)===0&&(d&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var R=g.stateNode.containerInfo;if(R===w||R.nodeType===8&&R.parentNode===w)break;if(A===4)for(A=g.return;A!==null;){var V=A.tag;if((V===3||V===4)&&(V=A.stateNode.containerInfo,V===w||V.nodeType===8&&V.parentNode===w))return;A=A.return}for(;R!==null;){if(A=Ec(R),A===null)return;if(V=A.tag,V===5||V===6||V===26||V===27){g=x=A;continue e}R=R.parentNode}}g=g.return}OA(function(){var W=x,ce=Fy(f),ve=[];e:{var te=o3.get(c);if(te!==void 0){var le=v0,Je=c;switch(c){case"keypress":if(p0(f)===0)break e;case"keydown":case"keyup":le=kW;break;case"focusin":Je="focus",le=Wy;break;case"focusout":Je="blur",le=Wy;break;case"beforeblur":case"afterblur":le=Wy;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=VA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=dW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=TW;break;case n3:case i3:case s3:le=mW;break;case r3:le=AW;break;case"scroll":case"scrollend":le=cW;break;case"wheel":le=RW;break;case"copy":case"cut":case"paste":le=pW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=LA;break;case"toggle":case"beforetoggle":le=OW}var ft=(d&4)!==0,zn=!ft&&(c==="scroll"||c==="scrollend"),G=ft?te!==null?te+"Capture":null:te;ft=[];for(var U=W,X;U!==null;){var he=U;if(X=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||X===null||G===null||(he=Sf(U,G),he!=null&&ft.push(cm(U,he,X))),zn)break;U=U.return}0<ft.length&&(te=new le(te,Je,null,f,ce),ve.push({event:te,listeners:ft}))}}if((d&7)===0){e:{if(te=c==="mouseover"||c==="pointerover",le=c==="mouseout"||c==="pointerout",te&&f!==By&&(Je=f.relatedTarget||f.fromElement)&&(Ec(Je)||Je[Qu]))break e;if((le||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,le?(Je=f.relatedTarget||f.toElement,le=W,Je=Je?Ec(Je):null,Je!==null&&(zn=ne(Je),ft=Je.tag,Je!==zn||ft!==5&&ft!==27&&ft!==6)&&(Je=null)):(le=null,Je=W),le!==Je)){if(ft=VA,he="onMouseLeave",G="onMouseEnter",U="mouse",(c==="pointerout"||c==="pointerover")&&(ft=LA,he="onPointerLeave",G="onPointerEnter",U="pointer"),zn=le==null?te:Tf(le),X=Je==null?te:Tf(Je),te=new ft(he,U+"leave",le,f,ce),te.target=zn,te.relatedTarget=X,he=null,Ec(ce)===W&&(ft=new ft(G,U+"enter",Je,f,ce),ft.target=X,ft.relatedTarget=zn,he=ft),zn=he,le&&Je)t:{for(ft=le,G=Je,U=0,X=ft;X;X=Rd(X))U++;for(X=0,he=G;he;he=Rd(he))X++;for(;0<U-X;)ft=Rd(ft),U--;for(;0<X-U;)G=Rd(G),X--;for(;U--;){if(ft===G||G!==null&&ft===G.alternate)break t;ft=Rd(ft),G=Rd(G)}ft=null}else ft=null;le!==null&&v6(ve,te,le,ft,!1),Je!==null&&zn!==null&&v6(ve,zn,Je,ft,!0)}}e:{if(te=W?Tf(W):window,le=te.nodeName&&te.nodeName.toLowerCase(),le==="select"||le==="input"&&te.type==="file")var $e=WA;else if(HA(te))if(qA)$e=UW;else{$e=zW;var kt=FW}else le=te.nodeName,!le||le.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?W&&Ly(W.elementType)&&($e=WA):$e=jW;if($e&&($e=$e(c,W))){$A(ve,$e,f,ce);break e}kt&&kt(c,te,W),c==="focusout"&&W&&te.type==="number"&&W.memoizedProps.value!=null&&Ny(te,"number",te.value)}switch(kt=W?Tf(W):window,c){case"focusin":(HA(kt)||kt.contentEditable==="true")&&(ld=kt,Xy=W,Vf=null);break;case"focusout":Vf=Xy=ld=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,e3(ve,f,ce);break;case"selectionchange":if(WW)break;case"keydown":case"keyup":e3(ve,f,ce)}var Qe;if(Gy)e:{switch(c){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ad?jA(c,f)&&(st="onCompositionEnd"):c==="keydown"&&f.keyCode===229&&(st="onCompositionStart");st&&(BA&&f.locale!=="ko"&&(ad||st!=="onCompositionStart"?st==="onCompositionEnd"&&ad&&(Qe=MA()):(ul=ce,Uy="value"in ul?ul.value:ul.textContent,ad=!0)),kt=nb(W,st),0<kt.length&&(st=new NA(st,c,null,f,ce),ve.push({event:st,listeners:kt}),Qe?st.data=Qe:(Qe=UA(f),Qe!==null&&(st.data=Qe)))),(Qe=DW?VW(c,f):NW(c,f))&&(st=nb(W,"onBeforeInput"),0<st.length&&(kt=new NA("onBeforeInput","beforeinput",null,f,ce),ve.push({event:kt,listeners:st}),kt.data=Qe)),Sq(ve,c,W,f,ce)}p6(ve,d)})}function cm(c,d,f){return{instance:c,listener:d,currentTarget:f}}function nb(c,d){for(var f=d+"Capture",g=[];c!==null;){var w=c,x=w.stateNode;w=w.tag,w!==5&&w!==26&&w!==27||x===null||(w=Sf(c,f),w!=null&&g.unshift(cm(c,w,x)),w=Sf(c,d),w!=null&&g.push(cm(c,w,x))),c=c.return}return g}function Rd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function v6(c,d,f,g,w){for(var x=d._reactName,A=[];f!==null&&f!==g;){var R=f,V=R.alternate,W=R.stateNode;if(R=R.tag,V!==null&&V===g)break;R!==5&&R!==26&&R!==27||W===null||(V=W,w?(W=Sf(f,x),W!=null&&A.unshift(cm(f,W,V))):w||(W=Sf(f,x),W!=null&&A.push(cm(f,W,V)))),f=f.return}A.length!==0&&c.push({event:d,listeners:A})}var Pq=/\r\n?/g,Oq=/\u0000|\uFFFD/g;function w6(c){return(typeof c=="string"?c:""+c).replace(Pq,`
`).replace(Oq,"")}function y6(c,d){return d=w6(d),w6(c)===d}function ib(){}function tn(c,d,f,g,w,x){switch(f){case"children":typeof g=="string"?d==="body"||d==="textarea"&&g===""||sd(c,g):(typeof g=="number"||typeof g=="bigint")&&d!=="body"&&sd(c,""+g);break;case"className":d0(c,"class",g);break;case"tabIndex":d0(c,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":d0(c,f,g);break;case"style":RA(c,g,x);break;case"data":if(d!=="object"){d0(c,"data",g);break}case"src":case"href":if(g===""&&(d!=="a"||f!=="href")){c.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(f);break}g=m0(""+g),c.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){c.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(d!=="input"&&tn(c,d,"name",w.name,w,null),tn(c,d,"formEncType",w.formEncType,w,null),tn(c,d,"formMethod",w.formMethod,w,null),tn(c,d,"formTarget",w.formTarget,w,null)):(tn(c,d,"encType",w.encType,w,null),tn(c,d,"method",w.method,w,null),tn(c,d,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(f);break}g=m0(""+g),c.setAttribute(f,g);break;case"onClick":g!=null&&(c.onclick=ib);break;case"onScroll":g!=null&&Pt("scroll",c);break;case"onScrollEnd":g!=null&&Pt("scrollend",c);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(w.children!=null)throw Error(i(60));c.innerHTML=f}}break;case"multiple":c.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":c.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){c.removeAttribute("xlink:href");break}f=m0(""+g),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(f,""+g):c.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(f,""):c.removeAttribute(f);break;case"capture":case"download":g===!0?c.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(f,g):c.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?c.setAttribute(f,g):c.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?c.removeAttribute(f):c.setAttribute(f,g);break;case"popover":Pt("beforetoggle",c),Pt("toggle",c),u0(c,"popover",g);break;case"xlinkActuate":Zo(c,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Zo(c,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Zo(c,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Zo(c,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Zo(c,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Zo(c,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Zo(c,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Zo(c,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Zo(c,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":u0(c,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=aW.get(f)||f,u0(c,f,g))}}function _2(c,d,f,g,w,x){switch(f){case"style":RA(c,g,x);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(w.children!=null)throw Error(i(60));c.innerHTML=f}}break;case"children":typeof g=="string"?sd(c,g):(typeof g=="number"||typeof g=="bigint")&&sd(c,""+g);break;case"onScroll":g!=null&&Pt("scroll",c);break;case"onScrollEnd":g!=null&&Pt("scrollend",c);break;case"onClick":g!=null&&(c.onclick=ib);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_A.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),d=f.slice(2,w?f.length-7:void 0),x=c[fs]||null,x=x!=null?x[f]:null,typeof x=="function"&&c.removeEventListener(d,x,w),typeof g=="function")){typeof x!="function"&&x!==null&&(f in c?c[f]=null:c.hasAttribute(f)&&c.removeAttribute(f)),c.addEventListener(d,g,w);break e}f in c?c[f]=g:g===!0?c.setAttribute(f,""):u0(c,f,g)}}}function Di(c,d,f){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",c),Pt("load",c);var g=!1,w=!1,x;for(x in f)if(f.hasOwnProperty(x)){var A=f[x];if(A!=null)switch(x){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:tn(c,d,x,A,f,null)}}w&&tn(c,d,"srcSet",f.srcSet,f,null),g&&tn(c,d,"src",f.src,f,null);return;case"input":Pt("invalid",c);var R=x=A=w=null,V=null,W=null;for(g in f)if(f.hasOwnProperty(g)){var ce=f[g];if(ce!=null)switch(g){case"name":w=ce;break;case"type":A=ce;break;case"checked":V=ce;break;case"defaultChecked":W=ce;break;case"value":x=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,d));break;default:tn(c,d,g,ce,f,null)}}TA(c,x,R,V,W,A,w,!1),h0(c);return;case"select":Pt("invalid",c),g=A=x=null;for(w in f)if(f.hasOwnProperty(w)&&(R=f[w],R!=null))switch(w){case"value":x=R;break;case"defaultValue":A=R;break;case"multiple":g=R;default:tn(c,d,w,R,f,null)}d=x,f=A,c.multiple=!!g,d!=null?id(c,!!g,d,!1):f!=null&&id(c,!!g,f,!0);return;case"textarea":Pt("invalid",c),x=w=g=null;for(A in f)if(f.hasOwnProperty(A)&&(R=f[A],R!=null))switch(A){case"value":g=R;break;case"defaultValue":w=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:tn(c,d,A,R,f,null)}AA(c,g,w,x),h0(c);return;case"option":for(V in f)if(f.hasOwnProperty(V)&&(g=f[V],g!=null))switch(V){case"selected":c.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:tn(c,d,V,g,f,null)}return;case"dialog":Pt("cancel",c),Pt("close",c);break;case"iframe":case"object":Pt("load",c);break;case"video":case"audio":for(g=0;g<lm.length;g++)Pt(lm[g],c);break;case"image":Pt("error",c),Pt("load",c);break;case"details":Pt("toggle",c);break;case"embed":case"source":case"link":Pt("error",c),Pt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in f)if(f.hasOwnProperty(W)&&(g=f[W],g!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:tn(c,d,W,g,f,null)}return;default:if(Ly(d)){for(ce in f)f.hasOwnProperty(ce)&&(g=f[ce],g!==void 0&&_2(c,d,ce,g,f,void 0));return}}for(R in f)f.hasOwnProperty(R)&&(g=f[R],g!=null&&tn(c,d,R,g,f,null))}function Mq(c,d,f,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,x=null,A=null,R=null,V=null,W=null,ce=null;for(le in f){var ve=f[le];if(f.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":V=ve;default:g.hasOwnProperty(le)||tn(c,d,le,null,g,ve)}}for(var te in g){var le=g[te];if(ve=f[te],g.hasOwnProperty(te)&&(le!=null||ve!=null))switch(te){case"type":x=le;break;case"name":w=le;break;case"checked":W=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,d));break;default:le!==ve&&tn(c,d,te,le,g,ve)}}Vy(c,A,R,V,W,ce,x,w);return;case"select":le=A=R=te=null;for(x in f)if(V=f[x],f.hasOwnProperty(x)&&V!=null)switch(x){case"value":break;case"multiple":le=V;default:g.hasOwnProperty(x)||tn(c,d,x,null,g,V)}for(w in g)if(x=g[w],V=f[w],g.hasOwnProperty(w)&&(x!=null||V!=null))switch(w){case"value":te=x;break;case"defaultValue":R=x;break;case"multiple":A=x;default:x!==V&&tn(c,d,w,x,g,V)}d=R,f=A,g=le,te!=null?id(c,!!f,te,!1):!!g!=!!f&&(d!=null?id(c,!!f,d,!0):id(c,!!f,f?[]:"",!1));return;case"textarea":le=te=null;for(R in f)if(w=f[R],f.hasOwnProperty(R)&&w!=null&&!g.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tn(c,d,R,null,g,w)}for(A in g)if(w=g[A],x=f[A],g.hasOwnProperty(A)&&(w!=null||x!=null))switch(A){case"value":te=w;break;case"defaultValue":le=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==x&&tn(c,d,A,w,g,x)}SA(c,te,le);return;case"option":for(var Je in f)if(te=f[Je],f.hasOwnProperty(Je)&&te!=null&&!g.hasOwnProperty(Je))switch(Je){case"selected":c.selected=!1;break;default:tn(c,d,Je,null,g,te)}for(V in g)if(te=g[V],le=f[V],g.hasOwnProperty(V)&&te!==le&&(te!=null||le!=null))switch(V){case"selected":c.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:tn(c,d,V,te,g,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in f)te=f[ft],f.hasOwnProperty(ft)&&te!=null&&!g.hasOwnProperty(ft)&&tn(c,d,ft,null,g,te);for(W in g)if(te=g[W],le=f[W],g.hasOwnProperty(W)&&te!==le&&(te!=null||le!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,d));break;default:tn(c,d,W,te,g,le)}return;default:if(Ly(d)){for(var zn in f)te=f[zn],f.hasOwnProperty(zn)&&te!==void 0&&!g.hasOwnProperty(zn)&&_2(c,d,zn,void 0,g,te);for(ce in g)te=g[ce],le=f[ce],!g.hasOwnProperty(ce)||te===le||te===void 0&&le===void 0||_2(c,d,ce,te,g,le);return}}for(var G in f)te=f[G],f.hasOwnProperty(G)&&te!=null&&!g.hasOwnProperty(G)&&tn(c,d,G,null,g,te);for(ve in g)te=g[ve],le=f[ve],!g.hasOwnProperty(ve)||te===le||te==null&&le==null||tn(c,d,ve,te,g,le)}var x2=null,k2=null;function sb(c){return c.nodeType===9?c:c.ownerDocument}function _6(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x6(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function C2(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var E2=null;function Dq(){var c=window.event;return c&&c.type==="popstate"?c===E2?!1:(E2=c,!0):(E2=null,!1)}var k6=typeof setTimeout=="function"?setTimeout:void 0,Vq=typeof clearTimeout=="function"?clearTimeout:void 0,C6=typeof Promise=="function"?Promise:void 0,Nq=typeof queueMicrotask=="function"?queueMicrotask:typeof C6<"u"?function(c){return C6.resolve(null).then(c).catch(Lq)}:k6;function Lq(c){setTimeout(function(){throw c})}function T2(c,d){var f=d,g=0;do{var w=f.nextSibling;if(c.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(g===0){c.removeChild(w),bm(d);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=w}while(f);bm(d)}function S2(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var f=d;switch(d=d.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":S2(f),Dy(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}c.removeChild(f)}}function Bq(c,d,f,g){for(;c.nodeType===1;){var w=f;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!g&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(g){if(!c[Ef])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(x=c.getAttribute("rel"),x==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(x!==w.rel||c.getAttribute("href")!==(w.href==null?null:w.href)||c.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||c.getAttribute("title")!==(w.title==null?null:w.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(x=c.getAttribute("src"),(x!==(w.src==null?null:w.src)||c.getAttribute("type")!==(w.type==null?null:w.type)||c.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&x&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var x=w.name==null?null:""+w.name;if(w.type==="hidden"&&c.getAttribute("name")===x)return c}else return c;if(c=Rr(c.nextSibling),c===null)break}return null}function Fq(c,d,f){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=Rr(c.nextSibling),c===null))return null;return c}function Rr(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}function E6(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var f=c.data;if(f==="$"||f==="$!"||f==="$?"){if(d===0)return c;d--}else f==="/$"&&d++}c=c.previousSibling}return null}function T6(c,d,f){switch(d=sb(f),c){case"html":if(c=d.documentElement,!c)throw Error(i(452));return c;case"head":if(c=d.head,!c)throw Error(i(453));return c;case"body":if(c=d.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}var or=new Map,S6=new Set;function rb(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var ua=H.d;H.d={f:zq,r:jq,D:Uq,C:Hq,L:$q,m:Wq,X:Gq,S:qq,M:Yq};function zq(){var c=ua.f(),d=X0();return c||d}function jq(c){var d=ed(c);d!==null&&d.tag===5&&d.type==="form"?e4(d):ua.r(c)}var Pd=typeof document>"u"?null:document;function A6(c,d,f){var g=Pd;if(g&&typeof d=="string"&&d){var w=Ks(d);w='link[rel="'+c+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),S6.has(w)||(S6.add(w),c={rel:c,crossOrigin:f,href:d},g.querySelector(w)===null&&(d=g.createElement("link"),Di(d,"link",c),bi(d),g.head.appendChild(d)))}}function Uq(c){ua.D(c),A6("dns-prefetch",c,null)}function Hq(c,d){ua.C(c,d),A6("preconnect",c,d)}function $q(c,d,f){ua.L(c,d,f);var g=Pd;if(g&&c&&d){var w='link[rel="preload"][as="'+Ks(d)+'"]';d==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Ks(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Ks(f.imageSizes)+'"]')):w+='[href="'+Ks(c)+'"]';var x=w;switch(d){case"style":x=Od(c);break;case"script":x=Md(c)}or.has(x)||(c=J({rel:"preload",href:d==="image"&&f&&f.imageSrcSet?void 0:c,as:d},f),or.set(x,c),g.querySelector(w)!==null||d==="style"&&g.querySelector(um(x))||d==="script"&&g.querySelector(dm(x))||(d=g.createElement("link"),Di(d,"link",c),bi(d),g.head.appendChild(d)))}}function Wq(c,d){ua.m(c,d);var f=Pd;if(f&&c){var g=d&&typeof d.as=="string"?d.as:"script",w='link[rel="modulepreload"][as="'+Ks(g)+'"][href="'+Ks(c)+'"]',x=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Md(c)}if(!or.has(x)&&(c=J({rel:"modulepreload",href:c},d),or.set(x,c),f.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(dm(x)))return}g=f.createElement("link"),Di(g,"link",c),bi(g),f.head.appendChild(g)}}}function qq(c,d,f){ua.S(c,d,f);var g=Pd;if(g&&c){var w=td(g).hoistableStyles,x=Od(c);d=d||"default";var A=w.get(x);if(!A){var R={loading:0,preload:null};if(A=g.querySelector(um(x)))R.loading=5;else{c=J({rel:"stylesheet",href:c,"data-precedence":d},f),(f=or.get(x))&&A2(c,f);var V=A=g.createElement("link");bi(V),Di(V,"link",c),V._p=new Promise(function(W,ce){V.onload=W,V.onerror=ce}),V.addEventListener("load",function(){R.loading|=1}),V.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ob(A,d,g)}A={type:"stylesheet",instance:A,count:1,state:R},w.set(x,A)}}}function Gq(c,d){ua.X(c,d);var f=Pd;if(f&&c){var g=td(f).hoistableScripts,w=Md(c),x=g.get(w);x||(x=f.querySelector(dm(w)),x||(c=J({src:c,async:!0},d),(d=or.get(w))&&I2(c,d),x=f.createElement("script"),bi(x),Di(x,"link",c),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(w,x))}}function Yq(c,d){ua.M(c,d);var f=Pd;if(f&&c){var g=td(f).hoistableScripts,w=Md(c),x=g.get(w);x||(x=f.querySelector(dm(w)),x||(c=J({src:c,async:!0,type:"module"},d),(d=or.get(w))&&I2(c,d),x=f.createElement("script"),bi(x),Di(x,"link",c),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(w,x))}}function I6(c,d,f,g){var w=(w=Ze.current)?rb(w):null;if(!w)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(d=Od(f.href),f=td(w).hoistableStyles,g=f.get(d),g||(g={type:"style",instance:null,count:0,state:null},f.set(d,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){c=Od(f.href);var x=td(w).hoistableStyles,A=x.get(c);if(A||(w=w.ownerDocument||w,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(c,A),(x=w.querySelector(um(c)))&&!x._p&&(A.instance=x,A.state.loading=5),or.has(c)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},or.set(c,f),x||Zq(w,c,f,A.state))),d&&g===null)throw Error(i(528,""));return A}if(d&&g!==null)throw Error(i(529,""));return null;case"script":return d=f.async,f=f.src,typeof f=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Md(f),f=td(w).hoistableScripts,g=f.get(d),g||(g={type:"script",instance:null,count:0,state:null},f.set(d,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function Od(c){return'href="'+Ks(c)+'"'}function um(c){return'link[rel="stylesheet"]['+c+"]"}function R6(c){return J({},c,{"data-precedence":c.precedence,precedence:null})}function Zq(c,d,f,g){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?g.loading=1:(d=c.createElement("link"),g.preload=d,d.addEventListener("load",function(){return g.loading|=1}),d.addEventListener("error",function(){return g.loading|=2}),Di(d,"link",f),bi(d),c.head.appendChild(d))}function Md(c){return'[src="'+Ks(c)+'"]'}function dm(c){return"script[async]"+c}function P6(c,d,f){if(d.count++,d.instance===null)switch(d.type){case"style":var g=c.querySelector('style[data-href~="'+Ks(f.href)+'"]');if(g)return d.instance=g,bi(g),g;var w=J({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(c.ownerDocument||c).createElement("style"),bi(g),Di(g,"style",w),ob(g,f.precedence,c),d.instance=g;case"stylesheet":w=Od(f.href);var x=c.querySelector(um(w));if(x)return d.state.loading|=4,d.instance=x,bi(x),x;g=R6(f),(w=or.get(w))&&A2(g,w),x=(c.ownerDocument||c).createElement("link"),bi(x);var A=x;return A._p=new Promise(function(R,V){A.onload=R,A.onerror=V}),Di(x,"link",g),d.state.loading|=4,ob(x,f.precedence,c),d.instance=x;case"script":return x=Md(f.src),(w=c.querySelector(dm(x)))?(d.instance=w,bi(w),w):(g=f,(w=or.get(x))&&(g=J({},f),I2(g,w)),c=c.ownerDocument||c,w=c.createElement("script"),bi(w),Di(w,"link",g),c.head.appendChild(w),d.instance=w);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(g=d.instance,d.state.loading|=4,ob(g,f.precedence,c));return d.instance}function ob(c,d,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,x=w,A=0;A<g.length;A++){var R=g[A];if(R.dataset.precedence===d)x=R;else if(x!==w)break}x?x.parentNode.insertBefore(c,x.nextSibling):(d=f.nodeType===9?f.head:f,d.insertBefore(c,d.firstChild))}function A2(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function I2(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var ab=null;function O6(c,d,f){if(ab===null){var g=new Map,w=ab=new Map;w.set(f,g)}else w=ab,g=w.get(f),g||(g=new Map,w.set(f,g));if(g.has(c))return g;for(g.set(c,null),f=f.getElementsByTagName(c),w=0;w<f.length;w++){var x=f[w];if(!(x[Ef]||x[Fi]||c==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(d)||"";A=c+A;var R=g.get(A);R?R.push(x):g.set(A,[x])}}return g}function M6(c,d,f){c=c.ownerDocument||c,c.head.insertBefore(f,d==="title"?c.querySelector("head > title"):null)}function Kq(c,d,f){if(f===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function D6(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var hm=null;function Xq(){}function Jq(c,d,f){if(hm===null)throw Error(i(475));var g=hm;if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Od(f.href),x=c.querySelector(um(w));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(g.count++,g=lb.bind(g),c.then(g,g)),d.state.loading|=4,d.instance=x,bi(x);return}x=c.ownerDocument||c,f=R6(f),(w=or.get(w))&&A2(f,w),x=x.createElement("link"),bi(x);var A=x;A._p=new Promise(function(R,V){A.onload=R,A.onerror=V}),Di(x,"link",f),d.instance=x}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(g.count++,d=lb.bind(g),c.addEventListener("load",d),c.addEventListener("error",d))}}function Qq(){if(hm===null)throw Error(i(475));var c=hm;return c.stylesheets&&c.count===0&&R2(c,c.stylesheets),0<c.count?function(d){var f=setTimeout(function(){if(c.stylesheets&&R2(c,c.stylesheets),c.unsuspend){var g=c.unsuspend;c.unsuspend=null,g()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(f)}}:null}function lb(){if(this.count--,this.count===0){if(this.stylesheets)R2(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var cb=null;function R2(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,cb=new Map,d.forEach(eG,c),cb=null,lb.call(c))}function eG(c,d){if(!(d.state.loading&4)){var f=cb.get(c);if(f)var g=f.get(null);else{f=new Map,cb.set(c,f);for(var w=c.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<w.length;x++){var A=w[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(f.set(A.dataset.precedence,A),g=A)}g&&f.set(null,g)}w=d.instance,A=w.getAttribute("data-precedence"),x=f.get(A)||g,x===g&&f.set(null,w),f.set(A,w),this.count++,g=lb.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),x?x.parentNode.insertBefore(w,x.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(w,c.firstChild)),d.state.loading|=4}}var fm={$$typeof:v,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function tG(c,d,f,g,w,x,A,R){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oy(0),this.hiddenUpdates=Oy(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V6(c,d,f,g,w,x,A,R,V,W,ce,ve){return c=new tG(c,d,f,A,R,V,W,ve),d=1,x===!0&&(d|=24),x=sr(3,null,null,d),c.current=x,x.stateNode=c,d=l_(),d.refCount++,c.pooledCache=d,d.refCount++,x.memoizedState={element:g,isDehydrated:f,cache:d},U_(x),c}function N6(c){return c?(c=dd,c):dd}function L6(c,d,f,g,w,x){w=N6(w),g.context===null?g.context=w:g.pendingContext=w,g=vl(d),g.payload={element:f},x=x===void 0?null:x,x!==null&&(g.callback=x),f=wl(c,g,d),f!==null&&(Qi(f,c,d),Kf(f,c,d))}function B6(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var f=c.retryLane;c.retryLane=f!==0&&f<d?f:d}}function P2(c,d){B6(c,d),(c=c.alternate)&&B6(c,d)}function F6(c){if(c.tag===13){var d=dl(c,67108864);d!==null&&Qi(d,c,67108864),P2(c,67108864)}}var ub=!0;function nG(c,d,f,g){var w=z.T;z.T=null;var x=H.p;try{H.p=2,O2(c,d,f,g)}finally{H.p=x,z.T=w}}function iG(c,d,f,g){var w=z.T;z.T=null;var x=H.p;try{H.p=8,O2(c,d,f,g)}finally{H.p=x,z.T=w}}function O2(c,d,f,g){if(ub){var w=M2(g);if(w===null)y2(c,d,g,db,f),j6(c,g);else if(rG(w,c,d,f,g))g.stopPropagation();else if(j6(c,g),d&4&&-1<sG.indexOf(c)){for(;w!==null;){var x=ed(w);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=Cc(x.pendingLanes);if(A!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var V=1<<31-Gn(A);R.entanglements[1]|=V,A&=~V}ho(x),(Sn&6)===0&&(Y0=Z()+500,am(0))}}break;case 13:R=dl(x,2),R!==null&&Qi(R,x,2),X0(),P2(x,2)}if(x=M2(g),x===null&&y2(c,d,g,db,f),x===w)break;w=x}w!==null&&g.stopPropagation()}else y2(c,d,g,null,f)}}function M2(c){return c=Fy(c),D2(c)}var db=null;function D2(c){if(db=null,c=Ec(c),c!==null){var d=ne(c);if(d===null)c=null;else{var f=d.tag;if(f===13){if(c=re(d),c!==null)return c;c=null}else if(f===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return db=c,null}function z6(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Me:return 2;case nt:return 8;case ct:case gi:return 32;case qn:return 268435456;default:return 32}default:return 32}}var V2=!1,Tl=null,Sl=null,Al=null,mm=new Map,gm=new Map,Il=[],sG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j6(c,d){switch(c){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":mm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(d.pointerId)}}function pm(c,d,f,g,w,x){return c===null||c.nativeEvent!==x?(c={blockedOn:d,domEventName:f,eventSystemFlags:g,nativeEvent:x,targetContainers:[w]},d!==null&&(d=ed(d),d!==null&&F6(d)),c):(c.eventSystemFlags|=g,d=c.targetContainers,w!==null&&d.indexOf(w)===-1&&d.push(w),c)}function rG(c,d,f,g,w){switch(d){case"focusin":return Tl=pm(Tl,c,d,f,g,w),!0;case"dragenter":return Sl=pm(Sl,c,d,f,g,w),!0;case"mouseover":return Al=pm(Al,c,d,f,g,w),!0;case"pointerover":var x=w.pointerId;return mm.set(x,pm(mm.get(x)||null,c,d,f,g,w)),!0;case"gotpointercapture":return x=w.pointerId,gm.set(x,pm(gm.get(x)||null,c,d,f,g,w)),!0}return!1}function U6(c){var d=Ec(c.target);if(d!==null){var f=ne(d);if(f!==null){if(d=f.tag,d===13){if(d=re(f),d!==null){c.blockedOn=d,Q$(c.priority,function(){if(f.tag===13){var g=Ps(),w=dl(f,g);w!==null&&Qi(w,f,g),P2(f,g)}});return}}else if(d===3&&f.stateNode.current.memoizedState.isDehydrated){c.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}c.blockedOn=null}function hb(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var f=M2(c.nativeEvent);if(f===null){f=c.nativeEvent;var g=new f.constructor(f.type,f);By=g,f.target.dispatchEvent(g),By=null}else return d=ed(f),d!==null&&F6(d),c.blockedOn=f,!1;d.shift()}return!0}function H6(c,d,f){hb(c)&&f.delete(d)}function oG(){V2=!1,Tl!==null&&hb(Tl)&&(Tl=null),Sl!==null&&hb(Sl)&&(Sl=null),Al!==null&&hb(Al)&&(Al=null),mm.forEach(H6),gm.forEach(H6)}function fb(c,d){c.blockedOn===d&&(c.blockedOn=null,V2||(V2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oG)))}var mb=null;function $6(c){mb!==c&&(mb=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mb===c&&(mb=null);for(var d=0;d<c.length;d+=3){var f=c[d],g=c[d+1],w=c[d+2];if(typeof g!="function"){if(D2(g||f)===null)continue;break}var x=ed(f);x!==null&&(c.splice(d,3),d-=3,C_(x,{pending:!0,data:w,method:f.method,action:g},g,w))}}))}function bm(c){function d(V){return fb(V,c)}Tl!==null&&fb(Tl,c),Sl!==null&&fb(Sl,c),Al!==null&&fb(Al,c),mm.forEach(d),gm.forEach(d);for(var f=0;f<Il.length;f++){var g=Il[f];g.blockedOn===c&&(g.blockedOn=null)}for(;0<Il.length&&(f=Il[0],f.blockedOn===null);)U6(f),f.blockedOn===null&&Il.shift();if(f=(c.ownerDocument||c).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var w=f[g],x=f[g+1],A=w[fs]||null;if(typeof x=="function")A||$6(f);else if(A){var R=null;if(x&&x.hasAttribute("formAction")){if(w=x,A=x[fs]||null)R=A.formAction;else if(D2(w)!==null)continue}else R=A.action;typeof R=="function"?f[g+1]=R:(f.splice(g,3),g-=3),$6(f)}}}function N2(c){this._internalRoot=c}gb.prototype.render=N2.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(i(409));var f=d.current,g=Ps();L6(f,g,c,d,null,null)},gb.prototype.unmount=N2.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;c.tag===0&&Ad(),L6(c.current,2,null,c,null,null),X0(),d[Qu]=null}};function gb(c){this._internalRoot=c}gb.prototype.unstable_scheduleHydration=function(c){if(c){var d=vA();c={blockedOn:null,target:c,priority:d};for(var f=0;f<Il.length&&d!==0&&d<Il[f].priority;f++);Il.splice(f,0,c),f===0&&U6(c)}};var W6=t.version;if(W6!=="19.0.0")throw Error(i(527,W6,"19.0.0"));H.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=oe(d),c=c!==null?De(c):null,c=c===null?null:c.stateNode,c};var aG={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:z,findFiberByHostInstance:Ec,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pb.isDisabled&&pb.supportsFiber)try{yt=pb.inject(aG),En=pb}catch{}}return wm.createRoot=function(c,d){if(!s(c))throw Error(i(299));var f=!1,g="",w=l4,x=c4,A=u4,R=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(x=d.onCaughtError),d.onRecoverableError!==void 0&&(A=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(R=d.unstable_transitionCallbacks)),d=V6(c,1,!1,null,null,f,g,w,x,A,R,null),c[Qu]=d.current,w2(c.nodeType===8?c.parentNode:c),new N2(d)},wm.hydrateRoot=function(c,d,f){if(!s(c))throw Error(i(299));var g=!1,w="",x=l4,A=c4,R=u4,V=null,W=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(A=f.onCaughtError),f.onRecoverableError!==void 0&&(R=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(V=f.unstable_transitionCallbacks),f.formState!==void 0&&(W=f.formState)),d=V6(c,1,!0,d,f??null,g,w,x,A,R,V,W),d.context=N6(null),f=d.current,g=Ps(),w=vl(g),w.callback=null,wl(f,w,g),d.current.lanes=g,Cf(d,g),ho(d),c[Qu]=d.current,w2(c),new gb(d)},wm.version="19.0.0",wm}var tI;function yG(){if(tI)return F2.exports;tI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),F2.exports=wG(),F2.exports}var _G=yG(),ym={},nI;function xG(){if(nI)return ym;nI=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.parse=o,ym.serialize=u;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,v){const _=new r,k=p.length;if(k<2)return _;const C=(v==null?void 0:v.decode)||h;let T=0;do{const S=p.indexOf("=",T);if(S===-1)break;const I=p.indexOf(";",T),P=I===-1?k:I;if(S>P){T=p.lastIndexOf(";",S-1)+1;continue}const O=a(p,T,S),D=l(p,S,O),N=p.slice(O,D);if(_[N]===void 0){let j=a(p,S+1,P),z=l(p,P,j);const J=C(p.slice(j,z));_[N]=J}T=P+1}while(T<k);return _}function a(p,v,_){do{const k=p.charCodeAt(v);if(k!==32&&k!==9)return v}while(++v<_);return _}function l(p,v,_){for(;v>_;){const k=p.charCodeAt(--v);if(k!==32&&k!==9)return v+1}return _}function u(p,v,_){const k=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=k(v);if(!t.test(C))throw new TypeError(`argument val is invalid: ${v}`);let T=p+"="+C;if(!_)return T;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);T+="; Max-Age="+_.maxAge}if(_.domain){if(!e.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);T+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);T+="; Path="+_.path}if(_.expires){if(!m(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);T+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(T+="; HttpOnly"),_.secure&&(T+="; Secure"),_.partitioned&&(T+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return T}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return s.call(p)==="[object Date]"}return ym}xG();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iI="popstate";function kG(n={}){function t(i,s){let{pathname:r,search:o,hash:a}=i.location;return Hk("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:vg(s)}return EG(t,e,null,n)}function xn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function gr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CG(){return Math.random().toString(36).substring(2,10)}function sI(n,t){return{usr:n.state,key:n.key,idx:t}}function Hk(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Xh(t):t,state:e,key:t&&t.key||i||CG()}}function vg({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Xh(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function EG(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function m(){a="POP";let C=h(),T=C==null?null:C-u;u=C,l&&l({action:a,location:k.location,delta:T})}function p(C,T){a="PUSH";let S=Hk(k.location,C,T);u=h()+1;let I=sI(S,u),P=k.createHref(S);try{o.pushState(I,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(P)}r&&l&&l({action:a,location:k.location,delta:1})}function v(C,T){a="REPLACE";let S=Hk(k.location,C,T);u=h();let I=sI(S,u),P=k.createHref(S);o.replaceState(I,"",P),r&&l&&l({action:a,location:k.location,delta:0})}function _(C){let T=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof C=="string"?C:vg(C);return S=S.replace(/ $/,"%20"),xn(T,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,T)}let k={get action(){return a},get location(){return n(s,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(iI,m),l=C,()=>{s.removeEventListener(iI,m),l=null}},createHref(C){return t(s,C)},createURL:_,encodeLocation(C){let T=_(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:v,go(C){return o.go(C)}};return k}function tD(n,t,e="/"){return TG(n,t,e,!1)}function TG(n,t,e,i){let s=typeof t=="string"?Xh(t):t,r=ec(s.pathname||"/",e);if(r==null)return null;let o=nD(n);SG(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=BG(r);a=NG(o[l],u,i)}return a}function nD(n,t=[],e=[],i=""){let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(xn(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let u=Pa([i,l.relativePath]),h=e.concat(l);r.children&&r.children.length>0&&(xn(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),nD(r.children,t,h,u)),!(r.path==null&&!r.index)&&t.push({path:u,score:DG(u,r.index),routesMeta:h})};return n.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of iD(r.path))s(r,o,l)}),t}function iD(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=iD(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function SG(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:VG(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var AG=/^:[\w-]+$/,IG=3,RG=2,PG=1,OG=10,MG=-2,rI=n=>n==="*";function DG(n,t){let e=n.split("/"),i=e.length;return e.some(rI)&&(i+=MG),t&&(i+=RG),e.filter(s=>!rI(s)).reduce((s,r)=>s+(AG.test(r)?IG:r===""?PG:OG),i)}function VG(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function NG(n,t,e=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",m=V1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!m&&u&&e&&!i[i.length-1].route.index&&(m=V1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Pa([r,m.pathname]),pathnameBase:UG(Pa([r,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(r=Pa([r,m.pathnameBase]))}return o}function V1(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=LG(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:m},p)=>{if(h==="*"){let _=a[p]||"";o=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[p];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:n}}function LG(n,t=!1,e=!0){gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function BG(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ec(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function FG(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?Xh(n):n;return{pathname:e?e.startsWith("/")?e:zG(e,t):t,search:HG(i),hash:$G(s)}}function zG(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function H2(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jG(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function nT(n){let t=jG(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function iT(n,t,e,i=!1){let s;typeof n=="string"?s=Xh(n):(s={...n},xn(!s.pathname||!s.pathname.includes("?"),H2("?","pathname","search",s)),xn(!s.pathname||!s.pathname.includes("#"),H2("#","pathname","hash",s)),xn(!s.search||!s.search.includes("#"),H2("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=e;else{let m=t.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}a=m>=0?t[m]:"/"}let l=FG(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Pa=n=>n.join("/").replace(/\/\/+/g,"/"),UG=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HG=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$G=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WG(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sD=["POST","PUT","PATCH","DELETE"];new Set(sD);var qG=["GET",...sD];new Set(qG);var Jh=E.createContext(null);Jh.displayName="DataRouter";var ow=E.createContext(null);ow.displayName="DataRouterState";var rD=E.createContext({isTransitioning:!1});rD.displayName="ViewTransition";var GG=E.createContext(new Map);GG.displayName="Fetchers";var YG=E.createContext(null);YG.displayName="Await";var Qr=E.createContext(null);Qr.displayName="Navigation";var gp=E.createContext(null);gp.displayName="Location";var _r=E.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var sT=E.createContext(null);sT.displayName="RouteError";function ZG(n,{relative:t}={}){xn(Qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=E.useContext(Qr),{hash:s,pathname:r,search:o}=pp(n,{relative:t}),a=r;return e!=="/"&&(a=r==="/"?e:Pa([e,r])),i.createHref({pathname:a,search:o,hash:s})}function Qh(){return E.useContext(gp)!=null}function el(){return xn(Qh(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(gp).location}var oD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aD(n){E.useContext(Qr).static||E.useLayoutEffect(n)}function Bo(){let{isDataRoute:n}=E.useContext(_r);return n?uY():KG()}function KG(){xn(Qh(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Jh),{basename:t,navigator:e}=E.useContext(Qr),{matches:i}=E.useContext(_r),{pathname:s}=el(),r=JSON.stringify(nT(i)),o=E.useRef(!1);return aD(()=>{o.current=!0}),E.useCallback((l,u={})=>{if(gr(o.current,oD),!o.current)return;if(typeof l=="number"){e.go(l);return}let h=iT(l,JSON.parse(r),s,u.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Pa([t,h.pathname])),(u.replace?e.replace:e.push)(h,u.state,u)},[t,e,r,s,n])}var XG=E.createContext(null);function JG(n){let t=E.useContext(_r).outlet;return t&&E.createElement(XG.Provider,{value:n},t)}function aw(){let{matches:n}=E.useContext(_r),t=n[n.length-1];return t?t.params:{}}function pp(n,{relative:t}={}){let{matches:e}=E.useContext(_r),{pathname:i}=el(),s=JSON.stringify(nT(e));return E.useMemo(()=>iT(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function QG(n,t){return lD(n,t)}function lD(n,t,e,i){var S;xn(Qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=E.useContext(Qr),{matches:o}=E.useContext(_r),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",m=a&&a.route;{let I=m&&m.path||"";cD(u,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let p=el(),v;if(t){let I=typeof t=="string"?Xh(t):t;xn(h==="/"||((S=I.pathname)==null?void 0:S.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=p;let _=v.pathname||"/",k=_;if(h!=="/"){let I=h.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=!r&&e&&e.matches&&e.matches.length>0?e.matches:tD(n,{pathname:k});gr(m||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),gr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=sY(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:Pa([h,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Pa([h,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,e,i);return t&&T?E.createElement(gp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function eY(){let n=cY(),t=WG(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:r},"ErrorBoundary")," or"," ",E.createElement("code",{style:r},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),e?E.createElement("pre",{style:s},e):null,o)}var tY=E.createElement(eY,null),nY=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?E.createElement(_r.Provider,{value:this.props.routeContext},E.createElement(sT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iY({routeContext:n,match:t,children:e}){let i=E.useContext(Jh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(_r.Provider,{value:n},e)}function sY(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,r=e==null?void 0:e.errors;if(r!=null){let l=s.findIndex(u=>u.route.id&&(r==null?void 0:r[u.route.id])!==void 0);xn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(e)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:m}=e,p=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,h)=>{let m,p=!1,v=null,_=null;e&&(m=r&&u.route.id?r[u.route.id]:void 0,v=u.route.errorElement||tY,o&&(a<0&&h===0?(cD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):a===h&&(p=!0,_=u.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,h+1)),C=()=>{let T;return m?T=v:p?T=_:u.route.Component?T=E.createElement(u.route.Component,null):u.route.element?T=u.route.element:T=l,E.createElement(iY,{match:u,routeContext:{outlet:l,matches:k,isDataRoute:e!=null},children:T})};return e&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?E.createElement(nY,{location:e.location,revalidation:e.revalidation,component:v,error:m,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}function rT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rY(n){let t=E.useContext(Jh);return xn(t,rT(n)),t}function oY(n){let t=E.useContext(ow);return xn(t,rT(n)),t}function aY(n){let t=E.useContext(_r);return xn(t,rT(n)),t}function oT(n){let t=aY(n),e=t.matches[t.matches.length-1];return xn(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function lY(){return oT("useRouteId")}function cY(){var i;let n=E.useContext(sT),t=oY("useRouteError"),e=oT("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function uY(){let{router:n}=rY("useNavigate"),t=oT("useNavigate"),e=E.useRef(!1);return aD(()=>{e.current=!0}),E.useCallback(async(s,r={})=>{gr(e.current,oD),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...r}))},[n,t])}var oI={};function cD(n,t,e){!t&&!oI[n]&&(oI[n]=!0,gr(!1,e))}E.memo(dY);function dY({routes:n,future:t,state:e}){return lD(n,void 0,e,t)}function uD({to:n,replace:t,state:e,relative:i}){xn(Qh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(Qr);gr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=E.useContext(_r),{pathname:o}=el(),a=Bo(),l=iT(n,nT(r),o,i==="path"),u=JSON.stringify(l);return E.useEffect(()=>{a(JSON.parse(u),{replace:t,state:e,relative:i})},[a,u,i,t,e]),null}function aT(n){return JG(n.context)}function ai(n){xn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hY({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:r=!1}){xn(!Qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof e=="string"&&(e=Xh(e));let{pathname:l="/",search:u="",hash:h="",state:m=null,key:p="default"}=e,v=E.useMemo(()=>{let _=ec(l,o);return _==null?null:{location:{pathname:_,search:u,hash:h,state:m,key:p},navigationType:i}},[o,l,u,h,m,p,i]);return gr(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:E.createElement(Qr.Provider,{value:a},E.createElement(gp.Provider,{children:t,value:v}))}function fY({children:n,location:t}){return QG($k(n),t)}function $k(n,t=[]){let e=[];return E.Children.forEach(n,(i,s)=>{if(!E.isValidElement(i))return;let r=[...t,s];if(i.type===E.Fragment){e.push.apply(e,$k(i.props.children,r));return}xn(i.type===ai,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=$k(i.props.children,r)),e.push(o)}),e}var s1="get",r1="application/x-www-form-urlencoded";function lw(n){return n!=null&&typeof n.tagName=="string"}function mY(n){return lw(n)&&n.tagName.toLowerCase()==="button"}function gY(n){return lw(n)&&n.tagName.toLowerCase()==="form"}function pY(n){return lw(n)&&n.tagName.toLowerCase()==="input"}function bY(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vY(n,t){return n.button===0&&(!t||t==="_self")&&!bY(n)}function Wk(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,e)=>{let i=n[e];return t.concat(Array.isArray(i)?i.map(s=>[e,s]):[[e,i]])},[]))}function wY(n,t){let e=Wk(n);return t&&t.forEach((i,s)=>{e.has(s)||t.getAll(s).forEach(r=>{e.append(s,r)})}),e}var bb=null;function yY(){if(bb===null)try{new FormData(document.createElement("form"),0),bb=!1}catch{bb=!0}return bb}var _Y=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $2(n){return n!=null&&!_Y.has(n)?(gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${r1}"`),null):n}function xY(n,t){let e,i,s,r,o;if(gY(n)){let a=n.getAttribute("action");i=a?ec(a,t):null,e=n.getAttribute("method")||s1,s=$2(n.getAttribute("enctype"))||r1,r=new FormData(n)}else if(mY(n)||pY(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(i=l?ec(l,t):null,e=n.getAttribute("formmethod")||a.getAttribute("method")||s1,s=$2(n.getAttribute("formenctype"))||$2(a.getAttribute("enctype"))||r1,r=new FormData(a,n),!yY()){let{name:u,type:h,value:m}=n;if(h==="image"){let p=u?`${u}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else u&&r.append(u,m)}}else{if(lw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=s1,i=null,s=r1,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:r,body:o}}function lT(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function kY(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CY(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function EY(n,t,e){let i=await Promise.all(n.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await kY(r,e);return o.links?o.links():[]}return[]}));return IY(i.flat(1).filter(CY).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function aI(n,t,e,i,s,r){let o=(l,u)=>e[u]?l.route.id!==e[u].route.id:!0,a=(l,u)=>{var h;return e[u].pathname!==l.pathname||((h=e[u].route.path)==null?void 0:h.endsWith("*"))&&e[u].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):r==="data"?t.filter((l,u)=>{var m;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=e[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function TY(n,t,{includeHydrateFallback:e}={}){return SY(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function SY(n){return[...new Set(n)]}function AY(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function IY(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let r=JSON.stringify(AY(s));return e.has(r)||(e.add(r),i.push({key:r,link:s})),i},[])}function RY(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function PY(){let n=E.useContext(Jh);return lT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function OY(){let n=E.useContext(ow);return lT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cT=E.createContext(void 0);cT.displayName="FrameworkContext";function dD(){let n=E.useContext(cT);return lT(n,"You must render this element inside a <HydratedRouter> element"),n}function MY(n,t){let e=E.useContext(cT),[i,s]=E.useState(!1),[r,o]=E.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=t,p=E.useRef(null);E.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let k=T=>{T.forEach(S=>{o(S.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[n]),E.useEffect(()=>{if(i){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[i]);let v=()=>{s(!0)},_=()=>{s(!1),o(!1)};return e?n!=="intent"?[r,p,{}]:[r,p,{onFocus:_m(a,v),onBlur:_m(l,_),onMouseEnter:_m(u,v),onMouseLeave:_m(h,_),onTouchStart:_m(m,v)}]:[!1,p,{}]}function _m(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function DY({page:n,...t}){let{router:e}=PY(),i=E.useMemo(()=>tD(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?E.createElement(NY,{page:n,matches:i,...t}):null}function VY(n){let{manifest:t,routeModules:e}=dD(),[i,s]=E.useState([]);return E.useEffect(()=>{let r=!1;return EY(n,t,e).then(o=>{r||s(o)}),()=>{r=!0}},[n,t,e]),i}function NY({page:n,matches:t,...e}){let i=el(),{manifest:s,routeModules:r}=dD(),{loaderData:o,matches:a}=OY(),l=E.useMemo(()=>aI(n,t,a,s,i,"data"),[n,t,a,s,i]),u=E.useMemo(()=>aI(n,t,a,s,i,"assets"),[n,t,a,s,i]),h=E.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,_=!1;if(t.forEach(C=>{var S;let T=s.routes[C.route.id];!T||!T.hasLoader||(!l.some(I=>I.route.id===C.route.id)&&C.route.id in o&&((S=r[C.route.id])!=null&&S.shouldRevalidate)||T.hasClientLoader?_=!0:v.add(C.route.id))}),v.size===0)return[];let k=RY(n);return _&&v.size>0&&k.searchParams.set("_routes",t.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[o,i,s,l,t,n,r]),m=E.useMemo(()=>TY(u,s),[u,s]),p=VY(u);return E.createElement(E.Fragment,null,h.map(v=>E.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...e})),m.map(v=>E.createElement("link",{key:v,rel:"modulepreload",href:v,...e})),p.map(({key:v,link:_})=>E.createElement("link",{key:v,..._})))}function LY(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var hD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hD&&(window.__reactRouterVersion="7.2.0")}catch{}function BY({basename:n,children:t,window:e}){let i=E.useRef();i.current==null&&(i.current=kG({window:e,v5Compat:!0}));let s=i.current,[r,o]=E.useState({action:s.action,location:s.location}),a=E.useCallback(l=>{E.startTransition(()=>o(l))},[o]);return E.useLayoutEffect(()=>s.listen(a),[s,a]),E.createElement(hY,{basename:n,children:t,location:r.location,navigationType:r.action,navigator:s})}var fD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=E.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:m,...p},v){let{basename:_}=E.useContext(Qr),k=typeof u=="string"&&fD.test(u),C,T=!1;if(typeof u=="string"&&k&&(C=u,hD))try{let z=new URL(window.location.href),J=u.startsWith("//")?new URL(z.protocol+u):new URL(u),_e=ec(J.pathname,_);J.origin===z.origin&&_e!=null?u=_e+J.search+J.hash:T=!0}catch{gr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=ZG(u,{relative:s}),[I,P,O]=MY(i,p),D=UY(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:m});function N(z){t&&t(z),z.defaultPrevented||D(z)}let j=E.createElement("a",{...p,...O,href:C||S,onClick:T||r?t:N,ref:LY(v,P),target:l,"data-discover":!k&&e==="render"?"true":void 0});return I&&!k?E.createElement(E.Fragment,null,j,E.createElement(DY,{page:S})):j});Hn.displayName="Link";var FY=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:l,...u},h){let m=pp(o,{relative:u.relative}),p=el(),v=E.useContext(ow),{navigator:_,basename:k}=E.useContext(Qr),C=v!=null&&YY(m)&&a===!0,T=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,S=p.pathname,I=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(S=S.toLowerCase(),I=I?I.toLowerCase():null,T=T.toLowerCase()),I&&k&&(I=ec(I,k)||I);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=S===T||!s&&S.startsWith(T)&&S.charAt(P)==="/",D=I!=null&&(I===T||!s&&I.startsWith(T)&&I.charAt(T.length)==="/"),N={isActive:O,isPending:D,isTransitioning:C},j=O?t:void 0,z;typeof i=="function"?z=i(N):z=[i,O?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let J=typeof r=="function"?r(N):r;return E.createElement(Hn,{...u,"aria-current":j,className:z,ref:h,style:J,to:o,viewTransition:a},typeof l=="function"?l(N):l)});FY.displayName="NavLink";var zY=E.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:r,method:o=s1,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:m,...p},v)=>{let _=qY(),k=GY(a,{relative:u}),C=o.toLowerCase()==="get"?"get":"post",T=typeof a=="string"&&fD.test(a),S=I=>{if(l&&l(I),I.defaultPrevented)return;I.preventDefault();let P=I.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||o;_(P||I.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:s,state:r,relative:u,preventScrollReset:h,viewTransition:m})};return E.createElement("form",{ref:v,method:C,action:k,onSubmit:i?l:S,...p,"data-discover":!T&&n==="render"?"true":void 0})});zY.displayName="Form";function jY(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mD(n){let t=E.useContext(Jh);return xn(t,jY(n)),t}function UY(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=Bo(),l=el(),u=pp(n,{relative:r});return E.useCallback(h=>{if(vY(h,t)){h.preventDefault();let m=e!==void 0?e:vg(l)===vg(u);a(n,{replace:m,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[l,a,u,e,i,t,n,s,r,o])}function HY(n){gr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(Wk(n)),e=E.useRef(!1),i=el(),s=E.useMemo(()=>wY(i.search,e.current?null:t.current),[i.search]),r=Bo(),o=E.useCallback((a,l)=>{const u=Wk(typeof a=="function"?a(s):a);e.current=!0,r("?"+u,l)},[r,s]);return[s,o]}var $Y=0,WY=()=>`__${String(++$Y)}__`;function qY(){let{router:n}=mD("useSubmit"),{basename:t}=E.useContext(Qr),e=lY();return E.useCallback(async(i,s={})=>{let{action:r,method:o,encType:a,formData:l,body:u}=xY(i,t);if(s.navigate===!1){let h=s.fetcherKey||WY();await n.fetch(h,e,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function GY(n,{relative:t}={}){let{basename:e}=E.useContext(Qr),i=E.useContext(_r);xn(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...pp(n||".",{relative:t})},o=el();if(n==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(m=>m).forEach(m=>a.append("index",m));let h=a.toString();r.search=h?`?${h}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(r.pathname=r.pathname==="/"?e:Pa([e,r.pathname])),vg(r)}function YY(n,t={}){let e=E.useContext(rD);xn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mD("useViewTransitionState"),s=pp(n,{relative:t.relative});if(!e.isTransitioning)return!1;let r=ec(e.currentLocation.pathname,i)||e.currentLocation.pathname,o=ec(e.nextLocation.pathname,i)||e.nextLocation.pathname;return V1(s.pathname,o)!=null||V1(s.pathname,r)!=null}new TextEncoder;function lI(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function cw(...n){return t=>{let e=!1;const i=n.map(s=>{const r=lI(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():lI(n[s],null)}}}}function Jt(...n){return E.useCallback(cw(...n),n)}var pr=E.forwardRef((n,t)=>{const{children:e,...i}=n,s=E.Children.toArray(e),r=s.find(ZY);if(r){const o=r.props.children,a=s.map(l=>l===r?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:l);return y.jsx(qk,{...i,ref:t,children:E.isValidElement(o)?E.cloneElement(o,void 0,a):null})}return y.jsx(qk,{...i,ref:t,children:e})});pr.displayName="Slot";var qk=E.forwardRef((n,t)=>{const{children:e,...i}=n;if(E.isValidElement(e)){const s=XY(e),r=KY(i,e.props);return e.type!==E.Fragment&&(r.ref=t?cw(t,s):s),E.cloneElement(e,r)}return E.Children.count(e)>1?E.Children.only(null):null});qk.displayName="SlotClone";var gD=({children:n})=>y.jsx(y.Fragment,{children:n});function ZY(n){return E.isValidElement(n)&&n.type===gD}function KY(n,t){const e={...t};for(const i in t){const s=n[i],r=t[i];/^on[A-Z]/.test(i)?s&&r?e[i]=(...a)=>{r(...a),s(...a)}:s&&(e[i]=s):i==="style"?e[i]={...s,...r}:i==="className"&&(e[i]=[s,r].filter(Boolean).join(" "))}return{...n,...e}}function XY(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function pD(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=pD(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Oa(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=pD(n))&&(i&&(i+=" "),i+=t);return i}const cI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,uI=Oa,uT=(n,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return uI(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:s,defaultVariants:r}=t,o=Object.keys(s).map(u=>{const h=e==null?void 0:e[u],m=r==null?void 0:r[u];if(h===null)return null;const p=cI(h)||cI(m);return s[u][p]}),a=e&&Object.entries(e).reduce((u,h)=>{let[m,p]=h;return p===void 0||(u[m]=p),u},{}),l=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((u,h)=>{let{class:m,className:p,...v}=h;return Object.entries(v).every(_=>{let[k,C]=_;return Array.isArray(C)?C.includes({...r,...a}[k]):{...r,...a}[k]===C})?[...u,m,p]:u},[]);return uI(n,o,l,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bD=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=E.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...QY,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:bD("lucide",s),...a},[...o.map(([u,h])=>E.createElement(u,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=(n,t)=>{const e=E.forwardRef(({className:i,...s},r)=>E.createElement(eZ,{ref:r,iconNode:t,className:bD(`lucide-${JY(n)}`,i),...s}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nZ=uw("Check",tZ);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vD=uw("ChevronDown",iZ);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rZ=uw("ChevronUp",sZ);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aZ=uw("X",oZ),W2=768;function lZ(){const[n,t]=E.useState(void 0);return E.useEffect(()=>{const e=window.matchMedia(`(max-width: ${W2-1}px)`),i=()=>{t(window.innerWidth<W2)};return e.addEventListener("change",i),t(window.innerWidth<W2),()=>e.removeEventListener("change",i)},[]),!!n}const dT="-",cZ=n=>{const t=dZ(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(dT);return a[0]===""&&a.length!==1&&a.shift(),wD(a,t)||uZ(o)},getConflictingClassGroupIds:(o,a)=>{const l=e[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},wD=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?wD(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=n.join(dT);return(o=t.validators.find(({validator:a})=>a(r)))==null?void 0:o.classGroupId},dI=/^\[(.+)\]$/,uZ=n=>{if(dI.test(n)){const t=dI.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},dZ=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const s in e)Gk(e[s],i,s,t);return i},Gk=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?t:hI(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(hZ(s)){Gk(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,o])=>{Gk(o,hI(t,r),e,i)})})},hI=(n,t)=>{let e=n;return t.split(dT).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},hZ=n=>n.isThemeGetter,fZ=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(r,o)=>{e.set(r,o),t++,t>n&&(t=0,i=e,e=new Map)};return{get(r){let o=e.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){e.has(r)?e.set(r,o):s(r,o)}}},Yk="!",Zk=":",mZ=Zk.length,gZ=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=s=>{const r=[];let o=0,a=0,l=0,u;for(let _=0;_<s.length;_++){let k=s[_];if(o===0&&a===0){if(k===Zk){r.push(s.slice(l,_)),l=_+mZ;continue}if(k==="/"){u=_;continue}}k==="["?o++:k==="]"?o--:k==="("?a++:k===")"&&a--}const h=r.length===0?s:s.substring(l),m=pZ(h),p=m!==h,v=u&&u>l?u-l:void 0;return{modifiers:r,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}};if(t){const s=t+Zk,r=i;i=o=>o.startsWith(s)?r(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const s=i;i=r=>e({className:r,parseClassName:s})}return i},pZ=n=>n.endsWith(Yk)?n.substring(0,n.length-1):n.startsWith(Yk)?n.substring(1):n,bZ=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(o=>{o[0]==="["||t[o]?(s.push(...r.sort(),o),r=[]):r.push(o)}),s.push(...r.sort()),s}},vZ=n=>({cache:fZ(n.cacheSize),parseClassName:gZ(n),sortModifiers:bZ(n),...cZ(n)}),wZ=/\s+/,yZ=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=t,o=[],a=n.trim().split(wZ);let l="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{isExternal:m,modifiers:p,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:k}=e(h);if(m){l=h+(l.length>0?" "+l:l);continue}let C=!!k,T=i(C?_.substring(0,k):_);if(!T){if(!C){l=h+(l.length>0?" "+l:l);continue}if(T=i(_),!T){l=h+(l.length>0?" "+l:l);continue}C=!1}const S=r(p).join(":"),I=v?S+Yk:S,P=I+T;if(o.includes(P))continue;o.push(P);const O=s(T,C);for(let D=0;D<O.length;++D){const N=O[D];o.push(I+N)}l=h+(l.length>0?" "+l:l)}return l};function _Z(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=yD(t))&&(i&&(i+=" "),i+=e);return i}const yD=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=yD(n[i]))&&(e&&(e+=" "),e+=t);return e};function xZ(n,...t){let e,i,s,r=o;function o(l){const u=t.reduce((h,m)=>m(h),n());return e=vZ(u),i=e.cache.get,s=e.cache.set,r=a,a(l)}function a(l){const u=i(l);if(u)return u;const h=yZ(l,e);return s(l,h),h}return function(){return r(_Z.apply(null,arguments))}}const _i=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},_D=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kZ=/^\d+\/\d+$/,CZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dd=n=>kZ.test(n),At=n=>!!n&&!Number.isNaN(Number(n)),qc=n=>!!n&&Number.isInteger(Number(n)),fI=n=>n.endsWith("%")&&At(n.slice(0,-1)),Pl=n=>CZ.test(n),IZ=()=>!0,RZ=n=>EZ.test(n)&&!TZ.test(n),hT=()=>!1,PZ=n=>SZ.test(n),OZ=n=>AZ.test(n),MZ=n=>!We(n)&&!qe(n),DZ=n=>ef(n,ED,hT),We=n=>_D.test(n),Gc=n=>ef(n,TD,RZ),q2=n=>ef(n,WZ,At),VZ=n=>ef(n,kD,hT),NZ=n=>ef(n,CD,OZ),LZ=n=>ef(n,hT,PZ),qe=n=>xD.test(n),vb=n=>tf(n,TD),BZ=n=>tf(n,qZ),FZ=n=>tf(n,kD),zZ=n=>tf(n,ED),jZ=n=>tf(n,CD),UZ=n=>tf(n,GZ,!0),ef=(n,t,e)=>{const i=_D.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},tf=(n,t,e=!1)=>{const i=xD.exec(n);return i?i[1]?t(i[1]):e:!1},kD=n=>n==="position",HZ=new Set(["image","url"]),CD=n=>HZ.has(n),$Z=new Set(["length","size","percentage"]),ED=n=>$Z.has(n),TD=n=>n==="length",WZ=n=>n==="number",qZ=n=>n==="family-name",GZ=n=>n==="shadow",YZ=()=>{const n=_i("color"),t=_i("font"),e=_i("text"),i=_i("font-weight"),s=_i("tracking"),r=_i("leading"),o=_i("breakpoint"),a=_i("container"),l=_i("spacing"),u=_i("radius"),h=_i("shadow"),m=_i("inset-shadow"),p=_i("drop-shadow"),v=_i("blur"),_=_i("perspective"),k=_i("aspect"),C=_i("ease"),T=_i("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],D=()=>[qe,We,l],N=()=>[Dd,"full","auto",...D()],j=()=>[qc,"none","subgrid",qe,We],z=()=>["auto",{span:["full",qc,qe,We]},qe,We],J=()=>[qc,"auto",qe,We],_e=()=>["auto","min","max","fr",qe,We],ae=()=>["start","end","center","between","around","evenly","stretch","baseline"],xe=()=>["start","end","center","stretch"],be=()=>["auto",...D()],Ae=()=>[Dd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],Y=()=>[n,qe,We],we=()=>[fI,Gc],ne=()=>["","none","full",u,qe,We],re=()=>["",At,vb,Gc],M=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>["","none",v,qe,We],Fe=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe,We],H=()=>["none",At,qe,We],q=()=>["none",At,qe,We],Q=()=>[At,qe,We],se=()=>[Dd,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pl],breakpoint:[Pl],color:[IZ],container:[Pl],"drop-shadow":[Pl],ease:["in","out","in-out"],font:[MZ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pl],shadow:[Pl],spacing:["px",At],text:[Pl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dd,We,qe,k]}],container:["container"],columns:[{columns:[At,We,qe,a]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),We,qe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[qc,"auto",qe,We]}],basis:[{basis:[Dd,"full","auto",a,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,Dd,"auto","initial","none",We]}],grow:[{grow:["",At,qe,We]}],shrink:[{shrink:["",At,qe,We]}],order:[{order:[qc,"first","last","none",qe,We]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_e()}],"auto-rows":[{"auto-rows":_e()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...xe(),"baseline"]}],"align-self":[{self:["auto",...xe(),"baseline"]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:be()}],mx:[{mx:be()}],my:[{my:be()}],ms:[{ms:be()}],me:[{me:be()}],mt:[{mt:be()}],mr:[{mr:be()}],mb:[{mb:be()}],ml:[{ml:be()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ae()}],w:[{w:[a,"screen",...Ae()]}],"min-w":[{"min-w":[a,"screen","none",...Ae()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Ae()]}],h:[{h:["screen",...Ae()]}],"min-h":[{"min-h":["screen","none",...Ae()]}],"max-h":[{"max-h":["screen",...Ae()]}],"font-size":[{text:["base",e,vb,Gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,qe,q2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fI,We]}],"font-family":[{font:[BZ,We,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,qe,We]}],"line-clamp":[{"line-clamp":[At,"none",qe,q2]}],leading:[{leading:[r,...D()]}],"list-image":[{"list-image":["none",qe,We]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,We]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",qe,Gc]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[At,"auto",qe,We]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),FZ,VZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",zZ,DZ]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qc,qe,We],radial:["",qe,We],conic:[qc,qe,We]},jZ,NZ]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:we()}],"gradient-via-pos":[{via:we()}],"gradient-to-pos":[{to:we()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...M(),"hidden","none"]}],"divide-style":[{divide:[...M(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...M(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,qe,We]}],"outline-w":[{outline:["",At,vb,Gc]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",h,UZ,LZ]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",qe,We,m]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[At,Gc]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":Y()}],opacity:[{opacity:[At,qe,We]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none",qe,We]}],blur:[{blur:De()}],brightness:[{brightness:[At,qe,We]}],contrast:[{contrast:[At,qe,We]}],"drop-shadow":[{"drop-shadow":["","none",p,qe,We]}],grayscale:[{grayscale:["",At,qe,We]}],"hue-rotate":[{"hue-rotate":[At,qe,We]}],invert:[{invert:["",At,qe,We]}],saturate:[{saturate:[At,qe,We]}],sepia:[{sepia:["",At,qe,We]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,We]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[At,qe,We]}],"backdrop-contrast":[{"backdrop-contrast":[At,qe,We]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,qe,We]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,qe,We]}],"backdrop-invert":[{"backdrop-invert":["",At,qe,We]}],"backdrop-opacity":[{"backdrop-opacity":[At,qe,We]}],"backdrop-saturate":[{"backdrop-saturate":[At,qe,We]}],"backdrop-sepia":[{"backdrop-sepia":["",At,qe,We]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,We]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",qe,We]}],ease:[{ease:["linear","initial",C,qe,We]}],delay:[{delay:[At,qe,We]}],animate:[{animate:["none",T,qe,We]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,qe,We]}],"perspective-origin":[{"perspective-origin":Fe()}],rotate:[{rotate:H()}],"rotate-x":[{"rotate-x":H()}],"rotate-y":[{"rotate-y":H()}],"rotate-z":[{"rotate-z":H()}],scale:[{scale:q()}],"scale-x":[{"scale-x":q()}],"scale-y":[{"scale-y":q()}],"scale-z":[{"scale-z":q()}],"scale-3d":["scale-3d"],skew:[{skew:Q()}],"skew-x":[{"skew-x":Q()}],"skew-y":[{"skew-y":Q()}],transform:[{transform:[qe,We,"","none","gpu","cpu"]}],"transform-origin":[{origin:Fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,We]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,We]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[At,vb,Gc,q2]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},ZZ=xZ(YZ);function dt(...n){return ZZ(Oa(n))}const KZ=uT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function hi({className:n,variant:t,size:e,asChild:i=!1,...s}){const r=i?pr:"button";return y.jsx(r,{"data-slot":"button",className:dt(KZ({variant:t,size:e,className:n})),...s})}function Ai({className:n,type:t,...e}){return y.jsx("input",{type:t,"data-slot":"input",className:dt("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...e})}var bp=eD();const XZ=mc(bp);var JZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Et=JZ.reduce((n,t)=>{const e=E.forwardRef((i,s)=>{const{asChild:r,...o}=i,a=r?pr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(a,{...o,ref:s})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{});function SD(n,t){n&&bp.flushSync(()=>n.dispatchEvent(t))}function Ye(n,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(n==null||n(s),e===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function QZ(n,t){const e=E.createContext(t),i=r=>{const{children:o,...a}=r,l=E.useMemo(()=>a,Object.values(a));return y.jsx(e.Provider,{value:l,children:o})};i.displayName=n+"Provider";function s(r){const o=E.useContext(e);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${r}\` must be used within \`${n}\``)}return[i,s]}function tl(n,t=[]){let e=[];function i(r,o){const a=E.createContext(o),l=e.length;e=[...e,o];const u=m=>{var T;const{scope:p,children:v,..._}=m,k=((T=p==null?void 0:p[n])==null?void 0:T[l])||a,C=E.useMemo(()=>_,Object.values(_));return y.jsx(k.Provider,{value:C,children:v})};u.displayName=r+"Provider";function h(m,p){var k;const v=((k=p==null?void 0:p[n])==null?void 0:k[l])||a,_=E.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${r}\``)}return[u,h]}const s=()=>{const r=e.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||r;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return s.scopeName=n,[i,eK(s,...t)]}function eK(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const o=i.reduce((a,{useScope:l,scopeName:u})=>{const m=l(r)[`__scope${u}`];return{...a,...m}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}var Bi=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},tK=gG.useId||(()=>{}),nK=0;function ko(n){const[t,e]=E.useState(tK());return Bi(()=>{e(i=>i??String(nK++))},[n]),n||(t?`radix-${t}`:"")}function Us(n){const t=E.useRef(n);return E.useEffect(()=>{t.current=n}),E.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}function Ah({prop:n,defaultProp:t,onChange:e=()=>{}}){const[i,s]=iK({defaultProp:t,onChange:e}),r=n!==void 0,o=r?n:i,a=Us(e),l=E.useCallback(u=>{if(r){const m=typeof u=="function"?u(n):u;m!==n&&a(m)}else s(u)},[r,n,s,a]);return[o,l]}function iK({defaultProp:n,onChange:t}){const e=E.useState(n),[i]=e,s=E.useRef(i),r=Us(t);return E.useEffect(()=>{s.current!==i&&(r(i),s.current=i)},[i,s,r]),e}function sK(n,t=globalThis==null?void 0:globalThis.document){const e=Us(n);E.useEffect(()=>{const i=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[e,t])}var rK="DismissableLayer",Kk="dismissableLayer.update",oK="dismissableLayer.pointerDownOutside",aK="dismissableLayer.focusOutside",mI,AD=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vp=E.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:o,onDismiss:a,...l}=n,u=E.useContext(AD),[h,m]=E.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=E.useState({}),_=Jt(t,N=>m(N)),k=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=k.indexOf(C),S=h?k.indexOf(h):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,P=S>=T,O=uK(N=>{const j=N.target,z=[...u.branches].some(J=>J.contains(j));!P||z||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},p),D=dK(N=>{const j=N.target;[...u.branches].some(J=>J.contains(j))||(r==null||r(N),o==null||o(N),N.defaultPrevented||a==null||a())},p);return sK(N=>{S===u.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},p),E.useEffect(()=>{if(h)return e&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(mI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),gI(),()=>{e&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mI)}},[h,p,e,u]),E.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),gI())},[h,u]),E.useEffect(()=>{const N=()=>v({});return document.addEventListener(Kk,N),()=>document.removeEventListener(Kk,N)},[]),y.jsx(Et.div,{...l,ref:_,style:{pointerEvents:I?P?"auto":"none":void 0,...n.style},onFocusCapture:Ye(n.onFocusCapture,D.onFocusCapture),onBlurCapture:Ye(n.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ye(n.onPointerDownCapture,O.onPointerDownCapture)})});vp.displayName=rK;var lK="DismissableLayerBranch",cK=E.forwardRef((n,t)=>{const e=E.useContext(AD),i=E.useRef(null),s=Jt(t,i);return E.useEffect(()=>{const r=i.current;if(r)return e.branches.add(r),()=>{e.branches.delete(r)}},[e.branches]),y.jsx(Et.div,{...n,ref:s})});cK.displayName=lK;function uK(n,t=globalThis==null?void 0:globalThis.document){const e=Us(n),i=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const r=a=>{if(a.target&&!i.current){let l=function(){ID(oK,e,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function dK(n,t=globalThis==null?void 0:globalThis.document){const e=Us(n),i=E.useRef(!1);return E.useEffect(()=>{const s=r=>{r.target&&!i.current&&ID(aK,e,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function gI(){const n=new CustomEvent(Kk);document.dispatchEvent(n)}function ID(n,t,e,{discrete:i}){const s=e.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(n,t,{once:!0}),i?SD(s,r):s.dispatchEvent(r)}var G2="focusScope.autoFocusOnMount",Y2="focusScope.autoFocusOnUnmount",pI={bubbles:!1,cancelable:!0},hK="FocusScope",dw=E.forwardRef((n,t)=>{const{loop:e=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:r,...o}=n,[a,l]=E.useState(null),u=Us(s),h=Us(r),m=E.useRef(null),p=Jt(t,k=>l(k)),v=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(i){let k=function(I){if(v.paused||!a)return;const P=I.target;a.contains(P)?m.current=P:Nl(m.current,{select:!0})},C=function(I){if(v.paused||!a)return;const P=I.relatedTarget;P!==null&&(a.contains(P)||Nl(m.current,{select:!0}))},T=function(I){if(document.activeElement===document.body)for(const O of I)O.removedNodes.length>0&&Nl(a)};document.addEventListener("focusin",k),document.addEventListener("focusout",C);const S=new MutationObserver(T);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",C),S.disconnect()}}},[i,a,v.paused]),E.useEffect(()=>{if(a){vI.add(v);const k=document.activeElement;if(!a.contains(k)){const T=new CustomEvent(G2,pI);a.addEventListener(G2,u),a.dispatchEvent(T),T.defaultPrevented||(fK(vK(RD(a)),{select:!0}),document.activeElement===k&&Nl(a))}return()=>{a.removeEventListener(G2,u),setTimeout(()=>{const T=new CustomEvent(Y2,pI);a.addEventListener(Y2,h),a.dispatchEvent(T),T.defaultPrevented||Nl(k??document.body,{select:!0}),a.removeEventListener(Y2,h),vI.remove(v)},0)}}},[a,u,h,v]);const _=E.useCallback(k=>{if(!e&&!i||v.paused)return;const C=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,T=document.activeElement;if(C&&T){const S=k.currentTarget,[I,P]=mK(S);I&&P?!k.shiftKey&&T===P?(k.preventDefault(),e&&Nl(I,{select:!0})):k.shiftKey&&T===I&&(k.preventDefault(),e&&Nl(P,{select:!0})):T===S&&k.preventDefault()}},[e,i,v.paused]);return y.jsx(Et.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});dw.displayName=hK;function fK(n,{select:t=!1}={}){const e=document.activeElement;for(const i of n)if(Nl(i,{select:t}),document.activeElement!==e)return}function mK(n){const t=RD(n),e=bI(t,n),i=bI(t.reverse(),n);return[e,i]}function RD(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function bI(n,t){for(const e of n)if(!gK(e,{upTo:t}))return e}function gK(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function pK(n){return n instanceof HTMLInputElement&&"select"in n}function Nl(n,{select:t=!1}={}){if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),n!==e&&pK(n)&&t&&n.select()}}var vI=bK();function bK(){let n=[];return{add(t){const e=n[0];t!==e&&(e==null||e.pause()),n=wI(n,t),n.unshift(t)},remove(t){var e;n=wI(n,t),(e=n[0])==null||e.resume()}}}function wI(n,t){const e=[...n],i=e.indexOf(t);return i!==-1&&e.splice(i,1),e}function vK(n){return n.filter(t=>t.tagName!=="A")}var wK="Portal",wp=E.forwardRef((n,t)=>{var a;const{container:e,...i}=n,[s,r]=E.useState(!1);Bi(()=>r(!0),[]);const o=e||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XZ.createPortal(y.jsx(Et.div,{...i,ref:t}),o):null});wp.displayName=wK;function yK(n,t){return E.useReducer((e,i)=>t[e][i]??e,n)}var Fo=n=>{const{present:t,children:e}=n,i=_K(t),s=typeof e=="function"?e({present:i.isPresent}):E.Children.only(e),r=Jt(i.ref,xK(s));return typeof e=="function"||i.isPresent?E.cloneElement(s,{ref:r}):null};Fo.displayName="Presence";function _K(n){const[t,e]=E.useState(),i=E.useRef({}),s=E.useRef(n),r=E.useRef("none"),o=n?"mounted":"unmounted",[a,l]=yK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=wb(i.current);r.current=a==="mounted"?u:"none"},[a]),Bi(()=>{const u=i.current,h=s.current;if(h!==n){const p=r.current,v=wb(u);n?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,l]),Bi(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=v=>{const k=wb(i.current).includes(v.animationName);if(v.target===t&&k&&(l("ANIMATION_END"),!s.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},p=v=>{v.target===t&&(r.current=wb(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(u=>{u&&(i.current=getComputedStyle(u)),e(u)},[])}}function wb(n){return(n==null?void 0:n.animationName)||"none"}function xK(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var Z2=0;function fT(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??yI()),document.body.insertAdjacentElement("beforeend",n[1]??yI()),Z2++,()=>{Z2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Z2--}},[])}function yI(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var vo=function(){return vo=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},vo.apply(this,arguments)};function yp(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function Nu(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{u(i.next(h))}catch(m){o(m)}}function l(h){try{u(i.throw(h))}catch(m){o(m)}}function u(h){h.done?r(h.value):s(h.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function kK(n,t,e){if(e||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}var o1="right-scroll-bar-position",a1="width-before-scroll-bar",CK="with-scroll-bars-hidden",EK="--removed-body-scroll-bar-size";function K2(n,t){return typeof n=="function"?n(t):n&&(n.current=t),n}function TK(n,t){var e=E.useState(function(){return{value:n,callback:t,facade:{get current(){return e.value},set current(i){var s=e.value;s!==i&&(e.value=i,e.callback(i,s))}}}})[0];return e.callback=t,e.facade}var SK=typeof window<"u"?E.useLayoutEffect:E.useEffect,_I=new WeakMap;function AK(n,t){var e=TK(null,function(i){return n.forEach(function(s){return K2(s,i)})});return SK(function(){var i=_I.get(e);if(i){var s=new Set(i),r=new Set(n),o=e.current;s.forEach(function(a){r.has(a)||K2(a,null)}),r.forEach(function(a){s.has(a)||K2(a,o)})}_I.set(e,n)},[n]),e}function IK(n){return n}function RK(n,t){t===void 0&&(t=IK);var e=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:n},useMedium:function(r){var o=t(r,i);return e.push(o),function(){e=e.filter(function(a){return a!==o})}},assignSyncMedium:function(r){for(i=!0;e.length;){var o=e;e=[],o.forEach(r)}e={push:function(a){return r(a)},filter:function(){return e}}},assignMedium:function(r){i=!0;var o=[];if(e.length){var a=e;e=[],a.forEach(r),o=e}var l=function(){var h=o;o=[],h.forEach(r)},u=function(){return Promise.resolve().then(l)};u(),e={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),e}}}};return s}function PK(n){n===void 0&&(n={});var t=RK(null);return t.options=vo({async:!0,ssr:!1},n),t}var PD=function(n){var t=n.sideCar,e=yp(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return E.createElement(i,vo({},e))};PD.isSideCarExport=!0;function OK(n,t){return n.useMedium(t),PD}var OD=PK(),X2=function(){},hw=E.forwardRef(function(n,t){var e=E.useRef(null),i=E.useState({onScrollCapture:X2,onWheelCapture:X2,onTouchMoveCapture:X2}),s=i[0],r=i[1],o=n.forwardProps,a=n.children,l=n.className,u=n.removeScrollBar,h=n.enabled,m=n.shards,p=n.sideCar,v=n.noIsolation,_=n.inert,k=n.allowPinchZoom,C=n.as,T=C===void 0?"div":C,S=n.gapMode,I=yp(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,O=AK([e,t]),D=vo(vo({},I),s);return E.createElement(E.Fragment,null,h&&E.createElement(P,{sideCar:OD,removeScrollBar:u,shards:m,noIsolation:v,inert:_,setCallbacks:r,allowPinchZoom:!!k,lockRef:e,gapMode:S}),o?E.cloneElement(E.Children.only(a),vo(vo({},D),{ref:O})):E.createElement(T,vo({},D,{className:l,ref:O}),a))});hw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hw.classNames={fullWidth:a1,zeroRight:o1};var MK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DK(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var t=MK();return t&&n.setAttribute("nonce",t),n}function VK(n,t){n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}function NK(n){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(n)}var LK=function(){var n=0,t=null;return{add:function(e){n==0&&(t=DK())&&(VK(t,e),NK(t)),n++},remove:function(){n--,!n&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BK=function(){var n=LK();return function(t,e){E.useEffect(function(){return n.add(t),function(){n.remove()}},[t&&e])}},MD=function(){var n=BK(),t=function(e){var i=e.styles,s=e.dynamic;return n(i,s),null};return t},FK={left:0,top:0,right:0,gap:0},J2=function(n){return parseInt(n||"",10)||0},zK=function(n){var t=window.getComputedStyle(document.body),e=t[n==="padding"?"paddingLeft":"marginLeft"],i=t[n==="padding"?"paddingTop":"marginTop"],s=t[n==="padding"?"paddingRight":"marginRight"];return[J2(e),J2(i),J2(s)]},jK=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return FK;var t=zK(n),e=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-e+t[2]-t[0])}},UK=MD(),gh="data-scroll-locked",HK=function(n,t,e,i){var s=n.left,r=n.top,o=n.right,a=n.gap;return e===void 0&&(e="margin"),`
  .`.concat(CK,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(gh,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),e==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(o1,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(a1,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(o1," .").concat(o1,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(a1," .").concat(a1,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(gh,`] {
    `).concat(EK,": ").concat(a,`px;
  }
`)},xI=function(){var n=parseInt(document.body.getAttribute(gh)||"0",10);return isFinite(n)?n:0},$K=function(){E.useEffect(function(){return document.body.setAttribute(gh,(xI()+1).toString()),function(){var n=xI()-1;n<=0?document.body.removeAttribute(gh):document.body.setAttribute(gh,n.toString())}},[])},WK=function(n){var t=n.noRelative,e=n.noImportant,i=n.gapMode,s=i===void 0?"margin":i;$K();var r=E.useMemo(function(){return jK(s)},[s]);return E.createElement(UK,{styles:HK(r,!t,s,e?"":"!important")})},Xk=!1;if(typeof window<"u")try{var yb=Object.defineProperty({},"passive",{get:function(){return Xk=!0,!0}});window.addEventListener("test",yb,yb),window.removeEventListener("test",yb,yb)}catch{Xk=!1}var Vd=Xk?{passive:!1}:!1,qK=function(n){return n.tagName==="TEXTAREA"},DD=function(n,t){if(!(n instanceof Element))return!1;var e=window.getComputedStyle(n);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!qK(n)&&e[t]==="visible")},GK=function(n){return DD(n,"overflowY")},YK=function(n){return DD(n,"overflowX")},kI=function(n,t){var e=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=VD(n,i);if(s){var r=ND(n,i),o=r[1],a=r[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==e.body);return!1},ZK=function(n){var t=n.scrollTop,e=n.scrollHeight,i=n.clientHeight;return[t,e,i]},KK=function(n){var t=n.scrollLeft,e=n.scrollWidth,i=n.clientWidth;return[t,e,i]},VD=function(n,t){return n==="v"?GK(t):YK(t)},ND=function(n,t){return n==="v"?ZK(t):KK(t)},XK=function(n,t){return n==="h"&&t==="rtl"?-1:1},JK=function(n,t,e,i,s){var r=XK(n,window.getComputedStyle(t).direction),o=r*i,a=e.target,l=t.contains(a),u=!1,h=o>0,m=0,p=0;do{var v=ND(n,a),_=v[0],k=v[1],C=v[2],T=k-C-r*_;(_||T)&&VD(n,a)&&(m+=T,p+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(u=!0),u},_b=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},CI=function(n){return[n.deltaX,n.deltaY]},EI=function(n){return n&&"current"in n?n.current:n},QK=function(n,t){return n[0]===t[0]&&n[1]===t[1]},eX=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},tX=0,Nd=[];function nX(n){var t=E.useRef([]),e=E.useRef([0,0]),i=E.useRef(),s=E.useState(tX++)[0],r=E.useState(MD)[0],o=E.useRef(n);E.useEffect(function(){o.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var k=kK([n.lockRef.current],(n.shards||[]).map(EI),!0).filter(Boolean);return k.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var a=E.useCallback(function(k,C){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!o.current.allowPinchZoom;var T=_b(k),S=e.current,I="deltaX"in k?k.deltaX:S[0]-T[0],P="deltaY"in k?k.deltaY:S[1]-T[1],O,D=k.target,N=Math.abs(I)>Math.abs(P)?"h":"v";if("touches"in k&&N==="h"&&D.type==="range")return!1;var j=kI(N,D);if(!j)return!0;if(j?O=N:(O=N==="v"?"h":"v",j=kI(N,D)),!j)return!1;if(!i.current&&"changedTouches"in k&&(I||P)&&(i.current=O),!O)return!0;var z=i.current||O;return JK(z,C,k,z==="h"?I:P)},[]),l=E.useCallback(function(k){var C=k;if(!(!Nd.length||Nd[Nd.length-1]!==r)){var T="deltaY"in C?CI(C):_b(C),S=t.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&QK(O.delta,T)})[0];if(S&&S.should){C.cancelable&&C.preventDefault();return}if(!S){var I=(o.current.shards||[]).map(EI).filter(Boolean).filter(function(O){return O.contains(C.target)}),P=I.length>0?a(C,I[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),u=E.useCallback(function(k,C,T,S){var I={name:k,delta:C,target:T,should:S,shadowParent:iX(T)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(P){return P!==I})},1)},[]),h=E.useCallback(function(k){e.current=_b(k),i.current=void 0},[]),m=E.useCallback(function(k){u(k.type,CI(k),k.target,a(k,n.lockRef.current))},[]),p=E.useCallback(function(k){u(k.type,_b(k),k.target,a(k,n.lockRef.current))},[]);E.useEffect(function(){return Nd.push(r),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Vd),document.addEventListener("touchmove",l,Vd),document.addEventListener("touchstart",h,Vd),function(){Nd=Nd.filter(function(k){return k!==r}),document.removeEventListener("wheel",l,Vd),document.removeEventListener("touchmove",l,Vd),document.removeEventListener("touchstart",h,Vd)}},[]);var v=n.removeScrollBar,_=n.inert;return E.createElement(E.Fragment,null,_?E.createElement(r,{styles:eX(s)}):null,v?E.createElement(WK,{gapMode:n.gapMode}):null)}function iX(n){for(var t=null;n!==null;)n instanceof ShadowRoot&&(t=n.host,n=n.host),n=n.parentNode;return t}const sX=OK(OD,nX);var fw=E.forwardRef(function(n,t){return E.createElement(hw,vo({},n,{ref:t,sideCar:sX}))});fw.classNames=hw.classNames;var rX=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},Ld=new WeakMap,xb=new WeakMap,kb={},Q2=0,LD=function(n){return n&&(n.host||LD(n.parentNode))},oX=function(n,t){return t.map(function(e){if(n.contains(e))return e;var i=LD(e);return i&&n.contains(i)?i:(console.error("aria-hidden",e,"in not contained inside",n,". Doing nothing"),null)}).filter(function(e){return!!e})},aX=function(n,t,e,i){var s=oX(t,Array.isArray(n)?n:[n]);kb[e]||(kb[e]=new WeakMap);var r=kb[e],o=[],a=new Set,l=new Set(s),u=function(m){!m||a.has(m)||(a.add(m),u(m.parentNode))};s.forEach(u);var h=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(p){if(a.has(p))h(p);else try{var v=p.getAttribute(i),_=v!==null&&v!=="false",k=(Ld.get(p)||0)+1,C=(r.get(p)||0)+1;Ld.set(p,k),r.set(p,C),o.push(p),k===1&&_&&xb.set(p,!0),C===1&&p.setAttribute(e,"true"),_||p.setAttribute(i,"true")}catch(T){console.error("aria-hidden: cannot operate on ",p,T)}})};return h(t),a.clear(),Q2++,function(){o.forEach(function(m){var p=Ld.get(m)-1,v=r.get(m)-1;Ld.set(m,p),r.set(m,v),p||(xb.has(m)||m.removeAttribute(i),xb.delete(m)),v||m.removeAttribute(e)}),Q2--,Q2||(Ld=new WeakMap,Ld=new WeakMap,xb=new WeakMap,kb={})}},mT=function(n,t,e){e===void 0&&(e="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),s=rX(n);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),aX(i,s,e,"aria-hidden")):function(){return null}},gT="Dialog",[BD,_Ne]=tl(gT),[lX,eo]=BD(gT),FD=n=>{const{__scopeDialog:t,children:e,open:i,defaultOpen:s,onOpenChange:r,modal:o=!0}=n,a=E.useRef(null),l=E.useRef(null),[u=!1,h]=Ah({prop:i,defaultProp:s,onChange:r});return y.jsx(lX,{scope:t,triggerRef:a,contentRef:l,contentId:ko(),titleId:ko(),descriptionId:ko(),open:u,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(m=>!m),[h]),modal:o,children:e})};FD.displayName=gT;var zD="DialogTrigger",cX=E.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,s=eo(zD,e),r=Jt(t,s.triggerRef);return y.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vT(s.open),...i,ref:r,onClick:Ye(n.onClick,s.onOpenToggle)})});cX.displayName=zD;var pT="DialogPortal",[uX,jD]=BD(pT,{forceMount:void 0}),UD=n=>{const{__scopeDialog:t,forceMount:e,children:i,container:s}=n,r=eo(pT,t);return y.jsx(uX,{scope:t,forceMount:e,children:E.Children.map(i,o=>y.jsx(Fo,{present:e||r.open,children:y.jsx(wp,{asChild:!0,container:s,children:o})}))})};UD.displayName=pT;var N1="DialogOverlay",HD=E.forwardRef((n,t)=>{const e=jD(N1,n.__scopeDialog),{forceMount:i=e.forceMount,...s}=n,r=eo(N1,n.__scopeDialog);return r.modal?y.jsx(Fo,{present:i||r.open,children:y.jsx(dX,{...s,ref:t})}):null});HD.displayName=N1;var dX=E.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,s=eo(N1,e);return y.jsx(fw,{as:pr,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(Et.div,{"data-state":vT(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),bu="DialogContent",$D=E.forwardRef((n,t)=>{const e=jD(bu,n.__scopeDialog),{forceMount:i=e.forceMount,...s}=n,r=eo(bu,n.__scopeDialog);return y.jsx(Fo,{present:i||r.open,children:r.modal?y.jsx(hX,{...s,ref:t}):y.jsx(fX,{...s,ref:t})})});$D.displayName=bu;var hX=E.forwardRef((n,t)=>{const e=eo(bu,n.__scopeDialog),i=E.useRef(null),s=Jt(t,e.contentRef,i);return E.useEffect(()=>{const r=i.current;if(r)return mT(r)},[]),y.jsx(WD,{...n,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(n.onCloseAutoFocus,r=>{var o;r.preventDefault(),(o=e.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(n.onPointerDownOutside,r=>{const o=r.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&r.preventDefault()}),onFocusOutside:Ye(n.onFocusOutside,r=>r.preventDefault())})}),fX=E.forwardRef((n,t)=>{const e=eo(bu,n.__scopeDialog),i=E.useRef(!1),s=E.useRef(!1);return y.jsx(WD,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,r),r.defaultPrevented||(i.current||(a=e.triggerRef.current)==null||a.focus(),r.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:r=>{var l,u;(l=n.onInteractOutside)==null||l.call(n,r),r.defaultPrevented||(i.current=!0,r.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=r.target;((u=e.triggerRef.current)==null?void 0:u.contains(o))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&s.current&&r.preventDefault()}})}),WD=E.forwardRef((n,t)=>{const{__scopeDialog:e,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:r,...o}=n,a=eo(bu,e),l=E.useRef(null),u=Jt(t,l);return fT(),y.jsxs(y.Fragment,{children:[y.jsx(dw,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:r,children:y.jsx(vp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vT(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(mX,{titleId:a.titleId}),y.jsx(pX,{contentRef:l,descriptionId:a.descriptionId})]})]})}),bT="DialogTitle",qD=E.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,s=eo(bT,e);return y.jsx(Et.h2,{id:s.titleId,...i,ref:t})});qD.displayName=bT;var GD="DialogDescription",YD=E.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,s=eo(GD,e);return y.jsx(Et.p,{id:s.descriptionId,...i,ref:t})});YD.displayName=GD;var ZD="DialogClose",KD=E.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,s=eo(ZD,e);return y.jsx(Et.button,{type:"button",...i,ref:t,onClick:Ye(n.onClick,()=>s.onOpenChange(!1))})});KD.displayName=ZD;function vT(n){return n?"open":"closed"}var XD="DialogTitleWarning",[xNe,JD]=QZ(XD,{contentName:bu,titleName:bT,docsSlug:"dialog"}),mX=({titleId:n})=>{const t=JD(XD),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(e))},[e,n]),null},gX="DialogDescriptionWarning",pX=({contentRef:n,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JD(gX).contentName}}.`;return E.useEffect(()=>{var r;const s=(r=n.current)==null?void 0:r.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,n,t]),null},bX=FD,vX=UD,wX=HD,yX=$D,_X=qD,xX=YD,kX=KD;function CX({...n}){return y.jsx(bX,{"data-slot":"sheet",...n})}function EX({...n}){return y.jsx(vX,{"data-slot":"sheet-portal",...n})}function TX({className:n,...t}){return y.jsx(wX,{"data-slot":"sheet-overlay",className:dt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",n),...t})}function SX({className:n,children:t,side:e="right",...i}){return y.jsxs(EX,{children:[y.jsx(TX,{}),y.jsxs(yX,{"data-slot":"sheet-content",className:dt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",e==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",e==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",e==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",e==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...i,children:[t,y.jsxs(kX,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[y.jsx(aZ,{className:"size-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function AX({className:n,...t}){return y.jsx("div",{"data-slot":"sheet-header",className:dt("flex flex-col gap-1.5 p-4",n),...t})}function IX({className:n,...t}){return y.jsx(_X,{"data-slot":"sheet-title",className:dt("text-foreground font-semibold",n),...t})}function RX({className:n,...t}){return y.jsx(xX,{"data-slot":"sheet-description",className:dt("text-muted-foreground text-sm",n),...t})}const PX=["top","right","bottom","left"],tc=Math.min,Vs=Math.max,L1=Math.round,Cb=Math.floor,Co=n=>({x:n,y:n}),OX={left:"right",right:"left",bottom:"top",top:"bottom"},MX={start:"end",end:"start"};function Jk(n,t,e){return Vs(n,tc(t,e))}function Ba(n,t){return typeof n=="function"?n(t):n}function Fa(n){return n.split("-")[0]}function nf(n){return n.split("-")[1]}function wT(n){return n==="x"?"y":"x"}function yT(n){return n==="y"?"height":"width"}function nc(n){return["top","bottom"].includes(Fa(n))?"y":"x"}function _T(n){return wT(nc(n))}function DX(n,t,e){e===void 0&&(e=!1);const i=nf(n),s=_T(n),r=yT(s);let o=s==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=B1(o)),[o,B1(o)]}function VX(n){const t=B1(n);return[Qk(n),t,Qk(t)]}function Qk(n){return n.replace(/start|end/g,t=>MX[t])}function NX(n,t,e){const i=["left","right"],s=["right","left"],r=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return e?t?s:i:t?i:s;case"left":case"right":return t?r:o;default:return[]}}function LX(n,t,e,i){const s=nf(n);let r=NX(Fa(n),e==="start",i);return s&&(r=r.map(o=>o+"-"+s),t&&(r=r.concat(r.map(Qk)))),r}function B1(n){return n.replace(/left|right|bottom|top/g,t=>OX[t])}function BX(n){return{top:0,right:0,bottom:0,left:0,...n}}function QD(n){return typeof n!="number"?BX(n):{top:n,right:n,bottom:n,left:n}}function F1(n){const{x:t,y:e,width:i,height:s}=n;return{width:i,height:s,top:e,left:t,right:t+i,bottom:e+s,x:t,y:e}}function TI(n,t,e){let{reference:i,floating:s}=n;const r=nc(t),o=_T(t),a=yT(o),l=Fa(t),u=r==="y",h=i.x+i.width/2-s.width/2,m=i.y+i.height/2-s.height/2,p=i[a]/2-s[a]/2;let v;switch(l){case"top":v={x:h,y:i.y-s.height};break;case"bottom":v={x:h,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:m};break;case"left":v={x:i.x-s.width,y:m};break;default:v={x:i.x,y:i.y}}switch(nf(t)){case"start":v[o]-=p*(e&&u?-1:1);break;case"end":v[o]+=p*(e&&u?-1:1);break}return v}const FX=async(n,t,e)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:o}=e,a=r.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:n,floating:t,strategy:s}),{x:h,y:m}=TI(u,i,l),p=i,v={},_=0;for(let k=0;k<a.length;k++){const{name:C,fn:T}=a[k],{x:S,y:I,data:P,reset:O}=await T({x:h,y:m,initialPlacement:i,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:n,floating:t}});h=S??h,m=I??m,v={...v,[C]:{...v[C],...P}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:n,floating:t,strategy:s}):O.rects),{x:h,y:m}=TI(u,p,l)),k=-1)}return{x:h,y:m,placement:p,strategy:s,middlewareData:v}};async function wg(n,t){var e;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:v=0}=Ba(t,n),_=QD(v),C=a[p?m==="floating"?"reference":"floating":m],T=F1(await r.getClippingRect({element:(e=await(r.isElement==null?void 0:r.isElement(C)))==null||e?C:C.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),S=m==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),P=await(r.isElement==null?void 0:r.isElement(I))?await(r.getScale==null?void 0:r.getScale(I))||{x:1,y:1}:{x:1,y:1},O=F1(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:I,strategy:l}):S);return{top:(T.top-O.top+_.top)/P.y,bottom:(O.bottom-T.bottom+_.bottom)/P.y,left:(T.left-O.left+_.left)/P.x,right:(O.right-T.right+_.right)/P.x}}const zX=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:s,rects:r,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:h=0}=Ba(n,t)||{};if(u==null)return{};const m=QD(h),p={x:e,y:i},v=_T(s),_=yT(v),k=await o.getDimensions(u),C=v==="y",T=C?"top":"left",S=C?"bottom":"right",I=C?"clientHeight":"clientWidth",P=r.reference[_]+r.reference[v]-p[v]-r.floating[_],O=p[v]-r.reference[v],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=D?D[I]:0;(!N||!await(o.isElement==null?void 0:o.isElement(D)))&&(N=a.floating[I]||r.floating[_]);const j=P/2-O/2,z=N/2-k[_]/2-1,J=tc(m[T],z),_e=tc(m[S],z),ae=J,xe=N-k[_]-_e,be=N/2-k[_]/2+j,Ae=Jk(ae,be,xe),Y=!l.arrow&&nf(s)!=null&&be!==Ae&&r.reference[_]/2-(be<ae?J:_e)-k[_]/2<0,we=Y?be<ae?be-ae:be-xe:0;return{[v]:p[v]+we,data:{[v]:Ae,centerOffset:be-Ae-we,...Y&&{alignmentOffset:we}},reset:Y}}}),jX=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:s,middlewareData:r,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:k=!0,...C}=Ba(n,t);if((e=r.arrow)!=null&&e.alignmentOffset)return{};const T=Fa(s),S=nc(a),I=Fa(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=p||(I||!k?[B1(a)]:VX(a)),D=_!=="none";!p&&D&&O.push(...LX(a,k,_,P));const N=[a,...O],j=await wg(t,C),z=[];let J=((i=r.flip)==null?void 0:i.overflows)||[];if(h&&z.push(j[T]),m){const be=DX(s,o,P);z.push(j[be[0]],j[be[1]])}if(J=[...J,{placement:s,overflows:z}],!z.every(be=>be<=0)){var _e,ae;const be=(((_e=r.flip)==null?void 0:_e.index)||0)+1,Ae=N[be];if(Ae)return{data:{index:be,overflows:J},reset:{placement:Ae}};let Y=(ae=J.filter(we=>we.overflows[0]<=0).sort((we,ne)=>we.overflows[1]-ne.overflows[1])[0])==null?void 0:ae.placement;if(!Y)switch(v){case"bestFit":{var xe;const we=(xe=J.filter(ne=>{if(D){const re=nc(ne.placement);return re===S||re==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(re=>re>0).reduce((re,M)=>re+M,0)]).sort((ne,re)=>ne[1]-re[1])[0])==null?void 0:xe[0];we&&(Y=we);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function SI(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function AI(n){return PX.some(t=>n[t]>=0)}const UX=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:i="referenceHidden",...s}=Ba(n,t);switch(i){case"referenceHidden":{const r=await wg(t,{...s,elementContext:"reference"}),o=SI(r,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:AI(o)}}}case"escaped":{const r=await wg(t,{...s,altBoundary:!0}),o=SI(r,e.floating);return{data:{escapedOffsets:o,escaped:AI(o)}}}default:return{}}}}};async function HX(n,t){const{placement:e,platform:i,elements:s}=n,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=Fa(e),a=nf(e),l=nc(e)==="y",u=["left","top"].includes(o)?-1:1,h=r&&l?-1:1,m=Ba(t,n);let{mainAxis:p,crossAxis:v,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof _=="number"&&(v=a==="end"?_*-1:_),l?{x:v*h,y:p*u}:{x:p*u,y:v*h}}const $X=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:s,y:r,placement:o,middlewareData:a}=t,l=await HX(t,n);return o===((e=a.offset)==null?void 0:e.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:o}}}}},WX=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:T,y:S}=C;return{x:T,y:S}}},...l}=Ba(n,t),u={x:e,y:i},h=await wg(t,l),m=nc(Fa(s)),p=wT(m);let v=u[p],_=u[m];if(r){const C=p==="y"?"top":"left",T=p==="y"?"bottom":"right",S=v+h[C],I=v-h[T];v=Jk(S,v,I)}if(o){const C=m==="y"?"top":"left",T=m==="y"?"bottom":"right",S=_+h[C],I=_-h[T];_=Jk(S,_,I)}const k=a.fn({...t,[p]:v,[m]:_});return{...k,data:{x:k.x-e,y:k.y-i,enabled:{[p]:r,[m]:o}}}}}},qX=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:i,placement:s,rects:r,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ba(n,t),h={x:e,y:i},m=nc(s),p=wT(m);let v=h[p],_=h[m];const k=Ba(a,t),C=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(l){const I=p==="y"?"height":"width",P=r.reference[p]-r.floating[I]+C.mainAxis,O=r.reference[p]+r.reference[I]-C.mainAxis;v<P?v=P:v>O&&(v=O)}if(u){var T,S;const I=p==="y"?"width":"height",P=["top","left"].includes(Fa(s)),O=r.reference[m]-r.floating[I]+(P&&((T=o.offset)==null?void 0:T[m])||0)+(P?0:C.crossAxis),D=r.reference[m]+r.reference[I]+(P?0:((S=o.offset)==null?void 0:S[m])||0)-(P?C.crossAxis:0);_<O?_=O:_>D&&(_=D)}return{[p]:v,[m]:_}}}},GX=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:s,rects:r,platform:o,elements:a}=t,{apply:l=()=>{},...u}=Ba(n,t),h=await wg(t,u),m=Fa(s),p=nf(s),v=nc(s)==="y",{width:_,height:k}=r.floating;let C,T;m==="top"||m==="bottom"?(C=m,T=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=m,C=p==="end"?"top":"bottom");const S=k-h.top-h.bottom,I=_-h.left-h.right,P=tc(k-h[C],S),O=tc(_-h[T],I),D=!t.middlewareData.shift;let N=P,j=O;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(j=I),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(N=S),D&&!p){const J=Vs(h.left,0),_e=Vs(h.right,0),ae=Vs(h.top,0),xe=Vs(h.bottom,0);v?j=_-2*(J!==0||_e!==0?J+_e:Vs(h.left,h.right)):N=k-2*(ae!==0||xe!==0?ae+xe:Vs(h.top,h.bottom))}await l({...t,availableWidth:j,availableHeight:N});const z=await o.getDimensions(a.floating);return _!==z.width||k!==z.height?{reset:{rects:!0}}:{}}}};function mw(){return typeof window<"u"}function sf(n){return eV(n)?(n.nodeName||"").toLowerCase():"#document"}function zs(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function zo(n){var t;return(t=(eV(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function eV(n){return mw()?n instanceof Node||n instanceof zs(n).Node:!1}function Wr(n){return mw()?n instanceof Element||n instanceof zs(n).Element:!1}function Io(n){return mw()?n instanceof HTMLElement||n instanceof zs(n).HTMLElement:!1}function II(n){return!mw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof zs(n).ShadowRoot}function _p(n){const{overflow:t,overflowX:e,overflowY:i,display:s}=qr(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!["inline","contents"].includes(s)}function YX(n){return["table","td","th"].includes(sf(n))}function gw(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function xT(n){const t=kT(),e=Wr(n)?qr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(e.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(e.contain||"").includes(i))}function ZX(n){let t=ic(n);for(;Io(t)&&!Ih(t);){if(xT(t))return t;if(gw(t))return null;t=ic(t)}return null}function kT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ih(n){return["html","body","#document"].includes(sf(n))}function qr(n){return zs(n).getComputedStyle(n)}function pw(n){return Wr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ic(n){if(sf(n)==="html")return n;const t=n.assignedSlot||n.parentNode||II(n)&&n.host||zo(n);return II(t)?t.host:t}function tV(n){const t=ic(n);return Ih(t)?n.ownerDocument?n.ownerDocument.body:n.body:Io(t)&&_p(t)?t:tV(t)}function yg(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=tV(n),r=s===((i=n.ownerDocument)==null?void 0:i.body),o=zs(s);if(r){const a=eC(o);return t.concat(o,o.visualViewport||[],_p(s)?s:[],a&&e?yg(a):[])}return t.concat(s,yg(s,[],e))}function eC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function nV(n){const t=qr(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Io(n),r=s?n.offsetWidth:e,o=s?n.offsetHeight:i,a=L1(e)!==r||L1(i)!==o;return a&&(e=r,i=o),{width:e,height:i,$:a}}function CT(n){return Wr(n)?n:n.contextElement}function ph(n){const t=CT(n);if(!Io(t))return Co(1);const e=t.getBoundingClientRect(),{width:i,height:s,$:r}=nV(t);let o=(r?L1(e.width):e.width)/i,a=(r?L1(e.height):e.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const KX=Co(0);function iV(n){const t=zs(n);return!kT()||!t.visualViewport?KX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XX(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==zs(n)?!1:t}function vu(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=n.getBoundingClientRect(),r=CT(n);let o=Co(1);t&&(i?Wr(i)&&(o=ph(i)):o=ph(n));const a=XX(r,e,i)?iV(r):Co(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(r){const p=zs(r),v=i&&Wr(i)?zs(i):i;let _=p,k=eC(_);for(;k&&i&&v!==_;){const C=ph(k),T=k.getBoundingClientRect(),S=qr(k),I=T.left+(k.clientLeft+parseFloat(S.paddingLeft))*C.x,P=T.top+(k.clientTop+parseFloat(S.paddingTop))*C.y;l*=C.x,u*=C.y,h*=C.x,m*=C.y,l+=I,u+=P,_=zs(k),k=eC(_)}}return F1({width:h,height:m,x:l,y:u})}function ET(n,t){const e=pw(n).scrollLeft;return t?t.left+e:vu(zo(n)).left+e}function sV(n,t,e){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=i.left+t.scrollLeft-(e?0:ET(n,i)),r=i.top+t.scrollTop;return{x:s,y:r}}function JX(n){let{elements:t,rect:e,offsetParent:i,strategy:s}=n;const r=s==="fixed",o=zo(i),a=t?gw(t.floating):!1;if(i===o||a&&r)return e;let l={scrollLeft:0,scrollTop:0},u=Co(1);const h=Co(0),m=Io(i);if((m||!m&&!r)&&((sf(i)!=="body"||_p(o))&&(l=pw(i)),Io(i))){const v=vu(i);u=ph(i),h.x=v.x+i.clientLeft,h.y=v.y+i.clientTop}const p=o&&!m&&!r?sV(o,l,!0):Co(0);return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-l.scrollLeft*u.x+h.x+p.x,y:e.y*u.y-l.scrollTop*u.y+h.y+p.y}}function QX(n){return Array.from(n.getClientRects())}function eJ(n){const t=zo(n),e=pw(n),i=n.ownerDocument.body,s=Vs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=Vs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-e.scrollLeft+ET(n);const a=-e.scrollTop;return qr(i).direction==="rtl"&&(o+=Vs(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:o,y:a}}function tJ(n,t){const e=zs(n),i=zo(n),s=e.visualViewport;let r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;const u=kT();(!u||u&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a,y:l}}function nJ(n,t){const e=vu(n,!0,t==="fixed"),i=e.top+n.clientTop,s=e.left+n.clientLeft,r=Io(n)?ph(n):Co(1),o=n.clientWidth*r.x,a=n.clientHeight*r.y,l=s*r.x,u=i*r.y;return{width:o,height:a,x:l,y:u}}function RI(n,t,e){let i;if(t==="viewport")i=tJ(n,e);else if(t==="document")i=eJ(zo(n));else if(Wr(t))i=nJ(t,e);else{const s=iV(n);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return F1(i)}function rV(n,t){const e=ic(n);return e===t||!Wr(e)||Ih(e)?!1:qr(e).position==="fixed"||rV(e,t)}function iJ(n,t){const e=t.get(n);if(e)return e;let i=yg(n,[],!1).filter(a=>Wr(a)&&sf(a)!=="body"),s=null;const r=qr(n).position==="fixed";let o=r?ic(n):n;for(;Wr(o)&&!Ih(o);){const a=qr(o),l=xT(o);!l&&a.position==="fixed"&&(s=null),(r?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_p(o)&&!l&&rV(n,o))?i=i.filter(h=>h!==o):s=a,o=ic(o)}return t.set(n,i),i}function sJ(n){let{element:t,boundary:e,rootBoundary:i,strategy:s}=n;const o=[...e==="clippingAncestors"?gw(t)?[]:iJ(t,this._c):[].concat(e),i],a=o[0],l=o.reduce((u,h)=>{const m=RI(t,h,s);return u.top=Vs(m.top,u.top),u.right=tc(m.right,u.right),u.bottom=tc(m.bottom,u.bottom),u.left=Vs(m.left,u.left),u},RI(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rJ(n){const{width:t,height:e}=nV(n);return{width:t,height:e}}function oJ(n,t,e){const i=Io(t),s=zo(t),r=e==="fixed",o=vu(n,!0,r,t);let a={scrollLeft:0,scrollTop:0};const l=Co(0);if(i||!i&&!r)if((sf(t)!=="body"||_p(s))&&(a=pw(t)),i){const p=vu(t,!0,r,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&(l.x=ET(s));const u=s&&!i&&!r?sV(s,a):Co(0),h=o.left+a.scrollLeft-l.x-u.x,m=o.top+a.scrollTop-l.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function ex(n){return qr(n).position==="static"}function PI(n,t){if(!Io(n)||qr(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return zo(n)===e&&(e=e.ownerDocument.body),e}function oV(n,t){const e=zs(n);if(gw(n))return e;if(!Io(n)){let s=ic(n);for(;s&&!Ih(s);){if(Wr(s)&&!ex(s))return s;s=ic(s)}return e}let i=PI(n,t);for(;i&&YX(i)&&ex(i);)i=PI(i,t);return i&&Ih(i)&&ex(i)&&!xT(i)?e:i||ZX(n)||e}const aJ=async function(n){const t=this.getOffsetParent||oV,e=this.getDimensions,i=await e(n.floating);return{reference:oJ(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function lJ(n){return qr(n).direction==="rtl"}const cJ={convertOffsetParentRelativeRectToViewportRelativeRect:JX,getDocumentElement:zo,getClippingRect:sJ,getOffsetParent:oV,getElementRects:aJ,getClientRects:QX,getDimensions:rJ,getScale:ph,isElement:Wr,isRTL:lJ};function aV(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function uJ(n,t){let e=null,i;const s=zo(n);function r(){var a;clearTimeout(i),(a=e)==null||a.disconnect(),e=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),r();const u=n.getBoundingClientRect(),{left:h,top:m,width:p,height:v}=u;if(a||t(),!p||!v)return;const _=Cb(m),k=Cb(s.clientWidth-(h+p)),C=Cb(s.clientHeight-(m+v)),T=Cb(h),I={rootMargin:-_+"px "+-k+"px "+-C+"px "+-T+"px",threshold:Vs(0,tc(1,l))||1};let P=!0;function O(D){const N=D[0].intersectionRatio;if(N!==l){if(!P)return o();N?o(!1,N):i=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!aV(u,n.getBoundingClientRect())&&o(),P=!1}try{e=new IntersectionObserver(O,{...I,root:s.ownerDocument})}catch{e=new IntersectionObserver(O,I)}e.observe(n)}return o(!0),r}function dJ(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=CT(n),h=s||r?[...u?yg(u):[],...yg(t)]:[];h.forEach(T=>{s&&T.addEventListener("scroll",e,{passive:!0}),r&&T.addEventListener("resize",e)});const m=u&&a?uJ(u,e):null;let p=-1,v=null;o&&(v=new ResizeObserver(T=>{let[S]=T;S&&S.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var I;(I=v)==null||I.observe(t)})),e()}),u&&!l&&v.observe(u),v.observe(t));let _,k=l?vu(n):null;l&&C();function C(){const T=vu(n);k&&!aV(k,T)&&e(),k=T,_=requestAnimationFrame(C)}return e(),()=>{var T;h.forEach(S=>{s&&S.removeEventListener("scroll",e),r&&S.removeEventListener("resize",e)}),m==null||m(),(T=v)==null||T.disconnect(),v=null,l&&cancelAnimationFrame(_)}}const hJ=$X,fJ=WX,mJ=jX,gJ=GX,pJ=UX,OI=zX,bJ=qX,vJ=(n,t,e)=>{const i=new Map,s={platform:cJ,...e},r={...s.platform,_c:i};return FX(n,t,{...s,platform:r})};var l1=typeof document<"u"?E.useLayoutEffect:E.useEffect;function z1(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,i,s;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(i=e;i--!==0;)if(!z1(n[i],t[i]))return!1;return!0}if(s=Object.keys(n),e=s.length,e!==Object.keys(t).length)return!1;for(i=e;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=e;i--!==0;){const r=s[i];if(!(r==="_owner"&&n.$$typeof)&&!z1(n[r],t[r]))return!1}return!0}return n!==n&&t!==t}function lV(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function MI(n,t){const e=lV(n);return Math.round(t*e)/e}function tx(n){const t=E.useRef(n);return l1(()=>{t.current=n}),t}function wJ(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[h,m]=E.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=E.useState(i);z1(p,i)||v(i);const[_,k]=E.useState(null),[C,T]=E.useState(null),S=E.useCallback(ne=>{ne!==D.current&&(D.current=ne,k(ne))},[]),I=E.useCallback(ne=>{ne!==N.current&&(N.current=ne,T(ne))},[]),P=r||_,O=o||C,D=E.useRef(null),N=E.useRef(null),j=E.useRef(h),z=l!=null,J=tx(l),_e=tx(s),ae=tx(u),xe=E.useCallback(()=>{if(!D.current||!N.current)return;const ne={placement:t,strategy:e,middleware:p};_e.current&&(ne.platform=_e.current),vJ(D.current,N.current,ne).then(re=>{const M={...re,isPositioned:ae.current!==!1};be.current&&!z1(j.current,M)&&(j.current=M,bp.flushSync(()=>{m(M)}))})},[p,t,e,_e,ae]);l1(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,m(ne=>({...ne,isPositioned:!1})))},[u]);const be=E.useRef(!1);l1(()=>(be.current=!0,()=>{be.current=!1}),[]),l1(()=>{if(P&&(D.current=P),O&&(N.current=O),P&&O){if(J.current)return J.current(P,O,xe);xe()}},[P,O,xe,J,z]);const Ae=E.useMemo(()=>({reference:D,floating:N,setReference:S,setFloating:I}),[S,I]),Y=E.useMemo(()=>({reference:P,floating:O}),[P,O]),we=E.useMemo(()=>{const ne={position:e,left:0,top:0};if(!Y.floating)return ne;const re=MI(Y.floating,h.x),M=MI(Y.floating,h.y);return a?{...ne,transform:"translate("+re+"px, "+M+"px)",...lV(Y.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:re,top:M}},[e,a,Y.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:xe,refs:Ae,elements:Y,floatingStyles:we}),[h,xe,Ae,Y,we])}const yJ=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:i,padding:s}=typeof n=="function"?n(e):n;return i&&t(i)?i.current!=null?OI({element:i.current,padding:s}).fn(e):{}:i?OI({element:i,padding:s}).fn(e):{}}}},_J=(n,t)=>({...hJ(n),options:[n,t]}),xJ=(n,t)=>({...fJ(n),options:[n,t]}),kJ=(n,t)=>({...bJ(n),options:[n,t]}),CJ=(n,t)=>({...mJ(n),options:[n,t]}),EJ=(n,t)=>({...gJ(n),options:[n,t]}),TJ=(n,t)=>({...pJ(n),options:[n,t]}),SJ=(n,t)=>({...yJ(n),options:[n,t]});var AJ="Arrow",cV=E.forwardRef((n,t)=>{const{children:e,width:i=10,height:s=5,...r}=n;return y.jsx(Et.svg,{...r,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});cV.displayName=AJ;var IJ=cV;function RJ(n){const[t,e]=E.useState(void 0);return Bi(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let o,a;if("borderBoxSize"in r){const l=r.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;e({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else e(void 0)},[n]),t}var TT="Popper",[uV,rf]=tl(TT),[PJ,dV]=uV(TT),hV=n=>{const{__scopePopper:t,children:e}=n,[i,s]=E.useState(null);return y.jsx(PJ,{scope:t,anchor:i,onAnchorChange:s,children:e})};hV.displayName=TT;var fV="PopperAnchor",mV=E.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...s}=n,r=dV(fV,e),o=E.useRef(null),a=Jt(t,o);return E.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:y.jsx(Et.div,{...s,ref:a})});mV.displayName=fV;var ST="PopperContent",[OJ,MJ]=uV(ST),gV=E.forwardRef((n,t)=>{var se,ue,de,ie,Ee,ke;const{__scopePopper:e,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:_,...k}=n,C=dV(ST,e),[T,S]=E.useState(null),I=Jt(t,Ze=>S(Ze)),[P,O]=E.useState(null),D=RJ(P),N=(D==null?void 0:D.width)??0,j=(D==null?void 0:D.height)??0,z=i+(r!=="center"?"-"+r:""),J=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_e=Array.isArray(u)?u:[u],ae=_e.length>0,xe={padding:J,boundary:_e.filter(VJ),altBoundary:ae},{refs:be,floatingStyles:Ae,placement:Y,isPositioned:we,middlewareData:ne}=wJ({strategy:"fixed",placement:z,whileElementsMounted:(...Ze)=>dJ(...Ze,{animationFrame:v==="always"}),elements:{reference:C.anchor},middleware:[_J({mainAxis:s+j,alignmentAxis:o}),l&&xJ({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?kJ():void 0,...xe}),l&&CJ({...xe}),EJ({...xe,apply:({elements:Ze,rects:tt,availableWidth:Kt,availableHeight:Bt})=>{const{width:rt,height:B}=tt.reference,$=Ze.floating.style;$.setProperty("--radix-popper-available-width",`${Kt}px`),$.setProperty("--radix-popper-available-height",`${Bt}px`),$.setProperty("--radix-popper-anchor-width",`${rt}px`),$.setProperty("--radix-popper-anchor-height",`${B}px`)}}),P&&SJ({element:P,padding:a}),NJ({arrowWidth:N,arrowHeight:j}),p&&TJ({strategy:"referenceHidden",...xe})]}),[re,M]=vV(Y),oe=Us(_);Bi(()=>{we&&(oe==null||oe())},[we,oe]);const De=(se=ne.arrow)==null?void 0:se.x,Fe=(ue=ne.arrow)==null?void 0:ue.y,H=((de=ne.arrow)==null?void 0:de.centerOffset)!==0,[q,Q]=E.useState();return Bi(()=>{T&&Q(window.getComputedStyle(T).zIndex)},[T]),y.jsx("div",{ref:be.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:we?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ie=ne.transformOrigin)==null?void 0:ie.x,(Ee=ne.transformOrigin)==null?void 0:Ee.y].join(" "),...((ke=ne.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(OJ,{scope:e,placedSide:re,onArrowChange:O,arrowX:De,arrowY:Fe,shouldHideArrow:H,children:y.jsx(Et.div,{"data-side":re,"data-align":M,...k,ref:I,style:{...k.style,animation:we?void 0:"none"}})})})});gV.displayName=ST;var pV="PopperArrow",DJ={top:"bottom",right:"left",bottom:"top",left:"right"},bV=E.forwardRef(function(t,e){const{__scopePopper:i,...s}=t,r=MJ(pV,i),o=DJ[r.placedSide];return y.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:y.jsx(IJ,{...s,ref:e,style:{...s.style,display:"block"}})})});bV.displayName=pV;function VJ(n){return n!==null}var NJ=n=>({name:"transformOrigin",options:n,fn(t){var C,T,S;const{placement:e,rects:i,middlewareData:s}=t,o=((C=s.arrow)==null?void 0:C.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,h]=vV(e),m={start:"0%",center:"50%",end:"100%"}[h],p=(((T=s.arrow)==null?void 0:T.x)??0)+a/2,v=(((S=s.arrow)==null?void 0:S.y)??0)+l/2;let _="",k="";return u==="bottom"?(_=o?m:`${p}px`,k=`${-l}px`):u==="top"?(_=o?m:`${p}px`,k=`${i.floating.height+l}px`):u==="right"?(_=`${-l}px`,k=o?m:`${v}px`):u==="left"&&(_=`${i.floating.width+l}px`,k=o?m:`${v}px`),{data:{x:_,y:k}}}});function vV(n){const[t,e="center"]=n.split("-");return[t,e]}var AT=hV,IT=mV,RT=gV,PT=bV,LJ="VisuallyHidden",OT=E.forwardRef((n,t)=>y.jsx(Et.span,{...n,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));OT.displayName=LJ;var BJ=OT,[bw,kNe]=tl("Tooltip",[rf]),vw=rf(),wV="TooltipProvider",FJ=700,tC="tooltip.open",[zJ,MT]=bw(wV),yV=n=>{const{__scopeTooltip:t,delayDuration:e=FJ,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=n,[o,a]=E.useState(!0),l=E.useRef(!1),u=E.useRef(0);return E.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),y.jsx(zJ,{scope:t,isOpenDelayed:o,delayDuration:e,onOpen:E.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:r})};yV.displayName=wV;var ww="Tooltip",[jJ,xp]=bw(ww),_V=n=>{const{__scopeTooltip:t,children:e,open:i,defaultOpen:s=!1,onOpenChange:r,disableHoverableContent:o,delayDuration:a}=n,l=MT(ww,n.__scopeTooltip),u=vw(t),[h,m]=E.useState(null),p=ko(),v=E.useRef(0),_=o??l.disableHoverableContent,k=a??l.delayDuration,C=E.useRef(!1),[T=!1,S]=Ah({prop:i,defaultProp:s,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(tC))):l.onClose(),r==null||r(N)}}),I=E.useMemo(()=>T?C.current?"delayed-open":"instant-open":"closed",[T]),P=E.useCallback(()=>{window.clearTimeout(v.current),v.current=0,C.current=!1,S(!0)},[S]),O=E.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S(!1)},[S]),D=E.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{C.current=!0,S(!0),v.current=0},k)},[k,S]);return E.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),y.jsx(AT,{...u,children:y.jsx(jJ,{scope:t,contentId:p,open:T,stateAttribute:I,trigger:h,onTriggerChange:m,onTriggerEnter:E.useCallback(()=>{l.isOpenDelayed?D():P()},[l.isOpenDelayed,D,P]),onTriggerLeave:E.useCallback(()=>{_?O():(window.clearTimeout(v.current),v.current=0)},[O,_]),onOpen:P,onClose:O,disableHoverableContent:_,children:e})})};_V.displayName=ww;var nC="TooltipTrigger",xV=E.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=xp(nC,e),r=MT(nC,e),o=vw(e),a=E.useRef(null),l=Jt(t,a,s.onTriggerChange),u=E.useRef(!1),h=E.useRef(!1),m=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),y.jsx(IT,{asChild:!0,...o,children:y.jsx(Et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:l,onPointerMove:Ye(n.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ye(n.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ye(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ye(n.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ye(n.onBlur,s.onClose),onClick:Ye(n.onClick,s.onClose)})})});xV.displayName=nC;var DT="TooltipPortal",[UJ,HJ]=bw(DT,{forceMount:void 0}),kV=n=>{const{__scopeTooltip:t,forceMount:e,children:i,container:s}=n,r=xp(DT,t);return y.jsx(UJ,{scope:t,forceMount:e,children:y.jsx(Fo,{present:e||r.open,children:y.jsx(wp,{asChild:!0,container:s,children:i})})})};kV.displayName=DT;var Rh="TooltipContent",CV=E.forwardRef((n,t)=>{const e=HJ(Rh,n.__scopeTooltip),{forceMount:i=e.forceMount,side:s="top",...r}=n,o=xp(Rh,n.__scopeTooltip);return y.jsx(Fo,{present:i||o.open,children:o.disableHoverableContent?y.jsx(EV,{side:s,...r,ref:t}):y.jsx($J,{side:s,...r,ref:t})})}),$J=E.forwardRef((n,t)=>{const e=xp(Rh,n.__scopeTooltip),i=MT(Rh,n.__scopeTooltip),s=E.useRef(null),r=Jt(t,s),[o,a]=E.useState(null),{trigger:l,onClose:u}=e,h=s.current,{onPointerInTransitChange:m}=i,p=E.useCallback(()=>{a(null),m(!1)},[m]),v=E.useCallback((_,k)=>{const C=_.currentTarget,T={x:_.clientX,y:_.clientY},S=GJ(T,C.getBoundingClientRect()),I=YJ(T,S),P=ZJ(k.getBoundingClientRect()),O=XJ([...I,...P]);a(O),m(!0)},[m]);return E.useEffect(()=>()=>p(),[p]),E.useEffect(()=>{if(l&&h){const _=C=>v(C,h),k=C=>v(C,l);return l.addEventListener("pointerleave",_),h.addEventListener("pointerleave",k),()=>{l.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",k)}}},[l,h,v,p]),E.useEffect(()=>{if(o){const _=k=>{const C=k.target,T={x:k.clientX,y:k.clientY},S=(l==null?void 0:l.contains(C))||(h==null?void 0:h.contains(C)),I=!KJ(T,o);S?p():I&&(p(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,h,o,u,p]),y.jsx(EV,{...n,ref:r})}),[WJ,qJ]=bw(ww,{isInside:!1}),EV=E.forwardRef((n,t)=>{const{__scopeTooltip:e,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:o,...a}=n,l=xp(Rh,e),u=vw(e),{onClose:h}=l;return E.useEffect(()=>(document.addEventListener(tC,h),()=>document.removeEventListener(tC,h)),[h]),E.useEffect(()=>{if(l.trigger){const m=p=>{const v=p.target;v!=null&&v.contains(l.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,h]),y.jsx(vp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:y.jsxs(RT,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(gD,{children:i}),y.jsx(WJ,{scope:e,isInside:!0,children:y.jsx(BJ,{id:l.contentId,role:"tooltip",children:s||i})})]})})});CV.displayName=Rh;var TV="TooltipArrow",SV=E.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=vw(e);return qJ(TV,e).isInside?null:y.jsx(PT,{...s,...i,ref:t})});SV.displayName=TV;function GJ(n,t){const e=Math.abs(t.top-n.y),i=Math.abs(t.bottom-n.y),s=Math.abs(t.right-n.x),r=Math.abs(t.left-n.x);switch(Math.min(e,i,s,r)){case r:return"left";case s:return"right";case e:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function YJ(n,t,e=5){const i=[];switch(t){case"top":i.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":i.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":i.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":i.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return i}function ZJ(n){const{top:t,right:e,bottom:i,left:s}=n;return[{x:s,y:t},{x:e,y:t},{x:e,y:i},{x:s,y:i}]}function KJ(n,t){const{x:e,y:i}=n;let s=!1;for(let r=0,o=t.length-1;r<t.length;o=r++){const a=t[r].x,l=t[r].y,u=t[o].x,h=t[o].y;l>i!=h>i&&e<(u-a)*(i-l)/(h-l)+a&&(s=!s)}return s}function XJ(n){const t=n.slice();return t.sort((e,i)=>e.x<i.x?-1:e.x>i.x?1:e.y<i.y?-1:e.y>i.y?1:0),JJ(t)}function JJ(n){if(n.length<=1)return n.slice();const t=[];for(let i=0;i<n.length;i++){const s=n[i];for(;t.length>=2;){const r=t[t.length-1],o=t[t.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const e=[];for(let i=n.length-1;i>=0;i--){const s=n[i];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var QJ=yV,eQ=_V,tQ=xV,nQ=kV,iQ=CV,sQ=SV;function AV({delayDuration:n=0,...t}){return y.jsx(QJ,{"data-slot":"tooltip-provider",delayDuration:n,...t})}function rQ({...n}){return y.jsx(AV,{children:y.jsx(eQ,{"data-slot":"tooltip",...n})})}function oQ({...n}){return y.jsx(tQ,{"data-slot":"tooltip-trigger",...n})}function aQ({className:n,sideOffset:t=0,children:e,...i}){return y.jsx(nQ,{children:y.jsxs(iQ,{"data-slot":"tooltip-content",sideOffset:t,className:dt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",n),...i,children:[e,y.jsx(sQ,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const lQ="sidebar_state",cQ=60*60*24*7,uQ="16rem",dQ="18rem",hQ="3rem",fQ="b",IV=E.createContext(null);function VT(){const n=E.useContext(IV);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function mQ({defaultOpen:n=!0,open:t,onOpenChange:e,className:i,style:s,children:r,...o}){const a=lZ(),[l,u]=E.useState(!1),[h,m]=E.useState(n),p=t??h,v=E.useCallback(T=>{const S=typeof T=="function"?T(p):T;e?e(S):m(S),document.cookie=`${lQ}=${S}; path=/; max-age=${cQ}`},[e,p]),_=E.useCallback(()=>a?u(T=>!T):v(T=>!T),[a,v,u]);E.useEffect(()=>{const T=S=>{S.key===fQ&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),_())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[_]);const k=p?"expanded":"collapsed",C=E.useMemo(()=>({state:k,open:p,setOpen:v,isMobile:a,openMobile:l,setOpenMobile:u,toggleSidebar:_}),[k,p,v,a,l,u,_]);return y.jsx(IV.Provider,{value:C,children:y.jsx(AV,{delayDuration:0,children:y.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":uQ,"--sidebar-width-icon":hQ,...s},className:dt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...o,children:r})})})}function gQ({side:n="left",variant:t="sidebar",collapsible:e="offcanvas",className:i,children:s,...r}){const{isMobile:o,state:a,openMobile:l,setOpenMobile:u}=VT();return e==="none"?y.jsx("div",{"data-slot":"sidebar",className:dt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",i),...r,children:s}):o?y.jsx(CX,{open:l,onOpenChange:u,...r,children:y.jsxs(SX,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":dQ},side:n,children:[y.jsxs(AX,{className:"sr-only",children:[y.jsx(IX,{children:"Sidebar"}),y.jsx(RX,{children:"Displays the mobile sidebar."})]}),y.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):y.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?e:"","data-variant":t,"data-side":n,"data-slot":"sidebar",children:[y.jsx("div",{className:dt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),y.jsx("div",{className:dt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...r,children:y.jsx("div",{"data-sidebar":"sidebar",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function pQ({className:n,...t}){return y.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:dt("flex flex-col gap-2 p-2",n),...t})}function bQ({className:n,...t}){return y.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:dt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...t})}function DI({className:n,...t}){return y.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:dt("relative flex w-full min-w-0 flex-col p-2",n),...t})}function vQ({className:n,asChild:t=!1,...e}){const i=t?pr:"div";return y.jsx(i,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:dt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...e})}function VI({className:n,...t}){return y.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:dt("flex w-full min-w-0 flex-col gap-1",n),...t})}function Bd({className:n,...t}){return y.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:dt("group/menu-item relative",n),...t})}const wQ=uT("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Fd({asChild:n=!1,isActive:t=!1,variant:e="default",size:i="default",tooltip:s,className:r,...o}){const a=n?pr:"button",{isMobile:l,state:u}=VT(),h=y.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":t,className:dt(wQ({variant:e,size:i}),r),...o});return s?(typeof s=="string"&&(s={children:s}),y.jsxs(rQ,{children:[y.jsx(oQ,{asChild:!0,children:h}),y.jsx(aQ,{side:"right",align:"center",hidden:u!=="collapsed"||l,...s})]})):h}const NT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAYAAAAIeF9DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEU2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI0LTExLTA1PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjE8L0F0dHJpYjpFeHRJZD4KICAgICA8QXR0cmliOkZiSWQ+NTI1MjY1OTE0MTc5NTgwPC9BdHRyaWI6RmJJZD4KICAgICA8QXR0cmliOlRvdWNoVHlwZT4yPC9BdHRyaWI6VG91Y2hUeXBlPgogICAgPC9yZGY6bGk+CiAgIDwvcmRmOlNlcT4KICA8L0F0dHJpYjpBZHM+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyc+CiAgPGRjOnRpdGxlPgogICA8cmRmOkFsdD4KICAgIDxyZGY6bGkgeG1sOmxhbmc9J3gtZGVmYXVsdCc+RGFzaCAtIDE8L3JkZjpsaT4KICAgPC9yZGY6QWx0PgogIDwvZGM6dGl0bGU+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLyc+CiAgPHBkZjpBdXRob3I+VmFpYmhhdiBHb3N3YW1pPC9wZGY6QXV0aG9yPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPgogIDx4bXA6Q3JlYXRvclRvb2w+Q2FudmEgKFJlbmRlcmVyKTwveG1wOkNyZWF0b3JUb29sPgogPC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9J3InPz5363GrAAAHDUlEQVR4nO2ZX0xU2R3HP3eG+cMwA7NO2UEDrgsBCyZrFaOGFLvZoN1EJF3U1D+tVk1MqqtgUBOljS/ii7GJtQ82cbEaVx/W1BoRZCIaDPsgKhYXaroasCBqkUGE+cMM3Dt9oDs63jvDzOC203o/b+fe3/2e35zv3HN+9xwhEAgEUEkYNP/tBFRCUQ1JMFRDEgzVkARDNSTBUA1JMFRDEoykaANFMcDTLh+Pv/XhGhLxeSUEAfRGDUaTBvsHerI/SkabJHyf+f7fM6khXpfIbccItx3DeEakiLEpaVoWfmph4adpJOlVY+JBiPSl/viBjz//vp+RQTEmUfssPat3vU/aD6J+AVX+TVhDHv7Vw1e/60eKzYsgKWlafvnbDGzTdVPJ751DcVF/6RznL38YiNsMAPdLkYYvnPELvKMoGuI4PYjPG3m9mIz0LB0/+zx9ShrvIrJJ/tkjP9/e9kR8KNmsIeNDPUaThqfdfob6x0PuZ/3QwM+r7BhMalUdKzJDOr52RXzgRx+b+emvbCTpXlVR92+6aah14nVJ5BWa+Ozz9IhVVnd3N263O2I/Wq0Wk8mEzWbDbDYrxty/f5+xsbFg22g0kpeXF1FXCbfbTWdnJ319fbhcLgRBwGw2k5WVRUFBAcnJyXFrZGZmMmfOnKg0QGFR/+I3T3jW7VcMfj9Lx5aaGWi08sF+0uWjo8VNyS/eQ6OJXPKuXbuWmzdvRpUggM1mY9GiRWzbto2CgoLg9eLiYvr6+oLt2bNn09DQELVuR0cHR48epbm5mfHxccUYvV5PSUkJFRUV5Obmxq2xbNkyKioqyMnJiZiTbE4ZfDamFAfAR0vMMjM8IyLtN1w8fzyGfZaeb1rctN9w0X7DhWtoClXBazidTurr61m1ahWPHj16K5qXLl2ivLycpqamsAMJ4Pf7qa+vp6ysjGvXrsWtUVdXR2lpKVevXo2Yl2zK8nvDHyBapsm/K4b6x6n744Bi/Pr9dszWyV9VnU7HunXrgm1RFBkYGKClpQWX69UUOjo6isPhYOvWrZNqRqK7u5vdu3fLBjEnJ4fCwkIkSaK1tZWenp7gPZ/Px86dO2lqasJut4fVyM7OZv78+UiSxK1bt+jt7Q3RqKysxOFwMGPGDMXcZCOcpBMYH1M2ZWx0apVXOAwGAwcOHJBdP3HiBIcOHQq55vP5ptzf6dOnQ9YegM2bN7N//340molJQxRF9u3bx/nz54MxHo+Hs2fPsmvXLkWNTZs2UV1dHaJx7NgxHjx4EBLX0dERvSFmq5ah58qv3+MHPuZ+bJns98aMz+fj4MGDwbYoijidTpqbm0PirFYrZWVlU+6vra0tpG02m9mzZ09wIGGiqKiurubChQuI4qup9+7du2E19u7dK9OorKyMKTeZIfYP9GEN+abFReFSCxmzDDF1MhljY2PU1tZGjDGZTGzfvj3sPysWRkZGQtp2ux2DQf6b0tLSsFqtOJ2vPnCHh4ej1jh+/HhI0fEdCxcuZMWKFYq5yQzJnZ/M38N8h4jj8OWhf/KT1VZy5iYjCAJPu6c+hRgMBmpqaoJtSZLwer20tbVx8eJFYGK6qKmpoa6ujnPnzmE0GuPuz2azhRQHvb29DA0NYbVaQ+L6+voYHByUPRutxpUrV7h3755iDlEbkr84hWvnXoTd2R11SzT+aVDxXrzodDrKy8tl10tKSoKGfEd7ezutra0sWbIk7v6Kioq4c+dOsO33+6mqquLIkSPBAR0YGKCqqoo3t/qKioqi1tixYweNjY0h69BkyAzRGzQsWWXlysm3O+iR8Hg8rF69OtgOBAJ4vd6wJW56uvKWTE9PDytXrozY1+HDh9m4cSNnzpzhxYsXwevXr19n8eLF5ObmIkkSDx8+lC3aGRkZrFmzBmBSDZ1OR39/P0+ePImYz5so7o8XlqTyj7+Ncv9m5C2Ut4UkSSH/tkgsX76c/Px8xXterze46IbD4/GQnZ1NbW0tW7ZsCZmS/H4/nZ2dis9lZGRw8uRJUlJSAJg2bVrMGoIgyN64Nwl7YFH263Tgedym6I0CZqs2rmdhokIxGo2kpqYyffp08vPzWbp0KcXFxXFrvs7cuXNxOBycOnWKy5cv09XVJYsRBIG8vDxKS0vZsGEDFoslZg2dTseCBQtYv349bW1tkxYvEQ+oAG41DtP81Qt8ET4YX0ebJDDvEzM//sxKSmr8hvynGRkZCe5DAVgsFjIzM4NvRKwaWq2W1NRUZs6ciU43cSYUCAQIBAIIgoAgKG8vTWoITGyP3G4cpqtjlKddPtk5iTYJMj40kDsvmXmfWDBZ/neMSDSiMuR1RDGA+6WIJIJWC1qdgNGkUdxwVImdmA1R+X5RT5ASDNWQBEM1JMFQDUkwVEMSDNWQBEM1JMFQDUkwVEMSjH8B2Ub9X1TCdd4AAAAASUVORK5CYII=";var RV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NI=Ve.createContext&&Ve.createContext(RV),yQ=["attr","size","title"];function _Q(n,t){if(n==null)return{};var e=xQ(n,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function xQ(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function j1(){return j1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},j1.apply(this,arguments)}function LI(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function U1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(e),!0).forEach(function(i){kQ(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):LI(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function kQ(n,t,e){return t=CQ(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function CQ(n){var t=EQ(n,"string");return typeof t=="symbol"?t:t+""}function EQ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function PV(n){return n&&n.map((t,e)=>Ve.createElement(t.tag,U1({key:e},t.attr),PV(t.child)))}function Qn(n){return t=>Ve.createElement(TQ,j1({attr:U1({},n.attr)},t),PV(n.child))}function TQ(n){var t=e=>{var{attr:i,size:s,title:r}=n,o=_Q(n,yQ),a=s||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),Ve.createElement("svg",j1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,o,{className:l,style:U1(U1({color:n.color||e.color},e.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&Ve.createElement("title",null,r),n.children)};return NI!==void 0?Ve.createElement(NI.Consumer,null,e=>t(e)):t(RV)}function SQ(n){return Qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m350.54 148.68-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 0 0-32 32v192a32 32 0 0 0 32 32h352a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"272",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M124 158v-22h-24v22"},child:[]}]})(n)}function AQ(n){return Qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(n)}function IQ(n){return Qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function RQ(n){return Qn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11 4h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6h-4v-4h4v4zM17 3c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zM7 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(n)}function PQ(n){return Qn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11-6h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 6h-4V5h4v4zm-9 4H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6H5v-4h4v4zm8-6c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(n)}function OQ(n){return Qn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M5,16 C3.343,16 2,17.343 2,19 C2,20.657 3.343,22 5,22 C6.657,22 8,20.657 8,19 C8,17.343 6.657,16 5,16 L5,16 L5,16 Z M5,1 C14.925,1 23,9.075 23,19 L23,19 M18,19 C18,11.832 12.168,6 5,6 M13,19 C13,14.589 9.411,11 5,11 M2,11 L2,19 L2,19"},child:[]}]})(n)}function MQ(n){return Qn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function DQ(n){return Qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function VQ(n){return Qn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(n)}function NQ(n){return Qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M144 208c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zM256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(n)}function LQ(n){return Qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(n)}function BQ(n){return Qn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(n)}function yw(n){return Qn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"},child:[]}]})(n)}function OV(n){return Qn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"},child:[]}]})(n)}function FQ(n){return Qn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12Zm0-1.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"},child:[]}]})(n)}const wu="/",yu="/sign-in",MV="/sign-up",DV="/profile",VV="/categories",NV="/category/add",LV=n=>n?`/category/edit/${n}`:"/category/edit/:category_id",_w="/blog",LT="/blog/add",BV=n=>n?`/blog/edit/${n}`:"/blog/edit/:blogid",BT=(n,t)=>!n||!t?"/blog/:category/:blog":`/blog/${n}/${t}`,FV=n=>n?`/blog/${n}`:"/blog/:category",zV=n=>n?`/search?q=${n}`:"/search",jV="/comments",UV="/users",Ii=(n,t={},e=[])=>{const[i,s]=E.useState(),[r,o]=E.useState(!1),[a,l]=E.useState();return E.useEffect(()=>{(async()=>{o(!0);try{const h=await fetch(n,t),m=await h.json();if(!h.ok)throw new Error(`Error: ${h.statusText}, ${h.status}`);s(m),l()}catch(h){l(h)}finally{o(!1)}})()},e),{data:i,loading:r,error:a}},zQ={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3000/api",VITE_FIREBASE_API:"AIzaSyC1rhtUfduwTZQ0hzCaO5n8QhsfjMQtd_I"},Ot=n=>zQ[n];var nx={exports:{}},ix={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI;function jQ(){if(BI)return ix;BI=1;var n=rw();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,s=n.useRef,r=n.useEffect,o=n.useMemo,a=n.useDebugValue;return ix.useSyncExternalStoreWithSelector=function(l,u,h,m,p){var v=s(null);if(v.current===null){var _={hasValue:!1,value:null};v.current=_}else _=v.current;v=o(function(){function C(O){if(!T){if(T=!0,S=O,O=m(O),p!==void 0&&_.hasValue){var D=_.value;if(p(D,O))return I=D}return I=O}if(D=I,e(S,O))return D;var N=m(O);return p!==void 0&&p(D,N)?(S=O,D):(S=O,I=N)}var T=!1,S,I,P=h===void 0?null:h;return[function(){return C(u())},P===null?void 0:function(){return C(P())}]},[u,h,m,p]);var k=i(l,v[0],v[1]);return r(function(){_.hasValue=!0,_.value=k},[k]),a(k),k},ix}var FI;function UQ(){return FI||(FI=1,nx.exports=jQ()),nx.exports}var HQ=UQ();function $Q(n){n()}function WQ(){let n=null,t=null;return{clear(){n=null,t=null},notify(){$Q(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const s=t={callback:e,next:null,prev:t};return s.prev?s.prev.next=s:n=s,function(){!i||n===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var zI={notify(){},get:()=>[]};function qQ(n,t){let e,i=zI,s=0,r=!1;function o(k){h();const C=i.subscribe(k);let T=!1;return()=>{T||(T=!0,C(),m())}}function a(){i.notify()}function l(){_.onStateChange&&_.onStateChange()}function u(){return r}function h(){s++,e||(e=n.subscribe(l),i=WQ())}function m(){s--,e&&s===0&&(e(),e=void 0,i.clear(),i=zI)}function p(){r||(r=!0,h())}function v(){r&&(r=!1,m())}const _={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:v,getListeners:()=>i};return _}var GQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YQ=GQ(),ZQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",KQ=ZQ(),XQ=()=>YQ||KQ?E.useLayoutEffect:E.useEffect,JQ=XQ(),sx=Symbol.for("react-redux-context"),rx=typeof globalThis<"u"?globalThis:{};function QQ(){if(!E.createContext)return{};const n=rx[sx]??(rx[sx]=new Map);let t=n.get(E.createContext);return t||(t=E.createContext(null),n.set(E.createContext,t)),t}var sc=QQ();function eee(n){const{children:t,context:e,serverState:i,store:s}=n,r=E.useMemo(()=>{const l=qQ(s);return{store:s,subscription:l,getServerState:i?()=>i:void 0}},[s,i]),o=E.useMemo(()=>s.getState(),[s]);JQ(()=>{const{subscription:l}=r;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[r,o]);const a=e||sc;return E.createElement(a.Provider,{value:r},t)}var tee=eee;function FT(n=sc){return function(){return E.useContext(n)}}var HV=FT();function $V(n=sc){const t=n===sc?HV:FT(n),e=()=>{const{store:i}=t();return i};return Object.assign(e,{withTypes:()=>e}),e}var nee=$V();function iee(n=sc){const t=n===sc?nee:$V(n),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var xw=iee(),see=(n,t)=>n===t;function ree(n=sc){const t=n===sc?HV:FT(n),e=(i,s={})=>{const{equalityFn:r=see}=typeof s=="function"?{equalityFn:s}:s,o=t(),{store:a,subscription:l,getServerState:u}=o;E.useRef(!0);const h=E.useCallback({[i.name](p){return i(p)}}[i.name],[i]),m=HQ.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,h,r);return E.useDebugValue(m),m};return Object.assign(e,{withTypes:()=>e}),e}var jo=ree();const oee=()=>{const n=jo(e=>e.user),{data:t}=Ii(`${Ot("VITE_API_BASE_URL")}/category/all-category`,{method:"get",credentials:"include"});return y.jsxs(gQ,{children:[y.jsx(pQ,{className:"bg-white",children:y.jsx("img",{src:NT,width:120})}),y.jsxs(bQ,{className:"bg-white",children:[y.jsx(DI,{children:y.jsxs(VI,{children:[y.jsx(Bd,{children:y.jsxs(Fd,{children:[y.jsx(AQ,{}),y.jsx(Hn,{to:wu,children:"Home"})]})}),n&&n.isLoggedIn?y.jsxs(y.Fragment,{children:[y.jsx(Bd,{children:y.jsxs(Fd,{children:[y.jsx(OQ,{}),y.jsx(Hn,{to:_w,children:"Blogs"})]})}),y.jsx(Bd,{children:y.jsxs(Fd,{children:[y.jsx(NQ,{}),y.jsx(Hn,{to:jV,children:"Comments"})]})})]}):y.jsx(y.Fragment,{}),n&&n.isLoggedIn&&n.user.role==="admin"?y.jsxs(y.Fragment,{children:[y.jsx(Bd,{children:y.jsxs(Fd,{children:[y.jsx(RQ,{}),y.jsx(Hn,{to:VV,children:"Categories"})]})}),y.jsx(Bd,{children:y.jsxs(Fd,{children:[y.jsx(OV,{}),y.jsx(Hn,{to:UV,children:"Users"})]})})]}):y.jsx(y.Fragment,{})]})}),y.jsxs(DI,{children:[y.jsx(vQ,{children:"Categories"}),y.jsx(VI,{children:t&&t.category.length>0&&t.category.map(e=>y.jsx(Bd,{children:y.jsxs(Fd,{children:[y.jsx(FQ,{}),y.jsx(Hn,{to:FV(e.slug),children:e.name})]})},e._id))})]})]})]})},aee=()=>y.jsxs("div",{className:"text-sm text-center bg-gray-50 pb-4 pt-2",children:[" Copyright 2025 | Designed and Developed By: ",y.jsx("a",{href:"",children:"Developer Farhan"})," "]});function lee(n){return Qn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(n)}function cee(n){return Qn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(n)}const uee=()=>{const n=Bo(),[t,e]=E.useState(),i=r=>{e(r.target.value)},s=r=>{r.preventDefault(),n(zV(t))};return y.jsx("form",{onSubmit:s,children:y.jsx(Ai,{name:"q",onInput:i,placeholder:"Search Here ...",className:"h-9 rounded-full bg-gray-50"})})};var zT="Avatar",[dee,CNe]=tl(zT),[hee,WV]=dee(zT),kp=E.forwardRef((n,t)=>{const{__scopeAvatar:e,...i}=n,[s,r]=E.useState("idle");return y.jsx(hee,{scope:e,imageLoadingStatus:s,onImageLoadingStatusChange:r,children:y.jsx(Et.span,{...i,ref:t})})});kp.displayName=zT;var qV="AvatarImage",_u=E.forwardRef((n,t)=>{const{__scopeAvatar:e,src:i,onLoadingStatusChange:s=()=>{},...r}=n,o=WV(qV,e),a=fee(i,r.referrerPolicy),l=Us(u=>{s(u),o.onImageLoadingStatusChange(u)});return Bi(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?y.jsx(Et.img,{...r,ref:t,src:i}):null});_u.displayName=qV;var GV="AvatarFallback",YV=E.forwardRef((n,t)=>{const{__scopeAvatar:e,delayMs:i,...s}=n,r=WV(GV,e),[o,a]=E.useState(i===void 0);return E.useEffect(()=>{if(i!==void 0){const l=window.setTimeout(()=>a(!0),i);return()=>window.clearTimeout(l)}},[i]),o&&r.imageLoadingStatus!=="loaded"?y.jsx(Et.span,{...s,ref:t}):null});YV.displayName=GV;function fee(n,t){const[e,i]=E.useState("idle");return Bi(()=>{if(!n){i("error");return}let s=!0;const r=new window.Image,o=a=>()=>{s&&i(a)};return i("loading"),r.onload=o("loaded"),r.onerror=o("error"),r.src=n,t&&(r.referrerPolicy=t),()=>{s=!1}},[n,t]),e}var mee=kp,gee=_u,pee=YV;function iC({className:n,...t}){return y.jsx(mee,{"data-slot":"avatar",className:dt("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...t})}function bee({className:n,...t}){return y.jsx(gee,{"data-slot":"avatar-image",className:dt("aspect-square size-full",n),...t})}function vee({className:n,...t}){return y.jsx(pee,{"data-slot":"avatar-fallback",className:dt("bg-muted flex size-full items-center justify-center rounded-full",n),...t})}function jT(n){const t=n+"CollectionProvider",[e,i]=tl(t),[s,r]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:k}=v,C=Ve.useRef(null),T=Ve.useRef(new Map).current;return y.jsx(s,{scope:_,itemMap:T,collectionRef:C,children:k})};o.displayName=t;const a=n+"CollectionSlot",l=Ve.forwardRef((v,_)=>{const{scope:k,children:C}=v,T=r(a,k),S=Jt(_,T.collectionRef);return y.jsx(pr,{ref:S,children:C})});l.displayName=a;const u=n+"CollectionItemSlot",h="data-radix-collection-item",m=Ve.forwardRef((v,_)=>{const{scope:k,children:C,...T}=v,S=Ve.useRef(null),I=Jt(_,S),P=r(u,k);return Ve.useEffect(()=>(P.itemMap.set(S,{ref:S,...T}),()=>void P.itemMap.delete(S))),y.jsx(pr,{[h]:"",ref:I,children:C})});m.displayName=u;function p(v){const _=r(n+"CollectionConsumer",v);return Ve.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((P,O)=>T.indexOf(P.ref.current)-T.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:m},p,i]}var wee=E.createContext(void 0);function UT(n){const t=E.useContext(wee);return n||t||"ltr"}var ox="rovingFocusGroup.onEntryFocus",yee={bubbles:!1,cancelable:!0},kw="RovingFocusGroup",[sC,ZV,_ee]=jT(kw),[xee,KV]=tl(kw,[_ee]),[kee,Cee]=xee(kw),XV=E.forwardRef((n,t)=>y.jsx(sC.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(sC.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(Eee,{...n,ref:t})})}));XV.displayName=kw;var Eee=E.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,orientation:i,loop:s=!1,dir:r,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=n,p=E.useRef(null),v=Jt(t,p),_=UT(r),[k=null,C]=Ah({prop:o,defaultProp:a,onChange:l}),[T,S]=E.useState(!1),I=Us(u),P=ZV(e),O=E.useRef(!1),[D,N]=E.useState(0);return E.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(ox,I),()=>j.removeEventListener(ox,I)},[I]),y.jsx(kee,{scope:e,orientation:i,dir:_,loop:s,currentTabStopId:k,onItemFocus:E.useCallback(j=>C(j),[C]),onItemShiftTab:E.useCallback(()=>S(!0),[]),onFocusableItemAdd:E.useCallback(()=>N(j=>j+1),[]),onFocusableItemRemove:E.useCallback(()=>N(j=>j-1),[]),children:y.jsx(Et.div,{tabIndex:T||D===0?-1:0,"data-orientation":i,...m,ref:v,style:{outline:"none",...n.style},onMouseDown:Ye(n.onMouseDown,()=>{O.current=!0}),onFocus:Ye(n.onFocus,j=>{const z=!O.current;if(j.target===j.currentTarget&&z&&!T){const J=new CustomEvent(ox,yee);if(j.currentTarget.dispatchEvent(J),!J.defaultPrevented){const _e=P().filter(Y=>Y.focusable),ae=_e.find(Y=>Y.active),xe=_e.find(Y=>Y.id===k),Ae=[ae,xe,..._e].filter(Boolean).map(Y=>Y.ref.current);e9(Ae,h)}}O.current=!1}),onBlur:Ye(n.onBlur,()=>S(!1))})})}),JV="RovingFocusGroupItem",QV=E.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,focusable:i=!0,active:s=!1,tabStopId:r,...o}=n,a=ko(),l=r||a,u=Cee(JV,e),h=u.currentTabStopId===l,m=ZV(e),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return E.useEffect(()=>{if(i)return p(),()=>v()},[i,p,v]),y.jsx(sC.ItemSlot,{scope:e,id:l,focusable:i,active:s,children:y.jsx(Et.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Ye(n.onMouseDown,_=>{i?u.onItemFocus(l):_.preventDefault()}),onFocus:Ye(n.onFocus,()=>u.onItemFocus(l)),onKeyDown:Ye(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const k=Aee(_,u.orientation,u.dir);if(k!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=m().filter(S=>S.focusable).map(S=>S.ref.current);if(k==="last")T.reverse();else if(k==="prev"||k==="next"){k==="prev"&&T.reverse();const S=T.indexOf(_.currentTarget);T=u.loop?Iee(T,S+1):T.slice(S+1)}setTimeout(()=>e9(T))}})})})});QV.displayName=JV;var Tee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function See(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Aee(n,t,e){const i=See(n.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Tee[i]}function e9(n,t=!1){const e=document.activeElement;for(const i of n)if(i===e||(i.focus({preventScroll:t}),document.activeElement!==e))return}function Iee(n,t){return n.map((e,i)=>n[(t+i)%n.length])}var Ree=XV,Pee=QV,rC=["Enter"," "],Oee=["ArrowDown","PageUp","Home"],t9=["ArrowUp","PageDown","End"],Mee=[...Oee,...t9],Dee={ltr:[...rC,"ArrowRight"],rtl:[...rC,"ArrowLeft"]},Vee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cp="Menu",[_g,Nee,Lee]=jT(Cp),[Lu,n9]=tl(Cp,[Lee,rf,KV]),Cw=rf(),i9=KV(),[Bee,Bu]=Lu(Cp),[Fee,Ep]=Lu(Cp),s9=n=>{const{__scopeMenu:t,open:e=!1,children:i,dir:s,onOpenChange:r,modal:o=!0}=n,a=Cw(t),[l,u]=E.useState(null),h=E.useRef(!1),m=Us(r),p=UT(s);return E.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),y.jsx(AT,{...a,children:y.jsx(Bee,{scope:t,open:e,onOpenChange:m,content:l,onContentChange:u,children:y.jsx(Fee,{scope:t,onClose:E.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:o,children:i})})})};s9.displayName=Cp;var zee="MenuAnchor",HT=E.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n,s=Cw(e);return y.jsx(IT,{...s,...i,ref:t})});HT.displayName=zee;var $T="MenuPortal",[jee,r9]=Lu($T,{forceMount:void 0}),o9=n=>{const{__scopeMenu:t,forceMount:e,children:i,container:s}=n,r=Bu($T,t);return y.jsx(jee,{scope:t,forceMount:e,children:y.jsx(Fo,{present:e||r.open,children:y.jsx(wp,{asChild:!0,container:s,children:i})})})};o9.displayName=$T;var hr="MenuContent",[Uee,WT]=Lu(hr),a9=E.forwardRef((n,t)=>{const e=r9(hr,n.__scopeMenu),{forceMount:i=e.forceMount,...s}=n,r=Bu(hr,n.__scopeMenu),o=Ep(hr,n.__scopeMenu);return y.jsx(_g.Provider,{scope:n.__scopeMenu,children:y.jsx(Fo,{present:i||r.open,children:y.jsx(_g.Slot,{scope:n.__scopeMenu,children:o.modal?y.jsx(Hee,{...s,ref:t}):y.jsx($ee,{...s,ref:t})})})})}),Hee=E.forwardRef((n,t)=>{const e=Bu(hr,n.__scopeMenu),i=E.useRef(null),s=Jt(t,i);return E.useEffect(()=>{const r=i.current;if(r)return mT(r)},[]),y.jsx(qT,{...n,ref:s,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:Ye(n.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),$ee=E.forwardRef((n,t)=>{const e=Bu(hr,n.__scopeMenu);return y.jsx(qT,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),qT=E.forwardRef((n,t)=>{const{__scopeMenu:e,loop:i=!1,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:v,disableOutsideScroll:_,...k}=n,C=Bu(hr,e),T=Ep(hr,e),S=Cw(e),I=i9(e),P=Nee(e),[O,D]=E.useState(null),N=E.useRef(null),j=Jt(t,N,C.onContentChange),z=E.useRef(0),J=E.useRef(""),_e=E.useRef(0),ae=E.useRef(null),xe=E.useRef("right"),be=E.useRef(0),Ae=_?fw:E.Fragment,Y=_?{as:pr,allowPinchZoom:!0}:void 0,we=re=>{var se,ue;const M=J.current+re,oe=P().filter(de=>!de.disabled),De=document.activeElement,Fe=(se=oe.find(de=>de.ref.current===De))==null?void 0:se.textValue,H=oe.map(de=>de.textValue),q=nte(H,M,Fe),Q=(ue=oe.find(de=>de.textValue===q))==null?void 0:ue.ref.current;(function de(ie){J.current=ie,window.clearTimeout(z.current),ie!==""&&(z.current=window.setTimeout(()=>de(""),1e3))})(M),Q&&setTimeout(()=>Q.focus())};E.useEffect(()=>()=>window.clearTimeout(z.current),[]),fT();const ne=E.useCallback(re=>{var oe,De;return xe.current===((oe=ae.current)==null?void 0:oe.side)&&ste(re,(De=ae.current)==null?void 0:De.area)},[]);return y.jsx(Uee,{scope:e,searchRef:J,onItemEnter:E.useCallback(re=>{ne(re)&&re.preventDefault()},[ne]),onItemLeave:E.useCallback(re=>{var M;ne(re)||((M=N.current)==null||M.focus(),D(null))},[ne]),onTriggerLeave:E.useCallback(re=>{ne(re)&&re.preventDefault()},[ne]),pointerGraceTimerRef:_e,onPointerGraceIntentChange:E.useCallback(re=>{ae.current=re},[]),children:y.jsx(Ae,{...Y,children:y.jsx(dw,{asChild:!0,trapped:s,onMountAutoFocus:Ye(r,re=>{var M;re.preventDefault(),(M=N.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(vp,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:v,children:y.jsx(Ree,{asChild:!0,...I,dir:T.dir,orientation:"vertical",loop:i,currentTabStopId:O,onCurrentTabStopIdChange:D,onEntryFocus:Ye(l,re=>{T.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(RT,{role:"menu","aria-orientation":"vertical","data-state":k9(C.open),"data-radix-menu-content":"",dir:T.dir,...S,...k,ref:j,style:{outline:"none",...k.style},onKeyDown:Ye(k.onKeyDown,re=>{const oe=re.target.closest("[data-radix-menu-content]")===re.currentTarget,De=re.ctrlKey||re.altKey||re.metaKey,Fe=re.key.length===1;oe&&(re.key==="Tab"&&re.preventDefault(),!De&&Fe&&we(re.key));const H=N.current;if(re.target!==H||!Mee.includes(re.key))return;re.preventDefault();const Q=P().filter(se=>!se.disabled).map(se=>se.ref.current);t9.includes(re.key)&&Q.reverse(),ete(Q)}),onBlur:Ye(n.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(z.current),J.current="")}),onPointerMove:Ye(n.onPointerMove,xg(re=>{const M=re.target,oe=be.current!==re.clientX;if(re.currentTarget.contains(M)&&oe){const De=re.clientX>be.current?"right":"left";xe.current=De,be.current=re.clientX}}))})})})})})})});a9.displayName=hr;var Wee="MenuGroup",GT=E.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return y.jsx(Et.div,{role:"group",...i,ref:t})});GT.displayName=Wee;var qee="MenuLabel",l9=E.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return y.jsx(Et.div,{...i,ref:t})});l9.displayName=qee;var H1="MenuItem",jI="menu.itemSelect",Ew=E.forwardRef((n,t)=>{const{disabled:e=!1,onSelect:i,...s}=n,r=E.useRef(null),o=Ep(H1,n.__scopeMenu),a=WT(H1,n.__scopeMenu),l=Jt(t,r),u=E.useRef(!1),h=()=>{const m=r.current;if(!e&&m){const p=new CustomEvent(jI,{bubbles:!0,cancelable:!0});m.addEventListener(jI,v=>i==null?void 0:i(v),{once:!0}),SD(m,p),p.defaultPrevented?u.current=!1:o.onClose()}};return y.jsx(c9,{...s,ref:l,disabled:e,onClick:Ye(n.onClick,h),onPointerDown:m=>{var p;(p=n.onPointerDown)==null||p.call(n,m),u.current=!0},onPointerUp:Ye(n.onPointerUp,m=>{var p;u.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:Ye(n.onKeyDown,m=>{const p=a.searchRef.current!=="";e||p&&m.key===" "||rC.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Ew.displayName=H1;var c9=E.forwardRef((n,t)=>{const{__scopeMenu:e,disabled:i=!1,textValue:s,...r}=n,o=WT(H1,e),a=i9(e),l=E.useRef(null),u=Jt(t,l),[h,m]=E.useState(!1),[p,v]=E.useState("");return E.useEffect(()=>{const _=l.current;_&&v((_.textContent??"").trim())},[r.children]),y.jsx(_g.ItemSlot,{scope:e,disabled:i,textValue:s??p,children:y.jsx(Pee,{asChild:!0,...a,focusable:!i,children:y.jsx(Et.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...r,ref:u,onPointerMove:Ye(n.onPointerMove,xg(_=>{i?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(n.onPointerLeave,xg(_=>o.onItemLeave(_))),onFocus:Ye(n.onFocus,()=>m(!0)),onBlur:Ye(n.onBlur,()=>m(!1))})})})}),Gee="MenuCheckboxItem",u9=E.forwardRef((n,t)=>{const{checked:e=!1,onCheckedChange:i,...s}=n;return y.jsx(g9,{scope:n.__scopeMenu,checked:e,children:y.jsx(Ew,{role:"menuitemcheckbox","aria-checked":$1(e)?"mixed":e,...s,ref:t,"data-state":ZT(e),onSelect:Ye(s.onSelect,()=>i==null?void 0:i($1(e)?!0:!e),{checkForDefaultPrevented:!1})})})});u9.displayName=Gee;var d9="MenuRadioGroup",[Yee,Zee]=Lu(d9,{value:void 0,onValueChange:()=>{}}),h9=E.forwardRef((n,t)=>{const{value:e,onValueChange:i,...s}=n,r=Us(i);return y.jsx(Yee,{scope:n.__scopeMenu,value:e,onValueChange:r,children:y.jsx(GT,{...s,ref:t})})});h9.displayName=d9;var f9="MenuRadioItem",m9=E.forwardRef((n,t)=>{const{value:e,...i}=n,s=Zee(f9,n.__scopeMenu),r=e===s.value;return y.jsx(g9,{scope:n.__scopeMenu,checked:r,children:y.jsx(Ew,{role:"menuitemradio","aria-checked":r,...i,ref:t,"data-state":ZT(r),onSelect:Ye(i.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,e)},{checkForDefaultPrevented:!1})})})});m9.displayName=f9;var YT="MenuItemIndicator",[g9,Kee]=Lu(YT,{checked:!1}),p9=E.forwardRef((n,t)=>{const{__scopeMenu:e,forceMount:i,...s}=n,r=Kee(YT,e);return y.jsx(Fo,{present:i||$1(r.checked)||r.checked===!0,children:y.jsx(Et.span,{...s,ref:t,"data-state":ZT(r.checked)})})});p9.displayName=YT;var Xee="MenuSeparator",b9=E.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return y.jsx(Et.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});b9.displayName=Xee;var Jee="MenuArrow",v9=E.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n,s=Cw(e);return y.jsx(PT,{...s,...i,ref:t})});v9.displayName=Jee;var Qee="MenuSub",[ENe,w9]=Lu(Qee),Hm="MenuSubTrigger",y9=E.forwardRef((n,t)=>{const e=Bu(Hm,n.__scopeMenu),i=Ep(Hm,n.__scopeMenu),s=w9(Hm,n.__scopeMenu),r=WT(Hm,n.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=r,u={__scopeMenu:n.__scopeMenu},h=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const m=a.current;return()=>{window.clearTimeout(m),l(null)}},[a,l]),y.jsx(HT,{asChild:!0,...u,children:y.jsx(c9,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":s.contentId,"data-state":k9(e.open),...n,ref:cw(t,s.onTriggerChange),onClick:m=>{var p;(p=n.onClick)==null||p.call(n,m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:Ye(n.onPointerMove,xg(m=>{r.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!e.open&&!o.current&&(r.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{e.onOpenChange(!0),h()},100))})),onPointerLeave:Ye(n.onPointerLeave,xg(m=>{var v,_;h();const p=(v=e.content)==null?void 0:v.getBoundingClientRect();if(p){const k=(_=e.content)==null?void 0:_.dataset.side,C=k==="right",T=C?-5:5,S=p[C?"left":"right"],I=p[C?"right":"left"];r.onPointerGraceIntentChange({area:[{x:m.clientX+T,y:m.clientY},{x:S,y:p.top},{x:I,y:p.top},{x:I,y:p.bottom},{x:S,y:p.bottom}],side:k}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(m),m.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(n.onKeyDown,m=>{var v;const p=r.searchRef.current!=="";n.disabled||p&&m.key===" "||Dee[i.dir].includes(m.key)&&(e.onOpenChange(!0),(v=e.content)==null||v.focus(),m.preventDefault())})})})});y9.displayName=Hm;var _9="MenuSubContent",x9=E.forwardRef((n,t)=>{const e=r9(hr,n.__scopeMenu),{forceMount:i=e.forceMount,...s}=n,r=Bu(hr,n.__scopeMenu),o=Ep(hr,n.__scopeMenu),a=w9(_9,n.__scopeMenu),l=E.useRef(null),u=Jt(t,l);return y.jsx(_g.Provider,{scope:n.__scopeMenu,children:y.jsx(Fo,{present:i||r.open,children:y.jsx(_g.Slot,{scope:n.__scopeMenu,children:y.jsx(qT,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=l.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ye(n.onFocusOutside,h=>{h.target!==a.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:Ye(n.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Ye(n.onKeyDown,h=>{var v;const m=h.currentTarget.contains(h.target),p=Vee[o.dir].includes(h.key);m&&p&&(r.onOpenChange(!1),(v=a.trigger)==null||v.focus(),h.preventDefault())})})})})})});x9.displayName=_9;function k9(n){return n?"open":"closed"}function $1(n){return n==="indeterminate"}function ZT(n){return $1(n)?"indeterminate":n?"checked":"unchecked"}function ete(n){const t=document.activeElement;for(const e of n)if(e===t||(e.focus(),document.activeElement!==t))return}function tte(n,t){return n.map((e,i)=>n[(t+i)%n.length])}function nte(n,t,e){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,r=e?n.indexOf(e):-1;let o=tte(n,Math.max(r,0));s.length===1&&(o=o.filter(u=>u!==e));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==e?l:void 0}function ite(n,t){const{x:e,y:i}=n;let s=!1;for(let r=0,o=t.length-1;r<t.length;o=r++){const a=t[r].x,l=t[r].y,u=t[o].x,h=t[o].y;l>i!=h>i&&e<(u-a)*(i-l)/(h-l)+a&&(s=!s)}return s}function ste(n,t){if(!t)return!1;const e={x:n.clientX,y:n.clientY};return ite(e,t)}function xg(n){return t=>t.pointerType==="mouse"?n(t):void 0}var rte=s9,ote=HT,ate=o9,lte=a9,cte=GT,ute=l9,dte=Ew,hte=u9,fte=h9,mte=m9,gte=p9,pte=b9,bte=v9,vte=y9,wte=x9,KT="DropdownMenu",[yte,TNe]=tl(KT,[n9]),cs=n9(),[_te,C9]=yte(KT),E9=n=>{const{__scopeDropdownMenu:t,children:e,dir:i,open:s,defaultOpen:r,onOpenChange:o,modal:a=!0}=n,l=cs(t),u=E.useRef(null),[h=!1,m]=Ah({prop:s,defaultProp:r,onChange:o});return y.jsx(_te,{scope:t,triggerId:ko(),triggerRef:u,contentId:ko(),open:h,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(p=>!p),[m]),modal:a,children:y.jsx(rte,{...l,open:h,onOpenChange:m,dir:i,modal:a,children:e})})};E9.displayName=KT;var T9="DropdownMenuTrigger",S9=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,disabled:i=!1,...s}=n,r=C9(T9,e),o=cs(e);return y.jsx(ote,{asChild:!0,...o,children:y.jsx(Et.button,{type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:cw(t,r.triggerRef),onPointerDown:Ye(n.onPointerDown,a=>{!i&&a.button===0&&a.ctrlKey===!1&&(r.onOpenToggle(),r.open||a.preventDefault())}),onKeyDown:Ye(n.onKeyDown,a=>{i||(["Enter"," "].includes(a.key)&&r.onOpenToggle(),a.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});S9.displayName=T9;var xte="DropdownMenuPortal",A9=n=>{const{__scopeDropdownMenu:t,...e}=n,i=cs(t);return y.jsx(ate,{...i,...e})};A9.displayName=xte;var I9="DropdownMenuContent",R9=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=C9(I9,e),r=cs(e),o=E.useRef(!1);return y.jsx(lte,{id:s.contentId,"aria-labelledby":s.triggerId,...r,...i,ref:t,onCloseAutoFocus:Ye(n.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ye(n.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,h=l.button===2||u;(!s.modal||h)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R9.displayName=I9;var kte="DropdownMenuGroup",Cte=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(cte,{...s,...i,ref:t})});Cte.displayName=kte;var Ete="DropdownMenuLabel",P9=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(ute,{...s,...i,ref:t})});P9.displayName=Ete;var Tte="DropdownMenuItem",O9=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(dte,{...s,...i,ref:t})});O9.displayName=Tte;var Ste="DropdownMenuCheckboxItem",Ate=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(hte,{...s,...i,ref:t})});Ate.displayName=Ste;var Ite="DropdownMenuRadioGroup",Rte=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(fte,{...s,...i,ref:t})});Rte.displayName=Ite;var Pte="DropdownMenuRadioItem",Ote=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(mte,{...s,...i,ref:t})});Ote.displayName=Pte;var Mte="DropdownMenuItemIndicator",Dte=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(gte,{...s,...i,ref:t})});Dte.displayName=Mte;var Vte="DropdownMenuSeparator",M9=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(pte,{...s,...i,ref:t})});M9.displayName=Vte;var Nte="DropdownMenuArrow",Lte=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(bte,{...s,...i,ref:t})});Lte.displayName=Nte;var Bte="DropdownMenuSubTrigger",Fte=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(vte,{...s,...i,ref:t})});Fte.displayName=Bte;var zte="DropdownMenuSubContent",jte=E.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,s=cs(e);return y.jsx(wte,{...s,...i,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jte.displayName=zte;var Ute=E9,Hte=S9,$te=A9,Wte=R9,qte=P9,Gte=O9,Yte=M9;function Zte({...n}){return y.jsx(Ute,{"data-slot":"dropdown-menu",...n})}function Kte({...n}){return y.jsx(Hte,{"data-slot":"dropdown-menu-trigger",...n})}function Xte({className:n,sideOffset:t=4,...e}){return y.jsx($te,{children:y.jsx(Wte,{"data-slot":"dropdown-menu-content",sideOffset:t,className:dt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...e})})}function ax({className:n,inset:t,variant:e="default",...i}){return y.jsx(Gte,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":e,className:dt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i})}function Jte({className:n,inset:t,...e}){return y.jsx(qte,{"data-slot":"dropdown-menu-label","data-inset":t,className:dt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...e})}function UI({className:n,...t}){return y.jsx(Yte,{"data-slot":"dropdown-menu-separator",className:dt("bg-border -mx-1 my-1 h-px",n),...t})}const xu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAD0QAAA9EBmIqJtAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA8eSURBVHic7Z1bbBzXecd/M3vjLneXI62llWk6ou1GtGTdfJGbILRTqw0MBHkwggSNC9h9aAvE7UOaokjduIFtuE7coGiah9YPbQq0BloXMQI/GAaMNHJTMYgaybZs0ZKl1BYv4mXFHXLFvXB39jJ9mFmKokjubWbOWWl/gCBQ4s73zXz//c6Zc/mOYpomNxoZPRUH9gAj9p+7AA2IA7F1fwMsA9l1f2eAj4Hz9p8LWiK57N1deIPS7QLI6Kl+YBQ4CjyIFfBbXTI3hyWGXwHHgDEtkcy7ZMsTuk4AGT0V5GrAHwGOAAFB7pSBk1hieBtLEIYgX9qiawSQ0VOfAZ4AvgZsF+zOZiwCrwKvaInkCdHONIPUAsjoqd1YQX8Cq03vJi4Ar2CJYVK0M5shpQAyeuoB4NvAY4Ai2J1OMYHXge9qieQp0c6sRyoBZPTUQ8AzwKOifXGJt4AXtUTyuGhH6kghgIye+m3gWeAh0b54xHHgeS2R/JloR4QKIKOnhoAfAF8R5oRYXgO+qSWSl0Q5IEQAGT3lB74BPAdEPXdALnJYz+GHWiJZ8dq45wLI6KlR4GVgv6eG5WcceEpLJMe8NOqZADJ6yge8ADxN9/fs3cIEXgK+oyWSVS8MeiIAu63/D6wRvB6NGQMe96JvoLptIKOnvgicphf8VhgFTtvPzlVcywAZPaUA3wO+RS/lt4sJfB/4Sy2RdCVQrgjAnrD5V6xx+x6d8yrw+25MNDkugIyeigI/Ab7g6IV7/BT4spZI5py8qKMCyOipHcCbwAOOXbTHWk4BX9QSyQWnLuiYADJ66lNYKu22Wbtu4wLwBS2RnHLiYo4IwP7mj9Flwa9WrVdtn88n2JOWuQCMOpEJOhaA3ea/jcRpv1AokMtlMQyDSqVCpVKmUqlQv3dFUfD7/fj9Afx+P8FgkGg0RiQSEez5lpwCHum0T9CRAOze/htI1uEzzRq5XJ5cbplsNrv6TW8Vn89HLBYjGo0TjfajKK4Pm7TKT4EvdfJ20LYA7Pf8f0eiVz3TNMlklkinF6hUnJ1X8fv93HLLDjRtG4oi1bDGq8DvtTtO4O/A8PeQKPjLy1dYWLiMYbizJrNSqTA/P8fios6OHTuJxwdcsdMGXwMmseZYWqatDGAPUb6BBCN85bLBzMwlVlZWPLUbDoe57bYhAoGgp3Y3wcRqCt5s9YMtC8Ce2DkNJFo15jSFQoFLl6babuM7xefzMTT0KVk6izpwuNUJpJYEYE/p/jcSTOxkMkvMz88hekmboijs2nUrmrZNqB82Y8BvtTKV3Gq39gUkCP7lyynm5maFBx+sjufc3CyXL6dEuwJWbF5o5QNNZwB7Jc//ILjdX1zUSaXmRbqwKcnkLrZvF94ymsDDza4saioD2Gv4XkZw8HO5nLTBB0il5snlHJ2raQcFeNmOWUOabQK+geA1fKVSiZmZaZEuNMXMzDSlUkm0G/uxYtaQhk2A3es/h8DVu7VajU8++ZhyuTv2XQYCQe688y5UVejIYQ7Y2+itoBkPf4DgpduLi3rXBB+ssYnFRV20G1Gs2G3JlgKwd+wI3bRRqVTQ9bRIF9pC19OOD0e3wVfsGG5KowzwrIPOtEU6vUCtVhPtRsvUajXSacfWbXTCljHcVAD2Rk2he/UMwyCTWRLpQkdkMkuuzU20wEN2LDdkqwzwjAvOtMTS0qIUgz3tYpomS0uLot2ALWK5oQDs/fnCt2jnclnRLnSMJPfwqB3T69gsA3zbRWeaolQqyZA+O8YwDBnGBWCTmF4nALssy2Ouu9MASb45jiDJvTxmx/YaNsoATyDBPH82e+OU5JPkXhSs2F7DZgIQTrFYFO2CY0h0L1sLwC7FJnxp99oVuzcCpmnKMCgEsMeO8SrrM4AU335JHpajSHRPT679YVUA9hJvKRZ5SvSwHEOie/pdO9bAtRlgFEkqcFYqZdEuOI5E97SdNau61grgqPe+bEw3jv03QrJ7Wo31WgE8IsCRDQkERNV+dg/J7mk11iqsllw/IsyddUiy1t5RJLunI3bMVzPAKOJKrl+HZN8WR5DsngLY/YC6AKRp/8HacCF4OZWjqKoq4xb0o3BVAA8KdGRDgkGpUmZHSHovD8JVAYwIdGRDJEuZHSHpvYwAqPYBS26dsdM2kciNU0JY0nu5NaOn4ioSjP1vxMDAgGz78NtCURQGBqTZSr6ePSoSpn+wOoIS7cFvm3h8QMYOYJ0RaQUAoGmaaBc6RvJ7GFGxDlWUkkikX9YedFMEg0EikX7RbmzFXSrWiZrSIsm++7boAt81lavHp0rJtm3buzILBINBtm2TYnJ1K+Iq1hm60qKqKoODQ131RqAoCoODQ90wmhmTPgOAVZBpx46dot1omh07dhIOh0W70QzyZ4A6icQtsneoAKvjmkjcItqNZumODFBncPA2md+p8fl8DA7eJtqNVohL30itJRAIMDR0O6oqnwhU1cfQ0O2yjvtvigpIsWuhWSKRfoaH75DqQQcCAYaH7+iKJmodyyogxb6lVgiFQgwP3ylFRyscDjM8fCehUEi0K+2Q7boMUMfv97N79zCxmLguTCwWZ/fuYfz+TkouC6U7M0AdRVHQtG1COoY+n0/GyuGtkvXThRmgVCpx5UqGK1cywjZcVKtVpqcn8fv9DAxoDAxo3dgMLPuBjGgvmqFWq60G3evK4FtRL2Kl62nC4fCqGLpgFBAg4wc+Fu3FVrh5CITTrKyssLKyQjq9IOvhEuv52A+cF+3FZrh9CIRbSHy4xHrOSymAfD7P5cvzMu2rbwvDsA6z0PU0O3fuor9funGC88pSej4OXBHtCViHPaVSKVkqaznOtm3bSSaTMh0+NaCYpklGT80ieGVwsVhkdvaSLAWVXCMUCjE4OERfX59oV+a0RHKwLkWhzcDios7ExCc3fPDBeoWdmPhEhlrC5+HqxpBfifCgWq0yNTVBKjV/Q5WEaYRpmqRS80xNTQg77wg75nUBHPPaerlcZnLyIvl83mvT0pDP55mcvEi5LKR4xDG4KoAxwDMvDKPE5OTFmyLlN6JUsp6FYXj6LMpYMbcEoCWSeeCkF5aLxRUmJoSpXkrK5TITExcpFj0b4Txpx/yaCiFvu23VSnlC2z1pqVarTE5OeNUkrsZ6rQBc7QcUiytMT0/JVitHKmq1GtPTU15kgtVYrxXAGODKCEylUmZ6egrT7AW/EaZpicDFqmKL2O0/rBGAfQT5q05bq6ta9okcmahUKm5my/9ce9z8+jHJV5y2Njs70/Vj+iKwRkZn3Lj0v6394RoBaInkCeCCU5YWFi7LUim7K8lml1lYuOzkJS/YMV5lo1kJR7JAPp+X5dCkriadXnDyzeC62G4mgI7GZU2zxvz8bCeX6LGG+flZJzrQJs0IQEskJ4HXO7G0sLDQdYs4ZMYwDBYWOs6mr9uxvYbNJqa/266VYrGIrguf6brh0HW90870hjHdUABaInkKeKtVC6ZpMjc3Q4ctSI8NsZ5tm7Omb9kxvY6tlqa82KqVpaXF3iufixSLxXZXS20ay00FoCWSx4HjzVowTbMrz/jtNnQ93WoWOG7HckMaLU57vlkrmcxSb7TPAyqVSqvH6W4Zwy0FoCWSPwNea2zD7HX8PMR61k1lgdfsGG5KM8tTvwnktvqF5eVlyuXea59XlMsGy8sNR1hzWLHbkoYC0BLJS8BzW/1OOt1r+72miWf+nB27LWl2gfoPgfGN/iOfz1Eq9Xr+XlMqFcnnN03M41gxa0hTAtASyQrwFBs0PE2koh4uscmzN4Gn7Jg1pOktKloiOQa8tP7fJTkY+aZkk2f/kh2rpmh1j9J3WLOapFAo9F79BFKpVCgUCmv/aQwrRk3TkgC0RLIKPA7oIM2p2Dc1a2KgA4/bMWqalncp2j3LJwEzm+2lf9HYMTCBJ5vp9a+nrW2qWiL5Zj6f/1Hv3V885bJBPp/7Fy2RfLOdz7e9TzmTWfx6JBKZbvfzPZwhHA7PpNPpr7f7eaWTTZkffXg6XigUJkulotRnDtyohEKh5b6+8O59B+5ru85TR5UK7r7n8HJfX9+hQCDYGwnymEAgWAyFQoc7CT50KACAfQfum4rFYkcCgUBvs59HBAKBciwWO3LPwQcudnotR2qVjOw7NB6PDzzs9/dE4DZ+f6Acjw88PLLv0IZD863iWLGaPXsPnohGo0d6zYF7BALBYjQaPbJn78ETjX+7OTrqBG7E2TPv7F5ZKX5gGKWuOYegGwgGQ8vhcN/BfQfuv25lbyc4LgCAs2fe1cpl44NCoXC74xe/CYlEItOBQPBgpx2+jXBFAAC//uiMWiqVfpHNLn/GFQM3CbFY/EQoFPrcp+8+4MpOUdcEUOfDD975fi6X/fNarSZ1zVTZUFXVjEZjf3vPwfu/5aYd1wUAcG783c8XCitvGEZJymO0ZSMYDOUikfCX9u6/7+du2/JEAADj758Km6b5di6X/U1PDHYp0WjsfxVFeWT/oQc8KRjkmQDqnD97+k+y2ezflcvl7jsO1EUCgYARi8X+bGTf4X/w0q7nAgA4c/pkDPhJPp/7nZupQORGKIpCf3/0v4AvHzh8xPP5dSECqHNu/L3RUqn445WVlV3CnBBIOByeD4X6vrp3/71NL+FyGqECqPPRh+/9RaFQeKZUKnXFKaadEgqFspFI5MW777n3b0T7IoUA6pw9887TxWLx6VKpJO0JC50QCoWu9PX1vbTvwP3XLa4VhVQCqHNu/L0/MozS84VCQWgJe6eIRCJzwWDo2b377/0n0b6sR0oB1Dl/9v3Rctn460Jh5XPVaqWrDufz+fyVSCT8i0Ag+Fcj+w4Ja+MbIbUA6vxy7JgvHh/402q18ofFYnGkWq1KOaro8/nMvr6+8z6f/5+Xl6/8/WdHj0pfE7crBLCWi//3UaRUKv5xuWx81TCM/YZhRET6EwwGC8FgcDwQCP44FOr7xzt+4+5C40/JQ9cJYD3j758cVlXfH9Rq1UfL5fKnDcMYcGveQVVVMxgMXgkEAr9WVd9btVr1R/sPHZlww5ZXdL0A1vPLsWNKf390v8/n+zxwX61W21ur1QZrtWp/rVbrq1ZrQdM0faZpKqZpCUVRVFNRFFNRlKrPpxqqqhZV1ZdXVXVWVdVzwLvVavXn+Xxu/LOjR2+oB/b/eq8o0Kr0ir4AAAAASUVORK5CYII=";function Qte(n){return Qn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(n)}function Vi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var ene=typeof Symbol=="function"&&Symbol.observable||"@@observable",HI=ene,lx=()=>Math.random().toString(36).substring(7).split("").join("."),tne={INIT:`@@redux/INIT${lx()}`,REPLACE:`@@redux/REPLACE${lx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lx()}`},W1=tne;function XT(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function JT(n,t,e){if(typeof n!="function")throw new Error(Vi(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Vi(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Vi(1));return e(JT)(n,t)}let i=n,s=t,r=new Map,o=r,a=0,l=!1;function u(){o===r&&(o=new Map,r.forEach((C,T)=>{o.set(T,C)}))}function h(){if(l)throw new Error(Vi(3));return s}function m(C){if(typeof C!="function")throw new Error(Vi(4));if(l)throw new Error(Vi(5));let T=!0;u();const S=a++;return o.set(S,C),function(){if(T){if(l)throw new Error(Vi(6));T=!1,u(),o.delete(S),r=null}}}function p(C){if(!XT(C))throw new Error(Vi(7));if(typeof C.type>"u")throw new Error(Vi(8));if(typeof C.type!="string")throw new Error(Vi(17));if(l)throw new Error(Vi(9));try{l=!0,s=i(s,C)}finally{l=!1}return(r=o).forEach(S=>{S()}),C}function v(C){if(typeof C!="function")throw new Error(Vi(10));i=C,p({type:W1.REPLACE})}function _(){const C=m;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Vi(11));function S(){const P=T;P.next&&P.next(h())}return S(),{unsubscribe:C(S)}},[HI](){return this}}}return p({type:W1.INIT}),{dispatch:p,subscribe:m,getState:h,replaceReducer:v,[HI]:_}}function nne(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:W1.INIT})>"u")throw new Error(Vi(12));if(typeof e(void 0,{type:W1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vi(13))})}function D9(n){const t=Object.keys(n),e={};for(let r=0;r<t.length;r++){const o=t[r];typeof n[o]=="function"&&(e[o]=n[o])}const i=Object.keys(e);let s;try{nne(e)}catch(r){s=r}return function(o={},a){if(s)throw s;let l=!1;const u={};for(let h=0;h<i.length;h++){const m=i[h],p=e[m],v=o[m],_=p(v,a);if(typeof _>"u")throw a&&a.type,new Error(Vi(14));u[m]=_,l=l||_!==v}return l=l||i.length!==Object.keys(o).length,l?u:o}}function q1(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function ine(...n){return t=>(e,i)=>{const s=t(e,i);let r=()=>{throw new Error(Vi(15))};const o={getState:s.getState,dispatch:(l,...u)=>r(l,...u)},a=n.map(l=>l(o));return r=q1(...a)(s.dispatch),{...s,dispatch:r}}}function sne(n){return XT(n)&&"type"in n&&typeof n.type=="string"}var V9=Symbol.for("immer-nothing"),$I=Symbol.for("immer-draftable"),Hs=Symbol.for("immer-state");function Vr(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ph=Object.getPrototypeOf;function ku(n){return!!n&&!!n[Hs]}function za(n){var t;return n?N9(n)||Array.isArray(n)||!!n[$I]||!!((t=n.constructor)!=null&&t[$I])||Sw(n)||Aw(n):!1}var rne=Object.prototype.constructor.toString();function N9(n){if(!n||typeof n!="object")return!1;const t=Ph(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===rne}function G1(n,t){Tw(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,i)=>t(i,e,n))}function Tw(n){const t=n[Hs];return t?t.type_:Array.isArray(n)?1:Sw(n)?2:Aw(n)?3:0}function oC(n,t){return Tw(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function L9(n,t,e){const i=Tw(n);i===2?n.set(t,e):i===3?n.add(e):n[t]=e}function one(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function Sw(n){return n instanceof Map}function Aw(n){return n instanceof Set}function nu(n){return n.copy_||n.base_}function aC(n,t){if(Sw(n))return new Map(n);if(Aw(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=N9(n);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(n);delete i[Hs];let s=Reflect.ownKeys(i);for(let r=0;r<s.length;r++){const o=s[r],a=i[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Ph(n),i)}else{const i=Ph(n);if(i!==null&&e)return{...n};const s=Object.create(i);return Object.assign(s,n)}}function QT(n,t=!1){return Iw(n)||ku(n)||!za(n)||(Tw(n)>1&&(n.set=n.add=n.clear=n.delete=ane),Object.freeze(n),t&&Object.entries(n).forEach(([e,i])=>QT(i,!0))),n}function ane(){Vr(2)}function Iw(n){return Object.isFrozen(n)}var lne={};function Cu(n){const t=lne[n];return t||Vr(0,n),t}var kg;function B9(){return kg}function cne(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WI(n,t){t&&(Cu("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function lC(n){cC(n),n.drafts_.forEach(une),n.drafts_=null}function cC(n){n===kg&&(kg=n.parent_)}function qI(n){return kg=cne(kg,n)}function une(n){const t=n[Hs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function GI(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[Hs].modified_&&(lC(t),Vr(4)),za(n)&&(n=Y1(t,n),t.parent_||Z1(t,n)),t.patches_&&Cu("Patches").generateReplacementPatches_(e[Hs].base_,n,t.patches_,t.inversePatches_)):n=Y1(t,e,[]),lC(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==V9?n:void 0}function Y1(n,t,e){if(Iw(t))return t;const i=t[Hs];if(!i)return G1(t,(s,r)=>YI(n,i,t,s,r,e)),t;if(i.scope_!==n)return t;if(!i.modified_)return Z1(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let r=s,o=!1;i.type_===3&&(r=new Set(s),s.clear(),o=!0),G1(r,(a,l)=>YI(n,i,s,a,l,e,o)),Z1(n,s,!1),e&&n.patches_&&Cu("Patches").generatePatches_(i,e,n.patches_,n.inversePatches_)}return i.copy_}function YI(n,t,e,i,s,r,o){if(ku(s)){const a=r&&t&&t.type_!==3&&!oC(t.assigned_,i)?r.concat(i):void 0,l=Y1(n,s,a);if(L9(e,i,l),ku(l))n.canAutoFreeze_=!1;else return}else o&&e.add(s);if(za(s)&&!Iw(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Y1(n,s),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(e,i)&&Z1(n,s)}}function Z1(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&QT(t,e)}function dne(n,t){const e=Array.isArray(n),i={type_:e?1:0,scope_:t?t.scope_:B9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,r=eS;e&&(s=[i],r=Cg);const{revoke:o,proxy:a}=Proxy.revocable(s,r);return i.draft_=a,i.revoke_=o,a}var eS={get(n,t){if(t===Hs)return n;const e=nu(n);if(!oC(e,t))return hne(n,e,t);const i=e[t];return n.finalized_||!za(i)?i:i===cx(n.base_,t)?(ux(n),n.copy_[t]=dC(i,n)):i},has(n,t){return t in nu(n)},ownKeys(n){return Reflect.ownKeys(nu(n))},set(n,t,e){const i=F9(nu(n),t);if(i!=null&&i.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const s=cx(nu(n),t),r=s==null?void 0:s[Hs];if(r&&r.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(one(e,s)&&(e!==void 0||oC(n.base_,t)))return!0;ux(n),uC(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return cx(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,ux(n),uC(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=nu(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){Vr(11)},getPrototypeOf(n){return Ph(n.base_)},setPrototypeOf(){Vr(12)}},Cg={};G1(eS,(n,t)=>{Cg[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Cg.deleteProperty=function(n,t){return Cg.set.call(this,n,t,void 0)};Cg.set=function(n,t,e){return eS.set.call(this,n[0],t,e,n[0])};function cx(n,t){const e=n[Hs];return(e?nu(e):n)[t]}function hne(n,t,e){var s;const i=F9(t,e);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(n.draft_):void 0}function F9(n,t){if(!(t in n))return;let e=Ph(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=Ph(e)}}function uC(n){n.modified_||(n.modified_=!0,n.parent_&&uC(n.parent_))}function ux(n){n.copy_||(n.copy_=aC(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var fne=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const r=e;e=t;const o=this;return function(l=r,...u){return o.produce(l,h=>e.call(this,h,...u))}}typeof e!="function"&&Vr(6),i!==void 0&&typeof i!="function"&&Vr(7);let s;if(za(t)){const r=qI(this),o=dC(t,void 0);let a=!0;try{s=e(o),a=!1}finally{a?lC(r):cC(r)}return WI(r,i),GI(s,r)}else if(!t||typeof t!="object"){if(s=e(t),s===void 0&&(s=t),s===V9&&(s=void 0),this.autoFreeze_&&QT(s,!0),i){const r=[],o=[];Cu("Patches").generateReplacementPatches_(t,s,r,o),i(r,o)}return s}else Vr(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let i,s;return[this.produce(t,e,(o,a)=>{i=o,s=a}),i,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){za(n)||Vr(8),ku(n)&&(n=mne(n));const t=qI(this),e=dC(n,void 0);return e[Hs].isManual_=!0,cC(t),e}finishDraft(n,t){const e=n&&n[Hs];(!e||!e.isManual_)&&Vr(9);const{scope_:i}=e;return WI(i,t),GI(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const s=t[e];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}e>-1&&(t=t.slice(e+1));const i=Cu("Patches").applyPatches_;return ku(n)?i(n,t):this.produce(n,s=>i(s,t))}};function dC(n,t){const e=Sw(n)?Cu("MapSet").proxyMap_(n,t):Aw(n)?Cu("MapSet").proxySet_(n,t):dne(n,t);return(t?t.scope_:B9()).drafts_.push(e),e}function mne(n){return ku(n)||Vr(10,n),z9(n)}function z9(n){if(!za(n)||Iw(n))return n;const t=n[Hs];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=aC(n,t.scope_.immer_.useStrictShallowCopy_)}else e=aC(n,!0);return G1(e,(i,s)=>{L9(e,i,z9(s))}),t&&(t.finalized_=!1),e}var $s=new fne,j9=$s.produce;$s.produceWithPatches.bind($s);$s.setAutoFreeze.bind($s);$s.setUseStrictShallowCopy.bind($s);$s.applyPatches.bind($s);$s.createDraft.bind($s);$s.finishDraft.bind($s);function U9(n){return({dispatch:e,getState:i})=>s=>r=>typeof r=="function"?r(e,i,n):s(r)}var gne=U9(),pne=U9,bne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?q1:q1.apply(null,arguments)};function ZI(n,t){function e(...i){if(t){let s=t(...i);if(!s)throw new Error(Ma(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>sne(i)&&i.type===n,e}var H9=class $m extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$m.prototype)}static get[Symbol.species](){return $m}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $m(...t[0].concat(this)):new $m(...t.concat(this))}};function KI(n){return za(n)?j9(n,()=>{}):n}function XI(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function vne(n){return typeof n=="boolean"}var wne=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:r=!0}=t??{};let o=new H9;return e&&(vne(e)?o.push(gne):o.push(pne(e.extraArgument))),o},yne="RTK_autoBatch",JI=n=>t=>{setTimeout(t,n)},_ne=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let s=!0,r=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JI(10):n.type==="callback"?n.queueNotification:JI(n.timeout),u=()=>{o=!1,r&&(r=!1,a.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const m=()=>s&&h(),p=i.subscribe(m);return a.add(h),()=>{p(),a.delete(h)}},dispatch(h){var m;try{return s=!((m=h==null?void 0:h.meta)!=null&&m[yne]),r=!s,r&&(o||(o=!0,l(u))),i.dispatch(h)}finally{s=!0}}})},xne=n=>function(e){const{autoBatch:i=!0}=e??{};let s=new H9(n);return i&&s.push(_ne(typeof i=="object"?i:void 0)),s};function kne(n){const t=wne(),{reducer:e=void 0,middleware:i,devTools:s=!0,preloadedState:r=void 0,enhancers:o=void 0}=n||{};let a;if(typeof e=="function")a=e;else if(XT(e))a=D9(e);else throw new Error(Ma(1));let l;typeof i=="function"?l=i(t):l=t();let u=q1;s&&(u=bne({trace:!1,...typeof s=="object"&&s}));const h=ine(...l),m=xne(h);let p=typeof o=="function"?o(m):m();const v=u(...p);return JT(a,r,v)}function $9(n){const t={},e=[];let i;const s={addCase(r,o){const a=typeof r=="string"?r:r.type;if(!a)throw new Error(Ma(28));if(a in t)throw new Error(Ma(29));return t[a]=o,s},addMatcher(r,o){return e.push({matcher:r,reducer:o}),s},addDefaultCase(r){return i=r,s}};return n(s),[t,e,i]}function Cne(n){return typeof n=="function"}function Ene(n,t){let[e,i,s]=$9(t),r;if(Cne(n))r=()=>KI(n());else{const a=KI(n);r=()=>a}function o(a=r(),l){let u=[e[l.type],...i.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[s]),u.reduce((h,m)=>{if(m)if(ku(h)){const v=m(h,l);return v===void 0?h:v}else{if(za(h))return j9(h,p=>m(p,l));{const p=m(h,l);if(p===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return h},a)}return o.getInitialState=r,o}var Tne=Symbol.for("rtk-slice-createasyncthunk");function Sne(n,t){return`${n}/${t}`}function Ane({creators:n}={}){var e;const t=(e=n==null?void 0:n.asyncThunk)==null?void 0:e[Tne];return function(s){const{name:r,reducerPath:o=r}=s;if(!r)throw new Error(Ma(11));const a=(typeof s.reducers=="function"?s.reducers(Pne()):s.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,P){const O=typeof I=="string"?I:I.type;if(!O)throw new Error(Ma(12));if(O in u.sliceCaseReducersByType)throw new Error(Ma(13));return u.sliceCaseReducersByType[O]=P,h},addMatcher(I,P){return u.sliceMatchers.push({matcher:I,reducer:P}),h},exposeAction(I,P){return u.actionCreators[I]=P,h},exposeCaseReducer(I,P){return u.sliceCaseReducersByName[I]=P,h}};l.forEach(I=>{const P=a[I],O={reducerName:I,type:Sne(r,I),createNotation:typeof s.reducers=="function"};Mne(P)?Vne(O,P,h,t):One(O,P,h)});function m(){const[I={},P=[],O=void 0]=typeof s.extraReducers=="function"?$9(s.extraReducers):[s.extraReducers],D={...I,...u.sliceCaseReducersByType};return Ene(s.initialState,N=>{for(let j in D)N.addCase(j,D[j]);for(let j of u.sliceMatchers)N.addMatcher(j.matcher,j.reducer);for(let j of P)N.addMatcher(j.matcher,j.reducer);O&&N.addDefaultCase(O)})}const p=I=>I,v=new Map;let _;function k(I,P){return _||(_=m()),_(I,P)}function C(){return _||(_=m()),_.getInitialState()}function T(I,P=!1){function O(N){let j=N[I];return typeof j>"u"&&P&&(j=C()),j}function D(N=p){const j=XI(v,P,()=>new WeakMap);return XI(j,N,()=>{const z={};for(const[J,_e]of Object.entries(s.selectors??{}))z[J]=Ine(_e,N,C,P);return z})}return{reducerPath:I,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const S={name:r,reducer:k,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:C,...T(o),injectInto(I,{reducerPath:P,...O}={}){const D=P??o;return I.inject({reducerPath:D,reducer:k},O),{...S,...T(D,!0)}}};return S}}function Ine(n,t,e,i){function s(r,...o){let a=t(r);return typeof a>"u"&&i&&(a=e()),n(a,...o)}return s.unwrapped=n,s}var Rne=Ane();function Pne(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function One({type:n,reducerName:t,createNotation:e},i,s){let r,o;if("reducer"in i){if(e&&!Dne(i))throw new Error(Ma(17));r=i.reducer,o=i.prepare}else r=i;s.addCase(n,r).exposeCaseReducer(t,r).exposeAction(t,o?ZI(n,o):ZI(n))}function Mne(n){return n._reducerDefinitionType==="asyncThunk"}function Dne(n){return n._reducerDefinitionType==="reducerWithPrepare"}function Vne({type:n,reducerName:t},e,i,s){if(!s)throw new Error(Ma(18));const{payloadCreator:r,fulfilled:o,pending:a,rejected:l,settled:u,options:h}=e,m=s(n,r,h);i.exposeAction(t,m),o&&i.addCase(m.fulfilled,o),a&&i.addCase(m.pending,a),l&&i.addCase(m.rejected,l),u&&i.addMatcher(m.settled,u),i.exposeCaseReducer(t,{fulfilled:o||Eb,pending:a||Eb,rejected:l||Eb,settled:u||Eb})}function Eb(){}function Ma(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const Nne={isLoggedIn:!1,user:{}},W9=Rne({name:"user",initialState:Nne,reducers:{setUser:(n,t)=>{const e=t.payload;n.isLoggedIn=!0,n.user=e},removeUser:(n,t)=>{n.isLoggedIn=!1,n.user={}}}}),{setUser:tS,removeUser:Lne}=W9.actions,Bne=W9.reducer;function Fne(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}Fne(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Tp=n=>typeof n=="number"&&!isNaN(n),Eu=n=>typeof n=="string",ja=n=>typeof n=="function",zne=n=>Eu(n)||Tp(n),hC=n=>Eu(n)||ja(n)?n:null,jne=(n,t)=>n===!1||Tp(n)&&n>0?n:t,fC=n=>E.isValidElement(n)||Eu(n)||ja(n)||Tp(n);function Une(n,t,e=300){let{scrollHeight:i,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${e}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,e)})})}function Hne({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:r,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:h,playToast:m}){let p=e?`${n}--${o}`:n,v=e?`${t}--${o}`:t,_=E.useRef(0);return E.useLayoutEffect(()=>{let k=u.current,C=p.split(" "),T=S=>{S.target===u.current&&(m(),k.removeEventListener("animationend",T),k.removeEventListener("animationcancel",T),_.current===0&&S.type!=="animationcancel"&&k.classList.remove(...C))};k.classList.add(...C),k.addEventListener("animationend",T),k.addEventListener("animationcancel",T)},[]),E.useEffect(()=>{let k=u.current,C=()=>{k.removeEventListener("animationend",C),i?Une(k,l,s):l()};h||(a?C():(_.current=1,k.className+=` ${v}`,k.addEventListener("animationend",C)))},[h]),Ve.createElement(Ve.Fragment,null,r)}}function QI(n,t){return{content:q9(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function q9(n,t,e=!1){return E.isValidElement(n)&&!Eu(n.type)?E.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ja(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function $ne({closeToast:n,theme:t,ariaLabel:e="close"}){return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Wne({delay:n,isRunning:t,closeToast:e,type:i="default",hide:s,className:r,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:h}){let m=s||o&&a===0,p={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let v=Oa("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),_=ja(r)?r({rtl:l,type:i,defaultClassName:v}):Oa(v,r),k={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&e()}};return Ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),Ve.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:_,style:p,...k}))}var qne=1,G9=()=>`${qne++}`;function Gne(n,t,e){let i=1,s=0,r=[],o=[],a=t,l=new Map,u=new Set,h=S=>(u.add(S),()=>u.delete(S)),m=()=>{o=Array.from(l.values()),u.forEach(S=>S())},p=({containerId:S,toastId:I,updateId:P})=>{let O=S?S!==n:n!==1,D=l.has(I)&&P==null;return O||D},v=(S,I)=>{l.forEach(P=>{var O;(I==null||I===P.props.toastId)&&((O=P.toggle)==null||O.call(P,S))})},_=S=>{var I,P;(P=(I=S.props)==null?void 0:I.onClose)==null||P.call(I,S.removalReason),S.isActive=!1},k=S=>{if(S==null)l.forEach(_);else{let I=l.get(S);I&&_(I)}m()},C=()=>{s-=r.length,r=[]},T=S=>{var I,P;let{toastId:O,updateId:D}=S.props,N=D==null;S.staleId&&l.delete(S.staleId),S.isActive=!0,l.set(O,S),m(),e(QI(S,N?"added":"updated")),N&&((P=(I=S.props).onOpen)==null||P.call(I))};return{id:n,props:a,observe:h,toggle:v,removeToast:k,toasts:l,clearQueue:C,buildToast:(S,I)=>{if(p(I))return;let{toastId:P,updateId:O,data:D,staleId:N,delay:j}=I,z=O==null;z&&s++;let J={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(I).filter(([ae,xe])=>xe!=null)),toastId:P,updateId:O,data:D,isIn:!1,className:hC(I.className||a.toastClassName),progressClassName:hC(I.progressClassName||a.progressClassName),autoClose:I.isLoading?!1:jne(I.autoClose,a.autoClose),closeToast(ae){l.get(P).removalReason=ae,k(P)},deleteToast(){let ae=l.get(P);if(ae!=null){if(e(QI(ae,"removed")),l.delete(P),s--,s<0&&(s=0),r.length>0){T(r.shift());return}m()}}};J.closeButton=a.closeButton,I.closeButton===!1||fC(I.closeButton)?J.closeButton=I.closeButton:I.closeButton===!0&&(J.closeButton=fC(a.closeButton)?a.closeButton:!0);let _e={content:S,props:J,staleId:N};a.limit&&a.limit>0&&s>a.limit&&z?r.push(_e):Tp(j)?setTimeout(()=>{T(_e)},j):T(_e)},setProps(S){a=S},setToggle:(S,I)=>{let P=l.get(S);P&&(P.toggle=I)},isToastActive:S=>{var I;return(I=l.get(S))==null?void 0:I.isActive},getSnapshot:()=>o}}var ts=new Map,Eg=[],mC=new Set,Yne=n=>mC.forEach(t=>t(n)),Y9=()=>ts.size>0;function Zne(){Eg.forEach(n=>K9(n.content,n.options)),Eg=[]}var Kne=(n,{containerId:t})=>{var e;return(e=ts.get(t||1))==null?void 0:e.toasts.get(n)};function Z9(n,t){var e;if(t)return!!((e=ts.get(t))!=null&&e.isToastActive(n));let i=!1;return ts.forEach(s=>{s.isToastActive(n)&&(i=!0)}),i}function Xne(n){if(!Y9()){Eg=Eg.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||zne(n))ts.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=ts.get(n.containerId);t?t.removeToast(n.id):ts.forEach(e=>{e.removeToast(n.id)})}}var Jne=(n={})=>{ts.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function K9(n,t){fC(n)&&(Y9()||Eg.push({content:n,options:t}),ts.forEach(e=>{e.buildToast(n,t)}))}function Qne(n){var t;(t=ts.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function X9(n,t){ts.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function eie(n){let t=n.containerId||1;return{subscribe(e){let i=Gne(t,n,Yne);ts.set(t,i);let s=i.observe(e);return Zne(),()=>{s(),ts.delete(t)}},setProps(e){var i;(i=ts.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=ts.get(t))==null?void 0:e.getSnapshot()}}}function tie(n){return mC.add(n),()=>{mC.delete(n)}}function nie(n){return n&&(Eu(n.toastId)||Tp(n.toastId))?n.toastId:G9()}function Sp(n,t){return K9(n,t),t.toastId}function Rw(n,t){return{...t,type:t&&t.type||n,toastId:nie(t)}}function Pw(n){return(t,e)=>Sp(t,Rw(n,e))}function $t(n,t){return Sp(n,Rw("default",t))}$t.loading=(n,t)=>Sp(n,Rw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function iie(n,{pending:t,error:e,success:i},s){let r;t&&(r=Eu(t)?$t.loading(t,s):$t.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,h,m)=>{if(h==null){$t.dismiss(r);return}let p={type:u,...o,...s,data:m},v=Eu(h)?{render:h}:h;return r?$t.update(r,{...p,...v}):$t(v.render,{...p,...v}),m},l=ja(n)?n():n;return l.then(u=>a("success",i,u)).catch(u=>a("error",e,u)),l}$t.promise=iie;$t.success=Pw("success");$t.info=Pw("info");$t.error=Pw("error");$t.warning=Pw("warning");$t.warn=$t.warning;$t.dark=(n,t)=>Sp(n,Rw("default",{theme:"dark",...t}));function sie(n){Xne(n)}$t.dismiss=sie;$t.clearWaitingQueue=Jne;$t.isActive=Z9;$t.update=(n,t={})=>{let e=Kne(n,t);if(e){let{props:i,content:s}=e,r={delay:100,...i,...t,toastId:t.toastId||n,updateId:G9()};r.toastId!==n&&(r.staleId=n);let o=r.render||s;delete r.render,Sp(o,r)}};$t.done=n=>{$t.update(n,{progress:1})};$t.onChange=tie;$t.play=n=>X9(!0,n);$t.pause=n=>X9(!1,n);function rie(n){var t;let{subscribe:e,getSnapshot:i,setProps:s}=E.useRef(eie(n)).current;s(n);let r=(t=E.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function o(a){if(!r)return[];let l=new Map;return n.newestOnTop&&r.reverse(),r.forEach(u=>{let{position:h}=u.props;l.has(h)||l.set(h,[]),l.get(h).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:Z9,count:r==null?void 0:r.length}}function oie(n){let[t,e]=E.useState(!1),[i,s]=E.useState(!1),r=E.useRef(null),o=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:h,closeOnClick:m}=n;Qne({id:n.toastId,containerId:n.containerId,fn:e}),E.useEffect(()=>{if(n.pauseOnFocusLoss)return p(),()=>{v()}},[n.pauseOnFocusLoss]);function p(){document.hasFocus()||T(),window.addEventListener("focus",C),window.addEventListener("blur",T)}function v(){window.removeEventListener("focus",C),window.removeEventListener("blur",T)}function _(N){if(n.draggable===!0||n.draggable===N.pointerType){S();let j=r.current;o.canCloseOnClick=!0,o.canDrag=!0,j.style.transition="none",n.draggableDirection==="x"?(o.start=N.clientX,o.removalDistance=j.offsetWidth*(n.draggablePercent/100)):(o.start=N.clientY,o.removalDistance=j.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function k(N){let{top:j,bottom:z,left:J,right:_e}=r.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=J&&N.clientX<=_e&&N.clientY>=j&&N.clientY<=z?T():C()}function C(){e(!0)}function T(){e(!1)}function S(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",O)}function I(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",O)}function P(N){let j=r.current;if(o.canDrag&&j){o.didMove=!0,t&&T(),n.draggableDirection==="x"?o.delta=N.clientX-o.start:o.delta=N.clientY-o.start,o.start!==N.clientX&&(o.canCloseOnClick=!1);let z=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;j.style.transform=`translate3d(${z},0)`,j.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function O(){I();let N=r.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let D={onPointerDown:_,onPointerUp:k};return a&&l&&(D.onMouseEnter=T,n.stacked||(D.onMouseLeave=C)),m&&(D.onClick=N=>{h&&h(N),o.canCloseOnClick&&u(!0)}),{playToast:C,pauseToast:T,isRunning:t,preventExitTransition:i,toastRef:r,eventHandlers:D}}var aie=typeof window<"u"?E.useLayoutEffect:E.useEffect,Ow=({theme:n,type:t,isLoading:e,...i})=>Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function lie(n){return Ve.createElement(Ow,{...n},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function cie(n){return Ve.createElement(Ow,{...n},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function uie(n){return Ve.createElement(Ow,{...n},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function die(n){return Ve.createElement(Ow,{...n},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hie(){return Ve.createElement("div",{className:"Toastify__spinner"})}var gC={info:cie,warning:lie,success:uie,error:die,spinner:hie},fie=n=>n in gC;function mie({theme:n,type:t,isLoading:e,icon:i}){let s=null,r={theme:n,type:t};return i===!1||(ja(i)?s=i({...r,isLoading:e}):E.isValidElement(i)?s=E.cloneElement(i,r):e?s=gC.spinner():fie(t)&&(s=gC[t](r))),s}var gie=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:s,playToast:r}=oie(n),{closeButton:o,children:a,autoClose:l,onClick:u,type:h,hideProgressBar:m,closeToast:p,transition:v,position:_,className:k,style:C,progressClassName:T,updateId:S,role:I,progress:P,rtl:O,toastId:D,deleteToast:N,isIn:j,isLoading:z,closeOnClick:J,theme:_e,ariaLabel:ae}=n,xe=Oa("Toastify__toast",`Toastify__toast-theme--${_e}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":J}),be=ja(k)?k({rtl:O,position:_,type:h,defaultClassName:xe}):Oa(xe,k),Ae=mie(n),Y=!!P||!l,we={closeToast:p,type:h,theme:_e},ne=null;return o===!1||(ja(o)?ne=o(we):E.isValidElement(o)?ne=E.cloneElement(o,we):ne=$ne(we)),Ve.createElement(v,{isIn:j,done:N,position:_,preventExitTransition:e,nodeRef:i,playToast:r},Ve.createElement("div",{id:D,tabIndex:0,onClick:u,"data-in":j,className:be,...s,style:C,ref:i,...j&&{role:I,"aria-label":ae}},Ae!=null&&Ve.createElement("div",{className:Oa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!z})},Ae),q9(a,n,!t),ne,!n.customProgressBar&&Ve.createElement(Wne,{...S&&!Y?{key:`p-${S}`}:{},rtl:O,theme:_e,delay:l,isRunning:t,isIn:j,closeToast:p,hide:m,type:h,className:T,controlledProgress:Y,progress:P||0})))},pie=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),bie=Hne(pie("bounce",!0)),vie={position:"top-right",transition:bie,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function wie(n){let t={...vie,...n},e=n.stacked,[i,s]=E.useState(!0),r=E.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=rie(t),{className:u,style:h,rtl:m,containerId:p,hotKeys:v}=t;function _(C){let T=Oa("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":m});return ja(u)?u({position:C,rtl:m,defaultClassName:T}):Oa(T,hC(u))}function k(){e&&(s(!0),$t.play())}return aie(()=>{var C;if(e){let T=r.current.querySelectorAll('[data-in="true"]'),S=12,I=(C=t.position)==null?void 0:C.includes("top"),P=0,O=0;Array.from(T).reverse().forEach((D,N)=>{let j=D;j.classList.add("Toastify__toast--stacked"),N>0&&(j.dataset.collapsed=`${i}`),j.dataset.pos||(j.dataset.pos=I?"top":"bot");let z=P*(i?.2:1)+(i?0:S*N);j.style.setProperty("--y",`${I?z:z*-1}px`),j.style.setProperty("--g",`${S}`),j.style.setProperty("--s",`${1-(i?O:0)}`),P+=j.offsetHeight,O+=.025})}},[i,l,e]),E.useEffect(()=>{function C(T){var S;let I=r.current;v(T)&&((S=I.querySelector('[tabIndex="0"]'))==null||S.focus(),s(!1),$t.pause()),T.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(s(!0),$t.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[v]),Ve.createElement("section",{ref:r,className:"Toastify",id:p,onMouseEnter:()=>{e&&(s(!1),$t.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((C,T)=>{let S=T.length?{...h}:{...h,pointerEvents:"none"};return Ve.createElement("div",{tabIndex:-1,className:_(C),"data-stacked":e,style:S,key:`c-${C}`},T.map(({content:I,props:P})=>Ve.createElement(gie,{...P,stacked:e,collapseAll:k,isIn:a(P.toastId,P.containerId),key:`t-${P.key}`},I)))}))}const gt=(n,t)=>{const e={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};n==="success"?$t.success(t,e):n==="error"?$t.error(t,e):n==="info"?$t.info(t,e):$t(t,e)};function yie(n){return Qn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}const _ie=()=>{const{toggleSidebar:n}=VT(),[t,e]=E.useState(!1),i=Bo(),s=xw(),r=jo(l=>l.user),o=async()=>{try{const l=await fetch(`${Ot("VITE_API_BASE_URL")}/auth/logout`,{method:"get",credentials:"include"}),u=await l.json();if(!l.ok)return gt("error",u.message);s(Lne()),i(wu),gt("success",u.message)}catch(l){gt("error",l.message)}},a=()=>{e(!t)};return y.jsxs("div",{className:"flex justify-between items-center h-16 fixed w-full z-20 bg-white px-5 border-b",children:[y.jsxs("div",{className:"flex justify-center items-center gap-2",children:[y.jsx("button",{onClick:n,className:"md:hidden",type:"button",children:y.jsx(yie,{})}),y.jsx(Hn,{to:wu,children:y.jsx("img",{src:NT,className:"md:w-auto w-48"})})]}),y.jsx("div",{className:"w-[500px]",children:y.jsx("div",{className:`md:relative md:block absolute bg-white left-0 w-full md:top-0  top-16 md:p-0 p-5 
                    ${t?"block":"hidden"}
                    `,children:y.jsx(uee,{})})}),y.jsxs("div",{className:"flex items-center gap-5",children:[y.jsx("button",{onClick:a,type:"button",className:"md:hidden block",children:y.jsx(IQ,{size:25})}),r.isLoggedIn?y.jsxs(Zte,{children:[y.jsx(Kte,{children:y.jsxs(iC,{children:[y.jsx(bee,{src:r.user.avatar||xu}),y.jsx(vee,{children:r.user.avatar||xu})]})}),y.jsxs(Xte,{children:[y.jsxs(Jte,{children:[y.jsx("p",{children:r.user.name}),y.jsx("p",{className:"text-sm",children:r.user.email})]}),y.jsx(UI,{}),y.jsx(ax,{asChild:!0,className:"cursor-pointer",children:y.jsxs(Hn,{to:DV,children:[y.jsx(OV,{}),"Profile"]})}),y.jsx(ax,{asChild:!0,className:"cursor-pointer",children:y.jsxs(Hn,{to:LT,children:[y.jsx(Qte,{}),"Create Blog"]})}),y.jsx(UI,{}),y.jsxs(ax,{onClick:o,className:"cursor-pointer",children:[y.jsx(cee,{color:"red"}),"Logout"]})]})]}):y.jsx(hi,{asChild:!0,className:"rounded-full",children:y.jsxs(Hn,{to:yu,className:" bg-purple-600 hover:bg-purple-700",children:[y.jsx(lee,{}),"Sign in"]})})]})]})},xie=()=>y.jsxs(mQ,{children:[y.jsx(_ie,{}),y.jsx(oee,{}),y.jsxs("main",{className:"w-full",children:[y.jsx("div",{className:"w-full min-h-[calc(100vh-45px)] py-28 px-10",children:y.jsx(aT,{})}),y.jsx(aee,{})]})]});function xr({className:n,...t}){return y.jsx("div",{"data-slot":"card",className:dt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...t})}function J9({className:n,...t}){return y.jsx("div",{"data-slot":"card-header",className:dt("flex flex-col gap-1.5 px-6",n),...t})}function Uo({className:n,...t}){return y.jsx("div",{"data-slot":"card-content",className:dt("px-6",n),...t})}const kie=uT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Cie({className:n,variant:t,asChild:e=!1,...i}){const s=e?pr:"span";return y.jsx(s,{"data-slot":"badge",className:dt(kie({variant:t}),n),...i})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Q9;function Ne(){return Q9.apply(null,arguments)}function Eie(n){Q9=n}function Gr(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function uu(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Ut(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function nS(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var t;for(t in n)if(Ut(n,t))return!1;return!0}function ps(n){return n===void 0}function Ua(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function Ap(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function eN(n,t){var e=[],i,s=n.length;for(i=0;i<s;++i)e.push(t(n[i],i));return e}function ql(n,t){for(var e in t)Ut(t,e)&&(n[e]=t[e]);return Ut(t,"toString")&&(n.toString=t.toString),Ut(t,"valueOf")&&(n.valueOf=t.valueOf),n}function Ho(n,t,e,i){return kN(n,t,e,i,!0).utc()}function Tie(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function wt(n){return n._pf==null&&(n._pf=Tie()),n._pf}var pC;Array.prototype.some?pC=Array.prototype.some:pC=function(n){var t=Object(this),e=t.length>>>0,i;for(i=0;i<e;i++)if(i in t&&n.call(this,t[i],i,t))return!0;return!1};function iS(n){var t=null,e=!1,i=n._d&&!isNaN(n._d.getTime());if(i&&(t=wt(n),e=pC.call(t.parsedDateParts,function(s){return s!=null}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&e),n._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i;return n._isValid}function Mw(n){var t=Ho(NaN);return n!=null?ql(wt(t),n):wt(t).userInvalidated=!0,t}var eR=Ne.momentProperties=[],dx=!1;function sS(n,t){var e,i,s,r=eR.length;if(ps(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),ps(t._i)||(n._i=t._i),ps(t._f)||(n._f=t._f),ps(t._l)||(n._l=t._l),ps(t._strict)||(n._strict=t._strict),ps(t._tzm)||(n._tzm=t._tzm),ps(t._isUTC)||(n._isUTC=t._isUTC),ps(t._offset)||(n._offset=t._offset),ps(t._pf)||(n._pf=wt(t)),ps(t._locale)||(n._locale=t._locale),r>0)for(e=0;e<r;e++)i=eR[e],s=t[i],ps(s)||(n[i]=s);return n}function Ip(n){sS(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),dx===!1&&(dx=!0,Ne.updateOffset(this),dx=!1)}function Yr(n){return n instanceof Ip||n!=null&&n._isAMomentObject!=null}function tN(n){Ne.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function kr(n,t){var e=!0;return ql(function(){if(Ne.deprecationHandler!=null&&Ne.deprecationHandler(null,n),e){var i=[],s,r,o,a=arguments.length;for(r=0;r<a;r++){if(s="",typeof arguments[r]=="object"){s+=`
[`+r+"] ";for(o in arguments[0])Ut(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[r];i.push(s)}tN(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),e=!1}return t.apply(this,arguments)},t)}var tR={};function nN(n,t){Ne.deprecationHandler!=null&&Ne.deprecationHandler(n,t),tR[n]||(tN(t),tR[n]=!0)}Ne.suppressDeprecationWarnings=!1;Ne.deprecationHandler=null;function $o(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function Sie(n){var t,e;for(e in n)Ut(n,e)&&(t=n[e],$o(t)?this[e]=t:this["_"+e]=t);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function bC(n,t){var e=ql({},n),i;for(i in t)Ut(t,i)&&(uu(n[i])&&uu(t[i])?(e[i]={},ql(e[i],n[i]),ql(e[i],t[i])):t[i]!=null?e[i]=t[i]:delete e[i]);for(i in n)Ut(n,i)&&!Ut(t,i)&&uu(n[i])&&(e[i]=ql({},e[i]));return e}function rS(n){n!=null&&this.set(n)}var vC;Object.keys?vC=Object.keys:vC=function(n){var t,e=[];for(t in n)Ut(n,t)&&e.push(t);return e};var Aie={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Iie(n,t,e){var i=this._calendar[n]||this._calendar.sameElse;return $o(i)?i.call(t,e):i}function Ro(n,t,e){var i=""+Math.abs(n),s=t-i.length,r=n>=0;return(r?e?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var oS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hx={},bh={};function et(n,t,e,i){var s=i;typeof i=="string"&&(s=function(){return this[i]()}),n&&(bh[n]=s),t&&(bh[t[0]]=function(){return Ro(s.apply(this,arguments),t[1],t[2])}),e&&(bh[e]=function(){return this.localeData().ordinal(s.apply(this,arguments),n)})}function Rie(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function Pie(n){var t=n.match(oS),e,i;for(e=0,i=t.length;e<i;e++)bh[t[e]]?t[e]=bh[t[e]]:t[e]=Rie(t[e]);return function(s){var r="",o;for(o=0;o<i;o++)r+=$o(t[o])?t[o].call(s,n):t[o];return r}}function c1(n,t){return n.isValid()?(t=iN(t,n.localeData()),hx[t]=hx[t]||Pie(t),hx[t](n)):n.localeData().invalidDate()}function iN(n,t){var e=5;function i(s){return t.longDateFormat(s)||s}for(Tb.lastIndex=0;e>=0&&Tb.test(n);)n=n.replace(Tb,i),Tb.lastIndex=0,e-=1;return n}var Oie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Mie(n){var t=this._longDateFormat[n],e=this._longDateFormat[n.toUpperCase()];return t||!e?t:(this._longDateFormat[n]=e.match(oS).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var Die="Invalid date";function Vie(){return this._invalidDate}var Nie="%d",Lie=/\d{1,2}/;function Bie(n){return this._ordinal.replace("%d",n)}var Fie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function zie(n,t,e,i){var s=this._relativeTime[e];return $o(s)?s(n,t,e,i):s.replace(/%d/i,n)}function jie(n,t){var e=this._relativeTime[n>0?"future":"past"];return $o(e)?e(t):e.replace(/%s/i,t)}var nR={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Cr(n){return typeof n=="string"?nR[n]||nR[n.toLowerCase()]:void 0}function aS(n){var t={},e,i;for(i in n)Ut(n,i)&&(e=Cr(i),e&&(t[e]=n[i]));return t}var Uie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Hie(n){var t=[],e;for(e in n)Ut(n,e)&&t.push({unit:e,priority:Uie[e]});return t.sort(function(i,s){return i.priority-s.priority}),t}var sN=/\d/,Gs=/\d\d/,rN=/\d{3}/,lS=/\d{4}/,Dw=/[+-]?\d{6}/,vn=/\d\d?/,oN=/\d\d\d\d?/,aN=/\d\d\d\d\d\d?/,Vw=/\d{1,3}/,cS=/\d{1,4}/,Nw=/[+-]?\d{1,6}/,of=/\d+/,Lw=/[+-]?\d+/,$ie=/Z|[+-]\d\d:?\d\d/gi,Bw=/Z|[+-]\d\d(?::?\d\d)?/gi,Wie=/[+-]?\d+(\.\d{1,3})?/,Rp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,af=/^[1-9]\d?/,uS=/^([1-9]\d|\d)/,K1;K1={};function Ue(n,t,e){K1[n]=$o(t)?t:function(i,s){return i&&e?e:t}}function qie(n,t){return Ut(K1,n)?K1[n](t._strict,t._locale):new RegExp(Gie(n))}function Gie(n){return Da(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,r){return e||i||s||r}))}function Da(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function dr(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function It(n){var t=+n,e=0;return t!==0&&isFinite(t)&&(e=dr(t)),e}var wC={};function on(n,t){var e,i=t,s;for(typeof n=="string"&&(n=[n]),Ua(t)&&(i=function(r,o){o[t]=It(r)}),s=n.length,e=0;e<s;e++)wC[n[e]]=i}function Pp(n,t){on(n,function(e,i,s,r){s._w=s._w||{},t(e,s._w,s,r)})}function Yie(n,t,e){t!=null&&Ut(wC,n)&&wC[n](t,e._a,e,n)}function Fw(n){return n%4===0&&n%100!==0||n%400===0}var Gi=0,Ea=1,wo=2,di=3,Br=4,Ta=5,ou=6,Zie=7,Kie=8;et("Y",0,0,function(){var n=this.year();return n<=9999?Ro(n,4):"+"+n});et(0,["YY",2],0,function(){return this.year()%100});et(0,["YYYY",4],0,"year");et(0,["YYYYY",5],0,"year");et(0,["YYYYYY",6,!0],0,"year");Ue("Y",Lw);Ue("YY",vn,Gs);Ue("YYYY",cS,lS);Ue("YYYYY",Nw,Dw);Ue("YYYYYY",Nw,Dw);on(["YYYYY","YYYYYY"],Gi);on("YYYY",function(n,t){t[Gi]=n.length===2?Ne.parseTwoDigitYear(n):It(n)});on("YY",function(n,t){t[Gi]=Ne.parseTwoDigitYear(n)});on("Y",function(n,t){t[Gi]=parseInt(n,10)});function eg(n){return Fw(n)?366:365}Ne.parseTwoDigitYear=function(n){return It(n)+(It(n)>68?1900:2e3)};var lN=lf("FullYear",!0);function Xie(){return Fw(this.year())}function lf(n,t){return function(e){return e!=null?(cN(this,n,e),Ne.updateOffset(this,t),this):Tg(this,n)}}function Tg(n,t){if(!n.isValid())return NaN;var e=n._d,i=n._isUTC;switch(t){case"Milliseconds":return i?e.getUTCMilliseconds():e.getMilliseconds();case"Seconds":return i?e.getUTCSeconds():e.getSeconds();case"Minutes":return i?e.getUTCMinutes():e.getMinutes();case"Hours":return i?e.getUTCHours():e.getHours();case"Date":return i?e.getUTCDate():e.getDate();case"Day":return i?e.getUTCDay():e.getDay();case"Month":return i?e.getUTCMonth():e.getMonth();case"FullYear":return i?e.getUTCFullYear():e.getFullYear();default:return NaN}}function cN(n,t,e){var i,s,r,o,a;if(!(!n.isValid()||isNaN(e))){switch(i=n._d,s=n._isUTC,t){case"Milliseconds":return void(s?i.setUTCMilliseconds(e):i.setMilliseconds(e));case"Seconds":return void(s?i.setUTCSeconds(e):i.setSeconds(e));case"Minutes":return void(s?i.setUTCMinutes(e):i.setMinutes(e));case"Hours":return void(s?i.setUTCHours(e):i.setHours(e));case"Date":return void(s?i.setUTCDate(e):i.setDate(e));case"FullYear":break;default:return}r=e,o=n.month(),a=n.date(),a=a===29&&o===1&&!Fw(r)?28:a,s?i.setUTCFullYear(r,o,a):i.setFullYear(r,o,a)}}function Jie(n){return n=Cr(n),$o(this[n])?this[n]():this}function Qie(n,t){if(typeof n=="object"){n=aS(n);var e=Hie(n),i,s=e.length;for(i=0;i<s;i++)this[e[i].unit](n[e[i].unit])}else if(n=Cr(n),$o(this[n]))return this[n](t);return this}function ese(n,t){return(n%t+t)%t}var Zn;Array.prototype.indexOf?Zn=Array.prototype.indexOf:Zn=function(n){var t;for(t=0;t<this.length;++t)if(this[t]===n)return t;return-1};function dS(n,t){if(isNaN(n)||isNaN(t))return NaN;var e=ese(t,12);return n+=(t-e)/12,e===1?Fw(n)?29:28:31-e%7%2}et("M",["MM",2],"Mo",function(){return this.month()+1});et("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});et("MMMM",0,0,function(n){return this.localeData().months(this,n)});Ue("M",vn,af);Ue("MM",vn,Gs);Ue("MMM",function(n,t){return t.monthsShortRegex(n)});Ue("MMMM",function(n,t){return t.monthsRegex(n)});on(["M","MM"],function(n,t){t[Ea]=It(n)-1});on(["MMM","MMMM"],function(n,t,e,i){var s=e._locale.monthsParse(n,i,e._strict);s!=null?t[Ea]=s:wt(e).invalidMonth=n});var tse="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uN="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nse=Rp,ise=Rp;function sse(n,t){return n?Gr(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||dN).test(t)?"format":"standalone"][n.month()]:Gr(this._months)?this._months:this._months.standalone}function rse(n,t){return n?Gr(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[dN.test(t)?"format":"standalone"][n.month()]:Gr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ose(n,t,e){var i,s,r,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=Ho([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return e?t==="MMM"?(s=Zn.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Zn.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=Zn.call(this._shortMonthsParse,o),s!==-1?s:(s=Zn.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Zn.call(this._longMonthsParse,o),s!==-1?s:(s=Zn.call(this._shortMonthsParse,o),s!==-1?s:null))}function ase(n,t,e){var i,s,r;if(this._monthsParseExact)return ose.call(this,n,t,e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=Ho([2e3,i]),e&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!e&&!this._monthsParse[i]&&(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),e&&t==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(e&&t==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!e&&this._monthsParse[i].test(n))return i}}function hN(n,t){if(!n.isValid())return n;if(typeof t=="string"){if(/^\d+$/.test(t))t=It(t);else if(t=n.localeData().monthsParse(t),!Ua(t))return n}var e=t,i=n.date();return i=i<29?i:Math.min(i,dS(n.year(),e)),n._isUTC?n._d.setUTCMonth(e,i):n._d.setMonth(e,i),n}function fN(n){return n!=null?(hN(this,n),Ne.updateOffset(this,!0),this):Tg(this,"Month")}function lse(){return dS(this.year(),this.month())}function cse(n){return this._monthsParseExact?(Ut(this,"_monthsRegex")||mN.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Ut(this,"_monthsShortRegex")||(this._monthsShortRegex=nse),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function use(n){return this._monthsParseExact?(Ut(this,"_monthsRegex")||mN.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Ut(this,"_monthsRegex")||(this._monthsRegex=ise),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function mN(){function n(l,u){return u.length-l.length}var t=[],e=[],i=[],s,r,o,a;for(s=0;s<12;s++)r=Ho([2e3,s]),o=Da(this.monthsShort(r,"")),a=Da(this.months(r,"")),t.push(o),e.push(a),i.push(a),i.push(o);t.sort(n),e.sort(n),i.sort(n),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function dse(n,t,e,i,s,r,o){var a;return n<100&&n>=0?(a=new Date(n+400,t,e,i,s,r,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,t,e,i,s,r,o),a}function Sg(n){var t,e;return n<100&&n>=0?(e=Array.prototype.slice.call(arguments),e[0]=n+400,t=new Date(Date.UTC.apply(null,e)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n)):t=new Date(Date.UTC.apply(null,arguments)),t}function X1(n,t,e){var i=7+t-e,s=(7+Sg(n,0,i).getUTCDay()-t)%7;return-s+i-1}function gN(n,t,e,i,s){var r=(7+e-i)%7,o=X1(n,i,s),a=1+7*(t-1)+r+o,l,u;return a<=0?(l=n-1,u=eg(l)+a):a>eg(n)?(l=n+1,u=a-eg(n)):(l=n,u=a),{year:l,dayOfYear:u}}function Ag(n,t,e){var i=X1(n.year(),t,e),s=Math.floor((n.dayOfYear()-i-1)/7)+1,r,o;return s<1?(o=n.year()-1,r=s+Va(o,t,e)):s>Va(n.year(),t,e)?(r=s-Va(n.year(),t,e),o=n.year()+1):(o=n.year(),r=s),{week:r,year:o}}function Va(n,t,e){var i=X1(n,t,e),s=X1(n+1,t,e);return(eg(n)-i+s)/7}et("w",["ww",2],"wo","week");et("W",["WW",2],"Wo","isoWeek");Ue("w",vn,af);Ue("ww",vn,Gs);Ue("W",vn,af);Ue("WW",vn,Gs);Pp(["w","ww","W","WW"],function(n,t,e,i){t[i.substr(0,1)]=It(n)});function hse(n){return Ag(n,this._week.dow,this._week.doy).week}var fse={dow:0,doy:6};function mse(){return this._week.dow}function gse(){return this._week.doy}function pse(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")}function bse(n){var t=Ag(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")}et("d",0,"do","day");et("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});et("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});et("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});et("e",0,0,"weekday");et("E",0,0,"isoWeekday");Ue("d",vn);Ue("e",vn);Ue("E",vn);Ue("dd",function(n,t){return t.weekdaysMinRegex(n)});Ue("ddd",function(n,t){return t.weekdaysShortRegex(n)});Ue("dddd",function(n,t){return t.weekdaysRegex(n)});Pp(["dd","ddd","dddd"],function(n,t,e,i){var s=e._locale.weekdaysParse(n,i,e._strict);s!=null?t.d=s:wt(e).invalidWeekday=n});Pp(["d","e","E"],function(n,t,e,i){t[i]=It(n)});function vse(n,t){return typeof n!="string"?n:isNaN(n)?(n=t.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function wse(n,t){return typeof n=="string"?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function hS(n,t){return n.slice(t,7).concat(n.slice(0,t))}var yse="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pN="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_se="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xse=Rp,kse=Rp,Cse=Rp;function Ese(n,t){var e=Gr(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return n===!0?hS(e,this._week.dow):n?e[n.day()]:e}function Tse(n){return n===!0?hS(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function Sse(n){return n===!0?hS(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Ase(n,t,e){var i,s,r,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=Ho([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return e?t==="dddd"?(s=Zn.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=Zn.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Zn.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=Zn.call(this._weekdaysParse,o),s!==-1||(s=Zn.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Zn.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=Zn.call(this._shortWeekdaysParse,o),s!==-1||(s=Zn.call(this._weekdaysParse,o),s!==-1)?s:(s=Zn.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Zn.call(this._minWeekdaysParse,o),s!==-1||(s=Zn.call(this._weekdaysParse,o),s!==-1)?s:(s=Zn.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function Ise(n,t,e){var i,s,r;if(this._weekdaysParseExact)return Ase.call(this,n,t,e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=Ho([2e3,1]).day(i),e&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),e&&t==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(e&&t==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(e&&t==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!e&&this._weekdaysParse[i].test(n))return i}}function Rse(n){if(!this.isValid())return n!=null?this:NaN;var t=Tg(this,"Day");return n!=null?(n=vse(n,this.localeData()),this.add(n-t,"d")):t}function Pse(n){if(!this.isValid())return n!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")}function Ose(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var t=wse(n,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Mse(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||fS.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Ut(this,"_weekdaysRegex")||(this._weekdaysRegex=xse),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Dse(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||fS.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ut(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kse),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vse(n){return this._weekdaysParseExact?(Ut(this,"_weekdaysRegex")||fS.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ut(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Cse),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fS(){function n(h,m){return m.length-h.length}var t=[],e=[],i=[],s=[],r,o,a,l,u;for(r=0;r<7;r++)o=Ho([2e3,1]).day(r),a=Da(this.weekdaysMin(o,"")),l=Da(this.weekdaysShort(o,"")),u=Da(this.weekdays(o,"")),t.push(a),e.push(l),i.push(u),s.push(a),s.push(l),s.push(u);t.sort(n),e.sort(n),i.sort(n),s.sort(n),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function mS(){return this.hours()%12||12}function Nse(){return this.hours()||24}et("H",["HH",2],0,"hour");et("h",["hh",2],0,mS);et("k",["kk",2],0,Nse);et("hmm",0,0,function(){return""+mS.apply(this)+Ro(this.minutes(),2)});et("hmmss",0,0,function(){return""+mS.apply(this)+Ro(this.minutes(),2)+Ro(this.seconds(),2)});et("Hmm",0,0,function(){return""+this.hours()+Ro(this.minutes(),2)});et("Hmmss",0,0,function(){return""+this.hours()+Ro(this.minutes(),2)+Ro(this.seconds(),2)});function bN(n,t){et(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}bN("a",!0);bN("A",!1);function vN(n,t){return t._meridiemParse}Ue("a",vN);Ue("A",vN);Ue("H",vn,uS);Ue("h",vn,af);Ue("k",vn,af);Ue("HH",vn,Gs);Ue("hh",vn,Gs);Ue("kk",vn,Gs);Ue("hmm",oN);Ue("hmmss",aN);Ue("Hmm",oN);Ue("Hmmss",aN);on(["H","HH"],di);on(["k","kk"],function(n,t,e){var i=It(n);t[di]=i===24?0:i});on(["a","A"],function(n,t,e){e._isPm=e._locale.isPM(n),e._meridiem=n});on(["h","hh"],function(n,t,e){t[di]=It(n),wt(e).bigHour=!0});on("hmm",function(n,t,e){var i=n.length-2;t[di]=It(n.substr(0,i)),t[Br]=It(n.substr(i)),wt(e).bigHour=!0});on("hmmss",function(n,t,e){var i=n.length-4,s=n.length-2;t[di]=It(n.substr(0,i)),t[Br]=It(n.substr(i,2)),t[Ta]=It(n.substr(s)),wt(e).bigHour=!0});on("Hmm",function(n,t,e){var i=n.length-2;t[di]=It(n.substr(0,i)),t[Br]=It(n.substr(i))});on("Hmmss",function(n,t,e){var i=n.length-4,s=n.length-2;t[di]=It(n.substr(0,i)),t[Br]=It(n.substr(i,2)),t[Ta]=It(n.substr(s))});function Lse(n){return(n+"").toLowerCase().charAt(0)==="p"}var Bse=/[ap]\.?m?\.?/i,Fse=lf("Hours",!0);function zse(n,t,e){return n>11?e?"pm":"PM":e?"am":"AM"}var wN={calendar:Aie,longDateFormat:Oie,invalidDate:Die,ordinal:Nie,dayOfMonthOrdinalParse:Lie,relativeTime:Fie,months:tse,monthsShort:uN,week:fse,weekdays:yse,weekdaysMin:_se,weekdaysShort:pN,meridiemParse:Bse},wn={},xm={},Ig;function jse(n,t){var e,i=Math.min(n.length,t.length);for(e=0;e<i;e+=1)if(n[e]!==t[e])return e;return i}function iR(n){return n&&n.toLowerCase().replace("_","-")}function Use(n){for(var t=0,e,i,s,r;t<n.length;){for(r=iR(n[t]).split("-"),e=r.length,i=iR(n[t+1]),i=i?i.split("-"):null;e>0;){if(s=zw(r.slice(0,e).join("-")),s)return s;if(i&&i.length>=e&&jse(r,i)>=e-1)break;e--}t++}return Ig}function Hse(n){return!!(n&&n.match("^[^/\\\\]*$"))}function zw(n){var t=null,e;if(wn[n]===void 0&&typeof qi<"u"&&qi&&qi.exports&&Hse(n))try{t=Ig._abbr,e=require,e("./locale/"+n),Kl(t)}catch{wn[n]=null}return wn[n]}function Kl(n,t){var e;return n&&(ps(t)?e=nl(n):e=gS(n,t),e?Ig=e:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),Ig._abbr}function gS(n,t){if(t!==null){var e,i=wN;if(t.abbr=n,wn[n]!=null)nN("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=wn[n]._config;else if(t.parentLocale!=null)if(wn[t.parentLocale]!=null)i=wn[t.parentLocale]._config;else if(e=zw(t.parentLocale),e!=null)i=e._config;else return xm[t.parentLocale]||(xm[t.parentLocale]=[]),xm[t.parentLocale].push({name:n,config:t}),null;return wn[n]=new rS(bC(i,t)),xm[n]&&xm[n].forEach(function(s){gS(s.name,s.config)}),Kl(n),wn[n]}else return delete wn[n],null}function $se(n,t){if(t!=null){var e,i,s=wN;wn[n]!=null&&wn[n].parentLocale!=null?wn[n].set(bC(wn[n]._config,t)):(i=zw(n),i!=null&&(s=i._config),t=bC(s,t),i==null&&(t.abbr=n),e=new rS(t),e.parentLocale=wn[n],wn[n]=e),Kl(n)}else wn[n]!=null&&(wn[n].parentLocale!=null?(wn[n]=wn[n].parentLocale,n===Kl()&&Kl(n)):wn[n]!=null&&delete wn[n]);return wn[n]}function nl(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return Ig;if(!Gr(n)){if(t=zw(n),t)return t;n=[n]}return Use(n)}function Wse(){return vC(wn)}function pS(n){var t,e=n._a;return e&&wt(n).overflow===-2&&(t=e[Ea]<0||e[Ea]>11?Ea:e[wo]<1||e[wo]>dS(e[Gi],e[Ea])?wo:e[di]<0||e[di]>24||e[di]===24&&(e[Br]!==0||e[Ta]!==0||e[ou]!==0)?di:e[Br]<0||e[Br]>59?Br:e[Ta]<0||e[Ta]>59?Ta:e[ou]<0||e[ou]>999?ou:-1,wt(n)._overflowDayOfYear&&(t<Gi||t>wo)&&(t=wo),wt(n)._overflowWeeks&&t===-1&&(t=Zie),wt(n)._overflowWeekday&&t===-1&&(t=Kie),wt(n).overflow=t),n}var qse=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gse=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yse=/Z|[+-]\d\d(?::?\d\d)?/,Sb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fx=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Zse=/^\/?Date\((-?\d+)/i,Kse=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xse={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function yN(n){var t,e,i=n._i,s=qse.exec(i)||Gse.exec(i),r,o,a,l,u=Sb.length,h=fx.length;if(s){for(wt(n).iso=!0,t=0,e=u;t<e;t++)if(Sb[t][1].exec(s[1])){o=Sb[t][0],r=Sb[t][2]!==!1;break}if(o==null){n._isValid=!1;return}if(s[3]){for(t=0,e=h;t<e;t++)if(fx[t][1].exec(s[3])){a=(s[2]||" ")+fx[t][0];break}if(a==null){n._isValid=!1;return}}if(!r&&a!=null){n._isValid=!1;return}if(s[4])if(Yse.exec(s[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),vS(n)}else n._isValid=!1}function Jse(n,t,e,i,s,r){var o=[Qse(n),uN.indexOf(t),parseInt(e,10),parseInt(i,10),parseInt(s,10)];return r&&o.push(parseInt(r,10)),o}function Qse(n){var t=parseInt(n,10);return t<=49?2e3+t:t<=999?1900+t:t}function ere(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function tre(n,t,e){if(n){var i=pN.indexOf(n),s=new Date(t[0],t[1],t[2]).getDay();if(i!==s)return wt(e).weekdayMismatch=!0,e._isValid=!1,!1}return!0}function nre(n,t,e){if(n)return Xse[n];if(t)return 0;var i=parseInt(e,10),s=i%100,r=(i-s)/100;return r*60+s}function _N(n){var t=Kse.exec(ere(n._i)),e;if(t){if(e=Jse(t[4],t[3],t[2],t[5],t[6],t[7]),!tre(t[1],e,n))return;n._a=e,n._tzm=nre(t[8],t[9],t[10]),n._d=Sg.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),wt(n).rfc2822=!0}else n._isValid=!1}function ire(n){var t=Zse.exec(n._i);if(t!==null){n._d=new Date(+t[1]);return}if(yN(n),n._isValid===!1)delete n._isValid;else return;if(_N(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Ne.createFromInputFallback(n)}Ne.createFromInputFallback=kr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function eh(n,t,e){return n??t??e}function sre(n){var t=new Date(Ne.now());return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function bS(n){var t,e,i=[],s,r,o;if(!n._d){for(s=sre(n),n._w&&n._a[wo]==null&&n._a[Ea]==null&&rre(n),n._dayOfYear!=null&&(o=eh(n._a[Gi],s[Gi]),(n._dayOfYear>eg(o)||n._dayOfYear===0)&&(wt(n)._overflowDayOfYear=!0),e=Sg(o,0,n._dayOfYear),n._a[Ea]=e.getUTCMonth(),n._a[wo]=e.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=i[t]=s[t];for(;t<7;t++)n._a[t]=i[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[di]===24&&n._a[Br]===0&&n._a[Ta]===0&&n._a[ou]===0&&(n._nextDay=!0,n._a[di]=0),n._d=(n._useUTC?Sg:dse).apply(null,i),r=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[di]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==r&&(wt(n).weekdayMismatch=!0)}}function rre(n){var t,e,i,s,r,o,a,l,u;t=n._w,t.GG!=null||t.W!=null||t.E!=null?(r=1,o=4,e=eh(t.GG,n._a[Gi],Ag(bn(),1,4).year),i=eh(t.W,1),s=eh(t.E,1),(s<1||s>7)&&(l=!0)):(r=n._locale._week.dow,o=n._locale._week.doy,u=Ag(bn(),r,o),e=eh(t.gg,n._a[Gi],u.year),i=eh(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(l=!0)):t.e!=null?(s=t.e+r,(t.e<0||t.e>6)&&(l=!0)):s=r),i<1||i>Va(e,r,o)?wt(n)._overflowWeeks=!0:l!=null?wt(n)._overflowWeekday=!0:(a=gN(e,i,s,r,o),n._a[Gi]=a.year,n._dayOfYear=a.dayOfYear)}Ne.ISO_8601=function(){};Ne.RFC_2822=function(){};function vS(n){if(n._f===Ne.ISO_8601){yN(n);return}if(n._f===Ne.RFC_2822){_N(n);return}n._a=[],wt(n).empty=!0;var t=""+n._i,e,i,s,r,o,a=t.length,l=0,u,h;for(s=iN(n._f,n._locale).match(oS)||[],h=s.length,e=0;e<h;e++)r=s[e],i=(t.match(qie(r,n))||[])[0],i&&(o=t.substr(0,t.indexOf(i)),o.length>0&&wt(n).unusedInput.push(o),t=t.slice(t.indexOf(i)+i.length),l+=i.length),bh[r]?(i?wt(n).empty=!1:wt(n).unusedTokens.push(r),Yie(r,i,n)):n._strict&&!i&&wt(n).unusedTokens.push(r);wt(n).charsLeftOver=a-l,t.length>0&&wt(n).unusedInput.push(t),n._a[di]<=12&&wt(n).bigHour===!0&&n._a[di]>0&&(wt(n).bigHour=void 0),wt(n).parsedDateParts=n._a.slice(0),wt(n).meridiem=n._meridiem,n._a[di]=ore(n._locale,n._a[di],n._meridiem),u=wt(n).era,u!==null&&(n._a[Gi]=n._locale.erasConvertYear(u,n._a[Gi])),bS(n),pS(n)}function ore(n,t,e){var i;return e==null?t:n.meridiemHour!=null?n.meridiemHour(t,e):(n.isPM!=null&&(i=n.isPM(e),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function are(n){var t,e,i,s,r,o,a=!1,l=n._f.length;if(l===0){wt(n).invalidFormat=!0,n._d=new Date(NaN);return}for(s=0;s<l;s++)r=0,o=!1,t=sS({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._f=n._f[s],vS(t),iS(t)&&(o=!0),r+=wt(t).charsLeftOver,r+=wt(t).unusedTokens.length*10,wt(t).score=r,a?r<i&&(i=r,e=t):(i==null||r<i||o)&&(i=r,e=t,o&&(a=!0));ql(n,e||t)}function lre(n){if(!n._d){var t=aS(n._i),e=t.day===void 0?t.date:t.day;n._a=eN([t.year,t.month,e,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),bS(n)}}function cre(n){var t=new Ip(pS(xN(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xN(n){var t=n._i,e=n._f;return n._locale=n._locale||nl(n._l),t===null||e===void 0&&t===""?Mw({nullInput:!0}):(typeof t=="string"&&(n._i=t=n._locale.preparse(t)),Yr(t)?new Ip(pS(t)):(Ap(t)?n._d=t:Gr(e)?are(n):e?vS(n):ure(n),iS(n)||(n._d=null),n))}function ure(n){var t=n._i;ps(t)?n._d=new Date(Ne.now()):Ap(t)?n._d=new Date(t.valueOf()):typeof t=="string"?ire(n):Gr(t)?(n._a=eN(t.slice(0),function(e){return parseInt(e,10)}),bS(n)):uu(t)?lre(n):Ua(t)?n._d=new Date(t):Ne.createFromInputFallback(n)}function kN(n,t,e,i,s){var r={};return(t===!0||t===!1)&&(i=t,t=void 0),(e===!0||e===!1)&&(i=e,e=void 0),(uu(n)&&nS(n)||Gr(n)&&n.length===0)&&(n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=e,r._i=n,r._f=t,r._strict=i,cre(r)}function bn(n,t,e,i){return kN(n,t,e,i,!1)}var dre=kr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=bn.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:Mw()}),hre=kr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=bn.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:Mw()});function CN(n,t){var e,i;if(t.length===1&&Gr(t[0])&&(t=t[0]),!t.length)return bn();for(e=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](e))&&(e=t[i]);return e}function fre(){var n=[].slice.call(arguments,0);return CN("isBefore",n)}function mre(){var n=[].slice.call(arguments,0);return CN("isAfter",n)}var gre=function(){return Date.now?Date.now():+new Date},km=["year","quarter","month","week","day","hour","minute","second","millisecond"];function pre(n){var t,e=!1,i,s=km.length;for(t in n)if(Ut(n,t)&&!(Zn.call(km,t)!==-1&&(n[t]==null||!isNaN(n[t]))))return!1;for(i=0;i<s;++i)if(n[km[i]]){if(e)return!1;parseFloat(n[km[i]])!==It(n[km[i]])&&(e=!0)}return!0}function bre(){return this._isValid}function vre(){return to(NaN)}function jw(n){var t=aS(n),e=t.year||0,i=t.quarter||0,s=t.month||0,r=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=pre(t),this._milliseconds=+h+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+r*7,this._months=+s+i*3+e*12,this._data={},this._locale=nl(),this._bubble()}function u1(n){return n instanceof jw}function yC(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function wre(n,t,e){var i=Math.min(n.length,t.length),s=Math.abs(n.length-t.length),r=0,o;for(o=0;o<i;o++)It(n[o])!==It(t[o])&&r++;return r+s}function EN(n,t){et(n,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+Ro(~~(e/60),2)+t+Ro(~~e%60,2)})}EN("Z",":");EN("ZZ","");Ue("Z",Bw);Ue("ZZ",Bw);on(["Z","ZZ"],function(n,t,e){e._useUTC=!0,e._tzm=wS(Bw,n)});var yre=/([\+\-]|\d\d)/gi;function wS(n,t){var e=(t||"").match(n),i,s,r;return e===null?null:(i=e[e.length-1]||[],s=(i+"").match(yre)||["-",0,0],r=+(s[1]*60)+It(s[2]),r===0?0:s[0]==="+"?r:-r)}function yS(n,t){var e,i;return t._isUTC?(e=t.clone(),i=(Yr(n)||Ap(n)?n.valueOf():bn(n).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+i),Ne.updateOffset(e,!1),e):bn(n).local()}function _C(n){return-Math.round(n._d.getTimezoneOffset())}Ne.updateOffset=function(){};function _re(n,t,e){var i=this._offset||0,s;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=wS(Bw,n),n===null)return this}else Math.abs(n)<16&&!e&&(n=n*60);return!this._isUTC&&t&&(s=_C(this)),this._offset=n,this._isUTC=!0,s!=null&&this.add(s,"m"),i!==n&&(!t||this._changeInProgress?AN(this,to(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ne.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:_C(this)}function xre(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function kre(n){return this.utcOffset(0,n)}function Cre(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(_C(this),"m")),this}function Ere(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=wS($ie,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function Tre(n){return this.isValid()?(n=n?bn(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function Sre(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Are(){if(!ps(this._isDSTShifted))return this._isDSTShifted;var n={},t;return sS(n,this),n=xN(n),n._a?(t=n._isUTC?Ho(n._a):bn(n._a),this._isDSTShifted=this.isValid()&&wre(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ire(){return this.isValid()?!this._isUTC:!1}function Rre(){return this.isValid()?this._isUTC:!1}function TN(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Pre=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ore=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function to(n,t){var e=n,i=null,s,r,o;return u1(n)?e={ms:n._milliseconds,d:n._days,M:n._months}:Ua(n)||!isNaN(+n)?(e={},t?e[t]=+n:e.milliseconds=+n):(i=Pre.exec(n))?(s=i[1]==="-"?-1:1,e={y:0,d:It(i[wo])*s,h:It(i[di])*s,m:It(i[Br])*s,s:It(i[Ta])*s,ms:It(yC(i[ou]*1e3))*s}):(i=Ore.exec(n))?(s=i[1]==="-"?-1:1,e={y:Yc(i[2],s),M:Yc(i[3],s),w:Yc(i[4],s),d:Yc(i[5],s),h:Yc(i[6],s),m:Yc(i[7],s),s:Yc(i[8],s)}):e==null?e={}:typeof e=="object"&&("from"in e||"to"in e)&&(o=Mre(bn(e.from),bn(e.to)),e={},e.ms=o.milliseconds,e.M=o.months),r=new jw(e),u1(n)&&Ut(n,"_locale")&&(r._locale=n._locale),u1(n)&&Ut(n,"_isValid")&&(r._isValid=n._isValid),r}to.fn=jw.prototype;to.invalid=vre;function Yc(n,t){var e=n&&parseFloat(n.replace(",","."));return(isNaN(e)?0:e)*t}function sR(n,t){var e={};return e.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(e.months,"M").isAfter(t)&&--e.months,e.milliseconds=+t-+n.clone().add(e.months,"M"),e}function Mre(n,t){var e;return n.isValid()&&t.isValid()?(t=yS(t,n),n.isBefore(t)?e=sR(n,t):(e=sR(t,n),e.milliseconds=-e.milliseconds,e.months=-e.months),e):{milliseconds:0,months:0}}function SN(n,t){return function(e,i){var s,r;return i!==null&&!isNaN(+i)&&(nN(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=e,e=i,i=r),s=to(e,i),AN(this,s,n),this}}function AN(n,t,e,i){var s=t._milliseconds,r=yC(t._days),o=yC(t._months);n.isValid()&&(i=i??!0,o&&hN(n,Tg(n,"Month")+o*e),r&&cN(n,"Date",Tg(n,"Date")+r*e),s&&n._d.setTime(n._d.valueOf()+s*e),i&&Ne.updateOffset(n,r||o))}var Dre=SN(1,"add"),Vre=SN(-1,"subtract");function IN(n){return typeof n=="string"||n instanceof String}function Nre(n){return Yr(n)||Ap(n)||IN(n)||Ua(n)||Bre(n)||Lre(n)||n===null||n===void 0}function Lre(n){var t=uu(n)&&!nS(n),e=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,r,o=i.length;for(s=0;s<o;s+=1)r=i[s],e=e||Ut(n,r);return t&&e}function Bre(n){var t=Gr(n),e=!1;return t&&(e=n.filter(function(i){return!Ua(i)&&IN(n)}).length===0),t&&e}function Fre(n){var t=uu(n)&&!nS(n),e=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,r;for(s=0;s<i.length;s+=1)r=i[s],e=e||Ut(n,r);return t&&e}function zre(n,t){var e=n.diff(t,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"}function jre(n,t){arguments.length===1&&(arguments[0]?Nre(arguments[0])?(n=arguments[0],t=void 0):Fre(arguments[0])&&(t=arguments[0],n=void 0):(n=void 0,t=void 0));var e=n||bn(),i=yS(e,this).startOf("day"),s=Ne.calendarFormat(this,i)||"sameElse",r=t&&($o(t[s])?t[s].call(this,e):t[s]);return this.format(r||this.localeData().calendar(s,this,bn(e)))}function Ure(){return new Ip(this)}function Hre(n,t){var e=Yr(n)?n:bn(n);return this.isValid()&&e.isValid()?(t=Cr(t)||"millisecond",t==="millisecond"?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf()):!1}function $re(n,t){var e=Yr(n)?n:bn(n);return this.isValid()&&e.isValid()?(t=Cr(t)||"millisecond",t==="millisecond"?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf()):!1}function Wre(n,t,e,i){var s=Yr(n)?n:bn(n),r=Yr(t)?t:bn(t);return this.isValid()&&s.isValid()&&r.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(s,e):!this.isBefore(s,e))&&(i[1]===")"?this.isBefore(r,e):!this.isAfter(r,e))):!1}function qre(n,t){var e=Yr(n)?n:bn(n),i;return this.isValid()&&e.isValid()?(t=Cr(t)||"millisecond",t==="millisecond"?this.valueOf()===e.valueOf():(i=e.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function Gre(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function Yre(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function Zre(n,t,e){var i,s,r;if(!this.isValid())return NaN;if(i=yS(n,this),!i.isValid())return NaN;switch(s=(i.utcOffset()-this.utcOffset())*6e4,t=Cr(t),t){case"year":r=d1(this,i)/12;break;case"month":r=d1(this,i);break;case"quarter":r=d1(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-s)/864e5;break;case"week":r=(this-i-s)/6048e5;break;default:r=this-i}return e?r:dr(r)}function d1(n,t){if(n.date()<t.date())return-d1(t,n);var e=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(e,"months"),s,r;return t-i<0?(s=n.clone().add(e-1,"months"),r=(t-i)/(i-s)):(s=n.clone().add(e+1,"months"),r=(t-i)/(s-i)),-(e+r)||0}Ne.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ne.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Kre(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xre(n){if(!this.isValid())return null;var t=n!==!0,e=t?this.clone().utc():this;return e.year()<0||e.year()>9999?c1(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$o(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",c1(e,"Z")):c1(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Jre(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",t="",e,i,s,r;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),e="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]',this.format(e+i+s+r)}function Qre(n){n||(n=this.isUtc()?Ne.defaultFormatUtc:Ne.defaultFormat);var t=c1(this,n);return this.localeData().postformat(t)}function eoe(n,t){return this.isValid()&&(Yr(n)&&n.isValid()||bn(n).isValid())?to({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toe(n){return this.from(bn(),n)}function noe(n,t){return this.isValid()&&(Yr(n)&&n.isValid()||bn(n).isValid())?to({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ioe(n){return this.to(bn(),n)}function RN(n){var t;return n===void 0?this._locale._abbr:(t=nl(n),t!=null&&(this._locale=t),this)}var PN=kr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function ON(){return this._locale}var J1=1e3,vh=60*J1,Q1=60*vh,MN=(365*400+97)*24*Q1;function wh(n,t){return(n%t+t)%t}function DN(n,t,e){return n<100&&n>=0?new Date(n+400,t,e)-MN:new Date(n,t,e).valueOf()}function VN(n,t,e){return n<100&&n>=0?Date.UTC(n+400,t,e)-MN:Date.UTC(n,t,e)}function soe(n){var t,e;if(n=Cr(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?VN:DN,n){case"year":t=e(this.year(),0,1);break;case"quarter":t=e(this.year(),this.month()-this.month()%3,1);break;case"month":t=e(this.year(),this.month(),1);break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=e(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wh(t+(this._isUTC?0:this.utcOffset()*vh),Q1);break;case"minute":t=this._d.valueOf(),t-=wh(t,vh);break;case"second":t=this._d.valueOf(),t-=wh(t,J1);break}return this._d.setTime(t),Ne.updateOffset(this,!0),this}function roe(n){var t,e;if(n=Cr(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?VN:DN,n){case"year":t=e(this.year()+1,0,1)-1;break;case"quarter":t=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=e(this.year(),this.month()+1,1)-1;break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=e(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Q1-wh(t+(this._isUTC?0:this.utcOffset()*vh),Q1)-1;break;case"minute":t=this._d.valueOf(),t+=vh-wh(t,vh)-1;break;case"second":t=this._d.valueOf(),t+=J1-wh(t,J1)-1;break}return this._d.setTime(t),Ne.updateOffset(this,!0),this}function ooe(){return this._d.valueOf()-(this._offset||0)*6e4}function aoe(){return Math.floor(this.valueOf()/1e3)}function loe(){return new Date(this.valueOf())}function coe(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function uoe(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function doe(){return this.isValid()?this.toISOString():null}function hoe(){return iS(this)}function foe(){return ql({},wt(this))}function moe(){return wt(this).overflow}function goe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}et("N",0,0,"eraAbbr");et("NN",0,0,"eraAbbr");et("NNN",0,0,"eraAbbr");et("NNNN",0,0,"eraName");et("NNNNN",0,0,"eraNarrow");et("y",["y",1],"yo","eraYear");et("y",["yy",2],0,"eraYear");et("y",["yyy",3],0,"eraYear");et("y",["yyyy",4],0,"eraYear");Ue("N",_S);Ue("NN",_S);Ue("NNN",_S);Ue("NNNN",Toe);Ue("NNNNN",Soe);on(["N","NN","NNN","NNNN","NNNNN"],function(n,t,e,i){var s=e._locale.erasParse(n,i,e._strict);s?wt(e).era=s:wt(e).invalidEra=n});Ue("y",of);Ue("yy",of);Ue("yyy",of);Ue("yyyy",of);Ue("yo",Aoe);on(["y","yy","yyy","yyyy"],Gi);on(["yo"],function(n,t,e,i){var s;e._locale._eraYearOrdinalRegex&&(s=n.match(e._locale._eraYearOrdinalRegex)),e._locale.eraYearOrdinalParse?t[Gi]=e._locale.eraYearOrdinalParse(n,s):t[Gi]=parseInt(n,10)});function poe(n,t){var e,i,s,r=this._eras||nl("en")._eras;for(e=0,i=r.length;e<i;++e){switch(typeof r[e].since){case"string":s=Ne(r[e].since).startOf("day"),r[e].since=s.valueOf();break}switch(typeof r[e].until){case"undefined":r[e].until=1/0;break;case"string":s=Ne(r[e].until).startOf("day").valueOf(),r[e].until=s.valueOf();break}}return r}function boe(n,t,e){var i,s,r=this.eras(),o,a,l;for(n=n.toUpperCase(),i=0,s=r.length;i<s;++i)if(o=r[i].name.toUpperCase(),a=r[i].abbr.toUpperCase(),l=r[i].narrow.toUpperCase(),e)switch(t){case"N":case"NN":case"NNN":if(a===n)return r[i];break;case"NNNN":if(o===n)return r[i];break;case"NNNNN":if(l===n)return r[i];break}else if([o,a,l].indexOf(n)>=0)return r[i]}function voe(n,t){var e=n.since<=n.until?1:-1;return t===void 0?Ne(n.since).year():Ne(n.since).year()+(t-n.offset)*e}function woe(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].name;return""}function yoe(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].narrow;return""}function _oe(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].abbr;return""}function xoe(){var n,t,e,i,s=this.localeData().eras();for(n=0,t=s.length;n<t;++n)if(e=s[n].since<=s[n].until?1:-1,i=this.clone().startOf("day").valueOf(),s[n].since<=i&&i<=s[n].until||s[n].until<=i&&i<=s[n].since)return(this.year()-Ne(s[n].since).year())*e+s[n].offset;return this.year()}function koe(n){return Ut(this,"_erasNameRegex")||xS.call(this),n?this._erasNameRegex:this._erasRegex}function Coe(n){return Ut(this,"_erasAbbrRegex")||xS.call(this),n?this._erasAbbrRegex:this._erasRegex}function Eoe(n){return Ut(this,"_erasNarrowRegex")||xS.call(this),n?this._erasNarrowRegex:this._erasRegex}function _S(n,t){return t.erasAbbrRegex(n)}function Toe(n,t){return t.erasNameRegex(n)}function Soe(n,t){return t.erasNarrowRegex(n)}function Aoe(n,t){return t._eraYearOrdinalRegex||of}function xS(){var n=[],t=[],e=[],i=[],s,r,o,a,l,u=this.eras();for(s=0,r=u.length;s<r;++s)o=Da(u[s].name),a=Da(u[s].abbr),l=Da(u[s].narrow),t.push(o),n.push(a),e.push(l),i.push(o),i.push(a),i.push(l);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+e.join("|")+")","i")}et(0,["gg",2],0,function(){return this.weekYear()%100});et(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Uw(n,t){et(0,[n,n.length],0,t)}Uw("gggg","weekYear");Uw("ggggg","weekYear");Uw("GGGG","isoWeekYear");Uw("GGGGG","isoWeekYear");Ue("G",Lw);Ue("g",Lw);Ue("GG",vn,Gs);Ue("gg",vn,Gs);Ue("GGGG",cS,lS);Ue("gggg",cS,lS);Ue("GGGGG",Nw,Dw);Ue("ggggg",Nw,Dw);Pp(["gggg","ggggg","GGGG","GGGGG"],function(n,t,e,i){t[i.substr(0,2)]=It(n)});Pp(["gg","GG"],function(n,t,e,i){t[i]=Ne.parseTwoDigitYear(n)});function Ioe(n){return NN.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Roe(n){return NN.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function Poe(){return Va(this.year(),1,4)}function Ooe(){return Va(this.isoWeekYear(),1,4)}function Moe(){var n=this.localeData()._week;return Va(this.year(),n.dow,n.doy)}function Doe(){var n=this.localeData()._week;return Va(this.weekYear(),n.dow,n.doy)}function NN(n,t,e,i,s){var r;return n==null?Ag(this,i,s).year:(r=Va(n,i,s),t>r&&(t=r),Voe.call(this,n,t,e,i,s))}function Voe(n,t,e,i,s){var r=gN(n,t,e,i,s),o=Sg(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}et("Q",0,"Qo","quarter");Ue("Q",sN);on("Q",function(n,t){t[Ea]=(It(n)-1)*3});function Noe(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}et("D",["DD",2],"Do","date");Ue("D",vn,af);Ue("DD",vn,Gs);Ue("Do",function(n,t){return n?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});on(["D","DD"],wo);on("Do",function(n,t){t[wo]=It(n.match(vn)[0])});var LN=lf("Date",!0);et("DDD",["DDDD",3],"DDDo","dayOfYear");Ue("DDD",Vw);Ue("DDDD",rN);on(["DDD","DDDD"],function(n,t,e){e._dayOfYear=It(n)});function Loe(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?t:this.add(n-t,"d")}et("m",["mm",2],0,"minute");Ue("m",vn,uS);Ue("mm",vn,Gs);on(["m","mm"],Br);var Boe=lf("Minutes",!1);et("s",["ss",2],0,"second");Ue("s",vn,uS);Ue("ss",vn,Gs);on(["s","ss"],Ta);var Foe=lf("Seconds",!1);et("S",0,0,function(){return~~(this.millisecond()/100)});et(0,["SS",2],0,function(){return~~(this.millisecond()/10)});et(0,["SSS",3],0,"millisecond");et(0,["SSSS",4],0,function(){return this.millisecond()*10});et(0,["SSSSS",5],0,function(){return this.millisecond()*100});et(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});et(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});et(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});et(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ue("S",Vw,sN);Ue("SS",Vw,Gs);Ue("SSS",Vw,rN);var Gl,BN;for(Gl="SSSS";Gl.length<=9;Gl+="S")Ue(Gl,of);function zoe(n,t){t[ou]=It(("0."+n)*1e3)}for(Gl="S";Gl.length<=9;Gl+="S")on(Gl,zoe);BN=lf("Milliseconds",!1);et("z",0,0,"zoneAbbr");et("zz",0,0,"zoneName");function joe(){return this._isUTC?"UTC":""}function Uoe(){return this._isUTC?"Coordinated Universal Time":""}var Se=Ip.prototype;Se.add=Dre;Se.calendar=jre;Se.clone=Ure;Se.diff=Zre;Se.endOf=roe;Se.format=Qre;Se.from=eoe;Se.fromNow=toe;Se.to=noe;Se.toNow=ioe;Se.get=Jie;Se.invalidAt=moe;Se.isAfter=Hre;Se.isBefore=$re;Se.isBetween=Wre;Se.isSame=qre;Se.isSameOrAfter=Gre;Se.isSameOrBefore=Yre;Se.isValid=hoe;Se.lang=PN;Se.locale=RN;Se.localeData=ON;Se.max=hre;Se.min=dre;Se.parsingFlags=foe;Se.set=Qie;Se.startOf=soe;Se.subtract=Vre;Se.toArray=coe;Se.toObject=uoe;Se.toDate=loe;Se.toISOString=Xre;Se.inspect=Jre;typeof Symbol<"u"&&Symbol.for!=null&&(Se[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Se.toJSON=doe;Se.toString=Kre;Se.unix=aoe;Se.valueOf=ooe;Se.creationData=goe;Se.eraName=woe;Se.eraNarrow=yoe;Se.eraAbbr=_oe;Se.eraYear=xoe;Se.year=lN;Se.isLeapYear=Xie;Se.weekYear=Ioe;Se.isoWeekYear=Roe;Se.quarter=Se.quarters=Noe;Se.month=fN;Se.daysInMonth=lse;Se.week=Se.weeks=pse;Se.isoWeek=Se.isoWeeks=bse;Se.weeksInYear=Moe;Se.weeksInWeekYear=Doe;Se.isoWeeksInYear=Poe;Se.isoWeeksInISOWeekYear=Ooe;Se.date=LN;Se.day=Se.days=Rse;Se.weekday=Pse;Se.isoWeekday=Ose;Se.dayOfYear=Loe;Se.hour=Se.hours=Fse;Se.minute=Se.minutes=Boe;Se.second=Se.seconds=Foe;Se.millisecond=Se.milliseconds=BN;Se.utcOffset=_re;Se.utc=kre;Se.local=Cre;Se.parseZone=Ere;Se.hasAlignedHourOffset=Tre;Se.isDST=Sre;Se.isLocal=Ire;Se.isUtcOffset=Rre;Se.isUtc=TN;Se.isUTC=TN;Se.zoneAbbr=joe;Se.zoneName=Uoe;Se.dates=kr("dates accessor is deprecated. Use date instead.",LN);Se.months=kr("months accessor is deprecated. Use month instead",fN);Se.years=kr("years accessor is deprecated. Use year instead",lN);Se.zone=kr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",xre);Se.isDSTShifted=kr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Are);function Hoe(n){return bn(n*1e3)}function $oe(){return bn.apply(null,arguments).parseZone()}function FN(n){return n}var Ht=rS.prototype;Ht.calendar=Iie;Ht.longDateFormat=Mie;Ht.invalidDate=Vie;Ht.ordinal=Bie;Ht.preparse=FN;Ht.postformat=FN;Ht.relativeTime=zie;Ht.pastFuture=jie;Ht.set=Sie;Ht.eras=poe;Ht.erasParse=boe;Ht.erasConvertYear=voe;Ht.erasAbbrRegex=Coe;Ht.erasNameRegex=koe;Ht.erasNarrowRegex=Eoe;Ht.months=sse;Ht.monthsShort=rse;Ht.monthsParse=ase;Ht.monthsRegex=use;Ht.monthsShortRegex=cse;Ht.week=hse;Ht.firstDayOfYear=gse;Ht.firstDayOfWeek=mse;Ht.weekdays=Ese;Ht.weekdaysMin=Sse;Ht.weekdaysShort=Tse;Ht.weekdaysParse=Ise;Ht.weekdaysRegex=Mse;Ht.weekdaysShortRegex=Dse;Ht.weekdaysMinRegex=Vse;Ht.isPM=Lse;Ht.meridiem=zse;function ev(n,t,e,i){var s=nl(),r=Ho().set(i,t);return s[e](r,n)}function zN(n,t,e){if(Ua(n)&&(t=n,n=void 0),n=n||"",t!=null)return ev(n,t,e,"month");var i,s=[];for(i=0;i<12;i++)s[i]=ev(n,i,e,"month");return s}function kS(n,t,e,i){typeof n=="boolean"?(Ua(t)&&(e=t,t=void 0),t=t||""):(t=n,e=t,n=!1,Ua(t)&&(e=t,t=void 0),t=t||"");var s=nl(),r=n?s._week.dow:0,o,a=[];if(e!=null)return ev(t,(e+r)%7,i,"day");for(o=0;o<7;o++)a[o]=ev(t,(o+r)%7,i,"day");return a}function Woe(n,t){return zN(n,t,"months")}function qoe(n,t){return zN(n,t,"monthsShort")}function Goe(n,t,e){return kS(n,t,e,"weekdays")}function Yoe(n,t,e){return kS(n,t,e,"weekdaysShort")}function Zoe(n,t,e){return kS(n,t,e,"weekdaysMin")}Kl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,e=It(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+e}});Ne.lang=kr("moment.lang is deprecated. Use moment.locale instead.",Kl);Ne.langData=kr("moment.langData is deprecated. Use moment.localeData instead.",nl);var da=Math.abs;function Koe(){var n=this._data;return this._milliseconds=da(this._milliseconds),this._days=da(this._days),this._months=da(this._months),n.milliseconds=da(n.milliseconds),n.seconds=da(n.seconds),n.minutes=da(n.minutes),n.hours=da(n.hours),n.months=da(n.months),n.years=da(n.years),this}function jN(n,t,e,i){var s=to(t,e);return n._milliseconds+=i*s._milliseconds,n._days+=i*s._days,n._months+=i*s._months,n._bubble()}function Xoe(n,t){return jN(this,n,t,1)}function Joe(n,t){return jN(this,n,t,-1)}function rR(n){return n<0?Math.floor(n):Math.ceil(n)}function Qoe(){var n=this._milliseconds,t=this._days,e=this._months,i=this._data,s,r,o,a,l;return n>=0&&t>=0&&e>=0||n<=0&&t<=0&&e<=0||(n+=rR(xC(e)+t)*864e5,t=0,e=0),i.milliseconds=n%1e3,s=dr(n/1e3),i.seconds=s%60,r=dr(s/60),i.minutes=r%60,o=dr(r/60),i.hours=o%24,t+=dr(o/24),l=dr(UN(t)),e+=l,t-=rR(xC(l)),a=dr(e/12),e%=12,i.days=t,i.months=e,i.years=a,this}function UN(n){return n*4800/146097}function xC(n){return n*146097/4800}function eae(n){if(!this.isValid())return NaN;var t,e,i=this._milliseconds;if(n=Cr(n),n==="month"||n==="quarter"||n==="year")switch(t=this._days+i/864e5,e=this._months+UN(t),n){case"month":return e;case"quarter":return e/3;case"year":return e/12}else switch(t=this._days+Math.round(xC(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+n)}}function il(n){return function(){return this.as(n)}}var HN=il("ms"),tae=il("s"),nae=il("m"),iae=il("h"),sae=il("d"),rae=il("w"),oae=il("M"),aae=il("Q"),lae=il("y"),cae=HN;function uae(){return to(this)}function dae(n){return n=Cr(n),this.isValid()?this[n+"s"]():NaN}function Fu(n){return function(){return this.isValid()?this._data[n]:NaN}}var hae=Fu("milliseconds"),fae=Fu("seconds"),mae=Fu("minutes"),gae=Fu("hours"),pae=Fu("days"),bae=Fu("months"),vae=Fu("years");function wae(){return dr(this.days()/7)}var wa=Math.round,ch={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function yae(n,t,e,i,s){return s.relativeTime(t||1,!!e,n,i)}function _ae(n,t,e,i){var s=to(n).abs(),r=wa(s.as("s")),o=wa(s.as("m")),a=wa(s.as("h")),l=wa(s.as("d")),u=wa(s.as("M")),h=wa(s.as("w")),m=wa(s.as("y")),p=r<=e.ss&&["s",r]||r<e.s&&["ss",r]||o<=1&&["m"]||o<e.m&&["mm",o]||a<=1&&["h"]||a<e.h&&["hh",a]||l<=1&&["d"]||l<e.d&&["dd",l];return e.w!=null&&(p=p||h<=1&&["w"]||h<e.w&&["ww",h]),p=p||u<=1&&["M"]||u<e.M&&["MM",u]||m<=1&&["y"]||["yy",m],p[2]=t,p[3]=+n>0,p[4]=i,yae.apply(null,p)}function xae(n){return n===void 0?wa:typeof n=="function"?(wa=n,!0):!1}function kae(n,t){return ch[n]===void 0?!1:t===void 0?ch[n]:(ch[n]=t,n==="s"&&(ch.ss=t-1),!0)}function Cae(n,t){if(!this.isValid())return this.localeData().invalidDate();var e=!1,i=ch,s,r;return typeof n=="object"&&(t=n,n=!1),typeof n=="boolean"&&(e=n),typeof t=="object"&&(i=Object.assign({},ch,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),s=this.localeData(),r=_ae(this,!e,i,s),e&&(r=s.pastFuture(+this,r)),s.postformat(r)}var mx=Math.abs;function zd(n){return(n>0)-(n<0)||+n}function Hw(){if(!this.isValid())return this.localeData().invalidDate();var n=mx(this._milliseconds)/1e3,t=mx(this._days),e=mx(this._months),i,s,r,o,a=this.asSeconds(),l,u,h,m;return a?(i=dr(n/60),s=dr(i/60),n%=60,i%=60,r=dr(e/12),e%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=zd(this._months)!==zd(a)?"-":"",h=zd(this._days)!==zd(a)?"-":"",m=zd(this._milliseconds)!==zd(a)?"-":"",l+"P"+(r?u+r+"Y":"")+(e?u+e+"M":"")+(t?h+t+"D":"")+(s||i||n?"T":"")+(s?m+s+"H":"")+(i?m+i+"M":"")+(n?m+o+"S":"")):"P0D"}var Nt=jw.prototype;Nt.isValid=bre;Nt.abs=Koe;Nt.add=Xoe;Nt.subtract=Joe;Nt.as=eae;Nt.asMilliseconds=HN;Nt.asSeconds=tae;Nt.asMinutes=nae;Nt.asHours=iae;Nt.asDays=sae;Nt.asWeeks=rae;Nt.asMonths=oae;Nt.asQuarters=aae;Nt.asYears=lae;Nt.valueOf=cae;Nt._bubble=Qoe;Nt.clone=uae;Nt.get=dae;Nt.milliseconds=hae;Nt.seconds=fae;Nt.minutes=mae;Nt.hours=gae;Nt.days=pae;Nt.weeks=wae;Nt.months=bae;Nt.years=vae;Nt.humanize=Cae;Nt.toISOString=Hw;Nt.toString=Hw;Nt.toJSON=Hw;Nt.locale=RN;Nt.localeData=ON;Nt.toIsoString=kr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hw);Nt.lang=PN;et("X",0,0,"unix");et("x",0,0,"valueOf");Ue("x",Lw);Ue("X",Wie);on("X",function(n,t,e){e._d=new Date(parseFloat(n)*1e3)});on("x",function(n,t,e){e._d=new Date(It(n))});//! moment.js
Ne.version="2.30.1";Eie(bn);Ne.fn=Se;Ne.min=fre;Ne.max=mre;Ne.now=gre;Ne.utc=Ho;Ne.unix=Hoe;Ne.months=Woe;Ne.isDate=Ap;Ne.locale=Kl;Ne.invalid=Mw;Ne.duration=to;Ne.isMoment=Yr;Ne.weekdays=Goe;Ne.parseZone=$oe;Ne.localeData=nl;Ne.isDuration=u1;Ne.monthsShort=qoe;Ne.weekdaysMin=Zoe;Ne.defineLocale=gS;Ne.updateLocale=$se;Ne.locales=Wse;Ne.weekdaysShort=Yoe;Ne.normalizeUnits=Cr;Ne.relativeTimeRounding=xae;Ne.relativeTimeThreshold=kae;Ne.calendarFormat=zre;Ne.prototype=Se;Ne.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const CS=({props:n})=>y.jsx(Hn,{to:BT(n.category.slug,n.slug),children:y.jsx(xr,{className:"pt-5 h-[400px] flex flex-col justify-between",children:y.jsxs(Uo,{className:"flex flex-col flex-grow",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(kp,{children:y.jsx(_u,{className:"w-10 h-10 rounded-full",src:n.author.avatar||xu})}),y.jsx("span",{children:n.author.name})]}),n.author.role==="admin"&&y.jsx(Cie,{variant:"outline",className:"bg-violet-500",children:"Admin"})]}),y.jsx("div",{className:"my-2",children:y.jsx("img",{src:n.featuredImage,className:"rounded w-full h-[200px] object-cover",alt:n.title})}),y.jsxs("div",{className:"flex flex-col flex-grow justify-end",children:[y.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[y.jsx(VQ,{}),y.jsx("span",{children:Ne(n.createdAt).format("DD-MM-YYYY")})]}),y.jsx("h2",{className:"text-2xl font-bold line-clamp-2",children:n.title})]})]})})}),Eae="/assets/loading-hiQI1AdZ.svg",sl=()=>y.jsx("div",{className:"w-screen h-screen fixed top-0 left-0 z-50 flex justify-center items-center",children:y.jsx("img",{src:Eae,width:100})}),Tae=()=>{const{data:n,loading:t}=Ii(`${Ot("VITE_API_BASE_URL")}/blog/blogs`,{method:"get",credentials:"include"});return t?y.jsx(sl,{}):y.jsx("div",{className:"grid md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-10",children:n&&n.blog.length>0?n.blog.map(e=>y.jsx(CS,{props:e},e._id)):y.jsx("div",{children:"Data Not Found"})})};var Op=n=>n.type==="checkbox",au=n=>n instanceof Date,es=n=>n==null;const $N=n=>typeof n=="object";var Jn=n=>!es(n)&&!Array.isArray(n)&&$N(n)&&!au(n),WN=n=>Jn(n)&&n.target?Op(n.target)?n.target.checked:n.target.value:n,Sae=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,qN=(n,t)=>n.has(Sae(t)),Aae=n=>{const t=n.constructor&&n.constructor.prototype;return Jn(t)&&t.hasOwnProperty("isPrototypeOf")},ES=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bs(n){let t;const e=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)t=new Date(n);else if(n instanceof Set)t=new Set(n);else if(!(ES&&(n instanceof Blob||i))&&(e||Jn(n)))if(t=e?[]:{},!e&&!Aae(n))t=n;else for(const s in n)n.hasOwnProperty(s)&&(t[s]=bs(n[s]));else return n;return t}var $w=n=>Array.isArray(n)?n.filter(Boolean):[],Kn=n=>n===void 0,Oe=(n,t,e)=>{if(!t||!Jn(n))return e;const i=$w(t.split(/[,[\].]+?/)).reduce((s,r)=>es(s)?s:s[r],n);return Kn(i)||i===n?Kn(n[t])?e:n[t]:i},ur=n=>typeof n=="boolean",TS=n=>/^\w*$/.test(n),GN=n=>$w(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Gt=(n,t,e)=>{let i=-1;const s=TS(t)?[t]:GN(t),r=s.length,o=r-1;for(;++i<r;){const a=s[i];let l=e;if(i!==o){const u=n[a];l=Jn(u)||Array.isArray(u)?u:isNaN(+s[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}return n};const tv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ha={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},YN=Ve.createContext(null),Ww=()=>Ve.useContext(YN),Iae=n=>{const{children:t,...e}=n;return Ve.createElement(YN.Provider,{value:e},t)};var ZN=(n,t,e,i=!0)=>{const s={defaultValues:t._defaultValues};for(const r in n)Object.defineProperty(s,r,{get:()=>{const o=r;return t._proxyFormState[o]!==Nr.all&&(t._proxyFormState[o]=!i||Nr.all),e&&(e[o]=!0),n[o]}});return s},vs=n=>Jn(n)&&!Object.keys(n).length,KN=(n,t,e,i)=>{e(n);const{name:s,...r}=n;return vs(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find(o=>t[o]===(!i||Nr.all))},tg=n=>Array.isArray(n)?n:[n],XN=(n,t,e)=>!n||!t||n===t||tg(n).some(i=>i&&(e?i===t:i.startsWith(t)||t.startsWith(i)));function SS(n){const t=Ve.useRef(n);t.current=n,Ve.useEffect(()=>{const e=!n.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{e&&e.unsubscribe()}},[n.disabled])}function JN(n){const t=Ww(),{control:e=t.control,disabled:i,name:s,exact:r}=n||{},[o,a]=Ve.useState(e._formState),l=Ve.useRef(!0),u=Ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Ve.useRef(s);return h.current=s,SS({disabled:i,next:m=>l.current&&XN(h.current,m.name,r)&&KN(m,u.current,e._updateFormState)&&a({...e._formState,...m}),subject:e._subjects.state}),Ve.useEffect(()=>(l.current=!0,u.current.isValid&&e._updateValid(!0),()=>{l.current=!1}),[e]),Ve.useMemo(()=>ZN(o,e,u.current,!1),[o,e])}var xo=n=>typeof n=="string",QN=(n,t,e,i,s)=>xo(n)?(i&&t.watch.add(n),Oe(e,n,s)):Array.isArray(n)?n.map(r=>(i&&t.watch.add(r),Oe(e,r))):(i&&(t.watchAll=!0),e);function Rae(n){const t=Ww(),{control:e=t.control,name:i,defaultValue:s,disabled:r,exact:o}=n||{},a=Ve.useRef(i);a.current=i,SS({disabled:r,subject:e._subjects.values,next:h=>{XN(a.current,h.name,o)&&u(bs(QN(a.current,e._names,h.values||e._formValues,!1,s)))}});const[l,u]=Ve.useState(e._getWatch(i,s));return Ve.useEffect(()=>e._removeUnmounted()),l}function Pae(n){const t=Ww(),{name:e,disabled:i,control:s=t.control,shouldUnregister:r}=n,o=qN(s._names.array,e),a=Rae({control:s,name:e,defaultValue:Oe(s._formValues,e,Oe(s._defaultValues,e,n.defaultValue)),exact:!0}),l=JN({control:s,name:e,exact:!0}),u=Ve.useRef(s.register(e,{...n.rules,value:a,...ur(n.disabled)?{disabled:n.disabled}:{}})),h=Ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(l.errors,e)},isDirty:{enumerable:!0,get:()=>!!Oe(l.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!Oe(l.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!Oe(l.validatingFields,e)},error:{enumerable:!0,get:()=>Oe(l.errors,e)}}),[l,e]),m=Ve.useMemo(()=>({name:e,value:a,...ur(i)||l.disabled?{disabled:l.disabled||i}:{},onChange:p=>u.current.onChange({target:{value:WN(p),name:e},type:tv.CHANGE}),onBlur:()=>u.current.onBlur({target:{value:Oe(s._formValues,e),name:e},type:tv.BLUR}),ref:p=>{const v=Oe(s._fields,e);v&&p&&(v._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:_=>p.setCustomValidity(_),reportValidity:()=>p.reportValidity()})}}),[e,s._formValues,i,l.disabled,a,s._fields]);return Ve.useEffect(()=>{const p=s._options.shouldUnregister||r,v=(_,k)=>{const C=Oe(s._fields,_);C&&C._f&&(C._f.mount=k)};if(v(e,!0),p){const _=bs(Oe(s._options.defaultValues,e));Gt(s._defaultValues,e,_),Kn(Oe(s._formValues,e))&&Gt(s._formValues,e,_)}return!o&&s.register(e),()=>{(o?p&&!s._state.action:p)?s.unregister(e):v(e,!1)}},[e,s,o,r]),Ve.useEffect(()=>{s._updateDisabledField({disabled:i,fields:s._fields,name:e})},[i,e,s]),Ve.useMemo(()=>({field:m,formState:l,fieldState:h}),[m,l,h])}const Oae=n=>n.render(Pae(n));var eL=(n,t,e,i,s)=>t?{...e[n],types:{...e[n]&&e[n].types?e[n].types:{},[i]:s||!0}}:{},oR=n=>({isOnSubmit:!n||n===Nr.onSubmit,isOnBlur:n===Nr.onBlur,isOnChange:n===Nr.onChange,isOnAll:n===Nr.all,isOnTouch:n===Nr.onTouched}),aR=(n,t,e)=>!e&&(t.watchAll||t.watch.has(n)||[...t.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const ng=(n,t,e,i)=>{for(const s of e||Object.keys(n)){const r=Oe(n,s);if(r){const{_f:o,...a}=r;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!i)return!0;if(o.ref&&t(o.ref,o.name)&&!i)return!0;if(ng(a,t))break}else if(Jn(a)&&ng(a,t))break}}};var Mae=(n,t,e)=>{const i=tg(Oe(n,e));return Gt(i,"root",t[e]),Gt(n,e,i),n},AS=n=>n.type==="file",yo=n=>typeof n=="function",nv=n=>{if(!ES)return!1;const t=n?n.ownerDocument:0;return n instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},h1=n=>xo(n),IS=n=>n.type==="radio",iv=n=>n instanceof RegExp;const lR={value:!1,isValid:!1},cR={value:!0,isValid:!0};var tL=n=>{if(Array.isArray(n)){if(n.length>1){const t=n.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Kn(n[0].attributes.value)?Kn(n[0].value)||n[0].value===""?cR:{value:n[0].value,isValid:!0}:cR:lR}return lR};const uR={isValid:!1,value:null};var nL=n=>Array.isArray(n)?n.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,uR):uR;function dR(n,t,e="validate"){if(h1(n)||Array.isArray(n)&&n.every(h1)||ur(n)&&!n)return{type:e,message:h1(n)?n:"",ref:t}}var jd=n=>Jn(n)&&!iv(n)?n:{value:n,message:""},hR=async(n,t,e,i,s,r)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:h,min:m,max:p,pattern:v,validate:_,name:k,valueAsNumber:C,mount:T}=n._f,S=Oe(e,k);if(!T||t.has(k))return{};const I=a?a[0]:o,P=ae=>{s&&I.reportValidity&&(I.setCustomValidity(ur(ae)?"":ae||""),I.reportValidity())},O={},D=IS(o),N=Op(o),j=D||N,z=(C||AS(o))&&Kn(o.value)&&Kn(S)||nv(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,J=eL.bind(null,k,i,O),_e=(ae,xe,be,Ae=ha.maxLength,Y=ha.minLength)=>{const we=ae?xe:be;O[k]={type:ae?Ae:Y,message:we,ref:o,...J(ae?Ae:Y,we)}};if(r?!Array.isArray(S)||!S.length:l&&(!j&&(z||es(S))||ur(S)&&!S||N&&!tL(a).isValid||D&&!nL(a).isValid)){const{value:ae,message:xe}=h1(l)?{value:!!l,message:l}:jd(l);if(ae&&(O[k]={type:ha.required,message:xe,ref:I,...J(ha.required,xe)},!i))return P(xe),O}if(!z&&(!es(m)||!es(p))){let ae,xe;const be=jd(p),Ae=jd(m);if(!es(S)&&!isNaN(S)){const Y=o.valueAsNumber||S&&+S;es(be.value)||(ae=Y>be.value),es(Ae.value)||(xe=Y<Ae.value)}else{const Y=o.valueAsDate||new Date(S),we=M=>new Date(new Date().toDateString()+" "+M),ne=o.type=="time",re=o.type=="week";xo(be.value)&&S&&(ae=ne?we(S)>we(be.value):re?S>be.value:Y>new Date(be.value)),xo(Ae.value)&&S&&(xe=ne?we(S)<we(Ae.value):re?S<Ae.value:Y<new Date(Ae.value))}if((ae||xe)&&(_e(!!ae,be.message,Ae.message,ha.max,ha.min),!i))return P(O[k].message),O}if((u||h)&&!z&&(xo(S)||r&&Array.isArray(S))){const ae=jd(u),xe=jd(h),be=!es(ae.value)&&S.length>+ae.value,Ae=!es(xe.value)&&S.length<+xe.value;if((be||Ae)&&(_e(be,ae.message,xe.message),!i))return P(O[k].message),O}if(v&&!z&&xo(S)){const{value:ae,message:xe}=jd(v);if(iv(ae)&&!S.match(ae)&&(O[k]={type:ha.pattern,message:xe,ref:o,...J(ha.pattern,xe)},!i))return P(xe),O}if(_){if(yo(_)){const ae=await _(S,e),xe=dR(ae,I);if(xe&&(O[k]={...xe,...J(ha.validate,xe.message)},!i))return P(xe.message),O}else if(Jn(_)){let ae={};for(const xe in _){if(!vs(ae)&&!i)break;const be=dR(await _[xe](S,e),I,xe);be&&(ae={...be,...J(xe,be.message)},P(be.message),i&&(O[k]=ae))}if(!vs(ae)&&(O[k]={ref:I,...ae},!i))return O}}return P(!0),O};function Dae(n,t){const e=t.slice(0,-1).length;let i=0;for(;i<e;)n=Kn(n)?i++:n[t[i++]];return n}function Vae(n){for(const t in n)if(n.hasOwnProperty(t)&&!Kn(n[t]))return!1;return!0}function li(n,t){const e=Array.isArray(t)?t:TS(t)?[t]:GN(t),i=e.length===1?n:Dae(n,e),s=e.length-1,r=e[s];return i&&delete i[r],s!==0&&(Jn(i)&&vs(i)||Array.isArray(i)&&Vae(i))&&li(n,e.slice(0,-1)),n}var gx=()=>{let n=[];return{get observers(){return n},next:s=>{for(const r of n)r.next&&r.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(r=>r!==s)}}),unsubscribe:()=>{n=[]}}},kC=n=>es(n)||!$N(n);function zl(n,t){if(kC(n)||kC(t))return n===t;if(au(n)&&au(t))return n.getTime()===t.getTime();const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(const s of e){const r=n[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=t[s];if(au(r)&&au(o)||Jn(r)&&Jn(o)||Array.isArray(r)&&Array.isArray(o)?!zl(r,o):r!==o)return!1}}return!0}var iL=n=>n.type==="select-multiple",Nae=n=>IS(n)||Op(n),px=n=>nv(n)&&n.isConnected,sL=n=>{for(const t in n)if(yo(n[t]))return!0;return!1};function sv(n,t={}){const e=Array.isArray(n);if(Jn(n)||e)for(const i in n)Array.isArray(n[i])||Jn(n[i])&&!sL(n[i])?(t[i]=Array.isArray(n[i])?[]:{},sv(n[i],t[i])):es(n[i])||(t[i]=!0);return t}function rL(n,t,e){const i=Array.isArray(n);if(Jn(n)||i)for(const s in n)Array.isArray(n[s])||Jn(n[s])&&!sL(n[s])?Kn(t)||kC(e[s])?e[s]=Array.isArray(n[s])?sv(n[s],[]):{...sv(n[s])}:rL(n[s],es(t)?{}:t[s],e[s]):e[s]=!zl(n[s],t[s]);return e}var Cm=(n,t)=>rL(n,t,sv(t)),oL=(n,{valueAsNumber:t,valueAsDate:e,setValueAs:i})=>Kn(n)?n:t?n===""?NaN:n&&+n:e&&xo(n)?new Date(n):i?i(n):n;function bx(n){const t=n.ref;return AS(t)?t.files:IS(t)?nL(n.refs).value:iL(t)?[...t.selectedOptions].map(({value:e})=>e):Op(t)?tL(n.refs).value:oL(Kn(t.value)?n.ref.value:t.value,n)}var Lae=(n,t,e,i)=>{const s={};for(const r of n){const o=Oe(t,r);o&&Gt(s,r,o._f)}return{criteriaMode:e,names:[...n],fields:s,shouldUseNativeValidation:i}},Em=n=>Kn(n)?n:iv(n)?n.source:Jn(n)?iv(n.value)?n.value.source:n.value:n;const fR="AsyncFunction";var Bae=n=>!!n&&!!n.validate&&!!(yo(n.validate)&&n.validate.constructor.name===fR||Jn(n.validate)&&Object.values(n.validate).find(t=>t.constructor.name===fR)),Fae=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function mR(n,t,e){const i=Oe(n,e);if(i||TS(e))return{error:i,name:e};const s=e.split(".");for(;s.length;){const r=s.join("."),o=Oe(t,r),a=Oe(n,r);if(o&&!Array.isArray(o)&&e!==r)return{name:e};if(a&&a.type)return{name:r,error:a};s.pop()}return{name:e}}var zae=(n,t,e,i,s)=>s.isOnAll?!1:!e&&s.isOnTouch?!(t||n):(e?i.isOnBlur:s.isOnBlur)?!n:(e?i.isOnChange:s.isOnChange)?n:!0,jae=(n,t)=>!$w(Oe(n,t)).length&&li(n,t);const Uae={mode:Nr.onSubmit,reValidateMode:Nr.onChange,shouldFocusError:!0};function Hae(n={}){let t={...Uae,...n},e={submitCount:0,isDirty:!1,isLoading:yo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},s=Jn(t.defaultValues)||Jn(t.values)?bs(t.defaultValues||t.values)||{}:{},r=t.shouldUnregister?{}:bs(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:gx(),array:gx(),state:gx()},p=oR(t.mode),v=oR(t.reValidateMode),_=t.criteriaMode===Nr.all,k=B=>$=>{clearTimeout(u),u=setTimeout(B,$)},C=async B=>{if(!t.disabled&&(h.isValid||B)){const $=t.resolver?vs((await j()).errors):await J(i,!0);$!==e.isValid&&m.state.next({isValid:$})}},T=(B,$)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((B||Array.from(a.mount)).forEach(K=>{K&&($?Gt(e.validatingFields,K,$):li(e.validatingFields,K))}),m.state.next({validatingFields:e.validatingFields,isValidating:!vs(e.validatingFields)}))},S=(B,$=[],K,Ie,Te=!0,pe=!0)=>{if(Ie&&K&&!t.disabled){if(o.action=!0,pe&&Array.isArray(Oe(i,B))){const Z=K(Oe(i,B),Ie.argA,Ie.argB);Te&&Gt(i,B,Z)}if(pe&&Array.isArray(Oe(e.errors,B))){const Z=K(Oe(e.errors,B),Ie.argA,Ie.argB);Te&&Gt(e.errors,B,Z),jae(e.errors,B)}if(h.touchedFields&&pe&&Array.isArray(Oe(e.touchedFields,B))){const Z=K(Oe(e.touchedFields,B),Ie.argA,Ie.argB);Te&&Gt(e.touchedFields,B,Z)}h.dirtyFields&&(e.dirtyFields=Cm(s,r)),m.state.next({name:B,isDirty:ae(B,$),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else Gt(r,B,$)},I=(B,$)=>{Gt(e.errors,B,$),m.state.next({errors:e.errors})},P=B=>{e.errors=B,m.state.next({errors:e.errors,isValid:!1})},O=(B,$,K,Ie)=>{const Te=Oe(i,B);if(Te){const pe=Oe(r,B,Kn(K)?Oe(s,B):K);Kn(pe)||Ie&&Ie.defaultChecked||$?Gt(r,B,$?pe:bx(Te._f)):Ae(B,pe),o.mount&&C()}},D=(B,$,K,Ie,Te)=>{let pe=!1,Z=!1;const ge={name:B};if(!t.disabled){const Me=!!(Oe(i,B)&&Oe(i,B)._f&&Oe(i,B)._f.disabled);if(!K||Ie){h.isDirty&&(Z=e.isDirty,e.isDirty=ge.isDirty=ae(),pe=Z!==ge.isDirty);const nt=Me||zl(Oe(s,B),$);Z=!!(!Me&&Oe(e.dirtyFields,B)),nt||Me?li(e.dirtyFields,B):Gt(e.dirtyFields,B,!0),ge.dirtyFields=e.dirtyFields,pe=pe||h.dirtyFields&&Z!==!nt}if(K){const nt=Oe(e.touchedFields,B);nt||(Gt(e.touchedFields,B,K),ge.touchedFields=e.touchedFields,pe=pe||h.touchedFields&&nt!==K)}pe&&Te&&m.state.next(ge)}return pe?ge:{}},N=(B,$,K,Ie)=>{const Te=Oe(e.errors,B),pe=h.isValid&&ur($)&&e.isValid!==$;if(t.delayError&&K?(l=k(()=>I(B,K)),l(t.delayError)):(clearTimeout(u),l=null,K?Gt(e.errors,B,K):li(e.errors,B)),(K?!zl(Te,K):Te)||!vs(Ie)||pe){const Z={...Ie,...pe&&ur($)?{isValid:$}:{},errors:e.errors,name:B};e={...e,...Z},m.state.next(Z)}},j=async B=>{T(B,!0);const $=await t.resolver(r,t.context,Lae(B||a.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return T(B),$},z=async B=>{const{errors:$}=await j(B);if(B)for(const K of B){const Ie=Oe($,K);Ie?Gt(e.errors,K,Ie):li(e.errors,K)}else e.errors=$;return $},J=async(B,$,K={valid:!0})=>{for(const Ie in B){const Te=B[Ie];if(Te){const{_f:pe,...Z}=Te;if(pe){const ge=a.array.has(pe.name),Me=Te._f&&Bae(Te._f);Me&&h.validatingFields&&T([Ie],!0);const nt=await hR(Te,a.disabled,r,_,t.shouldUseNativeValidation&&!$,ge);if(Me&&h.validatingFields&&T([Ie]),nt[pe.name]&&(K.valid=!1,$))break;!$&&(Oe(nt,pe.name)?ge?Mae(e.errors,nt,pe.name):Gt(e.errors,pe.name,nt[pe.name]):li(e.errors,pe.name))}!vs(Z)&&await J(Z,$,K)}}return K.valid},_e=()=>{for(const B of a.unMount){const $=Oe(i,B);$&&($._f.refs?$._f.refs.every(K=>!px(K)):!px($._f.ref))&&Q(B)}a.unMount=new Set},ae=(B,$)=>!t.disabled&&(B&&$&&Gt(r,B,$),!zl(oe(),s)),xe=(B,$,K)=>QN(B,a,{...o.mount?r:Kn($)?s:xo(B)?{[B]:$}:$},K,$),be=B=>$w(Oe(o.mount?r:s,B,t.shouldUnregister?Oe(s,B,[]):[])),Ae=(B,$,K={})=>{const Ie=Oe(i,B);let Te=$;if(Ie){const pe=Ie._f;pe&&(!pe.disabled&&Gt(r,B,oL($,pe)),Te=nv(pe.ref)&&es($)?"":$,iL(pe.ref)?[...pe.ref.options].forEach(Z=>Z.selected=Te.includes(Z.value)):pe.refs?Op(pe.ref)?pe.refs.length>1?pe.refs.forEach(Z=>(!Z.defaultChecked||!Z.disabled)&&(Z.checked=Array.isArray(Te)?!!Te.find(ge=>ge===Z.value):Te===Z.value)):pe.refs[0]&&(pe.refs[0].checked=!!Te):pe.refs.forEach(Z=>Z.checked=Z.value===Te):AS(pe.ref)?pe.ref.value="":(pe.ref.value=Te,pe.ref.type||m.values.next({name:B,values:{...r}})))}(K.shouldDirty||K.shouldTouch)&&D(B,Te,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&M(B)},Y=(B,$,K)=>{for(const Ie in $){const Te=$[Ie],pe=`${B}.${Ie}`,Z=Oe(i,pe);(a.array.has(B)||Jn(Te)||Z&&!Z._f)&&!au(Te)?Y(pe,Te,K):Ae(pe,Te,K)}},we=(B,$,K={})=>{const Ie=Oe(i,B),Te=a.array.has(B),pe=bs($);Gt(r,B,pe),Te?(m.array.next({name:B,values:{...r}}),(h.isDirty||h.dirtyFields)&&K.shouldDirty&&m.state.next({name:B,dirtyFields:Cm(s,r),isDirty:ae(B,pe)})):Ie&&!Ie._f&&!es(pe)?Y(B,pe,K):Ae(B,pe,K),aR(B,a)&&m.state.next({...e}),m.values.next({name:o.mount?B:void 0,values:{...r}})},ne=async B=>{o.mount=!0;const $=B.target;let K=$.name,Ie=!0;const Te=Oe(i,K),pe=()=>$.type?bx(Te._f):WN(B),Z=ge=>{Ie=Number.isNaN(ge)||au(ge)&&isNaN(ge.getTime())||zl(ge,Oe(r,K,ge))};if(Te){let ge,Me;const nt=pe(),ct=B.type===tv.BLUR||B.type===tv.FOCUS_OUT,gi=!Fae(Te._f)&&!t.resolver&&!Oe(e.errors,K)&&!Te._f.deps||zae(ct,Oe(e.touchedFields,K),e.isSubmitted,v,p),qn=aR(K,a,ct);Gt(r,K,nt),ct?(Te._f.onBlur&&Te._f.onBlur(B),l&&l(0)):Te._f.onChange&&Te._f.onChange(B);const ds=D(K,nt,ct,!1),Tt=!vs(ds)||qn;if(!ct&&m.values.next({name:K,type:B.type,values:{...r}}),gi)return h.isValid&&(t.mode==="onBlur"&&ct?C():ct||C()),Tt&&m.state.next({name:K,...qn?{}:ds});if(!ct&&qn&&m.state.next({...e}),t.resolver){const{errors:yt}=await j([K]);if(Z(nt),Ie){const En=mR(e.errors,i,K),pi=mR(yt,i,En.name||K);ge=pi.error,K=pi.name,Me=vs(yt)}}else T([K],!0),ge=(await hR(Te,a.disabled,r,_,t.shouldUseNativeValidation))[K],T([K]),Z(nt),Ie&&(ge?Me=!1:h.isValid&&(Me=await J(i,!0)));Ie&&(Te._f.deps&&M(Te._f.deps),N(K,Me,ge,ds))}},re=(B,$)=>{if(Oe(e.errors,$)&&B.focus)return B.focus(),1},M=async(B,$={})=>{let K,Ie;const Te=tg(B);if(t.resolver){const pe=await z(Kn(B)?B:Te);K=vs(pe),Ie=B?!Te.some(Z=>Oe(pe,Z)):K}else B?(Ie=(await Promise.all(Te.map(async pe=>{const Z=Oe(i,pe);return await J(Z&&Z._f?{[pe]:Z}:Z)}))).every(Boolean),!(!Ie&&!e.isValid)&&C()):Ie=K=await J(i);return m.state.next({...!xo(B)||h.isValid&&K!==e.isValid?{}:{name:B},...t.resolver||!B?{isValid:K}:{},errors:e.errors}),$.shouldFocus&&!Ie&&ng(i,re,B?Te:a.mount),Ie},oe=B=>{const $={...o.mount?r:s};return Kn(B)?$:xo(B)?Oe($,B):B.map(K=>Oe($,K))},De=(B,$)=>({invalid:!!Oe(($||e).errors,B),isDirty:!!Oe(($||e).dirtyFields,B),error:Oe(($||e).errors,B),isValidating:!!Oe(e.validatingFields,B),isTouched:!!Oe(($||e).touchedFields,B)}),Fe=B=>{B&&tg(B).forEach($=>li(e.errors,$)),m.state.next({errors:B?e.errors:{}})},H=(B,$,K)=>{const Ie=(Oe(i,B,{_f:{}})._f||{}).ref,Te=Oe(e.errors,B)||{},{ref:pe,message:Z,type:ge,...Me}=Te;Gt(e.errors,B,{...Me,...$,ref:Ie}),m.state.next({name:B,errors:e.errors,isValid:!1}),K&&K.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},q=(B,$)=>yo(B)?m.values.subscribe({next:K=>B(xe(void 0,$),K)}):xe(B,$,!0),Q=(B,$={})=>{for(const K of B?tg(B):a.mount)a.mount.delete(K),a.array.delete(K),$.keepValue||(li(i,K),li(r,K)),!$.keepError&&li(e.errors,K),!$.keepDirty&&li(e.dirtyFields,K),!$.keepTouched&&li(e.touchedFields,K),!$.keepIsValidating&&li(e.validatingFields,K),!t.shouldUnregister&&!$.keepDefaultValue&&li(s,K);m.values.next({values:{...r}}),m.state.next({...e,...$.keepDirty?{isDirty:ae()}:{}}),!$.keepIsValid&&C()},se=({disabled:B,name:$,field:K,fields:Ie})=>{(ur(B)&&o.mount||B||a.disabled.has($))&&(B?a.disabled.add($):a.disabled.delete($),D($,bx(K?K._f:Oe(Ie,$)._f),!1,!1,!0))},ue=(B,$={})=>{let K=Oe(i,B);const Ie=ur($.disabled)||ur(t.disabled);return Gt(i,B,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:B}},name:B,mount:!0,...$}}),a.mount.add(B),K?se({field:K,disabled:ur($.disabled)?$.disabled:t.disabled,name:B}):O(B,!0,$.value),{...Ie?{disabled:$.disabled||t.disabled}:{},...t.progressive?{required:!!$.required,min:Em($.min),max:Em($.max),minLength:Em($.minLength),maxLength:Em($.maxLength),pattern:Em($.pattern)}:{},name:B,onChange:ne,onBlur:ne,ref:Te=>{if(Te){ue(B,$),K=Oe(i,B);const pe=Kn(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Z=Nae(pe),ge=K._f.refs||[];if(Z?ge.find(Me=>Me===pe):pe===K._f.ref)return;Gt(i,B,{_f:{...K._f,...Z?{refs:[...ge.filter(px),pe,...Array.isArray(Oe(s,B))?[{}]:[]],ref:{type:pe.type,name:B}}:{ref:pe}}}),O(B,!1,void 0,pe)}else K=Oe(i,B,{}),K._f&&(K._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(qN(a.array,B)&&o.action)&&a.unMount.add(B)}}},de=()=>t.shouldFocusError&&ng(i,re,a.mount),ie=B=>{ur(B)&&(m.state.next({disabled:B}),ng(i,($,K)=>{const Ie=Oe(i,K);Ie&&($.disabled=Ie._f.disabled||B,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach(Te=>{Te.disabled=Ie._f.disabled||B}))},0,!1))},Ee=(B,$)=>async K=>{let Ie;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let Te=bs(r);if(a.disabled.size)for(const pe of a.disabled)Gt(Te,pe,void 0);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Z}=await j();e.errors=pe,Te=Z}else await J(i);if(li(e.errors,"root"),vs(e.errors)){m.state.next({errors:{}});try{await B(Te,K)}catch(pe){Ie=pe}}else $&&await $({...e.errors},K),de(),setTimeout(de);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vs(e.errors)&&!Ie,submitCount:e.submitCount+1,errors:e.errors}),Ie)throw Ie},ke=(B,$={})=>{Oe(i,B)&&(Kn($.defaultValue)?we(B,bs(Oe(s,B))):(we(B,$.defaultValue),Gt(s,B,bs($.defaultValue))),$.keepTouched||li(e.touchedFields,B),$.keepDirty||(li(e.dirtyFields,B),e.isDirty=$.defaultValue?ae(B,bs(Oe(s,B))):ae()),$.keepError||(li(e.errors,B),h.isValid&&C()),m.state.next({...e}))},Ze=(B,$={})=>{const K=B?bs(B):s,Ie=bs(K),Te=vs(B),pe=Te?s:Ie;if($.keepDefaultValues||(s=K),!$.keepValues){if($.keepDirtyValues){const Z=new Set([...a.mount,...Object.keys(Cm(s,r))]);for(const ge of Array.from(Z))Oe(e.dirtyFields,ge)?Gt(pe,ge,Oe(r,ge)):we(ge,Oe(pe,ge))}else{if(ES&&Kn(B))for(const Z of a.mount){const ge=Oe(i,Z);if(ge&&ge._f){const Me=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(nv(Me)){const nt=Me.closest("form");if(nt){nt.reset();break}}}}i={}}r=t.shouldUnregister?$.keepDefaultValues?bs(s):{}:bs(pe),m.array.next({values:{...pe}}),m.values.next({values:{...pe}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:$.keepSubmitCount?e.submitCount:0,isDirty:Te?!1:$.keepDirty?e.isDirty:!!($.keepDefaultValues&&!zl(B,s)),isSubmitted:$.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:Te?{}:$.keepDirtyValues?$.keepDefaultValues&&r?Cm(s,r):e.dirtyFields:$.keepDefaultValues&&B?Cm(s,B):$.keepDirty?e.dirtyFields:{},touchedFields:$.keepTouched?e.touchedFields:{},errors:$.keepErrors?e.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1})},tt=(B,$)=>Ze(yo(B)?B(r):B,$);return{control:{register:ue,unregister:Q,getFieldState:De,handleSubmit:Ee,setError:H,_executeSchema:j,_getWatch:xe,_getDirty:ae,_updateValid:C,_removeUnmounted:_e,_updateFieldArray:S,_updateDisabledField:se,_getFieldArray:be,_reset:Ze,_resetDefaultValues:()=>yo(t.defaultValues)&&t.defaultValues().then(B=>{tt(B,t.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:B=>{e={...e,...B}},_disableForm:ie,_subjects:m,_proxyFormState:h,_setErrors:P,get _fields(){return i},get _formValues(){return r},get _state(){return o},set _state(B){o=B},get _defaultValues(){return s},get _names(){return a},set _names(B){a=B},get _formState(){return e},set _formState(B){e=B},get _options(){return t},set _options(B){t={...t,...B}}},trigger:M,register:ue,handleSubmit:Ee,watch:q,setValue:we,getValues:oe,reset:tt,resetField:ke,clearErrors:Fe,unregister:Q,setError:H,setFocus:(B,$={})=>{const K=Oe(i,B),Ie=K&&K._f;if(Ie){const Te=Ie.refs?Ie.refs[0]:Ie.ref;Te.focus&&(Te.focus(),$.shouldSelect&&yo(Te.select)&&Te.select())}},getFieldState:De}}function gc(n={}){const t=Ve.useRef(void 0),e=Ve.useRef(void 0),[i,s]=Ve.useState({isDirty:!1,isValidating:!1,isLoading:yo(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:yo(n.defaultValues)?void 0:n.defaultValues});t.current||(t.current={...Hae(n),formState:i});const r=t.current.control;return r._options=n,SS({subject:r._subjects.state,next:o=>{KN(o,r._proxyFormState,r._updateFormState,!0)&&s({...r._formState})}}),Ve.useEffect(()=>r._disableForm(n.disabled),[r,n.disabled]),Ve.useEffect(()=>{if(r._proxyFormState.isDirty){const o=r._getDirty();o!==i.isDirty&&r._subjects.state.next({isDirty:o})}},[r,i.isDirty]),Ve.useEffect(()=>{n.values&&!zl(n.values,e.current)?(r._reset(n.values,r._options.resetOptions),e.current=n.values,s(o=>({...o}))):r._resetDefaultValues()},[n.values,r]),Ve.useEffect(()=>{n.errors&&r._setErrors(n.errors)},[n.errors,r]),Ve.useEffect(()=>{r._state.mount||(r._updateValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),Ve.useEffect(()=>{n.shouldUnregister&&r._subjects.values.next({values:r._getWatch()})},[n.shouldUnregister,r]),t.current.formState=ZN(i,r),t.current}var $ae="Label",aL=E.forwardRef((n,t)=>y.jsx(Et.label,{...n,ref:t,onMouseDown:e=>{var s;e.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));aL.displayName=$ae;var Wae=aL;function qae({className:n,...t}){return y.jsx(Wae,{"data-slot":"label",className:dt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...t})}const pc=Iae,lL=E.createContext({}),On=({...n})=>y.jsx(lL.Provider,{value:{name:n.name},children:y.jsx(Oae,{...n})}),RS=()=>{const n=E.useContext(lL),t=E.useContext(cL),{getFieldState:e}=Ww(),i=JN({name:n.name}),s=e(n.name,i);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:r}=t;return{id:r,name:n.name,formItemId:`${r}-form-item`,formDescriptionId:`${r}-form-item-description`,formMessageId:`${r}-form-item-message`,...s}},cL=E.createContext({});function Mn({className:n,...t}){const e=E.useId();return y.jsx(cL.Provider,{value:{id:e},children:y.jsx("div",{"data-slot":"form-item",className:dt("grid gap-2",n),...t})})}function Dn({className:n,...t}){const{error:e,formItemId:i}=RS();return y.jsx(qae,{"data-slot":"form-label","data-error":!!e,className:dt("data-[error=true]:text-destructive-foreground",n),htmlFor:i,...t})}function Vn({...n}){const{error:t,formItemId:e,formDescriptionId:i,formMessageId:s}=RS();return y.jsx(pr,{"data-slot":"form-control",id:e,"aria-describedby":t?`${i} ${s}`:`${i}`,"aria-invalid":!!t,...n})}function Nn({className:n,...t}){const{error:e,formMessageId:i}=RS(),s=e?String((e==null?void 0:e.message)??""):t.children;return s?y.jsx("p",{"data-slot":"form-message",id:i,className:dt("text-destructive-foreground text-sm",n),...t,children:s}):null}var Dt;(function(n){n.assertEqual=s=>s;function t(s){}n.assertIs=t;function e(s){throw new Error}n.assertNever=e,n.arrayToEnum=s=>{const r={};for(const o of s)r[o]=o;return r},n.getValidEnumValues=s=>{const r=n.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of r)o[a]=s[a];return n.objectValues(o)},n.objectValues=s=>n.objectKeys(s).map(function(r){return s[r]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const r=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.push(o);return r},n.find=(s,r)=>{for(const o of s)if(r(o))return o},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,r=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(r)}n.joinValues=i,n.jsonStringifyReplacer=(s,r)=>typeof r=="bigint"?r.toString():r})(Dt||(Dt={}));var CC;(function(n){n.mergeShapes=(t,e)=>({...t,...e})})(CC||(CC={}));const ze=Dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ya=n=>{switch(typeof n){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return isNaN(n)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(n)?ze.array:n===null?ze.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ze.promise:typeof Map<"u"&&n instanceof Map?ze.map:typeof Set<"u"&&n instanceof Set?ze.set:typeof Date<"u"&&n instanceof Date?ze.date:ze.object;default:return ze.unknown}},Ce=Dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Gae=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class js extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}format(t){const e=t||function(r){return r.message},i={_errors:[]},s=r=>{for(const o of r.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)i._errors.push(e(o));else{let a=i,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),i}static assert(t){if(!(t instanceof js))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=e=>e.message){const e={},i=[];for(const s of this.issues)s.path.length>0?(e[s.path[0]]=e[s.path[0]]||[],e[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}js.create=n=>new js(n);const Oh=(n,t)=>{let e;switch(n.code){case Ce.invalid_type:n.received===ze.undefined?e="Required":e=`Expected ${n.expected}, received ${n.received}`;break;case Ce.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(n.expected,Dt.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:e=`Unrecognized key(s) in object: ${Dt.joinValues(n.keys,", ")}`;break;case Ce.invalid_union:e="Invalid input";break;case Ce.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${Dt.joinValues(n.options)}`;break;case Ce.invalid_enum_value:e=`Invalid enum value. Expected ${Dt.joinValues(n.options)}, received '${n.received}'`;break;case Ce.invalid_arguments:e="Invalid function arguments";break;case Ce.invalid_return_type:e="Invalid function return type";break;case Ce.invalid_date:e="Invalid date";break;case Ce.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(e=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?e=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?e=`Invalid input: must end with "${n.validation.endsWith}"`:Dt.assertNever(n.validation):n.validation!=="regex"?e=`Invalid ${n.validation}`:e="Invalid";break;case Ce.too_small:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:e="Invalid input";break;case Ce.too_big:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?e=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:e="Invalid input";break;case Ce.custom:e="Invalid input";break;case Ce.invalid_intersection_types:e="Intersection results could not be merged";break;case Ce.not_multiple_of:e=`Number must be a multiple of ${n.multipleOf}`;break;case Ce.not_finite:e="Number must be finite";break;default:e=t.defaultError,Dt.assertNever(n)}return{message:e}};let uL=Oh;function Yae(n){uL=n}function rv(){return uL}const ov=n=>{const{data:t,path:e,errorMaps:i,issueData:s}=n,r=[...e,...s.path||[]],o={...s,path:r};if(s.message!==void 0)return{...s,path:r,message:s.message};let a="";const l=i.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:t,defaultError:a}).message;return{...s,path:r,message:a}},Zae=[];function Be(n,t){const e=rv(),i=ov({issueData:t,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,e,e===Oh?void 0:Oh].filter(s=>!!s)});n.common.issues.push(i)}class Zi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,e){const i=[];for(const s of e){if(s.status==="aborted")return lt;s.status==="dirty"&&t.dirty(),i.push(s.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,e){const i=[];for(const s of e){const r=await s.key,o=await s.value;i.push({key:r,value:o})}return Zi.mergeObjectSync(t,i)}static mergeObjectSync(t,e){const i={};for(const s of e){const{key:r,value:o}=s;if(r.status==="aborted"||o.status==="aborted")return lt;r.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),r.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(i[r.value]=o.value)}return{status:t.value,value:i}}}const lt=Object.freeze({status:"aborted"}),uh=n=>({status:"dirty",value:n}),rs=n=>({status:"valid",value:n}),EC=n=>n.status==="aborted",TC=n=>n.status==="dirty",Tu=n=>n.status==="valid",Rg=n=>typeof Promise<"u"&&n instanceof Promise;function av(n,t,e,i){if(typeof t=="function"?n!==t||!0:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(n)}function dL(n,t,e,i,s){if(typeof t=="function"?n!==t||!0:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(n,e),e}var Ke;(function(n){n.errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));var Wm,qm;class Po{constructor(t,e,i,s){this._cachedPath=[],this.parent=t,this.data=e,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gR=(n,t)=>{if(Tu(t))return{success:!0,data:t.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new js(n.common.issues);return this._error=e,this._error}}};function pt(n){if(!n)return{};const{errorMap:t,invalid_type_error:e,required_error:i,description:s}=n;if(t&&(e||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var l,u;const{message:h}=n;return o.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(l=h??i)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=h??e)!==null&&u!==void 0?u:a.defaultError}},description:s}}class _t{get description(){return this._def.description}_getType(t){return ya(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:ya(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Zi,ctx:{common:t.parent.common,data:t.data,parsedType:ya(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(Rg(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const i=this.safeParse(t,e);if(i.success)return i.data;throw i.error}safeParse(t,e){var i;const s={common:{issues:[],async:(i=e==null?void 0:e.async)!==null&&i!==void 0?i:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ya(t)},r=this._parseSync({data:t,path:s.path,parent:s});return gR(s,r)}"~validate"(t){var e,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ya(t)};if(!this["~standard"].async)try{const r=this._parseSync({data:t,path:[],parent:s});return Tu(r)?{value:r.value}:{issues:s.common.issues}}catch(r){!((i=(e=r==null?void 0:r.message)===null||e===void 0?void 0:e.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(r=>Tu(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(t,e){const i=await this.safeParseAsync(t,e);if(i.success)return i.data;throw i.error}async safeParseAsync(t,e){const i={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ya(t)},s=this._parse({data:t,path:i.path,parent:i}),r=await(Rg(s)?s:Promise.resolve(s));return gR(i,r)}refine(t,e){const i=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,r)=>{const o=t(s),a=()=>r.addIssue({code:Ce.custom,...i(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,e){return this._refinement((i,s)=>t(i)?!0:(s.addIssue(typeof e=="function"?e(i,s):e),!1))}_refinement(t){return new Zr({schema:this,typeName:ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Eo.create(this,this._def)}nullable(){return lc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ur.create(this)}promise(){return Dh.create(this,this._def)}or(t){return Dg.create([this,t],this._def)}and(t){return Vg.create(this,t,this._def)}transform(t){return new Zr({...pt(this._def),schema:this,typeName:ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new zg({...pt(this._def),innerType:this,defaultValue:e,typeName:ot.ZodDefault})}brand(){return new PS({typeName:ot.ZodBranded,type:this,...pt(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new jg({...pt(this._def),innerType:this,catchValue:e,typeName:ot.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return Mp.create(this,t)}readonly(){return Ug.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kae=/^c[^\s-]{8,}$/i,Xae=/^[0-9a-z]+$/,Jae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ele=/^[a-z0-9_-]{21}$/i,tle=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nle=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ile=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vx;const rle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ole=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ale=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cle=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ule=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dle=new RegExp(`^${hL}$`);function fL(n){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?t=`${t}\\.\\d{${n.precision}}`:n.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hle(n){return new RegExp(`^${fL(n)}$`)}function mL(n){let t=`${hL}T${fL(n)}`;const e=[];return e.push(n.local?"Z?":"Z"),n.offset&&e.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${e.join("|")})`,new RegExp(`^${t}$`)}function fle(n,t){return!!((t==="v4"||!t)&&rle.test(n)||(t==="v6"||!t)&&ale.test(n))}function mle(n,t){if(!tle.test(n))return!1;try{const[e]=n.split("."),i=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function gle(n,t){return!!((t==="v4"||!t)&&ole.test(n)||(t==="v6"||!t)&&lle.test(n))}class Fr extends _t{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ze.string){const r=this._getOrReturnCtx(t);return Be(r,{code:Ce.invalid_type,expected:ze.string,received:r.parsedType}),lt}const i=new Zi;let s;for(const r of this._def.checks)if(r.kind==="min")t.data.length<r.value&&(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="max")t.data.length>r.value&&(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="length"){const o=t.data.length>r.value,a=t.data.length<r.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?Be(s,{code:Ce.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&Be(s,{code:Ce.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),i.dirty())}else if(r.kind==="email")ile.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"email",code:Ce.invalid_string,message:r.message}),i.dirty());else if(r.kind==="emoji")vx||(vx=new RegExp(sle,"u")),vx.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"emoji",code:Ce.invalid_string,message:r.message}),i.dirty());else if(r.kind==="uuid")Qae.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"uuid",code:Ce.invalid_string,message:r.message}),i.dirty());else if(r.kind==="nanoid")ele.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"nanoid",code:Ce.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid")Kae.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"cuid",code:Ce.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid2")Xae.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"cuid2",code:Ce.invalid_string,message:r.message}),i.dirty());else if(r.kind==="ulid")Jae.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"ulid",code:Ce.invalid_string,message:r.message}),i.dirty());else if(r.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Be(s,{validation:"url",code:Ce.invalid_string,message:r.message}),i.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"regex",code:Ce.invalid_string,message:r.message}),i.dirty())):r.kind==="trim"?t.data=t.data.trim():r.kind==="includes"?t.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),i.dirty()):r.kind==="toLowerCase"?t.data=t.data.toLowerCase():r.kind==="toUpperCase"?t.data=t.data.toUpperCase():r.kind==="startsWith"?t.data.startsWith(r.value)||(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.invalid_string,validation:{startsWith:r.value},message:r.message}),i.dirty()):r.kind==="endsWith"?t.data.endsWith(r.value)||(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.invalid_string,validation:{endsWith:r.value},message:r.message}),i.dirty()):r.kind==="datetime"?mL(r).test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.invalid_string,validation:"datetime",message:r.message}),i.dirty()):r.kind==="date"?dle.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.invalid_string,validation:"date",message:r.message}),i.dirty()):r.kind==="time"?hle(r).test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.invalid_string,validation:"time",message:r.message}),i.dirty()):r.kind==="duration"?nle.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"duration",code:Ce.invalid_string,message:r.message}),i.dirty()):r.kind==="ip"?fle(t.data,r.version)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"ip",code:Ce.invalid_string,message:r.message}),i.dirty()):r.kind==="jwt"?mle(t.data,r.alg)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"jwt",code:Ce.invalid_string,message:r.message}),i.dirty()):r.kind==="cidr"?gle(t.data,r.version)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"cidr",code:Ce.invalid_string,message:r.message}),i.dirty()):r.kind==="base64"?cle.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"base64",code:Ce.invalid_string,message:r.message}),i.dirty()):r.kind==="base64url"?ule.test(t.data)||(s=this._getOrReturnCtx(t,s),Be(s,{validation:"base64url",code:Ce.invalid_string,message:r.message}),i.dirty()):Dt.assertNever(r);return{status:i.value,value:t.data}}_regex(t,e,i){return this.refinement(s=>t.test(s),{validation:e,code:Ce.invalid_string,...Ke.errToObj(i)})}_addCheck(t){return new Fr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){var e,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(e=t==null?void 0:t.offset)!==null&&e!==void 0?e:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:e==null?void 0:e.position,...Ke.errToObj(e==null?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...Ke.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...Ke.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...Ke.errToObj(e)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}Fr.create=n=>{var t;return new Fr({checks:[],typeName:ot.ZodString,coerce:(t=n==null?void 0:n.coerce)!==null&&t!==void 0?t:!1,...pt(n)})};function ple(n,t){const e=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=e>i?e:i,r=parseInt(n.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return r%o/Math.pow(10,s)}class rc extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ze.number){const r=this._getOrReturnCtx(t);return Be(r,{code:Ce.invalid_type,expected:ze.number,received:r.parsedType}),lt}let i;const s=new Zi;for(const r of this._def.checks)r.kind==="int"?Dt.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty()):r.kind==="min"?(r.inclusive?t.data<r.value:t.data<=r.value)&&(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?t.data>r.value:t.data>=r.value)&&(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="multipleOf"?ple(t.data,r.value)!==0&&(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):r.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.not_finite,message:r.message}),s.dirty()):Dt.assertNever(r);return{status:s.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,Ke.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Ke.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Ke.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Ke.toString(e))}setLimit(t,e,i,s){return new rc({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:Ke.toString(s)}]})}_addCheck(t){return new rc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Dt.isInteger(t.value))}get isFinite(){let t=null,e=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(e===null||i.value>e)&&(e=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(e)&&Number.isFinite(t)}}rc.create=n=>new rc({checks:[],typeName:ot.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...pt(n)});class oc extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ze.bigint)return this._getInvalidInput(t);let i;const s=new Zi;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?t.data<r.value:t.data<=r.value)&&(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?t.data>r.value:t.data>=r.value)&&(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="multipleOf"?t.data%r.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),Be(i,{code:Ce.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):Dt.assertNever(r);return{status:s.value,value:t.data}}_getInvalidInput(t){const e=this._getOrReturnCtx(t);return Be(e,{code:Ce.invalid_type,expected:ze.bigint,received:e.parsedType}),lt}gte(t,e){return this.setLimit("min",t,!0,Ke.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Ke.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Ke.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Ke.toString(e))}setLimit(t,e,i,s){return new oc({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:Ke.toString(s)}]})}_addCheck(t){return new oc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}oc.create=n=>{var t;return new oc({checks:[],typeName:ot.ZodBigInt,coerce:(t=n==null?void 0:n.coerce)!==null&&t!==void 0?t:!1,...pt(n)})};class Pg extends _t{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ze.boolean){const i=this._getOrReturnCtx(t);return Be(i,{code:Ce.invalid_type,expected:ze.boolean,received:i.parsedType}),lt}return rs(t.data)}}Pg.create=n=>new Pg({typeName:ot.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...pt(n)});class Su extends _t{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ze.date){const r=this._getOrReturnCtx(t);return Be(r,{code:Ce.invalid_type,expected:ze.date,received:r.parsedType}),lt}if(isNaN(t.data.getTime())){const r=this._getOrReturnCtx(t);return Be(r,{code:Ce.invalid_date}),lt}const i=new Zi;let s;for(const r of this._def.checks)r.kind==="min"?t.data.getTime()<r.value&&(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):r.kind==="max"?t.data.getTime()>r.value&&(s=this._getOrReturnCtx(t,s),Be(s,{code:Ce.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):Dt.assertNever(r);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Su({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t!=null?new Date(t):null}}Su.create=n=>new Su({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ot.ZodDate,...pt(n)});class lv extends _t{_parse(t){if(this._getType(t)!==ze.symbol){const i=this._getOrReturnCtx(t);return Be(i,{code:Ce.invalid_type,expected:ze.symbol,received:i.parsedType}),lt}return rs(t.data)}}lv.create=n=>new lv({typeName:ot.ZodSymbol,...pt(n)});class Og extends _t{_parse(t){if(this._getType(t)!==ze.undefined){const i=this._getOrReturnCtx(t);return Be(i,{code:Ce.invalid_type,expected:ze.undefined,received:i.parsedType}),lt}return rs(t.data)}}Og.create=n=>new Og({typeName:ot.ZodUndefined,...pt(n)});class Mg extends _t{_parse(t){if(this._getType(t)!==ze.null){const i=this._getOrReturnCtx(t);return Be(i,{code:Ce.invalid_type,expected:ze.null,received:i.parsedType}),lt}return rs(t.data)}}Mg.create=n=>new Mg({typeName:ot.ZodNull,...pt(n)});class Mh extends _t{constructor(){super(...arguments),this._any=!0}_parse(t){return rs(t.data)}}Mh.create=n=>new Mh({typeName:ot.ZodAny,...pt(n)});class du extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rs(t.data)}}du.create=n=>new du({typeName:ot.ZodUnknown,...pt(n)});class Ha extends _t{_parse(t){const e=this._getOrReturnCtx(t);return Be(e,{code:Ce.invalid_type,expected:ze.never,received:e.parsedType}),lt}}Ha.create=n=>new Ha({typeName:ot.ZodNever,...pt(n)});class cv extends _t{_parse(t){if(this._getType(t)!==ze.undefined){const i=this._getOrReturnCtx(t);return Be(i,{code:Ce.invalid_type,expected:ze.void,received:i.parsedType}),lt}return rs(t.data)}}cv.create=n=>new cv({typeName:ot.ZodVoid,...pt(n)});class Ur extends _t{_parse(t){const{ctx:e,status:i}=this._processInputParams(t),s=this._def;if(e.parsedType!==ze.array)return Be(e,{code:Ce.invalid_type,expected:ze.array,received:e.parsedType}),lt;if(s.exactLength!==null){const o=e.data.length>s.exactLength.value,a=e.data.length<s.exactLength.value;(o||a)&&(Be(e,{code:o?Ce.too_big:Ce.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&e.data.length<s.minLength.value&&(Be(e,{code:Ce.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&e.data.length>s.maxLength.value&&(Be(e,{code:Ce.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map((o,a)=>s.type._parseAsync(new Po(e,o,e.path,a)))).then(o=>Zi.mergeArray(i,o));const r=[...e.data].map((o,a)=>s.type._parseSync(new Po(e,o,e.path,a)));return Zi.mergeArray(i,r)}get element(){return this._def.type}min(t,e){return new Ur({...this._def,minLength:{value:t,message:Ke.toString(e)}})}max(t,e){return new Ur({...this._def,maxLength:{value:t,message:Ke.toString(e)}})}length(t,e){return new Ur({...this._def,exactLength:{value:t,message:Ke.toString(e)}})}nonempty(t){return this.min(1,t)}}Ur.create=(n,t)=>new Ur({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ot.ZodArray,...pt(t)});function th(n){if(n instanceof In){const t={};for(const e in n.shape){const i=n.shape[e];t[e]=Eo.create(th(i))}return new In({...n._def,shape:()=>t})}else return n instanceof Ur?new Ur({...n._def,type:th(n.element)}):n instanceof Eo?Eo.create(th(n.unwrap())):n instanceof lc?lc.create(th(n.unwrap())):n instanceof Oo?Oo.create(n.items.map(t=>th(t))):n}class In extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),e=Dt.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==ze.object){const u=this._getOrReturnCtx(t);return Be(u,{code:Ce.invalid_type,expected:ze.object,received:u.parsedType}),lt}const{status:i,ctx:s}=this._processInputParams(t),{shape:r,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ha&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const h=r[u],m=s.data[u];l.push({key:{status:"valid",value:u},value:h._parse(new Po(s,m,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ha){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of a)l.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")a.length>0&&(Be(s,{code:Ce.unrecognized_keys,keys:a}),i.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of a){const m=s.data[h];l.push({key:{status:"valid",value:h},value:u._parse(new Po(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of l){const m=await h.key,p=await h.value;u.push({key:m,value:p,alwaysSet:h.alwaysSet})}return u}).then(u=>Zi.mergeObjectSync(i,u)):Zi.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new In({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(e,i)=>{var s,r,o,a;const l=(o=(r=(s=this._def).errorMap)===null||r===void 0?void 0:r.call(s,e,i).message)!==null&&o!==void 0?o:i.defaultError;return e.code==="unrecognized_keys"?{message:(a=Ke.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new In({...this._def,unknownKeys:"strip"})}passthrough(){return new In({...this._def,unknownKeys:"passthrough"})}extend(t){return new In({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new In({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ot.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new In({...this._def,catchall:t})}pick(t){const e={};return Dt.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(e[i]=this.shape[i])}),new In({...this._def,shape:()=>e})}omit(t){const e={};return Dt.objectKeys(this.shape).forEach(i=>{t[i]||(e[i]=this.shape[i])}),new In({...this._def,shape:()=>e})}deepPartial(){return th(this)}partial(t){const e={};return Dt.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];t&&!t[i]?e[i]=s:e[i]=s.optional()}),new In({...this._def,shape:()=>e})}required(t){const e={};return Dt.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])e[i]=this.shape[i];else{let r=this.shape[i];for(;r instanceof Eo;)r=r._def.innerType;e[i]=r}}),new In({...this._def,shape:()=>e})}keyof(){return gL(Dt.objectKeys(this.shape))}}In.create=(n,t)=>new In({shape:()=>n,unknownKeys:"strip",catchall:Ha.create(),typeName:ot.ZodObject,...pt(t)});In.strictCreate=(n,t)=>new In({shape:()=>n,unknownKeys:"strict",catchall:Ha.create(),typeName:ot.ZodObject,...pt(t)});In.lazycreate=(n,t)=>new In({shape:n,unknownKeys:"strip",catchall:Ha.create(),typeName:ot.ZodObject,...pt(t)});class Dg extends _t{_parse(t){const{ctx:e}=this._processInputParams(t),i=this._def.options;function s(r){for(const a of r)if(a.result.status==="valid")return a.result;for(const a of r)if(a.result.status==="dirty")return e.common.issues.push(...a.ctx.common.issues),a.result;const o=r.map(a=>new js(a.ctx.common.issues));return Be(e,{code:Ce.invalid_union,unionErrors:o}),lt}if(e.common.async)return Promise.all(i.map(async r=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await r._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(s);{let r;const o=[];for(const l of i){const u={...e,common:{...e.common,issues:[]},parent:null},h=l._parseSync({data:e.data,path:e.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!r&&(r={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(r)return e.common.issues.push(...r.ctx.common.issues),r.result;const a=o.map(l=>new js(l));return Be(e,{code:Ce.invalid_union,unionErrors:a}),lt}}get options(){return this._def.options}}Dg.create=(n,t)=>new Dg({options:n,typeName:ot.ZodUnion,...pt(t)});const pa=n=>n instanceof Lg?pa(n.schema):n instanceof Zr?pa(n.innerType()):n instanceof Bg?[n.value]:n instanceof ac?n.options:n instanceof Fg?Dt.objectValues(n.enum):n instanceof zg?pa(n._def.innerType):n instanceof Og?[void 0]:n instanceof Mg?[null]:n instanceof Eo?[void 0,...pa(n.unwrap())]:n instanceof lc?[null,...pa(n.unwrap())]:n instanceof PS||n instanceof Ug?pa(n.unwrap()):n instanceof jg?pa(n._def.innerType):[];class qw extends _t{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==ze.object)return Be(e,{code:Ce.invalid_type,expected:ze.object,received:e.parsedType}),lt;const i=this.discriminator,s=e.data[i],r=this.optionsMap.get(s);return r?e.common.async?r._parseAsync({data:e.data,path:e.path,parent:e}):r._parseSync({data:e.data,path:e.path,parent:e}):(Be(e,{code:Ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,i){const s=new Map;for(const r of e){const o=pa(r.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,r)}}return new qw({typeName:ot.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:s,...pt(i)})}}function SC(n,t){const e=ya(n),i=ya(t);if(n===t)return{valid:!0,data:n};if(e===ze.object&&i===ze.object){const s=Dt.objectKeys(t),r=Dt.objectKeys(n).filter(a=>s.indexOf(a)!==-1),o={...n,...t};for(const a of r){const l=SC(n[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(e===ze.array&&i===ze.array){if(n.length!==t.length)return{valid:!1};const s=[];for(let r=0;r<n.length;r++){const o=n[r],a=t[r],l=SC(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return e===ze.date&&i===ze.date&&+n==+t?{valid:!0,data:n}:{valid:!1}}class Vg extends _t{_parse(t){const{status:e,ctx:i}=this._processInputParams(t),s=(r,o)=>{if(EC(r)||EC(o))return lt;const a=SC(r.value,o.value);return a.valid?((TC(r)||TC(o))&&e.dirty(),{status:e.value,value:a.data}):(Be(i,{code:Ce.invalid_intersection_types}),lt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([r,o])=>s(r,o)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Vg.create=(n,t,e)=>new Vg({left:n,right:t,typeName:ot.ZodIntersection,...pt(e)});class Oo extends _t{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ze.array)return Be(i,{code:Ce.invalid_type,expected:ze.array,received:i.parsedType}),lt;if(i.data.length<this._def.items.length)return Be(i,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&i.data.length>this._def.items.length&&(Be(i,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const r=[...i.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Po(i,o,i.path,a)):null}).filter(o=>!!o);return i.common.async?Promise.all(r).then(o=>Zi.mergeArray(e,o)):Zi.mergeArray(e,r)}get items(){return this._def.items}rest(t){return new Oo({...this._def,rest:t})}}Oo.create=(n,t)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oo({items:n,typeName:ot.ZodTuple,rest:null,...pt(t)})};class Ng extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ze.object)return Be(i,{code:Ce.invalid_type,expected:ze.object,received:i.parsedType}),lt;const s=[],r=this._def.keyType,o=this._def.valueType;for(const a in i.data)s.push({key:r._parse(new Po(i,a,i.path,a)),value:o._parse(new Po(i,i.data[a],i.path,a)),alwaysSet:a in i.data});return i.common.async?Zi.mergeObjectAsync(e,s):Zi.mergeObjectSync(e,s)}get element(){return this._def.valueType}static create(t,e,i){return e instanceof _t?new Ng({keyType:t,valueType:e,typeName:ot.ZodRecord,...pt(i)}):new Ng({keyType:Fr.create(),valueType:t,typeName:ot.ZodRecord,...pt(e)})}}class uv extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ze.map)return Be(i,{code:Ce.invalid_type,expected:ze.map,received:i.parsedType}),lt;const s=this._def.keyType,r=this._def.valueType,o=[...i.data.entries()].map(([a,l],u)=>({key:s._parse(new Po(i,a,i.path,[u,"key"])),value:r._parse(new Po(i,l,i.path,[u,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,h=await l.value;if(u.status==="aborted"||h.status==="aborted")return lt;(u.status==="dirty"||h.status==="dirty")&&e.dirty(),a.set(u.value,h.value)}return{status:e.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,h=l.value;if(u.status==="aborted"||h.status==="aborted")return lt;(u.status==="dirty"||h.status==="dirty")&&e.dirty(),a.set(u.value,h.value)}return{status:e.value,value:a}}}}uv.create=(n,t,e)=>new uv({valueType:t,keyType:n,typeName:ot.ZodMap,...pt(e)});class Au extends _t{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==ze.set)return Be(i,{code:Ce.invalid_type,expected:ze.set,received:i.parsedType}),lt;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(Be(i,{code:Ce.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),e.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(Be(i,{code:Ce.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),e.dirty());const r=this._def.valueType;function o(l){const u=new Set;for(const h of l){if(h.status==="aborted")return lt;h.status==="dirty"&&e.dirty(),u.add(h.value)}return{status:e.value,value:u}}const a=[...i.data.values()].map((l,u)=>r._parse(new Po(i,l,i.path,u)));return i.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,e){return new Au({...this._def,minSize:{value:t,message:Ke.toString(e)}})}max(t,e){return new Au({...this._def,maxSize:{value:t,message:Ke.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}Au.create=(n,t)=>new Au({valueType:n,minSize:null,maxSize:null,typeName:ot.ZodSet,...pt(t)});class yh extends _t{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==ze.function)return Be(e,{code:Ce.invalid_type,expected:ze.function,received:e.parsedType}),lt;function i(a,l){return ov({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,rv(),Oh].filter(u=>!!u),issueData:{code:Ce.invalid_arguments,argumentsError:l}})}function s(a,l){return ov({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,rv(),Oh].filter(u=>!!u),issueData:{code:Ce.invalid_return_type,returnTypeError:l}})}const r={errorMap:e.common.contextualErrorMap},o=e.data;if(this._def.returns instanceof Dh){const a=this;return rs(async function(...l){const u=new js([]),h=await a._def.args.parseAsync(l,r).catch(v=>{throw u.addIssue(i(l,v)),u}),m=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(m,r).catch(v=>{throw u.addIssue(s(m,v)),u})})}else{const a=this;return rs(function(...l){const u=a._def.args.safeParse(l,r);if(!u.success)throw new js([i(l,u.error)]);const h=Reflect.apply(o,this,u.data),m=a._def.returns.safeParse(h,r);if(!m.success)throw new js([s(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yh({...this._def,args:Oo.create(t).rest(du.create())})}returns(t){return new yh({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,i){return new yh({args:t||Oo.create([]).rest(du.create()),returns:e||du.create(),typeName:ot.ZodFunction,...pt(i)})}}class Lg extends _t{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}Lg.create=(n,t)=>new Lg({getter:n,typeName:ot.ZodLazy,...pt(t)});class Bg extends _t{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return Be(e,{received:e.data,code:Ce.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Bg.create=(n,t)=>new Bg({value:n,typeName:ot.ZodLiteral,...pt(t)});function gL(n,t){return new ac({values:n,typeName:ot.ZodEnum,...pt(t)})}class ac extends _t{constructor(){super(...arguments),Wm.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const e=this._getOrReturnCtx(t),i=this._def.values;return Be(e,{expected:Dt.joinValues(i),received:e.parsedType,code:Ce.invalid_type}),lt}if(av(this,Wm)||dL(this,Wm,new Set(this._def.values)),!av(this,Wm).has(t.data)){const e=this._getOrReturnCtx(t),i=this._def.values;return Be(e,{received:e.data,code:Ce.invalid_enum_value,options:i}),lt}return rs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return ac.create(t,{...this._def,...e})}exclude(t,e=this._def){return ac.create(this.options.filter(i=>!t.includes(i)),{...this._def,...e})}}Wm=new WeakMap;ac.create=gL;class Fg extends _t{constructor(){super(...arguments),qm.set(this,void 0)}_parse(t){const e=Dt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==ze.string&&i.parsedType!==ze.number){const s=Dt.objectValues(e);return Be(i,{expected:Dt.joinValues(s),received:i.parsedType,code:Ce.invalid_type}),lt}if(av(this,qm)||dL(this,qm,new Set(Dt.getValidEnumValues(this._def.values))),!av(this,qm).has(t.data)){const s=Dt.objectValues(e);return Be(i,{received:i.data,code:Ce.invalid_enum_value,options:s}),lt}return rs(t.data)}get enum(){return this._def.values}}qm=new WeakMap;Fg.create=(n,t)=>new Fg({values:n,typeName:ot.ZodNativeEnum,...pt(t)});class Dh extends _t{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==ze.promise&&e.common.async===!1)return Be(e,{code:Ce.invalid_type,expected:ze.promise,received:e.parsedType}),lt;const i=e.parsedType===ze.promise?e.data:Promise.resolve(e.data);return rs(i.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Dh.create=(n,t)=>new Dh({type:n,typeName:ot.ZodPromise,...pt(t)});class Zr extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:i}=this._processInputParams(t),s=this._def.effect||null,r={addIssue:o=>{Be(i,o),o.fatal?e.abort():e.dirty()},get path(){return i.path}};if(r.addIssue=r.addIssue.bind(r),s.type==="preprocess"){const o=s.transform(i.data,r);if(i.common.async)return Promise.resolve(o).then(async a=>{if(e.value==="aborted")return lt;const l=await this._def.schema._parseAsync({data:a,path:i.path,parent:i});return l.status==="aborted"?lt:l.status==="dirty"||e.value==="dirty"?uh(l.value):l});{if(e.value==="aborted")return lt;const a=this._def.schema._parseSync({data:o,path:i.path,parent:i});return a.status==="aborted"?lt:a.status==="dirty"||e.value==="dirty"?uh(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,r);if(i.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?lt:(a.status==="dirty"&&e.dirty(),o(a.value),{status:e.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?lt:(a.status==="dirty"&&e.dirty(),o(a.value).then(()=>({status:e.value,value:a.value}))))}if(s.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Tu(o))return o;const a=s.transform(o.value,r);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Tu(o)?Promise.resolve(s.transform(o.value,r)).then(a=>({status:e.value,value:a})):o);Dt.assertNever(s)}}Zr.create=(n,t,e)=>new Zr({schema:n,typeName:ot.ZodEffects,effect:t,...pt(e)});Zr.createWithPreprocess=(n,t,e)=>new Zr({schema:t,effect:{type:"preprocess",transform:n},typeName:ot.ZodEffects,...pt(e)});class Eo extends _t{_parse(t){return this._getType(t)===ze.undefined?rs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Eo.create=(n,t)=>new Eo({innerType:n,typeName:ot.ZodOptional,...pt(t)});class lc extends _t{_parse(t){return this._getType(t)===ze.null?rs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}lc.create=(n,t)=>new lc({innerType:n,typeName:ot.ZodNullable,...pt(t)});class zg extends _t{_parse(t){const{ctx:e}=this._processInputParams(t);let i=e.data;return e.parsedType===ze.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}zg.create=(n,t)=>new zg({innerType:n,typeName:ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pt(t)});class jg extends _t{_parse(t){const{ctx:e}=this._processInputParams(t),i={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Rg(s)?s.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new js(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new js(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}jg.create=(n,t)=>new jg({innerType:n,typeName:ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pt(t)});class dv extends _t{_parse(t){if(this._getType(t)!==ze.nan){const i=this._getOrReturnCtx(t);return Be(i,{code:Ce.invalid_type,expected:ze.nan,received:i.parsedType}),lt}return{status:"valid",value:t.data}}}dv.create=n=>new dv({typeName:ot.ZodNaN,...pt(n)});const ble=Symbol("zod_brand");class PS extends _t{_parse(t){const{ctx:e}=this._processInputParams(t),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class Mp extends _t{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?lt:r.status==="dirty"?(e.dirty(),uh(r.value)):this._def.out._parseAsync({data:r.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?lt:s.status==="dirty"?(e.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(t,e){return new Mp({in:t,out:e,typeName:ot.ZodPipeline})}}class Ug extends _t{_parse(t){const e=this._def.innerType._parse(t),i=s=>(Tu(s)&&(s.value=Object.freeze(s.value)),s);return Rg(e)?e.then(s=>i(s)):i(e)}unwrap(){return this._def.innerType}}Ug.create=(n,t)=>new Ug({innerType:n,typeName:ot.ZodReadonly,...pt(t)});function pR(n,t){const e=typeof n=="function"?n(t):typeof n=="string"?{message:n}:n;return typeof e=="string"?{message:e}:e}function pL(n,t={},e){return n?Mh.create().superRefine((i,s)=>{var r,o;const a=n(i);if(a instanceof Promise)return a.then(l=>{var u,h;if(!l){const m=pR(t,i),p=(h=(u=m.fatal)!==null&&u!==void 0?u:e)!==null&&h!==void 0?h:!0;s.addIssue({code:"custom",...m,fatal:p})}});if(!a){const l=pR(t,i),u=(o=(r=l.fatal)!==null&&r!==void 0?r:e)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Mh.create()}const vle={object:In.lazycreate};var ot;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ot||(ot={}));const wle=(n,t={message:`Input not instance of ${n.name}`})=>pL(e=>e instanceof n,t),bL=Fr.create,vL=rc.create,yle=dv.create,_le=oc.create,wL=Pg.create,xle=Su.create,kle=lv.create,Cle=Og.create,Ele=Mg.create,Tle=Mh.create,Sle=du.create,Ale=Ha.create,Ile=cv.create,Rle=Ur.create,Ple=In.create,Ole=In.strictCreate,Mle=Dg.create,Dle=qw.create,Vle=Vg.create,Nle=Oo.create,Lle=Ng.create,Ble=uv.create,Fle=Au.create,zle=yh.create,jle=Lg.create,Ule=Bg.create,Hle=ac.create,$le=Fg.create,Wle=Dh.create,bR=Zr.create,qle=Eo.create,Gle=lc.create,Yle=Zr.createWithPreprocess,Zle=Mp.create,Kle=()=>bL().optional(),Xle=()=>vL().optional(),Jle=()=>wL().optional(),Qle={string:n=>Fr.create({...n,coerce:!0}),number:n=>rc.create({...n,coerce:!0}),boolean:n=>Pg.create({...n,coerce:!0}),bigint:n=>oc.create({...n,coerce:!0}),date:n=>Su.create({...n,coerce:!0})},ece=lt;var Zt=Object.freeze({__proto__:null,defaultErrorMap:Oh,setErrorMap:Yae,getErrorMap:rv,makeIssue:ov,EMPTY_PATH:Zae,addIssueToContext:Be,ParseStatus:Zi,INVALID:lt,DIRTY:uh,OK:rs,isAborted:EC,isDirty:TC,isValid:Tu,isAsync:Rg,get util(){return Dt},get objectUtil(){return CC},ZodParsedType:ze,getParsedType:ya,ZodType:_t,datetimeRegex:mL,ZodString:Fr,ZodNumber:rc,ZodBigInt:oc,ZodBoolean:Pg,ZodDate:Su,ZodSymbol:lv,ZodUndefined:Og,ZodNull:Mg,ZodAny:Mh,ZodUnknown:du,ZodNever:Ha,ZodVoid:cv,ZodArray:Ur,ZodObject:In,ZodUnion:Dg,ZodDiscriminatedUnion:qw,ZodIntersection:Vg,ZodTuple:Oo,ZodRecord:Ng,ZodMap:uv,ZodSet:Au,ZodFunction:yh,ZodLazy:Lg,ZodLiteral:Bg,ZodEnum:ac,ZodNativeEnum:Fg,ZodPromise:Dh,ZodEffects:Zr,ZodTransformer:Zr,ZodOptional:Eo,ZodNullable:lc,ZodDefault:zg,ZodCatch:jg,ZodNaN:dv,BRAND:ble,ZodBranded:PS,ZodPipeline:Mp,ZodReadonly:Ug,custom:pL,Schema:_t,ZodSchema:_t,late:vle,get ZodFirstPartyTypeKind(){return ot},coerce:Qle,any:Tle,array:Rle,bigint:_le,boolean:wL,date:xle,discriminatedUnion:Dle,effect:bR,enum:Hle,function:zle,instanceof:wle,intersection:Vle,lazy:jle,literal:Ule,map:Ble,nan:yle,nativeEnum:$le,never:Ale,null:Ele,nullable:Gle,number:vL,object:Ple,oboolean:Jle,onumber:Xle,optional:qle,ostring:Kle,pipeline:Zle,preprocess:Yle,promise:Wle,record:Lle,set:Fle,strictObject:Ole,string:bL,symbol:kle,transformer:bR,tuple:Nle,undefined:Cle,union:Mle,unknown:Sle,void:Ile,NEVER:ece,ZodIssueCode:Ce,quotelessJson:Gae,ZodError:js});const vR=(n,t,e)=>{if(n&&"reportValidity"in n){const i=Oe(e,t);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},yL=(n,t)=>{for(const e in t.fields){const i=t.fields[e];i&&i.ref&&"reportValidity"in i.ref?vR(i.ref,e,n):i&&i.refs&&i.refs.forEach(s=>vR(s,e,n))}},tce=(n,t)=>{t.shouldUseNativeValidation&&yL(n,t);const e={};for(const i in n){const s=Oe(t.fields,i),r=Object.assign(n[i]||{},{ref:s&&s.ref});if(nce(t.names||Object.keys(n),i)){const o=Object.assign({},Oe(e,i));Gt(o,"root",r),Gt(e,i,o)}else Gt(e,i,r)}return e},nce=(n,t)=>{const e=wR(t);return n.some(i=>wR(i).match(`^${e}\\.\\d+`))};function wR(n){return n.replace(/\]|\[/g,"")}function ice(n,t){for(var e={};n.length;){var i=n[0],s=i.code,r=i.message,o=i.path.join(".");if(!e[o])if("unionErrors"in i){var a=i.unionErrors[0].errors[0];e[o]={message:a.message,type:a.code}}else e[o]={message:r,type:s};if("unionErrors"in i&&i.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return n.push(m)})}),t){var l=e[o].types,u=l&&l[i.code];e[o]=eL(o,t,e,s,u?[].concat(u,i.message):i.message)}n.shift()}return e}function bc(n,t,e){return e===void 0&&(e={}),function(i,s,r){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[e.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(u){return r.shouldUseNativeValidation&&yL({},r),{errors:{},values:e.raw?Object.assign({},i):u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:tce(ice(o.errors,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)};throw o}))}catch(o){return Promise.reject(o)}}}function sce(n){return Qn({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const rce=()=>{};var yR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},oce=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[e++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[e++],o=n[e++],a=n[e++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=n[e++],o=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},xL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,h=r>>2,m=(r&3)<<4|a>>4;let p=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(p=64)),i.push(e[h],e[m],e[p],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_L(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):oce(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=e[n.charAt(s++)],a=s<n.length?e[n.charAt(s)]:0;++s;const u=s<n.length?e[n.charAt(s)]:64;++s;const m=s<n.length?e[n.charAt(s)]:64;if(++s,r==null||a==null||u==null||m==null)throw new ace;const p=r<<2|a>>4;if(i.push(p),u!==64){const v=a<<4&240|u>>2;if(i.push(v),m!==64){const _=u<<6&192|m;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ace extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lce=function(n){const t=_L(n);return xL.encodeByteArray(t,!0)},kL=function(n){return lce(n).replace(/\./g,"")},CL=function(n){try{return xL.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce=()=>cce().__FIREBASE_DEFAULTS__,dce=()=>{if(typeof process>"u"||typeof yR>"u")return;const n=yR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hce=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&CL(n[1]);return t&&JSON.parse(t)},OS=()=>{try{return rce()||uce()||dce()||hce()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fce=n=>{var t,e;return(e=(t=OS())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},EL=()=>{var n;return(n=OS())===null||n===void 0?void 0:n.config},TL=n=>{var t;return(t=OS())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(os())}function pce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bce(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wce(){const n=os();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yce(){try{return typeof indexedDB=="object"}catch{return!1}}function _ce(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce="FirebaseError";class vc extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=xce,Object.setPrototypeOf(this,vc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dp.prototype.create)}}class Dp{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?kce(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new vc(s,a,i)}}function kce(n,t){return n.replace(Cce,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const Cce=/\{\$([^}]+)}/g;function Ece(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Vh(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const r=n[s],o=t[s];if(_R(r)&&_R(o)){if(!Vh(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function _R(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Tce(n,t){const e=new Sce(n,t);return e.subscribe.bind(e)}class Sce{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Ace(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=wx),s.error===void 0&&(s.error=wx),s.complete===void 0&&(s.complete=wx);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ace(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function wx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n){return n&&n._delegate?n._delegate:n}class Nh{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new mce;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Pce(t))try{this.getOrInitializeService({instanceIdentifier:iu})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=iu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=iu){return this.instances.has(t)}getOptions(t=iu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Rce(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=iu){return this.component?this.component.multipleInstances?t:iu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rce(n){return n===iu?void 0:n}function Pce(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ice(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(un||(un={}));const Mce={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},Dce=un.INFO,Vce={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},Nce=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=Vce[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class SL{constructor(t){this.name=t,this._logLevel=Dce,this._logHandler=Nce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in un))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mce[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...t),this._logHandler(this,un.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...t),this._logHandler(this,un.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,un.INFO,...t),this._logHandler(this,un.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,un.WARN,...t),this._logHandler(this,un.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...t),this._logHandler(this,un.ERROR,...t)}}const Lce=(n,t)=>t.some(e=>n instanceof e);let xR,kR;function Bce(){return xR||(xR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fce(){return kR||(kR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AL=new WeakMap,AC=new WeakMap,IL=new WeakMap,yx=new WeakMap,MS=new WeakMap;function zce(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{e(Xl(n.result)),s()},o=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&AL.set(e,n)}).catch(()=>{}),MS.set(t,n),t}function jce(n){if(AC.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{e(),s()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});AC.set(n,t)}let IC={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return AC.get(n);if(t==="objectStoreNames")return n.objectStoreNames||IL.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Xl(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Uce(n){IC=n(IC)}function Hce(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(_x(this),t,...e);return IL.set(i,t.sort?t.sort():[t]),Xl(i)}:Fce().includes(n)?function(...t){return n.apply(_x(this),t),Xl(AL.get(this))}:function(...t){return Xl(n.apply(_x(this),t))}}function $ce(n){return typeof n=="function"?Hce(n):(n instanceof IDBTransaction&&jce(n),Lce(n,Bce())?new Proxy(n,IC):n)}function Xl(n){if(n instanceof IDBRequest)return zce(n);if(yx.has(n))return yx.get(n);const t=$ce(n);return t!==n&&(yx.set(n,t),MS.set(t,n)),t}const _x=n=>MS.get(n);function Wce(n,t,{blocked:e,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(n,t),a=Xl(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Xl(o.result),l.oldVersion,l.newVersion,Xl(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qce=["get","getKey","getAll","getAllKeys","count"],Gce=["put","add","delete","clear"],xx=new Map;function CR(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(xx.get(t))return xx.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=Gce.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||qce.includes(e)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[e](...a),s&&l.done]))[0]};return xx.set(t,r),r}Uce(n=>({...n,get:(t,e,i)=>CR(t,e)||n.get(t,e,i),has:(t,e)=>!!CR(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Zce(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Zce(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const RC="@firebase/app",ER="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new SL("@firebase/app"),Kce="@firebase/app-compat",Xce="@firebase/analytics-compat",Jce="@firebase/analytics",Qce="@firebase/app-check-compat",eue="@firebase/app-check",tue="@firebase/auth",nue="@firebase/auth-compat",iue="@firebase/database",sue="@firebase/data-connect",rue="@firebase/database-compat",oue="@firebase/functions",aue="@firebase/functions-compat",lue="@firebase/installations",cue="@firebase/installations-compat",uue="@firebase/messaging",due="@firebase/messaging-compat",hue="@firebase/performance",fue="@firebase/performance-compat",mue="@firebase/remote-config",gue="@firebase/remote-config-compat",pue="@firebase/storage",bue="@firebase/storage-compat",vue="@firebase/firestore",wue="@firebase/vertexai",yue="@firebase/firestore-compat",_ue="firebase",xue="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="[DEFAULT]",kue={[RC]:"fire-core",[Kce]:"fire-core-compat",[Jce]:"fire-analytics",[Xce]:"fire-analytics-compat",[eue]:"fire-app-check",[Qce]:"fire-app-check-compat",[tue]:"fire-auth",[nue]:"fire-auth-compat",[iue]:"fire-rtdb",[sue]:"fire-data-connect",[rue]:"fire-rtdb-compat",[oue]:"fire-fn",[aue]:"fire-fn-compat",[lue]:"fire-iid",[cue]:"fire-iid-compat",[uue]:"fire-fcm",[due]:"fire-fcm-compat",[hue]:"fire-perf",[fue]:"fire-perf-compat",[mue]:"fire-rc",[gue]:"fire-rc-compat",[pue]:"fire-gcs",[bue]:"fire-gcs-compat",[vue]:"fire-fst",[yue]:"fire-fst-compat",[wue]:"fire-vertex","fire-js":"fire-js",[_ue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map,Cue=new Map,OC=new Map;function TR(n,t){try{n.container.addComponent(t)}catch(e){$a.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Hg(n){const t=n.name;if(OC.has(t))return $a.debug(`There were multiple attempts to register component ${t}.`),!1;OC.set(t,n);for(const e of hv.values())TR(e,n);for(const e of Cue.values())TR(e,n);return!0}function RL(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _o(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jl=new Dp("app","Firebase",Eue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Nh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=xue;function PL(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:PC,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Jl.create("bad-app-name",{appName:String(s)});if(e||(e=EL()),!e)throw Jl.create("no-options");const r=hv.get(s);if(r){if(Vh(e,r.options)&&Vh(i,r.config))return r;throw Jl.create("duplicate-app",{appName:s})}const o=new Oce(s);for(const l of OC.values())o.addComponent(l);const a=new Tue(e,i,o);return hv.set(s,a),a}function Sue(n=PC){const t=hv.get(n);if(!t&&n===PC&&EL())return PL();if(!t)throw Jl.create("no-app",{appName:n});return t}function _h(n,t,e){var i;let s=(i=kue[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$a.warn(a.join(" "));return}Hg(new Nh(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue="firebase-heartbeat-database",Iue=1,$g="firebase-heartbeat-store";let kx=null;function OL(){return kx||(kx=Wce(Aue,Iue,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore($g)}catch(e){console.warn(e)}}}}).catch(n=>{throw Jl.create("idb-open",{originalErrorMessage:n.message})})),kx}async function Rue(n){try{const e=(await OL()).transaction($g),i=await e.objectStore($g).get(ML(n));return await e.done,i}catch(t){if(t instanceof vc)$a.warn(t.message);else{const e=Jl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$a.warn(e.message)}}}async function SR(n,t){try{const i=(await OL()).transaction($g,"readwrite");await i.objectStore($g).put(t,ML(n)),await i.done}catch(e){if(e instanceof vc)$a.warn(e.message);else{const i=Jl.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});$a.warn(i.message)}}}function ML(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue=1024,Oue=30;class Mue{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Vue(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AR();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>Oue){const o=Nue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$a.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AR(),{heartbeatsToSend:i,unsentEntries:s}=Due(this._heartbeatsCache.heartbeats),r=kL(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return $a.warn(e),""}}}function AR(){return new Date().toISOString().substring(0,10)}function Due(n,t=Pue){const e=[];let i=n.slice();for(const s of n){const r=e.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),IR(e)>t){r.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),IR(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Vue{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yce()?_ce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Rue(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return SR(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return SR(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function IR(n){return kL(JSON.stringify({version:2,heartbeats:n})).length}function Nue(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(n){Hg(new Nh("platform-logger",t=>new Yce(t),"PRIVATE")),Hg(new Nh("heartbeat",t=>new Mue(t),"PRIVATE")),_h(RC,ER,n),_h(RC,ER,"esm2017"),_h("fire-js","")}Lue("");function DL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bue=DL,VL=new Dp("auth","Firebase",DL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new SL("@firebase/auth");function Fue(n,...t){fv.logLevel<=un.WARN&&fv.warn(`Auth (${Np}): ${n}`,...t)}function f1(n,...t){fv.logLevel<=un.ERROR&&fv.error(`Auth (${Np}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(n,...t){throw VS(n,...t)}function Hr(n,...t){return VS(n,...t)}function DS(n,t,e){const i=Object.assign(Object.assign({},Bue()),{[t]:e});return new Dp("auth","Firebase",i).create(t,{appName:n.name})}function hu(n){return DS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zue(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Mo(n,"argument-error"),DS(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function VS(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return VL.create(n,...t)}function ut(n,t,...e){if(!n)throw VS(t,...e)}function Sa(n){const t="INTERNAL ASSERTION FAILED: "+n;throw f1(t),new Error(t)}function Wa(n,t){n||Sa(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jue(){return RR()==="http:"||RR()==="https:"}function RR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jue()||bce()||"connection"in navigator)?navigator.onLine:!0}function Hue(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,e){this.shortDelay=t,this.longDelay=e,Wa(e>t,"Short delay should be less than long delay!"),this.isMobile=gce()||vce()}get(){return Uue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n,t){Wa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wue=new Lp(3e4,6e4);function LS(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function uf(n,t,e,i,s={}){return LL(n,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=Vp(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:t,headers:l},r);return pce()||(u.referrerPolicy="no-referrer"),NL.fetch()(BL(n,n.config.apiHost,e,a),u)})}async function LL(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},$ue),t);try{const s=new Gue(n),r=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Ab(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ab(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ab(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ab(n,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DS(n,h,u);Mo(n,h)}}catch(s){if(s instanceof vc)throw s;Mo(n,"network-request-failed",{message:String(s)})}}async function que(n,t,e,i,s={}){const r=await uf(n,t,e,i,s);return"mfaPendingCredential"in r&&Mo(n,"multi-factor-auth-required",{_serverResponse:r}),r}function BL(n,t,e,i){const s=`${t}${e}?${i}`;return n.config.emulator?NS(n.config,s):`${n.config.apiScheme}://${s}`}class Gue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Hr(this.auth,"network-request-failed")),Wue.get())})}}function Ab(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Hr(n,t,i);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yue(n,t){return uf(n,"POST","/v1/accounts:delete",t)}async function FL(n,t){return uf(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Zue(n,t=!1){const e=cf(n),i=await e.getIdToken(t),s=BS(i);ut(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:ig(Cx(s.auth_time)),issuedAtTime:ig(Cx(s.iat)),expirationTime:ig(Cx(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Cx(n){return Number(n)*1e3}function BS(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return f1("JWT malformed, contained fewer than 3 sections"),null;try{const s=CL(e);return s?JSON.parse(s):(f1("Failed to decode base64 JWT payload"),null)}catch(s){return f1("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PR(n){const t=BS(n);return ut(t,"internal-error"),ut(typeof t.exp<"u","internal-error"),ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof vc&&Kue(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Kue({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ig(this.lastLoginAt),this.creationTime=ig(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(n){var t;const e=n.auth,i=await n.getIdToken(),s=await Wg(n,FL(e,{idToken:i}));ut(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?zL(r.providerUserInfo):[],a=Que(n.providerData,o),l=n.isAnonymous,u=!(n.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new DC(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(n,m)}async function Jue(n){const t=cf(n);await mv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Que(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function zL(n){return n.map(t=>{var{providerId:e}=t,i=yp(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ede(n,t){const e=await LL(n,{},async()=>{const i=Vp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,o=BL(n,s,"/v1/token",`key=${r}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NL.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function tde(n,t){return uf(n,"POST","/v2/accounts:revokeToken",LS(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ut(t.idToken,"internal-error"),ut(typeof t.idToken<"u","internal-error"),ut(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):PR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ut(t.length!==0,"internal-error");const e=PR(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:r}=await ede(t,e);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:r}=e,o=new xh;return i&&(ut(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(ut(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(ut(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xh,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n,t){ut(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Aa{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,r=yp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new DC(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Wg(this,this.stsTokenManager.getToken(this.auth,t));return ut(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Zue(this,t)}reload(){return Jue(this)}_assign(t){this!==t&&(ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Aa(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await mv(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_o(this.auth.app))return Promise.reject(hu(this.auth));const t=await this.getIdToken();return await Wg(this,Yue(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,r,o,a,l,u,h;const m=(i=e.displayName)!==null&&i!==void 0?i:void 0,p=(s=e.email)!==null&&s!==void 0?s:void 0,v=(r=e.phoneNumber)!==null&&r!==void 0?r:void 0,_=(o=e.photoURL)!==null&&o!==void 0?o:void 0,k=(a=e.tenantId)!==null&&a!==void 0?a:void 0,C=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=e.createdAt)!==null&&u!==void 0?u:void 0,S=(h=e.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:P,isAnonymous:O,providerData:D,stsTokenManager:N}=e;ut(I&&N,t,"internal-error");const j=xh.fromJSON(this.name,N);ut(typeof I=="string",t,"internal-error"),Ol(m,t.name),Ol(p,t.name),ut(typeof P=="boolean",t,"internal-error"),ut(typeof O=="boolean",t,"internal-error"),Ol(v,t.name),Ol(_,t.name),Ol(k,t.name),Ol(C,t.name),Ol(T,t.name),Ol(S,t.name);const z=new Aa({uid:I,auth:t,email:p,emailVerified:P,displayName:m,isAnonymous:O,photoURL:_,phoneNumber:v,tenantId:k,stsTokenManager:j,createdAt:T,lastLoginAt:S});return D&&Array.isArray(D)&&(z.providerData=D.map(J=>Object.assign({},J))),C&&(z._redirectEventId=C),z}static async _fromIdTokenResponse(t,e,i=!1){const s=new xh;s.updateFromServerResponse(e);const r=new Aa({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await mv(r),r}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];ut(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?zL(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),a=new xh;a.updateFromIdToken(i);const l=new Aa({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new DC(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Map;function Ia(n){Wa(n instanceof Function,"Expected a class definition");let t=OR.get(n);return t?(Wa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,OR.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}jL.type="NONE";const MR=jL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n,t,e){return`firebase:${n}:${t}:${e}`}class kh{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=m1(this.userKey,s.apiKey,r),this.fullPersistenceKey=m1("persistence",s.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Aa._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new kh(Ia(MR),t,i);const s=(await Promise.all(e.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=s[0]||Ia(MR);const o=m1(i,t.config.apiKey,t.name);let a=null;for(const u of e)try{const h=await u._get(o);if(h){const m=Aa._fromJSON(t,h);u!==r&&(a=m),r=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new kh(r,t,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(e.map(async u=>{if(u!==r)try{await u._remove(o)}catch{}})),new kh(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WL(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UL(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GL(t))return"Blackberry";if(YL(t))return"Webos";if(HL(t))return"Safari";if((t.includes("chrome/")||$L(t))&&!t.includes("edge/"))return"Chrome";if(qL(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function UL(n=os()){return/firefox\//i.test(n)}function HL(n=os()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $L(n=os()){return/crios\//i.test(n)}function WL(n=os()){return/iemobile/i.test(n)}function qL(n=os()){return/android/i.test(n)}function GL(n=os()){return/blackberry/i.test(n)}function YL(n=os()){return/webos/i.test(n)}function FS(n=os()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nde(n=os()){var t;return FS(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function ide(){return wce()&&document.documentMode===10}function ZL(n=os()){return FS(n)||qL(n)||YL(n)||GL(n)||/windows phone/i.test(n)||WL(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(n,t=[]){let e;switch(n){case"Browser":e=DR(os());break;case"Worker":e=`${DR(os())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Np}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rde(n,t={}){return uf(n,"GET","/v2/passwordPolicy",LS(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ode=6;class ade{constructor(t){var e,i,s,r;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:ode,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VR(this),this.idTokenSubscription=new VR(this),this.beforeStateQueue=new sde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ia(e)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await kh.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await FL(this,{idToken:t}),i=await Aa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(_o(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await mv(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Hue()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_o(this.app))return Promise.reject(hu(this));const e=t?cf(t):null;return e&&ut(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _o(this.app)?Promise.reject(hu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _o(this.app)?Promise.reject(hu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ia(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rde(this),e=new ade(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Dp("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await tde(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ia(t)||this._popupRedirectResolver;ut(e,this,"argument-error"),this.redirectPersistenceManager=await kh.create(this,[Ia(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const r=typeof e=="function"?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,i,s);return()=>{o=!0,l()}}else{const l=t.addObserver(e);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(_o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&Fue(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gw(n){return cf(n)}class VR{constructor(t){this.auth=t,this.observer=null,this.addObserver=Tce(e=>this.observer=e)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cde(n){zS=n}function ude(n){return zS.loadJS(n)}function dde(){return zS.gapiScript}function hde(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fde(n,t){const e=RL(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),r=e.getOptions();if(Vh(r,t??{}))return s;Mo(s,"already-initialized")}return e.initialize({options:t})}function mde(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Ia);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function gde(n,t,e){const i=Gw(n);ut(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=XL(t),{host:o,port:a}=pde(t),l=a===null?"":`:${a}`,u={url:`${r}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ut(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ut(Vh(u,i.config.emulator)&&Vh(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,bde()}function XL(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function pde(n){const t=XL(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:NR(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:NR(o)}}}function NR(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function bde(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Sa("not implemented")}_getIdTokenResponse(t){return Sa("not implemented")}_linkToIdToken(t,e){return Sa("not implemented")}_getReauthenticationResolver(t){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(n,t){return que(n,"POST","/v1/accounts:signInWithIdp",LS(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vde="http://localhost";class Iu extends JL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Iu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Mo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,r=yp(e,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Iu(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return Ch(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ch(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ch(t,e)}buildRequest(){const t={requestUri:vde,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Vp(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Bp{constructor(){super("facebook.com")}static credential(t){return Iu._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jl.credentialFromTaggedObject(t)}static credentialFromError(t){return jl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jl.credential(t.oauthAccessToken)}catch{return null}}}jl.FACEBOOK_SIGN_IN_METHOD="facebook.com";jl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Bp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Iu._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ka.credential(e,i)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Bp{constructor(){super("github.com")}static credential(t){return Iu._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ul.credentialFromTaggedObject(t)}static credentialFromError(t){return Ul.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ul.credential(t.oauthAccessToken)}catch{return null}}}Ul.GITHUB_SIGN_IN_METHOD="github.com";Ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Bp{constructor(){super("twitter.com")}static credential(t,e){return Iu._fromParams({providerId:Hl.PROVIDER_ID,signInMethod:Hl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Hl.credentialFromTaggedObject(t)}static credentialFromError(t){return Hl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Hl.credential(e,i)}catch{return null}}}Hl.TWITTER_SIGN_IN_METHOD="twitter.com";Hl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const r=await Aa._fromIdTokenResponse(t,i,s),o=LR(i);return new Lh({user:r,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=LR(i);return new Lh({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function LR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends vc{constructor(t,e,i,s){var r;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,gv.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new gv(t,e,i,s)}}function QL(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?gv._fromErrorAndOperation(n,r,t,i):r})}async function wde(n,t,e=!1){const i=await Wg(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Lh._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yde(n,t,e=!1){const{auth:i}=n;if(_o(i.app))return Promise.reject(hu(i));const s="reauthenticate";try{const r=await Wg(n,QL(i,s,t,n),e);ut(r.idToken,i,"internal-error");const o=BS(r.idToken);ut(o,i,"internal-error");const{sub:a}=o;return ut(n.uid===a,i,"user-mismatch"),Lh._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Mo(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _de(n,t,e=!1){if(_o(n.app))return Promise.reject(hu(n));const i="signIn",s=await QL(n,i,t),r=await Lh._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(r.user),r}function xde(n,t,e,i){return cf(n).onIdTokenChanged(t,e,i)}function kde(n,t,e){return cf(n).beforeAuthStateChanged(t,e)}const pv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(pv,"1"),this.storage.removeItem(pv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cde=1e3,Ede=10;class tB extends eB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);ide()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Ede):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},Cde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}tB.type="LOCAL";const Tde=tB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB extends eB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}nB.type="SESSION";const iB=nB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sde(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Yw(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:r}=e.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async u=>u(e.origin,r)),l=await Sde(a);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const u=US("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(p.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(){return window}function Ide(n){To().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return typeof To().WorkerGlobalScope<"u"&&typeof To().importScripts=="function"}async function Rde(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pde(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Ode(){return sB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="firebaseLocalStorageDb",Mde=1,bv="firebaseLocalStorage",oB="fbase_key";class Fp{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Zw(n,t){return n.transaction([bv],t?"readwrite":"readonly").objectStore(bv)}function Dde(){const n=indexedDB.deleteDatabase(rB);return new Fp(n).toPromise()}function VC(){const n=indexedDB.open(rB,Mde);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(bv,{keyPath:oB})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(bv)?t(i):(i.close(),await Dde(),t(await VC()))})})}async function BR(n,t,e){const i=Zw(n,!0).put({[oB]:t,value:e});return new Fp(i).toPromise()}async function Vde(n,t){const e=Zw(n,!1).get(t),i=await new Fp(e).toPromise();return i===void 0?null:i.value}function FR(n,t){const e=Zw(n,!0).delete(t);return new Fp(e).toPromise()}const Nde=800,Lde=3;class aB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VC(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>Lde)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yw._getInstance(Ode()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await Rde(),!this.activeServiceWorker)return;this.sender=new Ade(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Pde()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await VC();return await BR(t,pv,"1"),await FR(t,pv),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>BR(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Vde(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>FR(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Zw(s,!1).getAll();return new Fp(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aB.type="LOCAL";const Bde=aB;new Lp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(n,t){return t?Ia(t):(ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends JL{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ch(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ch(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ch(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Fde(n){return _de(n.auth,new HS(n),n.bypassAuthState)}function zde(n){const{auth:t,user:e}=n;return ut(e,t,"internal-error"),yde(e,new HS(n),n.bypassAuthState)}async function jde(n){const{auth:t,user:e}=n;return ut(e,t,"internal-error"),wde(e,new HS(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(t,e,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:e,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Fde;case"linkViaPopup":case"linkViaRedirect":return jde;case"reauthViaPopup":case"reauthViaRedirect":return zde;default:Mo(this.auth,"internal-error")}}resolve(t){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ude=new Lp(2e3,1e4);async function Hde(n,t,e){if(_o(n.app))return Promise.reject(Hr(n,"operation-not-supported-in-this-environment"));const i=Gw(n);zue(n,t,jS);const s=lB(i,e);return new lu(i,"signInViaPopup",t,s).executeNotNull()}class lu extends cB{constructor(t,e,i,s,r){super(t,e,s,r),this.provider=i,this.authWindow=null,this.pollId=null,lu.currentPopupAction&&lu.currentPopupAction.cancel(),lu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ut(t,this.auth,"internal-error"),t}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const t=US();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ude.get())};t()}}lu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $de="pendingRedirect",g1=new Map;class Wde extends cB{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=g1.get(this.auth._key());if(!t){try{const i=await qde(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}g1.set(this.auth._key(),t)}return this.bypassAuthState||g1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qde(n,t){const e=Zde(t),i=Yde(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function Gde(n,t){g1.set(n._key(),t)}function Yde(n){return Ia(n._redirectPersistence)}function Zde(n){return m1($de,n.config.apiKey,n.name)}async function Kde(n,t,e=!1){if(_o(n.app))return Promise.reject(hu(n));const i=Gw(n),s=lB(i,t),o=await new Wde(i,s,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xde=10*60*1e3;class Jde{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Qde(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!uB(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Hr(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xde&&this.cachedEventUids.clear(),this.cachedEventUids.has(zR(t))}saveEventToCache(t){this.cachedEventUids.add(zR(t)),this.lastProcessedEventTime=Date.now()}}function zR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function uB({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Qde(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uB(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ehe(n,t={}){return uf(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const the=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nhe=/^https?/;async function ihe(n){if(n.config.emulator)return;const{authorizedDomains:t}=await ehe(n);for(const e of t)try{if(she(e))return}catch{}Mo(n,"unauthorized-domain")}function she(n){const t=MC(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!nhe.test(e))return!1;if(the.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rhe=new Lp(3e4,6e4);function jR(){const n=To().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function ohe(n){return new Promise((t,e)=>{var i,s,r;function o(){jR(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jR(),e(Hr(n,"network-request-failed"))},timeout:rhe.get()})}if(!((s=(i=To().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=To().gapi)===null||r===void 0)&&r.load)o();else{const a=hde("iframefcb");return To()[a]=()=>{gapi.load?o():e(Hr(n,"network-request-failed"))},ude(`${dde()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw p1=null,t})}let p1=null;function ahe(n){return p1=p1||ohe(n),p1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lhe=new Lp(5e3,15e3),che="__/auth/iframe",uhe="emulator/auth/iframe",dhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fhe(n){const t=n.config;ut(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?NS(t,uhe):`https://${n.config.authDomain}/${che}`,i={apiKey:t.apiKey,appName:n.name,v:Np},s=hhe.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${e}?${Vp(i).slice(1)}`}async function mhe(n){const t=await ahe(n),e=To().gapi;return ut(e,n,"internal-error"),t.open({where:document.body,url:fhe(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dhe,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Hr(n,"network-request-failed"),a=To().setTimeout(()=>{r(o)},lhe.get());function l(){To().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ghe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},phe=500,bhe=600,vhe="_blank",whe="http://localhost";class UR{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yhe(n,t,e,i=phe,s=bhe){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ghe),{width:i.toString(),height:s.toString(),top:r,left:o}),u=os().toLowerCase();e&&(a=$L(u)?vhe:e),UL(u)&&(t=t||whe,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[v,_])=>`${p}${v}=${_},`,"");if(nde(u)&&a!=="_self")return _he(t||"",a),new UR(null);const m=window.open(t||"",a,h);ut(m,n,"popup-blocked");try{m.focus()}catch{}return new UR(m)}function _he(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xhe="__/auth/handler",khe="emulator/auth/handler",Che=encodeURIComponent("fac");async function HR(n,t,e,i,s,r){ut(n.config.authDomain,n,"auth-domain-config-required"),ut(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Np,eventId:s};if(t instanceof jS){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",Ece(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(t instanceof Bp){const h=t.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await n._getAppCheckToken(),u=l?`#${Che}=${encodeURIComponent(l)}`:"";return`${Ehe(n)}?${Vp(a).slice(1)}${u}`}function Ehe({config:n}){return n.emulator?NS(n,khe):`https://${n.authDomain}/${xhe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="webStorageSupport";class The{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iB,this._completeRedirectFn=Kde,this._overrideRedirectResult=Gde}async _openPopup(t,e,i,s){var r;Wa((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await HR(t,e,i,MC(),s);return yhe(t,o,US())}async _openRedirect(t,e,i,s){await this._originValidation(t);const r=await HR(t,e,i,MC(),s);return Ide(r),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:r}=this.eventManagers[e];return s?Promise.resolve(s):(Wa(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await mhe(t),i=new Jde(t);return e.register("authEvent",s=>(ut(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ex,{type:Ex},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Ex];o!==void 0&&e(!!o),Mo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ihe(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ZL()||HL()||FS()}}const She=The;var $R="@firebase/auth",WR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ihe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rhe(n){Hg(new Nh("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ut(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KL(n)},u=new lde(i,s,r,l);return mde(u,e),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Hg(new Nh("auth-internal",t=>{const e=Gw(t.getProvider("auth").getImmediate());return(i=>new Ahe(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),_h($R,WR,Ihe(n)),_h($R,WR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe=5*60,Ohe=TL("authIdTokenMaxAge")||Phe;let qR=null;const Mhe=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>Ohe)return;const s=e==null?void 0:e.token;qR!==s&&(qR=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Dhe(n=Sue()){const t=RL(n,"auth");if(t.isInitialized())return t.getImmediate();const e=fde(n,{popupRedirectResolver:She,persistence:[Bde,Tde,iB]}),i=TL("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=Mhe(r.toString());kde(e,o,()=>o(e.currentUser)),xde(e,a=>o(a))}}const s=fce("auth");return s&&gde(e,`http://${s}`),e}function Vhe(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}cde({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const r=Hr("internal-error");r.customData=s,e(r)},i.type="text/javascript",i.charset="UTF-8",Vhe().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rhe("Browser");var Nhe="firebase",Lhe="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_h(Nhe,Lhe,"app");const Bhe={apiKey:Ot("VITE_FIREBASE_API"),authDomain:"blog-7140c.firebaseapp.com",projectId:"blog-7140c",storageBucket:"blog-7140c.firebasestorage.app",messagingSenderId:"587550704768",appId:"1:587550704768:web:c4283682ed67f2661a1265"},Fhe=PL(Bhe),zhe=Dhe(Fhe),jhe=new ka,dB=()=>{const n=xw(),t=Bo(),e=async()=>{try{const s=(await Hde(zhe,jhe)).user,r={name:s.displayName,email:s.email,avatar:s.photoURL},o=await fetch(`${Ot("VITE_API_BASE_URL")}/auth/google-login`,{method:"post",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),a=await o.json();if(!o.ok)return gt("error",a.message);n(tS(a.user)),t(wu),gt("success",a.message)}catch(i){gt("error",i.message)}};return y.jsxs(hi,{variant:"outline",className:"w-full",onClick:e,children:[y.jsx(sce,{}),"Continue with Google"]})},Uhe=()=>{const n=xw(),t=Bo(),e=Zt.object({email:Zt.string().email(),password:Zt.string().min(3,"Password field Required")}),i=gc({resolver:bc(e),defaultValues:{email:"",password:""}});async function s(r){try{const o=await fetch(`${Ot("VITE_API_BASE_URL")}/auth/login`,{method:"post",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),a=await o.json();if(!o.ok)return gt("error",a.message);n(tS(a.user)),t(wu),gt("success",a.message)}catch(o){gt("error",o.message)}}return y.jsx("div",{className:"flex justify-center items-center h-screen w-screen",children:y.jsxs(xr,{className:"w-[400px] p-5",children:[y.jsx("div",{className:"flex justify-center items-center mb-2",children:y.jsx(Hn,{to:wu,children:y.jsx("img",{src:NT})})}),y.jsx("h1",{className:"text-2xl font-bold text-center mb-5",children:"Log into Account"}),y.jsxs("div",{className:"",children:[y.jsx(dB,{}),y.jsx("div",{className:"border my-5 flex justify-center items-center",children:y.jsx("span",{className:"absolute bg-white tet-sm",children:"Or"})})]}),y.jsx(pc,{...i,children:y.jsxs("form",{onSubmit:i.handleSubmit(s),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:i.control,name:"email",render:({field:r})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Email"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Your Email",...r})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:i.control,name:"password",render:({field:r})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Password"}),y.jsx(Vn,{children:y.jsx(Ai,{type:"password",placeholder:"Enter Your Password",...r})}),y.jsx(Nn,{})]})})}),y.jsxs("div",{className:"mt-5",children:[y.jsx(hi,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"Sign in"}),y.jsxs("div",{className:"mt-5 text-sm flex justify-center items-center gap-2",children:[y.jsx("p",{children:"Don't have an account?"}),y.jsx(Hn,{className:"text-blue-500 hover:underline",to:MV,children:"Sign Up"})]})]})]})})]})})},Hhe=()=>{const n=Bo(),t=Zt.object({name:Zt.string().min(3,"Name must be at least 3 Characters"),email:Zt.string().email(),password:Zt.string().min(8,"Password must be at least 8 Characters"),confirmPassword:Zt.string().refine(s=>s.password===s.confirmPassword,"Password and Confirm Password Should be same")}),e=gc({resolver:bc(t),defaultValues:{name:"",email:"",password:"",confirmPassword:""}});async function i(s){try{const r=await fetch(`${Ot("VITE_API_BASE_URL")}/auth/register`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await r.json();if(!r.ok)return gt("error",o.message);n(yu),gt("success",o.message)}catch(r){gt("error",r.message)}}return y.jsx("div",{className:"flex justify-center items-center h-screen w-screen",children:y.jsxs(xr,{className:"w-[400px] p-5",children:[y.jsx("h1",{className:"text-2xl font-bold text-center mb-5",children:"Create Your Account"}),y.jsxs("div",{className:"",children:[y.jsx(dB,{}),y.jsx("div",{className:"border my-5 flex justify-center items-center",children:y.jsx("span",{className:"absolute bg-white tet-sm",children:"Or"})})]}),y.jsx(pc,{...e,children:y.jsxs("form",{onSubmit:e.handleSubmit(i),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:e.control,name:"name",render:({field:s})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Name"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Your Name",...s})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:e.control,name:"email",render:({field:s})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Email"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Your Email",...s})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:e.control,name:"password",render:({field:s})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Password"}),y.jsx(Vn,{children:y.jsx(Ai,{type:"password",placeholder:"Enter Your Password",...s})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:e.control,name:"confirmPassword",render:({field:s})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Confirm Password"}),y.jsx(Vn,{children:y.jsx(Ai,{type:"password",placeholder:"Confirm Your Password",...s})}),y.jsx(Nn,{})]})})}),y.jsxs("div",{className:"mt-5",children:[y.jsx(hi,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"Sign Up"}),y.jsxs("div",{className:"mt-5 text-sm flex justify-center items-center gap-2",children:[y.jsx("p",{children:"Already have an account?"}),y.jsx(Hn,{className:"text-blue-500 hover:underline",to:yu,children:"Sign in"})]})]})]})})]})})};function hB({className:n,...t}){return y.jsx("textarea",{"data-slot":"textarea",className:dt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...t})}var Tx={exports:{}},Sx,GR;function $he(){if(GR)return Sx;GR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sx=n,Sx}var Ax,YR;function Whe(){if(YR)return Ax;YR=1;var n=$he();function t(){}function e(){}return e.resetWarningCache=t,Ax=function(){function i(o,a,l,u,h,m){if(m!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},Ax}var ZR;function qhe(){return ZR||(ZR=1,Tx.exports=Whe()()),Tx.exports}var Ghe=qhe();const ln=mc(Ghe),Yhe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Bh(n,t,e){const i=Zhe(n),{webkitRelativePath:s}=n,r=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${n.name}`;return typeof i.path!="string"&&KR(i,"path",r),KR(i,"relativePath",r),i}function Zhe(n){const{name:t}=n;if(t&&t.lastIndexOf(".")!==-1&&!n.type){const i=t.split(".").pop().toLowerCase(),s=Yhe.get(i);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}function KR(n,t,e){Object.defineProperty(n,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const Khe=[".DS_Store","Thumbs.db"];function Xhe(n){return Nu(this,void 0,void 0,function*(){return vv(n)&&Jhe(n.dataTransfer)?nfe(n.dataTransfer,n.type):Qhe(n)?efe(n):Array.isArray(n)&&n.every(t=>"getFile"in t&&typeof t.getFile=="function")?tfe(n):[]})}function Jhe(n){return vv(n)}function Qhe(n){return vv(n)&&vv(n.target)}function vv(n){return typeof n=="object"&&n!==null}function efe(n){return NC(n.target.files).map(t=>Bh(t))}function tfe(n){return Nu(this,void 0,void 0,function*(){return(yield Promise.all(n.map(e=>e.getFile()))).map(e=>Bh(e))})}function nfe(n,t){return Nu(this,void 0,void 0,function*(){if(n.items){const e=NC(n.items).filter(s=>s.kind==="file");if(t!=="drop")return e;const i=yield Promise.all(e.map(ife));return XR(fB(i))}return XR(NC(n.files).map(e=>Bh(e)))})}function XR(n){return n.filter(t=>Khe.indexOf(t.name)===-1)}function NC(n){if(n===null)return[];const t=[];for(let e=0;e<n.length;e++){const i=n[e];t.push(i)}return t}function ife(n){if(typeof n.webkitGetAsEntry!="function")return JR(n);const t=n.webkitGetAsEntry();return t&&t.isDirectory?mB(t):JR(n,t)}function fB(n){return n.reduce((t,e)=>[...t,...Array.isArray(e)?fB(e):[e]],[])}function JR(n,t){return Nu(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const r=yield n.getAsFileSystemHandle();if(r===null)throw new Error(`${n} is not a File`);if(r!==void 0){const o=yield r.getFile();return o.handle=r,Bh(o)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return Bh(i,(e=t==null?void 0:t.fullPath)!==null&&e!==void 0?e:void 0)})}function sfe(n){return Nu(this,void 0,void 0,function*(){return n.isDirectory?mB(n):rfe(n)})}function mB(n){const t=n.createReader();return new Promise((e,i)=>{const s=[];function r(){t.readEntries(o=>Nu(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(sfe));s.push(a),r()}else try{const a=yield Promise.all(s);e(a)}catch(a){i(a)}}),o=>{i(o)})}r()})}function rfe(n){return Nu(this,void 0,void 0,function*(){return new Promise((t,e)=>{n.file(i=>{const s=Bh(i,n.fullPath);t(s)},i=>{e(i)})})})}var Ib={},QR;function ofe(){return QR||(QR=1,Ib.__esModule=!0,Ib.default=function(n,t){if(n&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var i=n.name||"",s=(n.type||"").toLowerCase(),r=s.replace(/\/.*$/,"");return e.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?r===a.replace(/\/.*$/,""):s===a})}return!0}),Ib}var afe=ofe();const Ix=mc(afe);function eP(n){return ufe(n)||cfe(n)||pB(n)||lfe()}function lfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ufe(n){if(Array.isArray(n))return LC(n)}function tP(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function nP(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(e),!0).forEach(function(i){gB(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):tP(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function gB(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function qg(n,t){return ffe(n)||hfe(n,t)||pB(n,t)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(n,t){if(n){if(typeof n=="string")return LC(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return LC(n,t)}}function LC(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function hfe(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i=[],s=!0,r=!1,o,a;try{for(e=e.call(n);!(s=(o=e.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&e.return!=null&&e.return()}finally{if(r)throw a}}return i}}function ffe(n){if(Array.isArray(n))return n}var mfe=typeof Ix=="function"?Ix:Ix.default,gfe="file-invalid-type",pfe="file-too-large",bfe="file-too-small",vfe="too-many-files",wfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),i=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:gfe,message:"File type must be ".concat(i)}},iP=function(t){return{code:pfe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},sP=function(t){return{code:bfe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},yfe={code:vfe,message:"Too many files"};function bB(n,t){var e=n.type==="application/x-moz-file"||mfe(n,t);return[e,e?null:wfe(t)]}function vB(n,t,e){if(ru(n.size))if(ru(t)&&ru(e)){if(n.size>e)return[!1,iP(e)];if(n.size<t)return[!1,sP(t)]}else{if(ru(t)&&n.size<t)return[!1,sP(t)];if(ru(e)&&n.size>e)return[!1,iP(e)]}return[!0,null]}function ru(n){return n!=null}function _fe(n){var t=n.files,e=n.accept,i=n.minSize,s=n.maxSize,r=n.multiple,o=n.maxFiles,a=n.validator;return!r&&t.length>1||r&&o>=1&&t.length>o?!1:t.every(function(l){var u=bB(l,e),h=qg(u,1),m=h[0],p=vB(l,i,s),v=qg(p,1),_=v[0],k=a?a(l):null;return m&&_&&!k})}function wv(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Rb(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!n.target&&!!n.target.files}function rP(n){n.preventDefault()}function xfe(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function kfe(n){return n.indexOf("Edge/")!==-1}function Cfe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return xfe(n)||kfe(n)}function fo(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return t.some(function(a){return!wv(i)&&a&&a.apply(void 0,[i].concat(r)),wv(i)})}}function Efe(){return"showOpenFilePicker"in window}function Tfe(n){if(ru(n)){var t=Object.entries(n).filter(function(e){var i=qg(e,2),s=i[0],r=i[1],o=!0;return wB(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(r)||!r.every(yB))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(e,i){var s=qg(i,2),r=s[0],o=s[1];return nP(nP({},e),{},gB({},r,o))},{});return[{description:"Files",accept:t}]}return n}function Sfe(n){if(ru(n))return Object.entries(n).reduce(function(t,e){var i=qg(e,2),s=i[0],r=i[1];return[].concat(eP(t),[s],eP(r))},[]).filter(function(t){return wB(t)||yB(t)}).join(",")}function Afe(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Ife(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function wB(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function yB(n){return/^.*\.[\w]+$/.test(n)}var Rfe=["children"],Pfe=["open"],Ofe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Mfe=["refKey","onChange","onClick"];function Dfe(n){return Lfe(n)||Nfe(n)||_B(n)||Vfe()}function Vfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Lfe(n){if(Array.isArray(n))return BC(n)}function Rx(n,t){return zfe(n)||Ffe(n,t)||_B(n,t)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _B(n,t){if(n){if(typeof n=="string")return BC(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return BC(n,t)}}function BC(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function Ffe(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i=[],s=!0,r=!1,o,a;try{for(e=e.call(n);!(s=(o=e.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&e.return!=null&&e.return()}finally{if(r)throw a}}return i}}function zfe(n){if(Array.isArray(n))return n}function oP(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function An(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(e),!0).forEach(function(i){FC(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oP(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function FC(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function yv(n,t){if(n==null)return{};var e=jfe(n,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function jfe(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}var df=E.forwardRef(function(n,t){var e=n.children,i=yv(n,Rfe),s=Ufe(i),r=s.open,o=yv(s,Pfe);return E.useImperativeHandle(t,function(){return{open:r}},[r]),Ve.createElement(E.Fragment,null,e(An(An({},o),{},{open:r})))});df.displayName="Dropzone";var xB={disabled:!1,getFilesFromEvent:Xhe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};df.defaultProps=xB;df.propTypes={children:ln.func,accept:ln.objectOf(ln.arrayOf(ln.string)),multiple:ln.bool,preventDropOnDocument:ln.bool,noClick:ln.bool,noKeyboard:ln.bool,noDrag:ln.bool,noDragEventsBubbling:ln.bool,minSize:ln.number,maxSize:ln.number,maxFiles:ln.number,disabled:ln.bool,getFilesFromEvent:ln.func,onFileDialogCancel:ln.func,onFileDialogOpen:ln.func,useFsAccessApi:ln.bool,autoFocus:ln.bool,onDragEnter:ln.func,onDragLeave:ln.func,onDragOver:ln.func,onDrop:ln.func,onDropAccepted:ln.func,onDropRejected:ln.func,onError:ln.func,validator:ln.func};var zC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ufe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=An(An({},xB),n),e=t.accept,i=t.disabled,s=t.getFilesFromEvent,r=t.maxSize,o=t.minSize,a=t.multiple,l=t.maxFiles,u=t.onDragEnter,h=t.onDragLeave,m=t.onDragOver,p=t.onDrop,v=t.onDropAccepted,_=t.onDropRejected,k=t.onFileDialogCancel,C=t.onFileDialogOpen,T=t.useFsAccessApi,S=t.autoFocus,I=t.preventDropOnDocument,P=t.noClick,O=t.noKeyboard,D=t.noDrag,N=t.noDragEventsBubbling,j=t.onError,z=t.validator,J=E.useMemo(function(){return Sfe(e)},[e]),_e=E.useMemo(function(){return Tfe(e)},[e]),ae=E.useMemo(function(){return typeof C=="function"?C:aP},[C]),xe=E.useMemo(function(){return typeof k=="function"?k:aP},[k]),be=E.useRef(null),Ae=E.useRef(null),Y=E.useReducer(Hfe,zC),we=Rx(Y,2),ne=we[0],re=we[1],M=ne.isFocused,oe=ne.isFileDialogActive,De=E.useRef(typeof window<"u"&&window.isSecureContext&&T&&Efe()),Fe=function(){!De.current&&oe&&setTimeout(function(){if(Ae.current){var ge=Ae.current.files;ge.length||(re({type:"closeDialog"}),xe())}},300)};E.useEffect(function(){return window.addEventListener("focus",Fe,!1),function(){window.removeEventListener("focus",Fe,!1)}},[Ae,oe,xe,De]);var H=E.useRef([]),q=function(ge){be.current&&be.current.contains(ge.target)||(ge.preventDefault(),H.current=[])};E.useEffect(function(){return I&&(document.addEventListener("dragover",rP,!1),document.addEventListener("drop",q,!1)),function(){I&&(document.removeEventListener("dragover",rP),document.removeEventListener("drop",q))}},[be,I]),E.useEffect(function(){return!i&&S&&be.current&&be.current.focus(),function(){}},[be,S,i]);var Q=E.useCallback(function(Z){j?j(Z):console.error(Z)},[j]),se=E.useCallback(function(Z){Z.preventDefault(),Z.persist(),K(Z),H.current=[].concat(Dfe(H.current),[Z.target]),Rb(Z)&&Promise.resolve(s(Z)).then(function(ge){if(!(wv(Z)&&!N)){var Me=ge.length,nt=Me>0&&_fe({files:ge,accept:J,minSize:o,maxSize:r,multiple:a,maxFiles:l,validator:z}),ct=Me>0&&!nt;re({isDragAccept:nt,isDragReject:ct,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Z)}}).catch(function(ge){return Q(ge)})},[s,u,Q,N,J,o,r,a,l,z]),ue=E.useCallback(function(Z){Z.preventDefault(),Z.persist(),K(Z);var ge=Rb(Z);if(ge&&Z.dataTransfer)try{Z.dataTransfer.dropEffect="copy"}catch{}return ge&&m&&m(Z),!1},[m,N]),de=E.useCallback(function(Z){Z.preventDefault(),Z.persist(),K(Z);var ge=H.current.filter(function(nt){return be.current&&be.current.contains(nt)}),Me=ge.indexOf(Z.target);Me!==-1&&ge.splice(Me,1),H.current=ge,!(ge.length>0)&&(re({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Rb(Z)&&h&&h(Z))},[be,h,N]),ie=E.useCallback(function(Z,ge){var Me=[],nt=[];Z.forEach(function(ct){var gi=bB(ct,J),qn=Rx(gi,2),ds=qn[0],Tt=qn[1],yt=vB(ct,o,r),En=Rx(yt,2),pi=En[0],hs=En[1],Gn=z?z(ct):null;if(ds&&pi&&!Gn)Me.push(ct);else{var xf=[Tt,hs];Gn&&(xf=xf.concat(Gn)),nt.push({file:ct,errors:xf.filter(function(Py){return Py})})}}),(!a&&Me.length>1||a&&l>=1&&Me.length>l)&&(Me.forEach(function(ct){nt.push({file:ct,errors:[yfe]})}),Me.splice(0)),re({acceptedFiles:Me,fileRejections:nt,isDragReject:nt.length>0,type:"setFiles"}),p&&p(Me,nt,ge),nt.length>0&&_&&_(nt,ge),Me.length>0&&v&&v(Me,ge)},[re,a,J,o,r,l,p,v,_,z]),Ee=E.useCallback(function(Z){Z.preventDefault(),Z.persist(),K(Z),H.current=[],Rb(Z)&&Promise.resolve(s(Z)).then(function(ge){wv(Z)&&!N||ie(ge,Z)}).catch(function(ge){return Q(ge)}),re({type:"reset"})},[s,ie,Q,N]),ke=E.useCallback(function(){if(De.current){re({type:"openDialog"}),ae();var Z={multiple:a,types:_e};window.showOpenFilePicker(Z).then(function(ge){return s(ge)}).then(function(ge){ie(ge,null),re({type:"closeDialog"})}).catch(function(ge){Afe(ge)?(xe(ge),re({type:"closeDialog"})):Ife(ge)?(De.current=!1,Ae.current?(Ae.current.value=null,Ae.current.click()):Q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Q(ge)});return}Ae.current&&(re({type:"openDialog"}),ae(),Ae.current.value=null,Ae.current.click())},[re,ae,xe,T,ie,Q,_e,a]),Ze=E.useCallback(function(Z){!be.current||!be.current.isEqualNode(Z.target)||(Z.key===" "||Z.key==="Enter"||Z.keyCode===32||Z.keyCode===13)&&(Z.preventDefault(),ke())},[be,ke]),tt=E.useCallback(function(){re({type:"focus"})},[]),Kt=E.useCallback(function(){re({type:"blur"})},[]),Bt=E.useCallback(function(){P||(Cfe()?setTimeout(ke,0):ke())},[P,ke]),rt=function(ge){return i?null:ge},B=function(ge){return O?null:rt(ge)},$=function(ge){return D?null:rt(ge)},K=function(ge){N&&ge.stopPropagation()},Ie=E.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ge=Z.refKey,Me=ge===void 0?"ref":ge,nt=Z.role,ct=Z.onKeyDown,gi=Z.onFocus,qn=Z.onBlur,ds=Z.onClick,Tt=Z.onDragEnter,yt=Z.onDragOver,En=Z.onDragLeave,pi=Z.onDrop,hs=yv(Z,Ofe);return An(An(FC({onKeyDown:B(fo(ct,Ze)),onFocus:B(fo(gi,tt)),onBlur:B(fo(qn,Kt)),onClick:rt(fo(ds,Bt)),onDragEnter:$(fo(Tt,se)),onDragOver:$(fo(yt,ue)),onDragLeave:$(fo(En,de)),onDrop:$(fo(pi,Ee)),role:typeof nt=="string"&&nt!==""?nt:"presentation"},Me,be),!i&&!O?{tabIndex:0}:{}),hs)}},[be,Ze,tt,Kt,Bt,se,ue,de,Ee,O,D,i]),Te=E.useCallback(function(Z){Z.stopPropagation()},[]),pe=E.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ge=Z.refKey,Me=ge===void 0?"ref":ge,nt=Z.onChange,ct=Z.onClick,gi=yv(Z,Mfe),qn=FC({accept:J,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:rt(fo(nt,Ee)),onClick:rt(fo(ct,Te)),tabIndex:-1},Me,Ae);return An(An({},qn),gi)}},[Ae,e,a,Ee,i]);return An(An({},ne),{},{isFocused:M&&!i,getRootProps:Ie,getInputProps:pe,rootRef:be,inputRef:Ae,open:rt(ke)})}function Hfe(n,t){switch(t.type){case"focus":return An(An({},n),{},{isFocused:!0});case"blur":return An(An({},n),{},{isFocused:!1});case"openDialog":return An(An({},zC),{},{isFileDialogActive:!0});case"closeDialog":return An(An({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return An(An({},n),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return An(An({},n),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return An({},zC);default:return n}}function aP(){}const $fe=()=>{const n=jo(m=>m.user),[t,e]=E.useState(),[i,s]=E.useState(),{data:r}=Ii(`${Ot("VITE_API_BASE_URL")}/user/get-user/${n.user._id}`,{method:"get",credentials:"include"}),o=xw(),a=Zt.object({name:Zt.string().min(3,"name must be at least 3 Charcrters long"),email:Zt.string().email(),bio:Zt.string().min(3,"Bio must be at least 3 Charcrters long")}),l=gc({resolver:bc(a),defaultValues:{name:"",email:"",bio:"",password:""}});E.useEffect(()=>{r&&r.success&&r.user&&l.reset({name:r.user.name,email:r.user.email,bio:r.user.bio||""})},[r]);async function u(m){try{const p=new FormData;p.append("file",t),p.append("data",JSON.stringify(m));const v=await fetch(`${Ot("VITE_API_BASE_URL")}/user/update-user/${r.user._id}`,{method:"put",credentials:"include",body:p}),_=await v.json();if(!v.ok)return gt("error",_.message);o(tS(_.user)),gt("success",_.message)}catch(p){gt("error",p.message)}}const h=m=>{const p=m[0],v=URL.createObjectURL(p);e(p),s(v)};return y.jsx(xr,{className:"max-w-screen-md mx-auto",children:y.jsxs(Uo,{children:[y.jsx("div",{className:"flex justify-center items-center mt-10",children:y.jsx(df,{onDrop:m=>h(m),children:({getRootProps:m,getInputProps:p})=>{var v;return y.jsxs("div",{...m(),children:[y.jsx("input",{...p()}),y.jsxs(kp,{className:"w-32 h-32 relative group ",children:[y.jsx(_u,{className:"rounded-full w-32 h-32",src:i||((v=r==null?void 0:r.user)==null?void 0:v.avatar)}),y.jsx("div",{className:" absolute z-50 w-full h-full top-0 left-0 items-center justify-center bg-black/20 border-2 border-violet-500 rounded-full group-hover:flex hidden cursor-pointer",children:y.jsx(SQ,{color:"#7c3aed"})})]})]})}})}),y.jsx("div",{children:y.jsx(pc,{...l,children:y.jsxs("form",{onSubmit:l.handleSubmit(u),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"name",render:({field:m})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Name"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Your Name",...m})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"email",render:({field:m})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Email"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Your Email",...m})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"bio",render:({field:m})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Bio"}),y.jsx(Vn,{children:y.jsx(hB,{placeholder:"Enter Bio",...m})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"password",render:({field:m})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Password"}),y.jsx(Vn,{children:y.jsx(Ai,{type:"password",placeholder:"Enter Your Password",...m})}),y.jsx(Nn,{})]})})}),y.jsx(hi,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"Save Changes"})]})})})]})})};var b1={exports:{}},Wfe=b1.exports,lP;function qfe(){return lP||(lP=1,function(n,t){(function(e,i,s){n.exports=s(),n.exports.default=s()})("slugify",Wfe,function(){var e=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),i=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function s(r,o){if(typeof r!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var a=i[o.locale]||{},l=o.replacement===void 0?"-":o.replacement,u=o.trim===void 0?!0:o.trim,h=r.normalize().split("").reduce(function(m,p){var v=a[p];return v===void 0&&(v=e[p]),v===void 0&&(v=p),v===l&&(v=" "),m+v.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(h=h.replace(/[^A-Za-z0-9\s]/g,"")),u&&(h=h.trim()),h=h.replace(/\s+/g,l),o.lower&&(h=h.toLowerCase()),h}return s.extend=function(r){Object.assign(e,r)},s})}(b1)),b1.exports}var Gfe=qfe();const Kw=mc(Gfe),Yfe=()=>{const n=Zt.object({name:Zt.string().min(3,"Name must be at least 3 Characters"),slug:Zt.string().min(3,"Slug must be at least 3 Characters")}),t=gc({resolver:bc(n),defaultValues:{name:"",slug:""}}),e=t.watch("name");E.useEffect(()=>{if(e){const s=Kw(e,{lower:!0});t.setValue("slug",s)}},[e]);async function i(s){try{const r=await fetch(`${Ot("VITE_API_BASE_URL")}/category/add`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await r.json();if(!r.ok)return gt("error",o.message);t.reset(),gt("success",o.message)}catch(r){gt("error",r.message)}}return y.jsx("div",{children:y.jsx(xr,{className:"pt-5 max-w-screen-md mx-auto ",children:y.jsx(Uo,{children:y.jsx(pc,{...t,children:y.jsxs("form",{onSubmit:t.handleSubmit(i),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:t.control,name:"name",render:({field:s})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Name"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Your Name",...s})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:t.control,name:"slug",render:({field:s})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Slug"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Slug",...s})}),y.jsx(Nn,{})]})})}),y.jsx(hi,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"Submit"})]})})})})})},Zfe=()=>{const{category_id:n}=aw(),{data:t}=Ii(`${Ot("VITE_API_BASE_URL")}/category/show/${n}`,{method:"get",credentials:"include"},[n]),e=Zt.object({name:Zt.string().min(3,"Name must be at least 3 Characters"),slug:Zt.string().min(3,"Slug must be at least 3 Characters")}),i=gc({resolver:bc(e),defaultValues:{name:"",slug:""}}),s=i.watch("name");E.useEffect(()=>{if(s){const o=Kw(s,{lower:!0});i.setValue("slug",o)}},[s]),E.useEffect(()=>{t&&(i.setValue("name",t.category.name),i.setValue("slug",t.category.slug))},[t]);async function r(o){try{const a=await fetch(`${Ot("VITE_API_BASE_URL")}/category/update/${n}`,{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),l=await a.json();if(!a.ok)return gt("error",l.message);gt("success",l.message)}catch(a){gt("error",a.message)}}return y.jsx("div",{children:y.jsx(xr,{className:"pt-5 max-w-screen-md mx-auto ",children:y.jsx(Uo,{children:y.jsx(pc,{...i,children:y.jsxs("form",{onSubmit:i.handleSubmit(r),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:i.control,name:"name",render:({field:o})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Name"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Your Name",...o})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:i.control,name:"slug",render:({field:o})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Slug"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Slug",...o})}),y.jsx(Nn,{})]})})}),y.jsx(hi,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"Submit"})]})})})})})};function Xw({className:n,...t}){return y.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:y.jsx("table",{"data-slot":"table",className:dt("w-full caption-bottom text-sm",n),...t})})}function Jw({className:n,...t}){return y.jsx("thead",{"data-slot":"table-header",className:dt("[&_tr]:border-b",n),...t})}function Qw({className:n,...t}){return y.jsx("tbody",{"data-slot":"table-body",className:dt("[&_tr:last-child]:border-0",n),...t})}function fr({className:n,...t}){return y.jsx("tr",{"data-slot":"table-row",className:dt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...t})}function ui({className:n,...t}){return y.jsx("th",{"data-slot":"table-head",className:dt("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t})}function Rn({className:n,...t}){return y.jsx("td",{"data-slot":"table-cell",className:dt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t})}function kB(n){return Qn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(n)}const ey=async n=>{if(confirm("Are you sure to delete this data?"))try{const e=await fetch(n,{method:"delete",credentials:"include"}),i=await e.json();if(!e.ok)throw new Error(e.statusText);return!0}catch(e){return console.log(e),!1}else return!1},Kfe=()=>{const[n,t]=E.useState(!1),{data:e,loading:i}=Ii(`${Ot("VITE_API_BASE_URL")}/category/all-category`,{method:"get",credentials:"include"},[n]),s=r=>{ey(`${Ot("VITE_API_BASE_URL")}/category/delete/${r}`)?(t(!n),gt("success","Data Deleted")):gt("error","Data not Deleted")};return i?y.jsx(sl,{}):y.jsx("div",{children:y.jsxs(xr,{children:[y.jsx(J9,{children:y.jsx("div",{children:y.jsx(hi,{asChild:!0,className:"bg-purple-600 hover:bg-purple-700",children:y.jsx(Hn,{to:NV,children:"Add Category"})})})}),y.jsx(Uo,{children:y.jsxs(Xw,{children:[y.jsx(Jw,{children:y.jsxs(fr,{children:[y.jsx(ui,{children:"Category"}),y.jsx(ui,{children:"Slug"}),y.jsx(ui,{children:"Action"})]})}),y.jsx(Qw,{children:e&&e.category.length>0?e.category.map(r=>y.jsxs(fr,{children:[y.jsx(Rn,{children:r.name}),y.jsx(Rn,{children:r.slug}),y.jsxs(Rn,{className:"flex gap-3",children:[y.jsx(hi,{asChild:!0,variant:"outline",className:" hover:bg-violet-600 hover:text-white",children:y.jsx(Hn,{to:LV(r._id),children:y.jsx(kB,{})})}),y.jsx(hi,{onClick:()=>s(r._id),variant:"outline",className:" hover:bg-violet-600 hover:text-white",children:y.jsx(yw,{})})]})]},r._id)):y.jsx(fr,{children:y.jsx(Rn,{colSpan:"3",children:"Data Not Found."})})})]})})]})})};function cP(n,[t,e]){return Math.min(e,Math.max(t,n))}function Xfe(n){const t=E.useRef({value:n,previous:n});return E.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var Jfe=[" ","Enter","ArrowUp","ArrowDown"],Qfe=[" ","Enter"],zp="Select",[ty,ny,eme]=jT(zp),[hf,SNe]=tl(zp,[eme,rf]),iy=rf(),[tme,wc]=hf(zp),[nme,ime]=hf(zp),CB=n=>{const{__scopeSelect:t,children:e,open:i,defaultOpen:s,onOpenChange:r,value:o,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:m,disabled:p,required:v,form:_}=n,k=iy(t),[C,T]=E.useState(null),[S,I]=E.useState(null),[P,O]=E.useState(!1),D=UT(u),[N=!1,j]=Ah({prop:i,defaultProp:s,onChange:r}),[z,J]=Ah({prop:o,defaultProp:a,onChange:l}),_e=E.useRef(null),ae=C?_||!!C.closest("form"):!0,[xe,be]=E.useState(new Set),Ae=Array.from(xe).map(Y=>Y.props.value).join(";");return y.jsx(AT,{...k,children:y.jsxs(tme,{required:v,scope:t,trigger:C,onTriggerChange:T,valueNode:S,onValueNodeChange:I,valueNodeHasChildren:P,onValueNodeHasChildrenChange:O,contentId:ko(),value:z,onValueChange:J,open:N,onOpenChange:j,dir:D,triggerPointerDownPosRef:_e,disabled:p,children:[y.jsx(ty.Provider,{scope:t,children:y.jsx(nme,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(Y=>{be(we=>new Set(we).add(Y))},[]),onNativeOptionRemove:E.useCallback(Y=>{be(we=>{const ne=new Set(we);return ne.delete(Y),ne})},[]),children:e})}),ae?y.jsxs(GB,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:m,value:z,onChange:Y=>J(Y.target.value),disabled:p,form:_,children:[z===void 0?y.jsx("option",{value:""}):null,Array.from(xe)]},Ae):null]})})};CB.displayName=zp;var EB="SelectTrigger",TB=E.forwardRef((n,t)=>{const{__scopeSelect:e,disabled:i=!1,...s}=n,r=iy(e),o=wc(EB,e),a=o.disabled||i,l=Jt(t,o.onTriggerChange),u=ny(e),h=E.useRef("touch"),[m,p,v]=YB(k=>{const C=u().filter(I=>!I.disabled),T=C.find(I=>I.value===o.value),S=ZB(C,k,T);S!==void 0&&o.onValueChange(S.value)}),_=k=>{a||(o.onOpenChange(!0),v()),k&&(o.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return y.jsx(IT,{asChild:!0,...r,children:y.jsx(Et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":qB(o.value)?"":void 0,...s,ref:l,onClick:Ye(s.onClick,k=>{k.currentTarget.focus(),h.current!=="mouse"&&_(k)}),onPointerDown:Ye(s.onPointerDown,k=>{h.current=k.pointerType;const C=k.target;C.hasPointerCapture(k.pointerId)&&C.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(_(k),k.preventDefault())}),onKeyDown:Ye(s.onKeyDown,k=>{const C=m.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&p(k.key),!(C&&k.key===" ")&&Jfe.includes(k.key)&&(_(),k.preventDefault())})})})});TB.displayName=EB;var SB="SelectValue",AB=E.forwardRef((n,t)=>{const{__scopeSelect:e,className:i,style:s,children:r,placeholder:o="",...a}=n,l=wc(SB,e),{onValueNodeHasChildrenChange:u}=l,h=r!==void 0,m=Jt(t,l.onValueNodeChange);return Bi(()=>{u(h)},[u,h]),y.jsx(Et.span,{...a,ref:m,style:{pointerEvents:"none"},children:qB(l.value)?y.jsx(y.Fragment,{children:o}):r})});AB.displayName=SB;var sme="SelectIcon",IB=E.forwardRef((n,t)=>{const{__scopeSelect:e,children:i,...s}=n;return y.jsx(Et.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});IB.displayName=sme;var rme="SelectPortal",RB=n=>y.jsx(wp,{asChild:!0,...n});RB.displayName=rme;var Ru="SelectContent",PB=E.forwardRef((n,t)=>{const e=wc(Ru,n.__scopeSelect),[i,s]=E.useState();if(Bi(()=>{s(new DocumentFragment)},[]),!e.open){const r=i;return r?bp.createPortal(y.jsx(OB,{scope:n.__scopeSelect,children:y.jsx(ty.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),r):null}return y.jsx(MB,{...n,ref:t})});PB.displayName=Ru;var Pr=10,[OB,yc]=hf(Ru),ome="SelectContentImpl",MB=E.forwardRef((n,t)=>{const{__scopeSelect:e,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:r,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:_,hideWhenDetached:k,avoidCollisions:C,...T}=n,S=wc(Ru,e),[I,P]=E.useState(null),[O,D]=E.useState(null),N=Jt(t,se=>P(se)),[j,z]=E.useState(null),[J,_e]=E.useState(null),ae=ny(e),[xe,be]=E.useState(!1),Ae=E.useRef(!1);E.useEffect(()=>{if(I)return mT(I)},[I]),fT();const Y=E.useCallback(se=>{const[ue,...de]=ae().map(ke=>ke.ref.current),[ie]=de.slice(-1),Ee=document.activeElement;for(const ke of se)if(ke===Ee||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===ue&&O&&(O.scrollTop=0),ke===ie&&O&&(O.scrollTop=O.scrollHeight),ke==null||ke.focus(),document.activeElement!==Ee))return},[ae,O]),we=E.useCallback(()=>Y([j,I]),[Y,j,I]);E.useEffect(()=>{xe&&we()},[xe,we]);const{onOpenChange:ne,triggerPointerDownPosRef:re}=S;E.useEffect(()=>{if(I){let se={x:0,y:0};const ue=ie=>{var Ee,ke;se={x:Math.abs(Math.round(ie.pageX)-(((Ee=re.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((ke=re.current)==null?void 0:ke.y)??0))}},de=ie=>{se.x<=10&&se.y<=10?ie.preventDefault():I.contains(ie.target)||ne(!1),document.removeEventListener("pointermove",ue),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",de,{capture:!0})}}},[I,ne,re]),E.useEffect(()=>{const se=()=>ne(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[ne]);const[M,oe]=YB(se=>{const ue=ae().filter(Ee=>!Ee.disabled),de=ue.find(Ee=>Ee.ref.current===document.activeElement),ie=ZB(ue,se,de);ie&&setTimeout(()=>ie.ref.current.focus())}),De=E.useCallback((se,ue,de)=>{const ie=!Ae.current&&!de;(S.value!==void 0&&S.value===ue||ie)&&(z(se),ie&&(Ae.current=!0))},[S.value]),Fe=E.useCallback(()=>I==null?void 0:I.focus(),[I]),H=E.useCallback((se,ue,de)=>{const ie=!Ae.current&&!de;(S.value!==void 0&&S.value===ue||ie)&&_e(se)},[S.value]),q=i==="popper"?jC:DB,Q=q===jC?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:_,hideWhenDetached:k,avoidCollisions:C}:{};return y.jsx(OB,{scope:e,content:I,viewport:O,onViewportChange:D,itemRefCallback:De,selectedItem:j,onItemLeave:Fe,itemTextRefCallback:H,focusSelectedItem:we,selectedItemText:J,position:i,isPositioned:xe,searchRef:M,children:y.jsx(fw,{as:pr,allowPinchZoom:!0,children:y.jsx(dw,{asChild:!0,trapped:S.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Ye(s,se=>{var ue;(ue=S.trigger)==null||ue.focus({preventScroll:!0}),se.preventDefault()}),children:y.jsx(vp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:y.jsx(q,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:se=>se.preventDefault(),...T,...Q,onPlaced:()=>be(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Ye(T.onKeyDown,se=>{const ue=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ue&&se.key.length===1&&oe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ie=ae().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ee=se.target,ke=ie.indexOf(Ee);ie=ie.slice(ke+1)}setTimeout(()=>Y(ie)),se.preventDefault()}})})})})})})});MB.displayName=ome;var ame="SelectItemAlignedPosition",DB=E.forwardRef((n,t)=>{const{__scopeSelect:e,onPlaced:i,...s}=n,r=wc(Ru,e),o=yc(Ru,e),[a,l]=E.useState(null),[u,h]=E.useState(null),m=Jt(t,N=>h(N)),p=ny(e),v=E.useRef(!1),_=E.useRef(!0),{viewport:k,selectedItem:C,selectedItemText:T,focusSelectedItem:S}=o,I=E.useCallback(()=>{if(r.trigger&&r.valueNode&&a&&u&&k&&C&&T){const N=r.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),z=r.valueNode.getBoundingClientRect(),J=T.getBoundingClientRect();if(r.dir!=="rtl"){const Ee=J.left-j.left,ke=z.left-Ee,Ze=N.left-ke,tt=N.width+Ze,Kt=Math.max(tt,j.width),Bt=window.innerWidth-Pr,rt=cP(ke,[Pr,Math.max(Pr,Bt-Kt)]);a.style.minWidth=tt+"px",a.style.left=rt+"px"}else{const Ee=j.right-J.right,ke=window.innerWidth-z.right-Ee,Ze=window.innerWidth-N.right-ke,tt=N.width+Ze,Kt=Math.max(tt,j.width),Bt=window.innerWidth-Pr,rt=cP(ke,[Pr,Math.max(Pr,Bt-Kt)]);a.style.minWidth=tt+"px",a.style.right=rt+"px"}const _e=p(),ae=window.innerHeight-Pr*2,xe=k.scrollHeight,be=window.getComputedStyle(u),Ae=parseInt(be.borderTopWidth,10),Y=parseInt(be.paddingTop,10),we=parseInt(be.borderBottomWidth,10),ne=parseInt(be.paddingBottom,10),re=Ae+Y+xe+ne+we,M=Math.min(C.offsetHeight*5,re),oe=window.getComputedStyle(k),De=parseInt(oe.paddingTop,10),Fe=parseInt(oe.paddingBottom,10),H=N.top+N.height/2-Pr,q=ae-H,Q=C.offsetHeight/2,se=C.offsetTop+Q,ue=Ae+Y+se,de=re-ue;if(ue<=H){const Ee=_e.length>0&&C===_e[_e.length-1].ref.current;a.style.bottom="0px";const ke=u.clientHeight-k.offsetTop-k.offsetHeight,Ze=Math.max(q,Q+(Ee?Fe:0)+ke+we),tt=ue+Ze;a.style.height=tt+"px"}else{const Ee=_e.length>0&&C===_e[0].ref.current;a.style.top="0px";const Ze=Math.max(H,Ae+k.offsetTop+(Ee?De:0)+Q)+de;a.style.height=Ze+"px",k.scrollTop=ue-H+k.offsetTop}a.style.margin=`${Pr}px 0`,a.style.minHeight=M+"px",a.style.maxHeight=ae+"px",i==null||i(),requestAnimationFrame(()=>v.current=!0)}},[p,r.trigger,r.valueNode,a,u,k,C,T,r.dir,i]);Bi(()=>I(),[I]);const[P,O]=E.useState();Bi(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const D=E.useCallback(N=>{N&&_.current===!0&&(I(),S==null||S(),_.current=!1)},[I,S]);return y.jsx(cme,{scope:e,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:D,children:y.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:y.jsx(Et.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DB.displayName=ame;var lme="SelectPopperPosition",jC=E.forwardRef((n,t)=>{const{__scopeSelect:e,align:i="start",collisionPadding:s=Pr,...r}=n,o=iy(e);return y.jsx(RT,{...o,...r,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jC.displayName=lme;var[cme,$S]=hf(Ru,{}),UC="SelectViewport",VB=E.forwardRef((n,t)=>{const{__scopeSelect:e,nonce:i,...s}=n,r=yc(UC,e),o=$S(UC,e),a=Jt(t,r.onViewportChange),l=E.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(ty.Slot,{scope:e,children:y.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ye(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const v=Math.abs(l.current-h.scrollTop);if(v>0){const _=window.innerHeight-Pr*2,k=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),T=Math.max(k,C);if(T<_){const S=T+v,I=Math.min(_,S),P=S-I;m.style.height=I+"px",m.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});VB.displayName=UC;var NB="SelectGroup",[ume,dme]=hf(NB),hme=E.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n,s=ko();return y.jsx(ume,{scope:e,id:s,children:y.jsx(Et.div,{role:"group","aria-labelledby":s,...i,ref:t})})});hme.displayName=NB;var LB="SelectLabel",fme=E.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n,s=dme(LB,e);return y.jsx(Et.div,{id:s.id,...i,ref:t})});fme.displayName=LB;var _v="SelectItem",[mme,BB]=hf(_v),FB=E.forwardRef((n,t)=>{const{__scopeSelect:e,value:i,disabled:s=!1,textValue:r,...o}=n,a=wc(_v,e),l=yc(_v,e),u=a.value===i,[h,m]=E.useState(r??""),[p,v]=E.useState(!1),_=Jt(t,S=>{var I;return(I=l.itemRefCallback)==null?void 0:I.call(l,S,i,s)}),k=ko(),C=E.useRef("touch"),T=()=>{s||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(mme,{scope:e,value:i,disabled:s,textId:k,isSelected:u,onItemTextChange:E.useCallback(S=>{m(I=>I||((S==null?void 0:S.textContent)??"").trim())},[]),children:y.jsx(ty.ItemSlot,{scope:e,value:i,disabled:s,textValue:h,children:y.jsx(Et.div,{role:"option","aria-labelledby":k,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:Ye(o.onFocus,()=>v(!0)),onBlur:Ye(o.onBlur,()=>v(!1)),onClick:Ye(o.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:Ye(o.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:Ye(o.onPointerDown,S=>{C.current=S.pointerType}),onPointerMove:Ye(o.onPointerMove,S=>{var I;C.current=S.pointerType,s?(I=l.onItemLeave)==null||I.call(l):C.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(o.onPointerLeave,S=>{var I;S.currentTarget===document.activeElement&&((I=l.onItemLeave)==null||I.call(l))}),onKeyDown:Ye(o.onKeyDown,S=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&S.key===" "||(Qfe.includes(S.key)&&T(),S.key===" "&&S.preventDefault())})})})})});FB.displayName=_v;var Gm="SelectItemText",zB=E.forwardRef((n,t)=>{const{__scopeSelect:e,className:i,style:s,...r}=n,o=wc(Gm,e),a=yc(Gm,e),l=BB(Gm,e),u=ime(Gm,e),[h,m]=E.useState(null),p=Jt(t,T=>m(T),l.onItemTextChange,T=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,T,l.value,l.disabled)}),v=h==null?void 0:h.textContent,_=E.useMemo(()=>y.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:k,onNativeOptionRemove:C}=u;return Bi(()=>(k(_),()=>C(_)),[k,C,_]),y.jsxs(y.Fragment,{children:[y.jsx(Et.span,{id:l.textId,...r,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bp.createPortal(r.children,o.valueNode):null]})});zB.displayName=Gm;var jB="SelectItemIndicator",UB=E.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n;return BB(jB,e).isSelected?y.jsx(Et.span,{"aria-hidden":!0,...i,ref:t}):null});UB.displayName=jB;var HC="SelectScrollUpButton",HB=E.forwardRef((n,t)=>{const e=yc(HC,n.__scopeSelect),i=$S(HC,n.__scopeSelect),[s,r]=E.useState(!1),o=Jt(t,i.onScrollButtonChange);return Bi(()=>{if(e.viewport&&e.isPositioned){let a=function(){const u=l.scrollTop>0;r(u)};const l=e.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),s?y.jsx(WB,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=e;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});HB.displayName=HC;var $C="SelectScrollDownButton",$B=E.forwardRef((n,t)=>{const e=yc($C,n.__scopeSelect),i=$S($C,n.__scopeSelect),[s,r]=E.useState(!1),o=Jt(t,i.onScrollButtonChange);return Bi(()=>{if(e.viewport&&e.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;r(h)};const l=e.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),s?y.jsx(WB,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=e;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});$B.displayName=$C;var WB=E.forwardRef((n,t)=>{const{__scopeSelect:e,onAutoScroll:i,...s}=n,r=yc("SelectScrollButton",e),o=E.useRef(null),a=ny(e),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),Bi(()=>{var h;const u=a().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),y.jsx(Et.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ye(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:Ye(s.onPointerMove,()=>{var u;(u=r.onItemLeave)==null||u.call(r),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:Ye(s.onPointerLeave,()=>{l()})})}),gme="SelectSeparator",pme=E.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n;return y.jsx(Et.div,{"aria-hidden":!0,...i,ref:t})});pme.displayName=gme;var WC="SelectArrow",bme=E.forwardRef((n,t)=>{const{__scopeSelect:e,...i}=n,s=iy(e),r=wc(WC,e),o=yc(WC,e);return r.open&&o.position==="popper"?y.jsx(PT,{...s,...i,ref:t}):null});bme.displayName=WC;function qB(n){return n===""||n===void 0}var GB=E.forwardRef((n,t)=>{const{value:e,...i}=n,s=E.useRef(null),r=Jt(t,s),o=Xfe(e);return E.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const m=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(m)}},[o,e]),y.jsx(OT,{asChild:!0,children:y.jsx("select",{...i,ref:r,defaultValue:e})})});GB.displayName="BubbleSelect";function YB(n){const t=Us(n),e=E.useRef(""),i=E.useRef(0),s=E.useCallback(o=>{const a=e.current+o;t(a),function l(u){e.current=u,window.clearTimeout(i.current),u!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),r=E.useCallback(()=>{e.current="",window.clearTimeout(i.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(i.current),[]),[e,s,r]}function ZB(n,t,e){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,r=e?n.indexOf(e):-1;let o=vme(n,Math.max(r,0));s.length===1&&(o=o.filter(u=>u!==e));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==e?l:void 0}function vme(n,t){return n.map((e,i)=>n[(t+i)%n.length])}var wme=CB,yme=TB,_me=AB,xme=IB,kme=RB,Cme=PB,Eme=VB,Tme=FB,Sme=zB,Ame=UB,Ime=HB,Rme=$B;function KB({...n}){return y.jsx(wme,{"data-slot":"select",...n})}function XB({...n}){return y.jsx(_me,{"data-slot":"select-value",...n})}function JB({className:n,children:t,...e}){return y.jsxs(yme,{"data-slot":"select-trigger",className:dt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e,children:[t,y.jsx(xme,{asChild:!0,children:y.jsx(vD,{className:"size-4 opacity-50"})})]})}function QB({className:n,children:t,position:e="popper",...i}){return y.jsx(kme,{children:y.jsxs(Cme,{"data-slot":"select-content",className:dt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:e,...i,children:[y.jsx(Pme,{}),y.jsx(Eme,{className:dt("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),y.jsx(Ome,{})]})})}function eF({className:n,children:t,...e}){return y.jsxs(Tme,{"data-slot":"select-item",className:dt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...e,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(Ame,{children:y.jsx(nZ,{className:"size-4"})})}),y.jsx(Sme,{children:t})]})}function Pme({className:n,...t}){return y.jsx(Ime,{"data-slot":"select-scroll-up-button",className:dt("flex cursor-default items-center justify-center py-1",n),...t,children:y.jsx(rZ,{className:"size-4"})})}function Ome({className:n,...t}){return y.jsx(Rme,{"data-slot":"select-scroll-down-button",className:dt("flex cursor-default items-center justify-center py-1",n),...t,children:y.jsx(vD,{className:"size-4"})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Mme(){const n={resolve:null,promise:null};return n.promise=new Promise(t=>{n.resolve=t}),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Dme(n){let t=null;return(...e)=>(t||(t={current:n(...e)}),t.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Ui=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function Vme(){const[n,t,e,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Ui[n>>0&255]+Ui[n>>8&255]+Ui[n>>16&255]+Ui[n>>24&255]+Ui[t>>0&255]+Ui[t>>8&255]+Ui[t>>16&255]+Ui[t>>24&255]+Ui[e>>0&255]+Ui[e>>8&255]+Ui[e>>16&255]+Ui[e>>24&255]+Ui[i>>0&255]+Ui[i>>8&255]+Ui[i>>16&255]+Ui[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Nme(n,t){const e=n.extraPlugins||[];return{...n,extraPlugins:[...e,...t.filter(i=>!e.includes(i))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function tF(n){return!!n&&/^\d+\.\d+\.\d+/.test(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nF(n){return n?["nightly","alpha","internal","nightly-","staging"].some(t=>n.includes(t)):!1}function Lme(n){return tF(n)||nF(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bme(n){if(!tF(n))throw new Error(`Invalid semantic version: ${n||"<blank>"}.`);const[t,e,i]=n.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(e,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Fme(n){if(nF(n))return 3;const{major:t}=Bme(n);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zme(){const{CKEDITOR_VERSION:n,CKEDITOR:t}=window;return Lme(n)?{source:t?"cdn":"npm",version:n}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jme(){const n=zme();return n?Fme(n.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iF(n,t){switch(t||(t=jme()||void 0),t){case 1:case 2:return n===void 0;case 3:return n==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ume(n,t){return function(i){iF(i.config.get("licenseKey"))||i.on("collectUsageData",(s,{setUsageData:r})=>{r(`integration.${n}`,t)})}}var Hme=Object.defineProperty,$me=(n,t,e)=>t in n?Hme(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,_s=(n,t,e)=>$me(n,typeof t!="symbol"?t+"":t,e);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const sF=class rF{constructor(t,e){_s(this,"_lifecycle"),_s(this,"_element"),_s(this,"_releaseLock",null),_s(this,"_value",null),_s(this,"_afterMountCallbacks",[]),_s(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),_s(this,"release",Dme(()=>{const{_releaseLock:i,_state:s,_element:r,_lifecycle:o}=this;s.mountingInProgress?s.mountingInProgress.then(()=>o.unmount({element:r,mountResult:this.value})).catch(a=>{console.error("Semaphore unmounting error:",a)}).then(i.resolve).then(()=>{this._value=null}):(s.destroyedBeforeInitialization=!0,i.resolve())})),this._element=t,this._lifecycle=e,this._lock()}get value(){return this._value}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(e=>e(t)),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:e,_afterMountCallbacks:i}=this;e?t(e):i.push(t)}_lock(){const{_semaphores:t}=rF,{_state:e,_element:i,_lifecycle:s}=this,r=t.get(i)||Promise.resolve(null),o=Mme();this._releaseLock=o;const a=r.then(()=>e.destroyedBeforeInitialization?Promise.resolve(void 0):(e.mountingInProgress=s.mount().then(l=>(l&&this.unsafeSetValue(l),l)),e.mountingInProgress)).then(async l=>{l&&s.afterMount&&await s.afterMount({element:i,mountResult:l})}).then(()=>o.promise).catch(l=>{console.error("Semaphore mounting error:",l)}).then(()=>{t.get(i)===a&&t.delete(i)});t.set(i,a)}};_s(sF,"_semaphores",new Map);let Wme=sF;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const qme="$__CKEditorReactContextMetadata";function Gme(n,t){return{...t,[qme]:n}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Yme=Ve.createContext(null),Zme=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),oF=n=>t=>Zme(t)&&t.status===n,uP=oF("initializing"),Kme=n=>oF("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Xme=Ume("react",{version:"9.5.0",frameworkVersion:Ve.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Jme(n){return iF(n.licenseKey)?n:Nme(n,[Xme])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Px="Lock from React integration (@ckeditor/ckeditor5-react)";class aF extends Ve.Component{constructor(t){super(t),_s(this,"domContainer",Ve.createRef()),_s(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[e]=t.split(".").map(Number);e>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:e,editorSemaphore:i}=this;return t.id!==e.id||t.disableWatchdog!==e.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:s})=>{this._shouldUpdateEditorData(e,t,s)&&s.data.set(t.data)}),"disabled"in t&&i.runAfterMount(({instance:s})=>{t.disabled?s.enableReadOnlyMode(Px):s.disableReadOnlyMode(Px)})),!1)}componentDidMount(){uP(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){uP(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new Wme(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:t})=>{const{onReady:e}=this.props;e&&this.domContainer.current!==null&&e(t.instance)},unmount:async({element:t,mountResult:e})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(e),t.innerHTML=""}finally{i&&i(e.instance)}}})}render(){return Ve.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=Kme(this.context)?new Qme(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),e={current:0};return t.setCreator(async(i,s)=>{var r;const{editorSemaphore:o}=this,{onAfterDestroy:a}=this.props;e.current>0&&a&&((r=o==null?void 0:o.value)!=null&&r.instance)&&a(o.value.instance);const l=await this._createEditor(i,s);return o&&e.current>0&&(o.unsafeSetValue({instance:l,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),e.current++,l}),t.on("error",(i,{error:s,causesRestart:r})=>{(this.props.onError||console.error)(s,{phase:"runtime",willEditorRestart:r})}),await t.create(this.domContainer.current,this._getConfig()).catch(i=>{(this.props.onError||console.error)(i,{phase:"initialization",willEditorRestart:!1})}),{watchdog:t,instance:t.editor}}_createEditor(t,e){const{contextItemMetadata:i}=this.props;return i&&(e=Gme(i,e)),this.props.editor.create(t,Jme(e)).then(s=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&s.enableReadOnlyMode(Px)}const r=s.model.document,o=s.editing.view.document;return r.on("change:data",a=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(a,s)}),o.on("focus",a=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(a,s)}),o.on("blur",a=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(a,s)}),s})}async _destroyEditor(t){const{watchdog:e,instance:i}=t;return new Promise((s,r)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(e)return await e.destroy(),s();if(i)return await i.destroy(),s();s()}catch(o){console.error(o),r(o)}})})}_shouldUpdateEditorData(t,e,i){return!(t.data===e.data||i.data.get()===e.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}_s(aF,"contextType",Yme);class Qme{constructor(t){_s(this,"_contextWatchdog"),_s(this,"_id"),_s(this,"_creator"),this._contextWatchdog=t,this._id=Vme()}setCreator(t){this._creator=t}create(t,e){return this._contextWatchdog.add({sourceElementOrData:t,config:e,creator:this._creator,id:this._id,type:"editor"})}on(t,e){this._contextWatchdog.on("itemError",(i,{itemId:s,error:r})=>{s===this._id&&e(null,{error:r,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lF(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}const ege=E.memo(E.forwardRef(({id:n,semaphore:t,rootName:e},i)=>{const s=E.useRef(null);return E.useEffect(()=>{let r,o;return t.runAfterMount(({instance:a})=>{if(!s.current)return;o=a;const{ui:l,model:u}=o,h=u.document.getRoot(e);h&&o.ui.getEditableElement(e)&&o.detachEditable(h),r=l.view.createEditable(e,s.current),l.addEditable(r),a.editing.view.forceRender()}),()=>{if(o&&o.state!=="destroyed"&&s.current){const a=o.model.document.getRoot(e);/* istanbul ignore else -- @preserve */a&&o.detachEditable(a)}}},[t.revision]),Ve.createElement("div",{key:t.revision,id:n,ref:lF(i,s)})}));ege.displayName="EditorEditable";const tge=E.forwardRef(({editor:n},t)=>{const e=E.useRef(null);return E.useEffect(()=>{const i=e.current;if(!n||!i)return;const s=n.ui.view.toolbar.element;return i.appendChild(s),()=>{i.contains(s)&&i.removeChild(s)}},[n&&n.id]),Ve.createElement("div",{ref:lF(e,t)})});tge.displayName="EditorToolbarWrapper";var cF=typeof global=="object"&&global&&global.Object===Object&&global,nge=typeof self=="object"&&self&&self.Object===Object&&self,no=cF||nge||Function("return this")(),Do=no.Symbol,uF=Object.prototype,ige=uF.hasOwnProperty,sge=uF.toString,Tm=Do?Do.toStringTag:void 0;function rge(n){var t=ige.call(n,Tm),e=n[Tm];try{n[Tm]=void 0;var i=!0}catch{}var s=sge.call(n);return i&&(t?n[Tm]=e:delete n[Tm]),s}var oge=Object.prototype,age=oge.toString;function lge(n){return age.call(n)}var cge="[object Null]",uge="[object Undefined]",dP=Do?Do.toStringTag:void 0;function _c(n){return n==null?n===void 0?uge:cge:dP&&dP in Object(n)?rge(n):lge(n)}function br(n){return n!=null&&typeof n=="object"}var dge="[object Symbol]";function sy(n){return typeof n=="symbol"||br(n)&&_c(n)==dge}function dF(n,t){for(var e=-1,i=n==null?0:n.length,s=Array(i);++e<i;)s[e]=t(n[e],e,n);return s}var as=Array.isArray,hP=Do?Do.prototype:void 0,fP=hP?hP.toString:void 0;function hF(n){if(typeof n=="string")return n;if(as(n))return dF(n,hF)+"";if(sy(n))return fP?fP.call(n):"";var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}var hge=/\s/;function fge(n){for(var t=n.length;t--&&hge.test(n.charAt(t)););return t}var mge=/^\s+/;function gge(n){return n&&n.slice(0,fge(n)+1).replace(mge,"")}function rn(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var mP=NaN,pge=/^[-+]0x[0-9a-f]+$/i,bge=/^0b[01]+$/i,vge=/^0o[0-7]+$/i,wge=parseInt;function gP(n){if(typeof n=="number")return n;if(sy(n))return mP;if(rn(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=rn(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=gge(n);var e=bge.test(n);return e||vge.test(n)?wge(n.slice(2),e?2:8):pge.test(n)?mP:+n}function $l(n){return n}var yge="[object AsyncFunction]",_ge="[object Function]",xge="[object GeneratorFunction]",kge="[object Proxy]";function Pu(n){if(!rn(n))return!1;var t=_c(n);return t==_ge||t==xge||t==yge||t==kge}var Ox=no["__core-js_shared__"],pP=function(){var n=/[^.]+$/.exec(Ox&&Ox.keys&&Ox.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Cge(n){return!!pP&&pP in n}var Ege=Function.prototype,Tge=Ege.toString;function zu(n){if(n!=null){try{return Tge.call(n)}catch{}try{return n+""}catch{}}return""}var Sge=/[\\^$.*+?()[\]{}|]/g,Age=/^\[object .+?Constructor\]$/,Ige=Function.prototype,Rge=Object.prototype,Pge=Ige.toString,Oge=Rge.hasOwnProperty,Mge=RegExp("^"+Pge.call(Oge).replace(Sge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dge(n){if(!rn(n)||Cge(n))return!1;var t=Pu(n)?Mge:Age;return t.test(zu(n))}function Vge(n,t){return n==null?void 0:n[t]}function ju(n,t){var e=Vge(n,t);return Dge(e)?e:void 0}var qC=ju(no,"WeakMap"),bP=Object.create,Nge=function(){function n(){}return function(t){if(!rn(t))return{};if(bP)return bP(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function Lge(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function fF(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}var Bge=800,Fge=16,zge=Date.now;function jge(n){var t=0,e=0;return function(){var i=zge(),s=Fge-(i-e);if(e=i,s>0){if(++t>=Bge)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Uge(n){return function(){return n}}var xv=function(){try{var n=ju(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Hge=xv?function(n,t){return xv(n,"toString",{configurable:!0,enumerable:!1,value:Uge(t),writable:!0})}:$l,$ge=jge(Hge);function Wge(n,t){for(var e=-1,i=n==null?0:n.length;++e<i&&t(n[e],e,n)!==!1;);return n}var qge=9007199254740991,Gge=/^(?:0|[1-9]\d*)$/;function ry(n,t){var e=typeof n;return t=t??qge,!!t&&(e=="number"||e!="symbol"&&Gge.test(n))&&n>-1&&n%1==0&&n<t}function jp(n,t,e){t=="__proto__"&&xv?xv(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Up(n,t){return n===t||n!==n&&t!==t}var Yge=Object.prototype,Zge=Yge.hasOwnProperty;function WS(n,t,e){var i=n[t];(!(Zge.call(n,t)&&Up(i,e))||e===void 0&&!(t in n))&&jp(n,t,e)}function ff(n,t,e,i){var s=!e;e||(e={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=void 0;l===void 0&&(l=n[a]),s?jp(e,a,l):WS(e,a,l)}return e}var vP=Math.max;function Kge(n,t,e){return t=vP(t===void 0?n.length-1:t,0),function(){for(var i=arguments,s=-1,r=vP(i.length-t,0),o=Array(r);++s<r;)o[s]=i[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=i[s];return a[t]=e(o),Lge(n,this,a)}}function Xge(n,t){return $ge(Kge(n,t,$l),n+"")}var Jge=9007199254740991;function qS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Jge}function mf(n){return n!=null&&qS(n.length)&&!Pu(n)}function Qge(n,t,e){if(!rn(e))return!1;var i=typeof t;return(i=="number"?mf(e)&&ry(t,e.length):i=="string"&&t in e)?Up(e[t],n):!1}function GS(n){return Xge(function(t,e){var i=-1,s=e.length,r=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(r=n.length>3&&typeof r=="function"?(s--,r):void 0,o&&Qge(e[0],e[1],o)&&(r=s<3?void 0:r,s=1),t=Object(t);++i<s;){var a=e[i];a&&n(t,a,i,r)}return t})}var epe=Object.prototype;function YS(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||epe;return n===e}function tpe(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}var npe="[object Arguments]";function wP(n){return br(n)&&_c(n)==npe}var mF=Object.prototype,ipe=mF.hasOwnProperty,spe=mF.propertyIsEnumerable,kv=wP(function(){return arguments}())?wP:function(n){return br(n)&&ipe.call(n,"callee")&&!spe.call(n,"callee")};function rpe(){return!1}var gF=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,yP=gF&&typeof qi=="object"&&qi&&!qi.nodeType&&qi,ope=yP&&yP.exports===gF,_P=ope?no.Buffer:void 0,ape=_P?_P.isBuffer:void 0,Gg=ape||rpe,lpe="[object Arguments]",cpe="[object Array]",upe="[object Boolean]",dpe="[object Date]",hpe="[object Error]",fpe="[object Function]",mpe="[object Map]",gpe="[object Number]",ppe="[object Object]",bpe="[object RegExp]",vpe="[object Set]",wpe="[object String]",ype="[object WeakMap]",_pe="[object ArrayBuffer]",xpe="[object DataView]",kpe="[object Float32Array]",Cpe="[object Float64Array]",Epe="[object Int8Array]",Tpe="[object Int16Array]",Spe="[object Int32Array]",Ape="[object Uint8Array]",Ipe="[object Uint8ClampedArray]",Rpe="[object Uint16Array]",Ppe="[object Uint32Array]",pn={};pn[kpe]=pn[Cpe]=pn[Epe]=pn[Tpe]=pn[Spe]=pn[Ape]=pn[Ipe]=pn[Rpe]=pn[Ppe]=!0;pn[lpe]=pn[cpe]=pn[_pe]=pn[upe]=pn[xpe]=pn[dpe]=pn[hpe]=pn[fpe]=pn[mpe]=pn[gpe]=pn[ppe]=pn[bpe]=pn[vpe]=pn[wpe]=pn[ype]=!1;function Ope(n){return br(n)&&qS(n.length)&&!!pn[_c(n)]}function ZS(n){return function(t){return n(t)}}var pF=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,sg=pF&&typeof qi=="object"&&qi&&!qi.nodeType&&qi,Mpe=sg&&sg.exports===pF,Mx=Mpe&&cF.process,Fh=function(){try{var n=sg&&sg.require&&sg.require("util").types;return n||Mx&&Mx.binding&&Mx.binding("util")}catch{}}(),xP=Fh&&Fh.isTypedArray,KS=xP?ZS(xP):Ope,Dpe=Object.prototype,Vpe=Dpe.hasOwnProperty;function bF(n,t){var e=as(n),i=!e&&kv(n),s=!e&&!i&&Gg(n),r=!e&&!i&&!s&&KS(n),o=e||i||s||r,a=o?tpe(n.length,String):[],l=a.length;for(var u in n)(t||Vpe.call(n,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||r&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ry(u,l)))&&a.push(u);return a}function vF(n,t){return function(e){return n(t(e))}}var Npe=vF(Object.keys,Object),Lpe=Object.prototype,Bpe=Lpe.hasOwnProperty;function Fpe(n){if(!YS(n))return Npe(n);var t=[];for(var e in Object(n))Bpe.call(n,e)&&e!="constructor"&&t.push(e);return t}function Hp(n){return mf(n)?bF(n):Fpe(n)}function zpe(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var jpe=Object.prototype,Upe=jpe.hasOwnProperty;function Hpe(n){if(!rn(n))return zpe(n);var t=YS(n),e=[];for(var i in n)i=="constructor"&&(t||!Upe.call(n,i))||e.push(i);return e}function gf(n){return mf(n)?bF(n,!0):Hpe(n)}var wF=GS(function(n,t){ff(t,gf(t),n)}),$pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wpe=/^\w*$/;function XS(n,t){if(as(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||sy(n)?!0:Wpe.test(n)||!$pe.test(n)||t!=null&&n in Object(t)}var Yg=ju(Object,"create");function qpe(){this.__data__=Yg?Yg(null):{},this.size=0}function Gpe(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var Ype="__lodash_hash_undefined__",Zpe=Object.prototype,Kpe=Zpe.hasOwnProperty;function Xpe(n){var t=this.__data__;if(Yg){var e=t[n];return e===Ype?void 0:e}return Kpe.call(t,n)?t[n]:void 0}var Jpe=Object.prototype,Qpe=Jpe.hasOwnProperty;function e0e(n){var t=this.__data__;return Yg?t[n]!==void 0:Qpe.call(t,n)}var t0e="__lodash_hash_undefined__";function n0e(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Yg&&t===void 0?t0e:t,this}function Ou(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Ou.prototype.clear=qpe;Ou.prototype.delete=Gpe;Ou.prototype.get=Xpe;Ou.prototype.has=e0e;Ou.prototype.set=n0e;function i0e(){this.__data__=[],this.size=0}function oy(n,t){for(var e=n.length;e--;)if(Up(n[e][0],t))return e;return-1}var s0e=Array.prototype,r0e=s0e.splice;function o0e(n){var t=this.__data__,e=oy(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():r0e.call(t,e,1),--this.size,!0}function a0e(n){var t=this.__data__,e=oy(t,n);return e<0?void 0:t[e][1]}function l0e(n){return oy(this.__data__,n)>-1}function c0e(n,t){var e=this.__data__,i=oy(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}function rl(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}rl.prototype.clear=i0e;rl.prototype.delete=o0e;rl.prototype.get=a0e;rl.prototype.has=l0e;rl.prototype.set=c0e;var Zg=ju(no,"Map");function u0e(){this.size=0,this.__data__={hash:new Ou,map:new(Zg||rl),string:new Ou}}function d0e(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function ay(n,t){var e=n.__data__;return d0e(t)?e[typeof t=="string"?"string":"hash"]:e.map}function h0e(n){var t=ay(this,n).delete(n);return this.size-=t?1:0,t}function f0e(n){return ay(this,n).get(n)}function m0e(n){return ay(this,n).has(n)}function g0e(n,t){var e=ay(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}function ol(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ol.prototype.clear=u0e;ol.prototype.delete=h0e;ol.prototype.get=f0e;ol.prototype.has=m0e;ol.prototype.set=g0e;var p0e="Expected a function";function JS(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(p0e);var e=function(){var i=arguments,s=t?t.apply(this,i):i[0],r=e.cache;if(r.has(s))return r.get(s);var o=n.apply(this,i);return e.cache=r.set(s,o)||r,o};return e.cache=new(JS.Cache||ol),e}JS.Cache=ol;var b0e=500;function v0e(n){var t=JS(n,function(i){return e.size===b0e&&e.clear(),i}),e=t.cache;return t}var w0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y0e=/\\(\\)?/g,_0e=v0e(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(w0e,function(e,i,s,r){t.push(s?r.replace(y0e,"$1"):i||e)}),t});function $p(n){return n==null?"":hF(n)}function ly(n,t){return as(n)?n:XS(n,t)?[n]:_0e($p(n))}function pf(n){if(typeof n=="string"||sy(n))return n;var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}function QS(n,t){t=ly(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[pf(t[e++])];return e&&e==i?n:void 0}function zh(n,t,e){var i=n==null?void 0:QS(n,t);return i===void 0?e:i}function yF(n,t){for(var e=-1,i=t.length,s=n.length;++e<i;)n[s+e]=t[e];return n}var e5=vF(Object.getPrototypeOf,Object),x0e="[object Object]",k0e=Function.prototype,C0e=Object.prototype,_F=k0e.toString,E0e=C0e.hasOwnProperty,T0e=_F.call(Object);function Lr(n){if(!br(n)||_c(n)!=x0e)return!1;var t=e5(n);if(t===null)return!0;var e=E0e.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&_F.call(e)==T0e}function xF(n,t,e){var i=-1,s=n.length;t<0&&(t=-t>s?0:s+t),e=e>s?s:e,e<0&&(e+=s),s=t>e?0:e-t>>>0,t>>>=0;for(var r=Array(s);++i<s;)r[i]=n[i+t];return r}function S0e(n,t,e){var i=n.length;return e=e===void 0?i:e,xF(n,t,e)}var A0e="\\ud800-\\udfff",I0e="\\u0300-\\u036f",R0e="\\ufe20-\\ufe2f",P0e="\\u20d0-\\u20ff",O0e=I0e+R0e+P0e,M0e="\\ufe0e\\ufe0f",D0e="\\u200d",V0e=RegExp("["+D0e+A0e+O0e+M0e+"]");function kF(n){return V0e.test(n)}function N0e(n){return n.split("")}var CF="\\ud800-\\udfff",L0e="\\u0300-\\u036f",B0e="\\ufe20-\\ufe2f",F0e="\\u20d0-\\u20ff",z0e=L0e+B0e+F0e,j0e="\\ufe0e\\ufe0f",U0e="["+CF+"]",GC="["+z0e+"]",YC="\\ud83c[\\udffb-\\udfff]",H0e="(?:"+GC+"|"+YC+")",EF="[^"+CF+"]",TF="(?:\\ud83c[\\udde6-\\uddff]){2}",SF="[\\ud800-\\udbff][\\udc00-\\udfff]",$0e="\\u200d",AF=H0e+"?",IF="["+j0e+"]?",W0e="(?:"+$0e+"(?:"+[EF,TF,SF].join("|")+")"+IF+AF+")*",q0e=IF+AF+W0e,G0e="(?:"+[EF+GC+"?",GC,TF,SF,U0e].join("|")+")",Y0e=RegExp(YC+"(?="+YC+")|"+G0e+q0e,"g");function Z0e(n){return n.match(Y0e)||[]}function K0e(n){return kF(n)?Z0e(n):N0e(n)}function X0e(n){return function(t){t=$p(t);var e=kF(t)?K0e(t):void 0,i=e?e[0]:t.charAt(0),s=e?S0e(e,1).join(""):t.slice(1);return i[n]()+s}}var RF=X0e("toUpperCase");function J0e(n,t,e,i){for(var s=-1,r=n==null?0:n.length;++s<r;)e=t(e,n[s],s,n);return e}function Q0e(n){return function(t){return n==null?void 0:n[t]}}var ebe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},tbe=Q0e(ebe),nbe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ibe="\\u0300-\\u036f",sbe="\\ufe20-\\ufe2f",rbe="\\u20d0-\\u20ff",obe=ibe+sbe+rbe,abe="["+obe+"]",lbe=RegExp(abe,"g");function cbe(n){return n=$p(n),n&&n.replace(nbe,tbe).replace(lbe,"")}var ube=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dbe(n){return n.match(ube)||[]}var hbe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function fbe(n){return hbe.test(n)}var PF="\\ud800-\\udfff",mbe="\\u0300-\\u036f",gbe="\\ufe20-\\ufe2f",pbe="\\u20d0-\\u20ff",bbe=mbe+gbe+pbe,OF="\\u2700-\\u27bf",MF="a-z\\xdf-\\xf6\\xf8-\\xff",vbe="\\xac\\xb1\\xd7\\xf7",wbe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ybe="\\u2000-\\u206f",_be=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",DF="A-Z\\xc0-\\xd6\\xd8-\\xde",xbe="\\ufe0e\\ufe0f",VF=vbe+wbe+ybe+_be,NF="[']",kP="["+VF+"]",kbe="["+bbe+"]",LF="\\d+",Cbe="["+OF+"]",BF="["+MF+"]",FF="[^"+PF+VF+LF+OF+MF+DF+"]",Ebe="\\ud83c[\\udffb-\\udfff]",Tbe="(?:"+kbe+"|"+Ebe+")",Sbe="[^"+PF+"]",zF="(?:\\ud83c[\\udde6-\\uddff]){2}",jF="[\\ud800-\\udbff][\\udc00-\\udfff]",nh="["+DF+"]",Abe="\\u200d",CP="(?:"+BF+"|"+FF+")",Ibe="(?:"+nh+"|"+FF+")",EP="(?:"+NF+"(?:d|ll|m|re|s|t|ve))?",TP="(?:"+NF+"(?:D|LL|M|RE|S|T|VE))?",UF=Tbe+"?",HF="["+xbe+"]?",Rbe="(?:"+Abe+"(?:"+[Sbe,zF,jF].join("|")+")"+HF+UF+")*",Pbe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Obe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mbe=HF+UF+Rbe,Dbe="(?:"+[Cbe,zF,jF].join("|")+")"+Mbe,Vbe=RegExp([nh+"?"+BF+"+"+EP+"(?="+[kP,nh,"$"].join("|")+")",Ibe+"+"+TP+"(?="+[kP,nh+CP,"$"].join("|")+")",nh+"?"+CP+"+"+EP,nh+"+"+TP,Obe,Pbe,LF,Dbe].join("|"),"g");function Nbe(n){return n.match(Vbe)||[]}function Lbe(n,t,e){return n=$p(n),t=t,t===void 0?fbe(n)?Nbe(n):dbe(n):n.match(t)||[]}var Bbe="[']",Fbe=RegExp(Bbe,"g");function zbe(n){return function(t){return J0e(Lbe(cbe(t).replace(Fbe,"")),n,"")}}function jbe(){this.__data__=new rl,this.size=0}function Ube(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function Hbe(n){return this.__data__.get(n)}function $be(n){return this.__data__.has(n)}var Wbe=200;function qbe(n,t){var e=this.__data__;if(e instanceof rl){var i=e.__data__;if(!Zg||i.length<Wbe-1)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new ol(i)}return e.set(n,t),this.size=e.size,this}function $r(n){var t=this.__data__=new rl(n);this.size=t.size}$r.prototype.clear=jbe;$r.prototype.delete=Ube;$r.prototype.get=Hbe;$r.prototype.has=$be;$r.prototype.set=qbe;function Gbe(n,t){return n&&ff(t,Hp(t),n)}function Ybe(n,t){return n&&ff(t,gf(t),n)}var $F=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,SP=$F&&typeof qi=="object"&&qi&&!qi.nodeType&&qi,Zbe=SP&&SP.exports===$F,AP=Zbe?no.Buffer:void 0,IP=AP?AP.allocUnsafe:void 0;function WF(n,t){if(t)return n.slice();var e=n.length,i=IP?IP(e):new n.constructor(e);return n.copy(i),i}function Kbe(n,t){for(var e=-1,i=n==null?0:n.length,s=0,r=[];++e<i;){var o=n[e];t(o,e,n)&&(r[s++]=o)}return r}function qF(){return[]}var Xbe=Object.prototype,Jbe=Xbe.propertyIsEnumerable,RP=Object.getOwnPropertySymbols,t5=RP?function(n){return n==null?[]:(n=Object(n),Kbe(RP(n),function(t){return Jbe.call(n,t)}))}:qF;function Qbe(n,t){return ff(n,t5(n),t)}var e1e=Object.getOwnPropertySymbols,GF=e1e?function(n){for(var t=[];n;)yF(t,t5(n)),n=e5(n);return t}:qF;function t1e(n,t){return ff(n,GF(n),t)}function YF(n,t,e){var i=t(n);return as(n)?i:yF(i,e(n))}function ZC(n){return YF(n,Hp,t5)}function n1e(n){return YF(n,gf,GF)}var KC=ju(no,"DataView"),XC=ju(no,"Promise"),JC=ju(no,"Set"),PP="[object Map]",i1e="[object Object]",OP="[object Promise]",MP="[object Set]",DP="[object WeakMap]",VP="[object DataView]",s1e=zu(KC),r1e=zu(Zg),o1e=zu(XC),a1e=zu(JC),l1e=zu(qC),Mr=_c;(KC&&Mr(new KC(new ArrayBuffer(1)))!=VP||Zg&&Mr(new Zg)!=PP||XC&&Mr(XC.resolve())!=OP||JC&&Mr(new JC)!=MP||qC&&Mr(new qC)!=DP)&&(Mr=function(n){var t=_c(n),e=t==i1e?n.constructor:void 0,i=e?zu(e):"";if(i)switch(i){case s1e:return VP;case r1e:return PP;case o1e:return OP;case a1e:return MP;case l1e:return DP}return t});var c1e=Object.prototype,u1e=c1e.hasOwnProperty;function d1e(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&u1e.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var Cv=no.Uint8Array;function n5(n){var t=new n.constructor(n.byteLength);return new Cv(t).set(new Cv(n)),t}function h1e(n,t){var e=t?n5(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var f1e=/\w*$/;function m1e(n){var t=new n.constructor(n.source,f1e.exec(n));return t.lastIndex=n.lastIndex,t}var NP=Do?Do.prototype:void 0,LP=NP?NP.valueOf:void 0;function g1e(n){return LP?Object(LP.call(n)):{}}function ZF(n,t){var e=t?n5(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var p1e="[object Boolean]",b1e="[object Date]",v1e="[object Map]",w1e="[object Number]",y1e="[object RegExp]",_1e="[object Set]",x1e="[object String]",k1e="[object Symbol]",C1e="[object ArrayBuffer]",E1e="[object DataView]",T1e="[object Float32Array]",S1e="[object Float64Array]",A1e="[object Int8Array]",I1e="[object Int16Array]",R1e="[object Int32Array]",P1e="[object Uint8Array]",O1e="[object Uint8ClampedArray]",M1e="[object Uint16Array]",D1e="[object Uint32Array]";function V1e(n,t,e){var i=n.constructor;switch(t){case C1e:return n5(n);case p1e:case b1e:return new i(+n);case E1e:return h1e(n,e);case T1e:case S1e:case A1e:case I1e:case R1e:case P1e:case O1e:case M1e:case D1e:return ZF(n,e);case v1e:return new i;case w1e:case x1e:return new i(n);case y1e:return m1e(n);case _1e:return new i;case k1e:return g1e(n)}}function KF(n){return typeof n.constructor=="function"&&!YS(n)?Nge(e5(n)):{}}var N1e="[object Map]";function L1e(n){return br(n)&&Mr(n)==N1e}var BP=Fh&&Fh.isMap,B1e=BP?ZS(BP):L1e,F1e="[object Set]";function z1e(n){return br(n)&&Mr(n)==F1e}var FP=Fh&&Fh.isSet,j1e=FP?ZS(FP):z1e,U1e=1,H1e=2,$1e=4,XF="[object Arguments]",W1e="[object Array]",q1e="[object Boolean]",G1e="[object Date]",Y1e="[object Error]",JF="[object Function]",Z1e="[object GeneratorFunction]",K1e="[object Map]",X1e="[object Number]",QF="[object Object]",J1e="[object RegExp]",Q1e="[object Set]",eve="[object String]",tve="[object Symbol]",nve="[object WeakMap]",ive="[object ArrayBuffer]",sve="[object DataView]",rve="[object Float32Array]",ove="[object Float64Array]",ave="[object Int8Array]",lve="[object Int16Array]",cve="[object Int32Array]",uve="[object Uint8Array]",dve="[object Uint8ClampedArray]",hve="[object Uint16Array]",fve="[object Uint32Array]",mn={};mn[XF]=mn[W1e]=mn[ive]=mn[sve]=mn[q1e]=mn[G1e]=mn[rve]=mn[ove]=mn[ave]=mn[lve]=mn[cve]=mn[K1e]=mn[X1e]=mn[QF]=mn[J1e]=mn[Q1e]=mn[eve]=mn[tve]=mn[uve]=mn[dve]=mn[hve]=mn[fve]=!0;mn[Y1e]=mn[JF]=mn[nve]=!1;function Eh(n,t,e,i,s,r){var o,a=t&U1e,l=t&H1e,u=t&$1e;if(e&&(o=s?e(n,i,s,r):e(n)),o!==void 0)return o;if(!rn(n))return n;var h=as(n);if(h){if(o=d1e(n),!a)return fF(n,o)}else{var m=Mr(n),p=m==JF||m==Z1e;if(Gg(n))return WF(n,a);if(m==QF||m==XF||p&&!s){if(o=l||p?{}:KF(n),!a)return l?t1e(n,Ybe(o,n)):Qbe(n,Gbe(o,n))}else{if(!mn[m])return s?n:{};o=V1e(n,m,a)}}r||(r=new $r);var v=r.get(n);if(v)return v;r.set(n,o),j1e(n)?n.forEach(function(C){o.add(Eh(C,t,e,C,n,r))}):B1e(n)&&n.forEach(function(C,T){o.set(T,Eh(C,t,e,T,n,r))});var _=u?l?n1e:ZC:l?gf:Hp,k=h?void 0:_(n);return Wge(k||n,function(C,T){k&&(T=C,C=n[T]),WS(o,T,Eh(C,t,e,T,n,r))}),o}var mve=4;function ez(n){return Eh(n,mve)}var gve=1,pve=4;function Er(n){return Eh(n,gve|pve)}var bve=1,vve=4;function i5(n,t){return t=typeof t=="function"?t:void 0,Eh(n,bve|vve,t)}var wve="__lodash_hash_undefined__";function yve(n){return this.__data__.set(n,wve),this}function _ve(n){return this.__data__.has(n)}function Ev(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new ol;++t<e;)this.add(n[t])}Ev.prototype.add=Ev.prototype.push=yve;Ev.prototype.has=_ve;function xve(n,t){for(var e=-1,i=n==null?0:n.length;++e<i;)if(t(n[e],e,n))return!0;return!1}function kve(n,t){return n.has(t)}var Cve=1,Eve=2;function tz(n,t,e,i,s,r){var o=e&Cve,a=n.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=r.get(n),h=r.get(t);if(u&&h)return u==t&&h==n;var m=-1,p=!0,v=e&Eve?new Ev:void 0;for(r.set(n,t),r.set(t,n);++m<a;){var _=n[m],k=t[m];if(i)var C=o?i(k,_,m,t,n,r):i(_,k,m,n,t,r);if(C!==void 0){if(C)continue;p=!1;break}if(v){if(!xve(t,function(T,S){if(!kve(v,S)&&(_===T||s(_,T,e,i,r)))return v.push(S)})){p=!1;break}}else if(!(_===k||s(_,k,e,i,r))){p=!1;break}}return r.delete(n),r.delete(t),p}function Tve(n){var t=-1,e=Array(n.size);return n.forEach(function(i,s){e[++t]=[s,i]}),e}function Sve(n){var t=-1,e=Array(n.size);return n.forEach(function(i){e[++t]=i}),e}var Ave=1,Ive=2,Rve="[object Boolean]",Pve="[object Date]",Ove="[object Error]",Mve="[object Map]",Dve="[object Number]",Vve="[object RegExp]",Nve="[object Set]",Lve="[object String]",Bve="[object Symbol]",Fve="[object ArrayBuffer]",zve="[object DataView]",zP=Do?Do.prototype:void 0,Dx=zP?zP.valueOf:void 0;function jve(n,t,e,i,s,r,o){switch(e){case zve:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case Fve:return!(n.byteLength!=t.byteLength||!r(new Cv(n),new Cv(t)));case Rve:case Pve:case Dve:return Up(+n,+t);case Ove:return n.name==t.name&&n.message==t.message;case Vve:case Lve:return n==t+"";case Mve:var a=Tve;case Nve:var l=i&Ave;if(a||(a=Sve),n.size!=t.size&&!l)return!1;var u=o.get(n);if(u)return u==t;i|=Ive,o.set(n,t);var h=tz(a(n),a(t),i,s,r,o);return o.delete(n),h;case Bve:if(Dx)return Dx.call(n)==Dx.call(t)}return!1}var Uve=1,Hve=Object.prototype,$ve=Hve.hasOwnProperty;function Wve(n,t,e,i,s,r){var o=e&Uve,a=ZC(n),l=a.length,u=ZC(t),h=u.length;if(l!=h&&!o)return!1;for(var m=l;m--;){var p=a[m];if(!(o?p in t:$ve.call(t,p)))return!1}var v=r.get(n),_=r.get(t);if(v&&_)return v==t&&_==n;var k=!0;r.set(n,t),r.set(t,n);for(var C=o;++m<l;){p=a[m];var T=n[p],S=t[p];if(i)var I=o?i(S,T,p,t,n,r):i(T,S,p,n,t,r);if(!(I===void 0?T===S||s(T,S,e,i,r):I)){k=!1;break}C||(C=p=="constructor")}if(k&&!C){var P=n.constructor,O=t.constructor;P!=O&&"constructor"in n&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(k=!1)}return r.delete(n),r.delete(t),k}var qve=1,jP="[object Arguments]",UP="[object Array]",Pb="[object Object]",Gve=Object.prototype,HP=Gve.hasOwnProperty;function Yve(n,t,e,i,s,r){var o=as(n),a=as(t),l=o?UP:Mr(n),u=a?UP:Mr(t);l=l==jP?Pb:l,u=u==jP?Pb:u;var h=l==Pb,m=u==Pb,p=l==u;if(p&&Gg(n)){if(!Gg(t))return!1;o=!0,h=!1}if(p&&!h)return r||(r=new $r),o||KS(n)?tz(n,t,e,i,s,r):jve(n,t,l,e,i,s,r);if(!(e&qve)){var v=h&&HP.call(n,"__wrapped__"),_=m&&HP.call(t,"__wrapped__");if(v||_){var k=v?n.value():n,C=_?t.value():t;return r||(r=new $r),s(k,C,e,i,r)}}return p?(r||(r=new $r),Wve(n,t,e,i,s,r)):!1}function Wp(n,t,e,i,s){return n===t?!0:n==null||t==null||!br(n)&&!br(t)?n!==n&&t!==t:Yve(n,t,e,i,Wp,s)}var Zve=1,Kve=2;function Xve(n,t,e,i){var s=e.length,r=s;if(n==null)return!r;for(n=Object(n);s--;){var o=e[s];if(o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++s<r;){o=e[s];var a=o[0],l=n[a],u=o[1];if(o[2]){if(l===void 0&&!(a in n))return!1}else{var h=new $r,m;if(!(m===void 0?Wp(u,l,Zve|Kve,i,h):m))return!1}}return!0}function nz(n){return n===n&&!rn(n)}function Jve(n){for(var t=Hp(n),e=t.length;e--;){var i=t[e],s=n[i];t[e]=[i,s,nz(s)]}return t}function iz(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}function Qve(n){var t=Jve(n);return t.length==1&&t[0][2]?iz(t[0][0],t[0][1]):function(e){return e===n||Xve(e,n,t)}}function ewe(n,t){return n!=null&&t in Object(n)}function twe(n,t,e){t=ly(t,n);for(var i=-1,s=t.length,r=!1;++i<s;){var o=pf(t[i]);if(!(r=n!=null&&e(n,o)))break;n=n[o]}return r||++i!=s?r:(s=n==null?0:n.length,!!s&&qS(s)&&ry(o,s)&&(as(n)||kv(n)))}function nwe(n,t){return n!=null&&twe(n,t,ewe)}var iwe=1,swe=2;function rwe(n,t){return XS(n)&&nz(t)?iz(pf(n),t):function(e){var i=zh(e,n);return i===void 0&&i===t?nwe(e,n):Wp(t,i,iwe|swe)}}function owe(n){return function(t){return t==null?void 0:t[n]}}function awe(n){return function(t){return QS(t,n)}}function lwe(n){return XS(n)?owe(pf(n)):awe(n)}function s5(n){return typeof n=="function"?n:n==null?$l:typeof n=="object"?as(n)?rwe(n[0],n[1]):Qve(n):lwe(n)}function cwe(n,t,e,i){for(var s=-1,r=n==null?0:n.length;++s<r;){var o=n[s];t(i,o,e(o),n)}return i}function uwe(n){return function(t,e,i){for(var s=-1,r=Object(t),o=i(t),a=o.length;a--;){var l=o[++s];if(e(r[l],l,r)===!1)break}return t}}var sz=uwe();function rz(n,t){return n&&sz(n,t,Hp)}function dwe(n,t){return function(e,i){if(e==null)return e;if(!mf(e))return n(e,i);for(var s=e.length,r=-1,o=Object(e);++r<s&&i(o[r],r,o)!==!1;);return e}}var oz=dwe(rz);function hwe(n,t,e,i){return oz(n,function(s,r,o){t(i,s,e(s),o)}),i}function fwe(n,t){return function(e,i){var s=as(e)?cwe:hwe,r=t?t():{};return s(e,n,s5(i),r)}}var Vx=function(){return no.Date.now()},mwe="Expected a function",gwe=Math.max,pwe=Math.min;function Es(n,t,e){var i,s,r,o,a,l,u=0,h=!1,m=!1,p=!0;if(typeof n!="function")throw new TypeError(mwe);t=gP(t)||0,rn(e)&&(h=!!e.leading,m="maxWait"in e,r=m?gwe(gP(e.maxWait)||0,t):r,p="trailing"in e?!!e.trailing:p);function v(D){var N=i,j=s;return i=s=void 0,u=D,o=n.apply(j,N),o}function _(D){return u=D,a=setTimeout(T,t),h?v(D):o}function k(D){var N=D-l,j=D-u,z=t-N;return m?pwe(z,r-j):z}function C(D){var N=D-l,j=D-u;return l===void 0||N>=t||N<0||m&&j>=r}function T(){var D=Vx();if(C(D))return S(D);a=setTimeout(T,k(D))}function S(D){return a=void 0,p&&i?v(D):(i=s=void 0,o)}function I(){a!==void 0&&clearTimeout(a),u=0,i=l=s=a=void 0}function P(){return a===void 0?o:S(Vx())}function O(){var D=Vx(),N=C(D);if(i=arguments,s=this,l=D,N){if(a===void 0)return _(l);if(m)return clearTimeout(a),a=setTimeout(T,t),v(l)}return a===void 0&&(a=setTimeout(T,t)),o}return O.cancel=I,O.flush=P,O}function QC(n,t,e){(e!==void 0&&!Up(n[t],e)||e===void 0&&!(t in n))&&jp(n,t,e)}function bwe(n){return br(n)&&mf(n)}function eE(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function vwe(n){return ff(n,gf(n))}function wwe(n,t,e,i,s,r,o){var a=eE(n,e),l=eE(t,e),u=o.get(l);if(u){QC(n,e,u);return}var h=r?r(a,l,e+"",n,t,o):void 0,m=h===void 0;if(m){var p=as(l),v=!p&&Gg(l),_=!p&&!v&&KS(l);h=l,p||v||_?as(a)?h=a:bwe(a)?h=fF(a):v?(m=!1,h=WF(l,!0)):_?(m=!1,h=ZF(l,!0)):h=[]:Lr(l)||kv(l)?(h=a,kv(a)?h=vwe(a):(!rn(a)||Pu(a))&&(h=KF(l))):m=!1}m&&(o.set(l,h),s(h,l,i,r,o),o.delete(l)),QC(n,e,h)}function r5(n,t,e,i,s){n!==t&&sz(t,function(r,o){if(s||(s=new $r),rn(r))wwe(n,t,o,e,r5,i,s);else{var a=i?i(eE(n,o),r,o+"",n,t,s):void 0;a===void 0&&(a=r),QC(n,o,a)}},gf)}var ywe=GS(function(n,t,e,i){r5(n,t,e,i)});function _we(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}var az=/[\\^$.*+?()[\]{}|]/g,xwe=RegExp(az.source);function cy(n){return n=$p(n),n&&xwe.test(n)?n.replace(az,"\\$&"):n}function kwe(n,t){var e=-1,i=mf(n)?Array(n.length):[];return oz(n,function(s,r,o){i[++e]=t(s,r,o)}),i}function Cwe(n,t){var e=as(n)?dF:kwe;return e(n,s5(t))}var Ewe=Object.prototype,Twe=Ewe.hasOwnProperty,Swe=fwe(function(n,t,e){Twe.call(n,e)?n[e].push(t):jp(n,e,[t])}),Awe="[object String]";function $P(n){return typeof n=="string"||!as(n)&&br(n)&&_c(n)==Awe}function Iwe(n,t){return t.length<2?n:QS(n,xF(t,0,-1))}function qa(n){return br(n)&&n.nodeType===1&&!Lr(n)}function jh(n,t){return Wp(n,t)}function Rwe(n,t,e){e=typeof e=="function"?e:void 0;var i=e?e(n,t):void 0;return i===void 0?Wp(n,t,void 0,e):!!i}function Pwe(n,t){var e={};return t=s5(t),rz(n,function(i,s,r){jp(e,s,t(i,s,r))}),e}var o5=GS(function(n,t,e){r5(n,t,e)});function Owe(n,t){return t=ly(t,n),n=Iwe(n,t),n==null||delete n[pf(_we(t))]}function Mwe(n,t,e,i){if(!rn(n))return n;t=ly(t,n);for(var s=-1,r=t.length,o=r-1,a=n;a!=null&&++s<r;){var l=pf(t[s]),u=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=o){var h=a[l];u=void 0,u===void 0&&(u=rn(h)?h:ry(t[s+1])?[]:{})}WS(a,l,u),a=a[l]}return n}function lz(n,t,e){return n==null?n:Mwe(n,t,e)}var Dwe=zbe(function(n,t,e){return n+(e?" ":"")+RF(t)}),Vwe="Expected a function";function Mu(n,t,e){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(Vwe);return rn(e)&&(i="leading"in e?!!e.leading:i,s="trailing"in e?!!e.trailing:s),Es(n,t,{leading:i,maxWait:t,trailing:s})}function Nwe(n,t){return n==null?!0:Owe(n,t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let tE;try{tE={window,document}}catch{/* istanbul ignore next -- @preserve */tE={window:{},document:{}}}var Pe=tE;function Lwe(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Zc=Lwe(),Ge={isMac:cz(Zc),isWindows:Bwe(Zc),isGecko:Fwe(Zc),isSafari:zwe(Zc),isiOS:jwe(Zc),isAndroid:Uwe(Zc),isBlink:Hwe(Zc),get isMediaForcedColors(){return Wwe()},features:{isRegExpUnicodePropertySupported:$we()}};function cz(n){return n.indexOf("macintosh")>-1}function Bwe(n){return n.indexOf("windows")>-1}function Fwe(n){return!!n.match(/gecko\/\d+/)}function zwe(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function jwe(n){return!!n.match(/iphone|ipad/i)||cz(n)&&navigator.maxTouchPoints>0}function Uwe(n){return n.indexOf("android")>-1}function Hwe(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function $we(){let n=!1;try{n="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}function Wwe(){return Pe.window.matchMedia?Pe.window.matchMedia("(forced-colors: active)").matches:!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uz(n,t,e,i){e=e||function(l,u){return l===u};const s=Array.isArray(n)?n:Array.prototype.slice.call(n),r=Array.isArray(t)?t:Array.prototype.slice.call(t),o=qwe(s,r,e);return i?Ywe(o,r.length):Gwe(r,o)}function qwe(n,t,e){const i=WP(n,t,e);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=qP(n,i),r=qP(t,i),o=WP(s,r,e),a=n.length-o,l=t.length-o;return{firstIndex:i,lastIndexOld:a,lastIndexNew:l}}function WP(n,t,e){for(let i=0;i<Math.max(n.length,t.length);i++)if(n[i]===void 0||t[i]===void 0||!e(n[i],t[i]))return i;return-1}function qP(n,t){return n.slice(t).reverse()}function Gwe(n,t){const e=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:r}=t;return r-i>0&&e.push({index:i,type:"insert",values:n.slice(i,r)}),s-i>0&&e.push({index:i+(r-i),type:"delete",howMany:s-i}),e}function Ywe(n,t){const{firstIndex:e,lastIndexOld:i,lastIndexNew:s}=n;if(e===-1)return Array(t).fill("equal");let r=[];return e>0&&(r=r.concat(Array(e).fill("equal"))),s-e>0&&(r=r.concat(Array(s-e).fill("insert"))),i-e>0&&(r=r.concat(Array(i-e).fill("delete"))),s<t&&(r=r.concat(Array(t-s).fill("equal"))),r}function rg(n,t,e){e=e||function(k,C){return k===C};const i=n.length,s=t.length;if(i>200||s>200||i+s>300)return rg.fastDiff(n,t,e,!0);let r,o;if(s<i){const k=n;n=t,t=k,r="delete",o="insert"}else r="insert",o="delete";const a=n.length,l=t.length,u=l-a,h={},m={};function p(k){const C=(m[k-1]!==void 0?m[k-1]:-1)+1,T=m[k+1]!==void 0?m[k+1]:-1,S=C>T?-1:1;h[k+S]&&(h[k]=h[k+S].slice(0)),h[k]||(h[k]=[]),h[k].push(C>T?r:o);let I=Math.max(C,T),P=I-k;for(;P<a&&I<l&&e(n[P],t[I]);)P++,I++,h[k].push("equal");return I}let v=0,_;do{for(_=-v;_<u;_++)m[_]=p(_);for(_=u+v;_>u;_--)m[_]=p(_);m[u]=p(u),v++}while(m[u]!==l);return h[u].slice(1)}rg.fastDiff=uz;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GP(){return function n(){n.called=!0}}class Ga{constructor(t,e){b(this,"source");b(this,"name");b(this,"path");b(this,"stop");b(this,"off");b(this,"return");this.source=t,this.name=e,this.path=[],this.stop=GP(),this.off=GP()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Hi=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function mi(){const[n,t,e,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Hi[n>>0&255]+Hi[n>>8&255]+Hi[n>>16&255]+Hi[n>>24&255]+Hi[t>>0&255]+Hi[t>>8&255]+Hi[t>>16&255]+Hi[t>>24&255]+Hi[e>>0&255]+Hi[e>>8&255]+Hi[e>>16&255]+Hi[e>>24&255]+Hi[i>>0&255]+Hi[i>>8&255]+Hi[i>>16&255]+Hi[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Bs={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function dz(n,t){const e=Bs.get(t.priority);let i=0,s=n.length;for(;i<s;){const r=i+s>>1;Bs.get(n[r].priority)<e?s=r:i=r+1}n.splice(i,0,t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Zwe="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class L extends Error{constructor(e,i,s){super(Xwe(e,s));b(this,"context");b(this,"data");this.name="CKEditorError",this.context=i,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const s=new L(e.message,i);throw s.stack=e.stack,s}}function ht(n,t){console.warn(...fz(n,t))}function Kwe(n,t){console.error(...fz(n,t))}function hz(n){return`
Read more: ${Zwe}#error-${n}`}function Xwe(n,t){const e=new WeakSet,s=t?` ${JSON.stringify(t,(o,a)=>{if(typeof a=="object"&&a!==null){if(e.has(a))return`[object ${a.constructor.name}]`;e.add(a)}return a})}`:"",r=hz(n);return n+s+r}function fz(n,t){const e=hz(n);return t?[n,t,e]:[n,e]}const mz="44.3.0",Jwe=new Date(2025,2,5);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new L("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=mz;const ih=Symbol("listeningTo"),nE=Symbol("emitterId"),fa=Symbol("delegations"),gz=Xt(Object);function Xt(n){if(!n)return gz;class t extends n{on(i,s,r){this.listenTo(this,i,s,r)}once(i,s,r){let o=!1;const a=(l,...u)=>{o||(o=!0,l.off(),s.call(this,l,...u))};this.listenTo(this,i,a,r)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,r,o={}){let a,l;this[ih]||(this[ih]={});const u=this[ih];Nx(i)||pz(i);const h=Nx(i);(a=u[h])||(a=u[h]={emitter:i,callbacks:{}}),(l=a.callbacks[s])||(l=a.callbacks[s]=[]),l.push(r),iye(this,i,s,r,o)}stopListening(i,s,r){const o=this[ih];let a=i&&Nx(i);const l=o&&a?o[a]:void 0,u=l&&s?l.callbacks[s]:void 0;if(!(!o||i&&!l||s&&!u))if(r)Lx(this,i,s,r),u.indexOf(r)!==-1&&(u.length===1?delete l.callbacks[s]:Lx(this,i,s,r));else if(u){for(;r=u.pop();)Lx(this,i,s,r);delete l.callbacks[s]}else if(l){for(s in l.callbacks)this.stopListening(i,s);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[ih]}}fire(i,...s){try{const r=i instanceof Ga?i:new Ga(this,i),o=r.name;let a=nye(this,o);if(r.path.push(this),a){a=a.slice();for(let u=0;u<a.length;u++){const h=a[u].callback;if(h.call(this,r,...s),r.off.called&&(delete r.off.called,this._removeEventListener(o,h)),r.stop.called)break}}const l=this[fa];if(l){const u=l.get(o),h=l.get("*");u&&YP(u,r,s),h&&YP(h,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(r,this)}}delegate(...i){return{to:(s,r)=>{this[fa]||(this[fa]=new Map),i.forEach(o=>{const a=this[fa].get(o);a?a.set(s,r):this[fa].set(o,new Map([[s,r]]))})}}}stopDelegating(i,s){if(this[fa])if(!i)this[fa].clear();else if(!s)this[fa].delete(i);else{const r=this[fa].get(i);r&&r.delete(s)}}_addEventListener(i,s,r){tye(this,i);const o=iE(this,i),a=Bs.get(r.priority),l={callback:s,priority:a};for(const u of o)dz(u,l)}_removeEventListener(i,s){const r=iE(this,i);for(const o of r)for(let a=0;a<o.length;a++)o[a].callback==s&&(o.splice(a,1),a--)}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Xt[n]=gz.prototype[n]});function Qwe(n,t){const e=n[ih];return e&&e[t]?e[t].emitter:null}function pz(n,t){n[nE]||(n[nE]=t||mi())}function Nx(n){return n[nE]}function bz(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function eye(){return{callbacks:[],childEvents:[]}}function tye(n,t){const e=bz(n);if(e[t])return;let i=t,s=null;const r=[];for(;i!==""&&!e[i];)e[i]=eye(),r.push(e[i]),s&&e[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of r)o.callbacks=e[i].callbacks.slice();e[i].childEvents.push(s)}}function iE(n,t){const e=bz(n)[t];if(!e)return[];let i=[e.callbacks];for(let s=0;s<e.childEvents.length;s++){const r=iE(n,e.childEvents[s]);i=i.concat(r)}return i}function nye(n,t){if(!n._events)return null;let e=t;do{const i=n._events[e];if(i&&i.callbacks&&i.callbacks.length)return i.callbacks;const s=e.lastIndexOf(":");e=s>-1?e.substring(0,s):""}while(e);return null}function YP(n,t,e){for(let[i,s]of n){s?typeof s=="function"&&(s=s(t.name)):s=t.name;const r=new Ga(t.source,s);r.path=[...t.path],i.fire(r,...e)}}function iye(n,t,e,i,s){t._addEventListener?t._addEventListener(e,i,s):n._addEventListener.call(t,e,i,s)}function Lx(n,t,e,i){t._removeEventListener?t._removeEventListener(e,i):n._removeEventListener.call(t,e,i)}const og=Symbol("observableProperties"),Kg=Symbol("boundObservables"),ag=Symbol("boundProperties"),Kc=Symbol("decoratedMethods"),ZP=Symbol("decoratedOriginal"),vz=Wt(Xt());function Wt(n){var e,i,s,r,o;if(!n)return vz;class t extends(o=n,r=og,s=Kc,i=ag,e=Kg,o){constructor(){super(...arguments);b(this,r);b(this,s);b(this,i);b(this,e)}set(u,h){if(rn(u)){Object.keys(u).forEach(p=>{this.set(p,u[p])},this);return}Bx(this);const m=this[og];if(u in this&&!m.has(u))throw new L("observable-set-cannot-override",this);Object.defineProperty(this,u,{enumerable:!0,configurable:!0,get(){return m.get(u)},set(p){const v=m.get(u);let _=this.fire(`set:${u}`,u,p,v);_===void 0&&(_=p),(v!==_||!m.has(u))&&(m.set(u,_),this.fire(`change:${u}`,u,_,v))}}),this[u]=h}bind(...u){if(!u.length||!KP(u))throw new L("observable-bind-wrong-properties",this);if(new Set(u).size!==u.length)throw new L("observable-bind-duplicate-properties",this);Bx(this);const h=this[ag];u.forEach(p=>{if(h.has(p))throw new L("observable-bind-rebind",this)});const m=new Map;return u.forEach(p=>{const v={property:p,to:[]};h.set(p,v),m.set(p,v)}),{to:sye,toMany:rye,_observable:this,_bindProperties:u,_to:[],_bindings:m}}unbind(...u){if(!this[og])return;const h=this[ag],m=this[Kg];if(u.length){if(!KP(u))throw new L("observable-unbind-wrong-properties",this);u.forEach(p=>{const v=h.get(p);v&&(v.to.forEach(([_,k])=>{const C=m.get(_),T=C[k];T.delete(v),T.size||delete C[k],Object.keys(C).length||(m.delete(_),this.stopListening(_,"change"))}),h.delete(p))})}else m.forEach((p,v)=>{this.stopListening(v,"change")}),m.clear(),h.clear()}decorate(u){Bx(this);const h=this[u];if(!h)throw new L("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:u});this.on(u,(m,p)=>{m.return=h.apply(this,p)}),this[u]=function(...m){return this.fire(u,m)},this[u][ZP]=h,this[Kc]||(this[Kc]=[]),this[Kc].push(u)}stopListening(u,h,m){if(!u&&this[Kc]){for(const p of this[Kc])this[p]=this[p][ZP];delete this[Kc]}super.stopListening(u,h,m)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Wt[n]=vz.prototype[n]});function Bx(n){n[og]||(Object.defineProperty(n,og,{value:new Map}),Object.defineProperty(n,Kg,{value:new Map}),Object.defineProperty(n,ag,{value:new Map}))}function sye(...n){const t=aye(...n),e=Array.from(this._bindings.keys()),i=e.length;if(!t.callback&&t.to.length>1)throw new L("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new L("observable-bind-to-extra-callback",this);t.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new L("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),uye(this._observable,this._to),cye(this),this._bindProperties.forEach(s=>{wz(this._observable,s)})}function rye(n,t,e){if(this._bindings.size>1)throw new L("observable-bind-to-many-not-one-binding",this);this.to(...oye(n,t),e)}function oye(n,t){const e=n.map(i=>[i,t]);return Array.prototype.concat.apply([],e)}function KP(n){return n.every(t=>typeof t=="string")}function aye(...n){if(!n.length)throw new L("observable-bind-to-parse-error",null);const t={to:[]};let e;return typeof n[n.length-1]=="function"&&(t.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")e.properties.push(i);else if(typeof i=="object")e={observable:i,properties:[]},t.to.push(e);else throw new L("observable-bind-to-parse-error",null)}),t}function lye(n,t,e,i){const s=n[Kg],r=s.get(e),o=r||{};o[i]||(o[i]=new Set),o[i].add(t),r||s.set(e,o)}function cye(n){let t;n._bindings.forEach((e,i)=>{n._to.forEach(s=>{t=s.properties[e.callback?0:n._bindProperties.indexOf(i)],e.to.push([s.observable,t]),lye(n._observable,e,s.observable,t)})})}function wz(n,t){const i=n[ag].get(t);let s;i.callback?s=i.callback.apply(n,i.to.map(r=>r[0][r[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(n,t)?n[t]=s:n.set(t,s)}function uye(n,t){t.forEach(e=>{const i=n[Kg];let s;i.get(e.observable)||n.listenTo(e.observable,"change",(r,o)=>{s=i.get(e.observable)[o],s&&s.forEach(a=>{wz(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class yz{constructor(){b(this,"_replacedElements");this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sE(n){let t=0;for(const e of n)t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $i(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)if(n[i]!=t[i])return i;return n.length==t.length?"same":n.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ws(n){return!!(n&&n[Symbol.iterator])}function Ei(n,t,e={},i=[]){const s=e&&e.xmlns,r=s?n.createElementNS(s,t):n.createElement(t);for(const o in e)r.setAttribute(o,e[o]);($P(i)||!Ws(i))&&(i=[i]);for(let o of i)$P(o)&&(o=n.createTextNode(o)),r.appendChild(o);return r}class _z{constructor(t,e){b(this,"_config");this._config=Object.create(null),e&&this.define(XP(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,i,s=!1){if(Lr(e)){this._setObjectToTarget(t,e,s);return}const r=e.split(".");e=r.pop();for(const o of r)Lr(t[o])||(t[o]=Object.create(null)),t=t[o];if(Lr(i)){Lr(t[e])||(t[e]=Object.create(null)),t=t[e],this._setObjectToTarget(t,i,s);return}s&&typeof t[e]<"u"||(t[e]=i)}_getFromSource(t,e){const i=e.split(".");e=i.pop();for(const s of i){if(!Lr(t[s])){t=null;break}t=t[s]}return t?XP(t[e]):void 0}_setObjectToTarget(t,e,i){Object.keys(e).forEach(s=>{this._setToTarget(t,s,e[s],i)})}}function XP(n){return i5(n,dye)}function dye(n){return qa(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cc(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Tv(n){const t=Object.prototype.toString.apply(n);return t=="[object Window]"||t=="[object global]"}const xz=us(Xt());function us(n){if(!n)return xz;class t extends n{listenTo(i,s,r,o={}){if(cc(i)||Tv(i)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(i,a)||new hye(i,a);this.listenTo(l,s,r,o)}else super.listenTo(i,s,r,o)}stopListening(i,s,r){if(cc(i)||Tv(i)){const o=this._getAllProxyEmitters(i);for(const a of o)this.stopListening(a,s,r)}else super.stopListening(i,s,r)}_getProxyEmitter(i,s){return Qwe(this,kz(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{us[n]=xz.prototype[n]});class hye extends Xt(){constructor(e,i){super();b(this,"_domNode");b(this,"_options");b(this,"_domListeners");pz(this,kz(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;this._domListeners[e]&&(!(i=this._events[e])||!i.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,i,s){this.attach(e),Xt().prototype._addEventListener.call(this,e,i,s)}_removeEventListener(e,i){Xt().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=s=>{this.fire(e,s)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function fye(n){return n["data-ck-expando"]||(n["data-ck-expando"]=mi())}function kz(n,t){let e=fye(n);for(const i of Object.keys(t).sort())t[i]&&(e+="-"+i);return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Cz(n){const t=[];let e=n;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mye(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ez(n){const t=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Tz(n){if(!n.target)return null;const t=n.target.ownerDocument,e=n.clientX,i=n.clientY;let s=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(e,i)?s=t.caretRangeFromPoint(e,i):n.rangeParent&&(s=t.createRange(),s.setStart(n.rangeParent,n.rangeOffset),s.collapse(!0)),s}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Pn(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uy(n){return Object.prototype.toString.apply(n)=="[object Range]"}function Sz(n){return!n||!n.parentNode||n.offsetParent===Pe.document.body?null:n.offsetParent}const Az=["top","right","bottom","left","width","height"];class Xe{constructor(t){b(this,"top");b(this,"right");b(this,"bottom");b(this,"left");b(this,"width");b(this,"height");b(this,"_source");const e=uy(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),rE(t)||e)if(e){const i=Xe.getDomRangeRects(t);Ob(this,Xe.getBoundingRect(i))}else Ob(this,t.getBoundingClientRect());else if(Tv(t)){const{innerWidth:i,innerHeight:s}=t;Ob(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else Ob(this,t)}clone(){return new Xe(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const i=new Xe(e);return i._source=this._source,i}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(JP(t))return e;let i=t,s=t.parentNode||t.commonAncestorContainer,r;for(;s&&!JP(s);){const o=gye(s)==="visible";i instanceof HTMLElement&&QP(i)==="absolute"&&(r=i);const a=QP(s);if(o||r&&(a==="relative"&&o||a!=="relative")){i=s,s=s.parentNode;continue}const l=new Xe(s),u=e.getIntersection(l);if(u)u.getArea()<e.getArea()&&(e=u);else return null;i=s,s=s.parentNode}return e}isEqual(t){for(const e of Az)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!!(e&&e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=Pe.window,i=this.clone().moveBy(t,e);if(rE(i._source)){const s=Sz(i._source);s&&pye(i,s)}return i}excludeScrollbarsAndBorders(){const t=this._source;let e,i,s;if(Tv(t))e=t.innerWidth-t.document.documentElement.clientWidth,i=t.innerHeight-t.document.documentElement.clientHeight,s=t.getComputedStyle(t.document.documentElement).direction;else{const r=Ez(t);e=t.offsetWidth-t.clientWidth-r.left-r.right,i=t.offsetHeight-t.clientHeight-r.top-r.bottom,s=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,s==="ltr"?this.right-=e:this.left+=e,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const e=[],i=Array.from(t.getClientRects());if(i.length)for(const s of i)e.push(new Xe(s));else{let s=t.startContainer;Pn(s)&&(s=s.parentNode);const r=new Xe(s.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of t)i++,e.left=Math.min(e.left,s.left),e.top=Math.min(e.top,s.top),e.right=Math.max(e.right,s.right),e.bottom=Math.max(e.bottom,s.bottom);return i==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Xe(e))}}function Ob(n,t){for(const e of Az)n[e]=t[e]}function JP(n){return rE(n)?n===n.ownerDocument.body:!1}function rE(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function QP(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function gye(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function pye(n,t){const e=new Xe(t),i=Ez(t);let s=0,r=0;s-=e.left,r-=e.top,s+=t.scrollLeft,r+=t.scrollTop,s-=i.left,r-=i.top,n.moveBy(s,r)}var cn;let qp=(cn=class{constructor(t,e){b(this,"_element");b(this,"_callback");cn._observerInstance||cn._createObserver(),this._element=t,this._callback=e,cn._addElementCallback(t,e),cn._observerInstance.observe(t)}get element(){return this._element}destroy(){cn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){cn._elementCallbacks||(cn._elementCallbacks=new Map);let i=cn._elementCallbacks.get(t);i||(i=new Set,cn._elementCallbacks.set(t,i)),i.add(e)}static _deleteElementCallback(t,e){const i=cn._getElementCallbacks(t);i&&(i.delete(e),i.size||(cn._elementCallbacks.delete(t),cn._observerInstance.unobserve(t))),cn._elementCallbacks&&!cn._elementCallbacks.size&&(cn._observerInstance=null,cn._elementCallbacks=null)}static _getElementCallbacks(t){return cn._elementCallbacks?cn._elementCallbacks.get(t):null}static _createObserver(){cn._observerInstance=new Pe.window.ResizeObserver(t=>{for(const e of t){const i=cn._getElementCallbacks(e.target);if(i)for(const s of i)s(e)}})}},b(cn,"_observerInstance",null),b(cn,"_elementCallbacks",null),cn);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function e8(n,t){n instanceof HTMLTextAreaElement&&(n.value=t),n.innerHTML=t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xc(n){return t=>t+n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ym(n){let t=0;for(;n.previousSibling;)n=n.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Iz(n,t,e){n.insertBefore(e,n.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lg(n){return n&&n.nodeType===Node.COMMENT_NODE}function Rz(n){try{Pe.document.createAttribute(n)}catch{return!1}return!0}function Vo(n){return n?Pn(n)?Vo(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function a5({element:n,target:t,positions:e,limiter:i,fitInViewport:s,viewportOffsetConfig:r}){Pu(t)&&(t=t()),Pu(i)&&(i=i());const o=Sz(n),a=bye(r),l=new Xe(n),u=t8(t,a);let h;if(!u||!a.getIntersection(u))return null;const m={targetRect:u,elementRect:l,positionedElementAncestor:o,viewportRect:a};if(!i&&!s)h=new Pz(e[0],m);else{if(i){const p=t8(i,a);p&&(m.limiterRect=p)}h=vye(e,m)}return h}function t8(n,t){const e=new Xe(n).getVisible();return e?e.getIntersection(t):null}function bye(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const t=new Xe(Pe.window);return t.top+=n.top,t.height-=n.top,t.bottom-=n.bottom,t.height-=n.bottom,t}function vye(n,t){const{elementRect:e}=t,i=e.getArea(),s=n.map(a=>new Pz(a,t)).filter(a=>!!a.name);let r=0,o=null;for(const a of s){const{limiterIntersectionArea:l,viewportIntersectionArea:u}=a;if(l===i)return a;const h=u**2+l**2;h>r&&(r=h,o=a)}return o}class Pz{constructor(t,e){b(this,"name");b(this,"config");b(this,"_positioningFunctionCoordinates");b(this,"_options");b(this,"_cachedRect");b(this,"_cachedAbsoluteRect");const i=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!i)return;const{left:s,top:r,name:o,config:a}=i;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:s,top:r},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function n8(n){const t=n.parentNode;t&&t.removeChild(n)}function Oz({target:n,viewportOffset:t=0,ancestorOffset:e=0,alignToTop:i,forceScroll:s}){const r=l5(n);let o=r,a=null;for(t=_ye(t);o;){let l;o==r?l=i8(n):l=i8(a),yye({parent:l,getRect:()=>Fx(n,o),alignToTop:i,ancestorOffset:e,forceScroll:s});let u=Fx(n,o);const h=Fx(l,o);if(u.height>h.height){const m=u.getIntersection(h);m&&(u=m)}if(wye({window:o,rect:u,viewportOffset:t,alignToTop:i,forceScroll:s}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function wye({window:n,rect:t,alignToTop:e,forceScroll:i,viewportOffset:s}){const r=t.clone().moveBy(0,s.bottom),o=t.clone().moveBy(0,-s.top),a=new Xe(n).excludeScrollbarsAndBorders(),l=[o,r],u=e&&i,h=l.every(k=>a.contains(k));let{scrollX:m,scrollY:p}=n;const v=m,_=p;u?p-=a.top-t.top+s.top:h||(Dz(o,a)?p-=a.top-t.top+s.top:Mz(r,a)&&(e?p+=t.top-a.top-s.top:p+=t.bottom-a.bottom+s.bottom)),h||(Vz(t,a)?m-=a.left-t.left+s.left:Nz(t,a)&&(m+=t.right-a.right+s.right)),(m!=v||p!==_)&&n.scrollTo(m,p)}function yye({parent:n,getRect:t,alignToTop:e,forceScroll:i,ancestorOffset:s=0,limiterElement:r}){const o=l5(n),a=e&&i;let l,u,h;const m=r||o.document.body;for(;n!=m;)u=t(),l=new Xe(n).excludeScrollbarsAndBorders(),h=l.contains(u),a?n.scrollTop-=l.top-u.top+s:h||(Dz(u,l)?n.scrollTop-=l.top-u.top+s:Mz(u,l)&&(e?n.scrollTop+=u.top-l.top-s:n.scrollTop+=u.bottom-l.bottom+s)),h||(Vz(u,l)?n.scrollLeft-=l.left-u.left+s:Nz(u,l)&&(n.scrollLeft+=u.right-l.right+s)),n=n.parentNode}function Mz(n,t){return n.bottom>t.bottom}function Dz(n,t){return n.top<t.top}function Vz(n,t){return n.left<t.left}function Nz(n,t){return n.right>t.right}function l5(n){return uy(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function i8(n){if(uy(n)){let t=n.commonAncestorContainer;return Pn(t)&&(t=t.parentNode),t}else return n.parentNode}function Fx(n,t){const e=l5(n),i=new Xe(n);if(e===t)return i;{let s=e;for(;s!=t;){const r=s.frameElement,o=new Xe(r).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),s=s.parent}}return i}function _ye(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const xye={ctrl:"",cmd:"",alt:"",shift:""},kye={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},s8={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},mt=Aye(),Cye=Object.fromEntries(Object.entries(mt).map(([n,t])=>{let e;return t in s8?e=s8[t]:e=n.charAt(0).toUpperCase()+n.slice(1),[t,e]}));function Du(n){let t;if(typeof n=="string"){if(t=mt[n.toLowerCase()],!t)throw new L("keyboard-unknown-key",null,{key:n})}else t=n.keyCode+(n.altKey?mt.alt:0)+(n.ctrlKey?mt.ctrl:0)+(n.shiftKey?mt.shift:0)+(n.metaKey?mt.cmd:0);return t}function dy(n){return typeof n=="string"&&(n=Iye(n)),n.map(t=>typeof t=="string"?Tye(t):t).reduce((t,e)=>e+t,0)}function Sv(n,t){let e=dy(n);const i=Ge.isMac||Ge.isiOS;return Object.entries(i?xye:kye).reduce((o,[a,l])=>((e&mt[a])!=0&&(e&=~mt[a],o+=l),o),"")+(e?Cye[e]:"")}function Eye(n){return n==mt.arrowright||n==mt.arrowleft||n==mt.arrowup||n==mt.arrowdown}function hy(n,t){const e=t==="ltr";switch(n){case mt.arrowleft:return e?"left":"right";case mt.arrowright:return e?"right":"left";case mt.arrowup:return"up";case mt.arrowdown:return"down"}}function Tye(n){if(n.endsWith("!"))return Du(n.slice(0,-1));const t=Du(n);return(Ge.isMac||Ge.isiOS)&&t==mt.ctrl?mt.cmd:t}function Sye(n,t){const e=hy(n,t);return e==="down"||e==="right"}function Aye(){const n={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const e=String.fromCharCode(t);n[e.toLowerCase()]=t}for(let t=48;t<=57;t++)n[t-48]=t;for(let t=112;t<=123;t++)n["f"+(t-111)]=t;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function Iye(n){return n.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Rye=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function oE(n){return Rye.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qt(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */Pe.window.CKEDITOR_TRANSLATIONS||(Pe.window.CKEDITOR_TRANSLATIONS={});function Pye(n,t,e=1,i){if(typeof e!="number")throw new L("translation-service-quantity-not-a-number",null,{quantity:e});const s=i||Pe.window.CKEDITOR_TRANSLATIONS,r=Dye(s);r===1&&(n=Object.keys(s)[0]);const o=t.id||t.string;if(r===0||!Mye(n,o,s))return e!==1?t.plural:t.string;const a=s[n].dictionary,l=s[n].getPluralForm||(m=>m===1?0:1),u=a[o];if(typeof u=="string")return u;const h=Number(l(e));return u[h]}function Oye(n){return Array.isArray(n)?n.reduce((t,e)=>o5(t,e)):n}function Mye(n,t,e){return!!e[n]&&!!e[n].dictionary[t]}function Dye(n){return Object.keys(n).length}class Vye{constructor({uiLanguage:t="en",contentLanguage:e,translations:i}={}){b(this,"uiLanguage");b(this,"uiLanguageDirection");b(this,"contentLanguage");b(this,"contentLanguageDirection");b(this,"t");b(this,"translations");this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=oE(this.uiLanguage),this.contentLanguageDirection=oE(this.contentLanguage),this.translations=Oye(i),this.t=(s,r)=>this._t(s,r)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=qt(e),typeof t=="string"&&(t={string:t});const s=!!t.plural?e[0]:1,r=Pye(this.uiLanguage,t,s,this.translations);return Nye(r,e)}}function Nye(n,t){return n.replace(/%(\d+)/g,(e,i)=>i<t.length?t[i]:e)}class kn extends Xt(){constructor(e={},i={}){super();b(this,"_items");b(this,"_itemMap");b(this,"_idProperty");b(this,"_bindToCollection");b(this,"_bindToExternalToInternalMap");b(this,"_bindToInternalToExternalMap");b(this,"_skippedIndexesFromExternal");const s=Ws(e);if(s||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new L("collection-add-item-invalid-index",this);let s=0;for(const r of e){const o=this._getItemIdBeforeAdding(r),a=i+s;this._items.splice(a,0,r),this._itemMap.set(o,r),this.fire("add",r,a),s++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else if(typeof e=="number")i=this._items[e];else throw new L("collection-get-invalid-arg",this);return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=this._idProperty,s=e[i];return s&&this._itemMap.has(s)}}getIndex(e){let i;return typeof e=="string"?i=this._itemMap.get(e):i=e,i?this._items.indexOf(i):-1}remove(e){const[i,s]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:s}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new L("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,s=(r,o,a)=>{const l=i._bindToCollection==this,u=i._bindToInternalToExternalMap.get(o);if(l&&u)this._bindToExternalToInternalMap.set(o,u),this._bindToInternalToExternalMap.set(u,o);else{const h=e(o);if(!h){this._skippedIndexesFromExternal.push(a);return}let m=a;for(const p of this._skippedIndexesFromExternal)a>p&&m--;for(const p of i._skippedIndexesFromExternal)m>=p&&m++;this._bindToExternalToInternalMap.set(o,h),this._bindToInternalToExternalMap.set(h,o),this.add(h,m);for(let p=0;p<i._skippedIndexesFromExternal.length;p++)m<=i._skippedIndexesFromExternal[p]&&i._skippedIndexesFromExternal[p]++}};for(const r of i)s(null,r,i.getIndex(r));this.listenTo(i,"add",s),this.listenTo(i,"remove",(r,o,a)=>{const l=this._bindToExternalToInternalMap.get(o);l&&this.remove(l),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((u,h)=>(a<h&&u.push(h-1),a>h&&u.push(h),u),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let s;if(i in e){if(s=e[i],typeof s!="string")throw new L("collection-add-invalid-id",this);if(this.get(s))throw new L("collection-add-item-already-exists",this)}else e[i]=s=mi();return s}_remove(e){let i,s,r,o=!1;const a=this._idProperty;if(typeof e=="string"?(s=e,r=this._itemMap.get(s),o=!r,r&&(i=this._items.indexOf(r))):typeof e=="number"?(i=e,r=this._items[i],o=!r,r&&(s=r[a])):(r=e,s=r[a],i=this._items.indexOf(r),o=i==-1||!this._itemMap.get(s)),o)throw new L("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const l=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(l),this.fire("remove",r,i),[r,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Qt(n){const t=n.next();return t.done?null:t.value}class Ct extends us(Wt()){constructor(){super();b(this,"_elements",new Set);b(this,"_externalViews",new Set);b(this,"_blurTimeout",null);this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(o8(e))this._addElement(e);else if(r8(e))this._addView(e);else{if(!e.element)throw new L("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){o8(e)?this._removeElement(e):r8(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new L("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const i=this.externalViews.find(s=>Lye(e,s));i?this._focus(i.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(s=>s.contains(document.activeElement))||this.externalViews.find(s=>s.focusTracker.isFocused&&!s.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function r8(n){return"focusTracker"in n&&n.focusTracker instanceof Ct}function o8(n){return qa(n)}function Lye(n,t){return a8(n,t)?!0:!!t.focusTracker.externalViews.find(e=>a8(n,e))}function a8(n,t){return!!t.element&&t.element.contains(document.activeElement)&&n.contains(t.element)}class Vt{constructor(){b(this,"_listener");this._listener=new(us())}listenTo(t){this._listener.listenTo(t,"keydown",(e,i)=>{this._listener.fire("_keydown:"+Du(i),i)})}set(t,e,i={}){const s=dy(t),r=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,a)=>{i.filter&&!i.filter(a)||(e(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0)},{priority:r})}press(t){return!!this._listener.fire("_keydown:"+Du(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bye(n){const t=new Map;for(const e in n)t.set(e,n[e]);return t}function Kr(n){return Ws(n)?new Map(n):Bye(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function l8(n,t,e){const i=n.length,s=t.length;for(let r=i-1;r>=e;r--)n[r+s]=n[r];for(let r=0;r<s;r++)n[e+r]=t[r]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function c5(n,t){let e;function i(...s){i.cancel(),e=setTimeout(()=>n(...s),t)}return i.cancel=()=>{clearTimeout(e)},i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function u5(n){try{if(!n.startsWith("ey"))return null;const t=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(t)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Fye(){const n=[];for(let t=0;t<256;t++){let e=t;for(let i=0;i<8;i++)e&1?e=3988292384^e>>>1:e=e>>>1;n[t]=e}return n}function zye(n){const t=Array.isArray(n)?n:[n],e=Fye();let i=-1;const s=t.map(r=>Array.isArray(r)?r.join(""):String(r)).join("");for(let r=0;r<s.length;r++){const o=s.charCodeAt(r);i=i>>>8^e[(i^o)&255]}return i=(i^-1)>>>0,i.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jye(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function Uye(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function Hye(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function d5(n,t){return Uye(n.charAt(t-1))&&Hye(n.charAt(t))}function h5(n,t){return jye(n.charAt(t))}const $ye=Wye();function Lz(n,t){const e=String(n).matchAll($ye);return Array.from(e).some(i=>i.index<t&&t<i.index+i[0].length)}function Wye(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+n.map(s=>s.source).join("|")+")",i=`${t}|${e}(?:${e})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Sm=new WeakMap;let c8=!1;function fy({view:n,element:t,text:e,isDirectHost:i=!0,keepOnFocus:s=!1}){const r=n.document;Sm.has(r)||(Sm.set(r,new Map),r.registerPostFixer(a=>zx(Sm.get(r),a)),r.on("change:isComposing",()=>{n.change(a=>zx(Sm.get(r),a))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(a,l,u)=>o(u)),t.placeholder?o(t.placeholder):e&&o(e),e&&Yye();function o(a){const l={text:a,isDirectHost:i,keepOnFocus:s,hostElement:i?t:null};Sm.get(r).set(t,l),n.change(u=>zx([[t,l]],u))}}function Bz(n,t){return t.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",t),!0)}function aE(n,t){return t.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",t),!0):!1}function Fz(n,t){if(!n.isAttached()||qye(n))return!1;const e=n.document,s=e.selection.anchor;return e.isComposing&&s&&s.parent===n?!1:t||!e.isFocused?!0:!!s&&s.parent!==n}function qye(n){for(const t of n.getChildren())if(!t.is("uiElement"))return!0;return!1}function zx(n,t){const e=[];let i=!1;for(const[s,r]of n)r.isDirectHost&&(e.push(s),u8(t,s,r)&&(i=!0));for(const[s,r]of n){if(r.isDirectHost)continue;const o=Gye(s);o&&(e.includes(o)||(r.hostElement=o,u8(t,s,r)&&(i=!0)))}return i}function u8(n,t,e){const{text:i,isDirectHost:s,hostElement:r}=e;let o=!1;return r.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,r),o=!0),(s||t.childCount==1)&&Fz(r,e.keepOnFocus)?Bz(n,r)&&(o=!0):aE(n,r)&&(o=!0),o}function Gye(n){if(n.childCount){const t=n.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}function Yye(){c8||ht("enableplaceholder-deprecated-text-option"),c8=!0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let Uu=class{is(){throw new Error("is() method is abstract")}},Hu=class extends Xt(Uu){constructor(e){super();b(this,"document");b(this,"parent");this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new L("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),r=e.getAncestors(i);let o=0;for(;s[o]==r[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),r=$i(i,s);switch(r){case"prefix":return!0;case"extension":return!1;default:return i[r]<s[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i,s){this.fire(`change:${e}`,i,s),this.parent&&this.parent._fireChange(e,i,s)}toJSON(){const e=ez(this);return delete e.parent,e}};Hu.prototype.is=function(n){return n==="node"||n==="view:node"};let Li=class lE extends Hu{constructor(e,i){super(e);b(this,"_textData");this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof lE?this===e||this.data===e.data:!1}_clone(){return new lE(this.document,this.data)}};Li.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};let _a=class extends Uu{constructor(e,i,s){super();b(this,"textNode");b(this,"data");b(this,"offsetInText");if(this.textNode=e,i<0||i>e.data.length)throw new L("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.data.length)throw new L("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}};_a.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class Av{constructor(){b(this,"_consumables",new Map)}add(t,e){let i;if(t.is("$text")||t.is("documentFragment")){this._consumables.set(t,!0);return}this._consumables.has(t)?i=this._consumables.get(t):(i=new Zye(t),this._consumables.set(t,i)),i.add(e?Zm(e):t._getConsumables())}test(t,e){const i=this._consumables.get(t);return i===void 0?null:t.is("$text")||t.is("documentFragment")?i:i.test(Zm(e))}consume(t,e){if(t.is("$text")||t.is("documentFragment"))return this.test(t,e)?(this._consumables.set(t,!1),!0):!1;const i=this._consumables.get(t);return i===void 0?!1:i.consume(Zm(e))}revert(t,e){const i=this._consumables.get(t);i!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):i.revert(Zm(e)))}static createFrom(t,e){if(e||(e=new Av),t.is("$text"))e.add(t);else if(t.is("element")||t.is("documentFragment")){e.add(t);for(const i of t.getChildren())Av.createFrom(i,e)}return e}}class Zye{constructor(t){b(this,"element");b(this,"_canConsumeName",null);b(this,"_attributes",new Map);this.element=t}add(t){t.name&&(this._canConsumeName=!0);for(const[e,i]of t.attributes)if(i){let s=this._attributes.get(e);(!s||typeof s=="boolean")&&(s=new Map,this._attributes.set(e,s)),s.set(i,!0)}else{if(e=="style"||e=="class")throw new L("viewconsumable-invalid-attribute",this);this._attributes.set(e,!0)}}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const[e,i]of t.attributes){const s=this._attributes.get(e);if(s===void 0)return null;if(s===!1)return!1;if(s!==!0){if(i){const r=s.get(i);if(r===void 0)return null;if(!r)return!1}else for(const r of s.values())if(!r)return!1}}return!0}consume(t){if(!this.test(t))return!1;t.name&&(this._canConsumeName=!1);for(const[e,i]of t.attributes){const s=this._attributes.get(e);if(typeof s=="boolean")for(const[r]of this.element._getConsumables(e,i).attributes)this._attributes.set(r,!1);else if(i)for(const[,r]of this.element._getConsumables(e,i).attributes)s.set(r,!1);else for(const r of s.keys())s.set(r,!1)}return!0}revert(t){t.name&&(this._canConsumeName=!0);for(const[e,i]of t.attributes){const s=this._attributes.get(e);if(s===!1){this._attributes.set(e,!0);continue}if(!(s===void 0||s===!0))if(i)s.get(i)===!1&&s.set(i,!0);else for(const r of s.keys())s.set(r,!0)}}}function Zm(n){const t=[];return"attributes"in n&&n.attributes&&jx(t,n.attributes),"classes"in n&&n.classes&&jx(t,n.classes,"class"),"styles"in n&&n.styles&&jx(t,n.styles,"style"),{name:n.name||!1,attributes:t}}function jx(n,t,e){if(typeof t=="string"){n.push(e?[e,t]:[t]);return}for(const i of t)Array.isArray(i)?n.push(i):n.push(e?[e,i]:[i])}class ls{constructor(...t){b(this,"_patterns",[]);this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const i of this._patterns){const s=this._isElementMatching(e,i);if(s)return{element:e,pattern:i,match:s}}return null}matchAll(...t){const e=[];for(const i of t)for(const s of this._patterns){const r=this._isElementMatching(i,s);r&&e.push({element:i,pattern:s,match:r})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t!="function"&&e&&!(e instanceof RegExp)?e:null}_isElementMatching(t,e){if(typeof e=="function"){const r=e(t);return!r||typeof r!="object"?r:Zm(r)}const i={};if(e.name&&(i.name=Kye(e.name,t.name),!i.name))return null;const s=[];return e.attributes&&!Xye(e.attributes,t,s)||e.classes&&!Jye(e.classes,t,s)||e.styles&&!Qye(e.styles,t,s)?null:(s.length&&(i.attributes=s),i)}}function Iv(n,t){return n===!0||n===t||n instanceof RegExp&&!!String(t).match(n)}function Kye(n,t){return n instanceof RegExp?!!t.match(n):n===t}function f5(n,t){if(Array.isArray(n))return n.map(i=>typeof i!="object"||i instanceof RegExp?t?[t,i,!0]:[i,!0]:((i.key===void 0||i.value===void 0)&&ht("matcher-pattern-missing-key-or-value",i),t?[t,i.key,i.value]:[i.key,i.value]));if(typeof n!="object"||n instanceof RegExp)return[t?[t,n,!0]:[n,!0]];const e=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(t?[t,i,n[i]]:[i,n[i]]);return e}function Xye(n,t,e){let i;return typeof n=="object"&&!(n instanceof RegExp)&&!Array.isArray(n)?(n.style!==void 0&&ht("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&ht("matcher-pattern-deprecated-attributes-class-key",n)):i=["class","style"],t._collectAttributesMatch(f5(n),e,i)}function Jye(n,t,e){return t._collectAttributesMatch(f5(n,"class"),e)}function Qye(n,t,e){return t._collectAttributesMatch(f5(n,"style"),e)}class Th{constructor(t){b(this,"_styles");b(this,"_cachedStyleNames",null);b(this,"_cachedExpandedStyleNames",null);b(this,"_styleProcessor");this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=t_e(t);for(const[i,s]of e)this._styleProcessor.toNormalizedForm(i,s,this._styles);return this}has(t){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);return Array.isArray(i)}set(t,e){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,rn(t))for(const[i,s]of Object.entries(t))this._styleProcessor.toNormalizedForm(i,s,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){for(const e of qt(t)){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const i=cE(e);Nwe(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!rn(this._styles[t]))return this._styles[t];const i=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);if(Array.isArray(i))return i[1]}getStyleNames(t=!1){return this.isEmpty?[]:t?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map(([e])=>e),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.getStyleNames())if(!t.has(e)||t.getAsString(e)!==this.getAsString(e))return!1;return!0}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const i of e)t.push(...this._styleProcessor.getReducedForm(i,this._styles));return t}_clone(){const t=new this.constructor(this._styleProcessor);return t.set(this.getNormalized()),t}_getTokensMatch(t,e){const i=[];for(const s of this.getStyleNames(!0))if(Iv(t,s)){if(e===!0){i.push(s);continue}const r=this.getAsString(s);Iv(e,r)&&i.push(s)}return i.length?i:void 0}_getConsumables(t){const e=[];if(t){e.push(t);for(const i of this._styleProcessor.getRelatedStyles(t))e.push(i)}else for(const i of this.getStyleNames()){for(const s of this._styleProcessor.getRelatedStyles(i))e.push(s);e.push(i)}return e}_canMergeFrom(t){for(const e of t.getStyleNames())if(this.has(e)&&this.getAsString(e)!==t.getAsString(e))return!1;return!0}_mergeFrom(t){for(const e of t.getStyleNames())this.has(e)||this.set(e,t.getAsString(e))}_isMatching(t){for(const e of t.getStyleNames())if(!this.has(e)||this.getAsString(e)!==t.getAsString(e))return!1;return!0}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const s=e.splice(0,e.length-1).join("."),r=zh(this._styles,s);if(!r)return;!Object.keys(r).length&&this.remove(s)}}class e_e{constructor(){b(this,"_normalizers");b(this,"_extractors");b(this,"_reducers");b(this,"_consumables");this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,i){if(rn(e)){Ux(i,cE(t),e);return}if(this._normalizers.has(t)){const s=this._normalizers.get(t),{path:r,value:o}=s(e);Ux(i,r,o)}else Ux(i,t,e)}getNormalized(t,e){if(!t)return o5({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const i=this._extractors.get(t);if(typeof i=="string")return zh(e,i);const s=i(t,e);if(s)return s}return zh(e,cE(t))}getReducedForm(t,e){const i=this.getNormalized(t,e);return i===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(i):[[t,i]]}getStyleNames(t){const e=new Set;for(const i of this._consumables.keys()){const s=this.getNormalized(i,t);s&&(typeof s!="object"||Object.keys(s).length)&&e.add(i)}for(const i of Object.keys(t))e.add(i);return Array.from(e)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const i of e)this._mapStyleNames(i,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function t_e(n){let t=null,e=0,i=0,s=null;const r=new Map;if(n==="")return r;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(t===null)switch(a){case":":s||(s=n.substr(e,o-e),i=o+1);break;case'"':case"'":t=a;break;case";":{const l=n.substr(i,o-i);s&&r.set(s.trim(),l.trim()),s=null,e=o+1;break}}else a===t&&(t=null)}return r}function cE(n){return n.replace("-",".")}function Ux(n,t,e){let i=e;rn(e)&&(i=o5({},zh(n,t),e)),lz(n,t,i)}class Hx{constructor(){b(this,"_set",new Set)}get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(t){return this._set.has(t)}keys(){return Array.from(this._set.keys())}setTo(t){this.clear();for(const e of t.split(/\s+/))e&&this._set.add(e);return this}set(t){for(const e of qt(t))e&&this._set.add(e)}remove(t){for(const e of qt(t))this._set.delete(e)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.keys())if(!t.has(e))return!1;return!0}_clone(){const t=new this.constructor;return t._set=new Set(this._set),t}_getTokensMatch(t){const e=[];if(t===!0){for(const i of this._set.keys())e.push(i);return e}if(typeof t=="string"){for(const i of t.split(/\s+/))if(this._set.has(i))e.push(i);else return;return e}for(const i of this._set.keys())i.match(t)&&e.push(i);return e.length?e:void 0}_getConsumables(t){return t?[t]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(t){for(const e of t._set.keys())this._set.has(e)||this._set.add(e)}_isMatching(t){for(const e of t._set.keys())if(!this._set.has(e))return!1;return!0}}let Ya=class zz extends Hu{constructor(e,i,s,r){super(e);b(this,"name");b(this,"_unsafeAttributesToRender",[]);b(this,"_attrs");b(this,"_children");b(this,"_customProperties",new Map);this.name=i,this._attrs=this._parseAttributes(s),this._children=[],r&&this._insertChild(0,r)}get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,i]of this._attrs.entries())yield[e,String(i)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,i){return this._attrs.has(e)?i!==void 0?Ud(this.name,e)||Am(this.name,e)?this._attrs.get(e).has(i):this._attrs.get(e)===i:!0:!1}isSimilar(e){if(!(e instanceof zz))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[i,s]of this._attrs){const r=e._attrs.get(i);if(r===void 0)return!1;if(typeof s=="string"||typeof r=="string"){if(r!==s)return!1}else if(!s.isSimilar(r))return!1}return!0}hasClass(...e){for(const i of e)if(!this._classes||!this._classes.has(i))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],i=e[Symbol.iterator]();return Object.assign(e,{next:i.next.bind(i)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const i of e)if(!this._styles||!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new ls(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",i=this._styles&&String(this._styles),s=Array.from(this._attrs).filter(([r])=>r!="style"&&r!="class").map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const r of this.getChildren())i.push(r._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this,{index:e});let s=0;const r=n_e(this.document,i);for(const o of r)o.parent!==null&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_setAttribute(e,i,s=!0){if(this._fireChange("attributes",this),Ud(this.name,e)||Am(this.name,e)){let r=this._attrs.get(e);r||(r=Ud(this.name,e)?new Th(this.document.stylesProcessor):new Hx,this._attrs.set(e,r)),s?r.setTo(String(i)):Ud(this.name,e)?Array.isArray(i)?r.set(i[0],i[1]):r.set(i):r.set(typeof i=="string"?i.split(/\s+/):i)}else this._attrs.set(e,String(i))}_removeAttribute(e,i){if(this._fireChange("attributes",this),i!==void 0&&(Ud(this.name,e)||Am(this.name,e))){const s=this._attrs.get(e);return s?(Am(this.name,e)&&typeof i=="string"&&(i=i.split(/\s+/)),s.remove(i),s.isEmpty?this._attrs.delete(e):!1):!1}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,i){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,i],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,i,s){for(const[r,o,a]of e){let l=!1,u=!1;for(const[h,m]of this._attrs)if(!(s&&s.includes(h)||!Iv(r,h)))if(l=!0,typeof m=="string"){if(Iv(o,m))i.push([h]),u=!0;else if(!(r instanceof RegExp))return!1}else{const p=m._getTokensMatch(o,a||!0);if(p){u=!0;for(const v of p)i.push([h,v])}else if(!(r instanceof RegExp))return!1}if(!l||!u)return!1}return!0}_getConsumables(e,i){const s=[];if(e){const r=this._attrs.get(e);if(r!==void 0)if(typeof r=="string")s.push([e]);else for(const o of r._getConsumables(i))s.push([e,o])}else for(const[r,o]of this._attrs)if(typeof o=="string")s.push([r]);else for(const a of o._getConsumables())s.push([r,a]);return{name:!e,attributes:s}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[i,s]of e._attrs){const r=this._attrs.get(i);if(r!==void 0){if(typeof r=="string"||typeof s=="string"){if(r!==s)return!1}else if(!r._canMergeFrom(s))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[i,s]of e._attrs){const r=this._attrs.get(i);r===void 0||typeof r=="string"||typeof s=="string"?this._setAttribute(i,s):r._mergeFrom(s)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[i,s]of e._attrs){const r=this._attrs.get(i);if(r===void 0)return!1;if(typeof r=="string"||typeof s=="string"){if(r!==s)return!1}else if(!r._isMatching(s))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[i,s]of e._attrs){const r=this._attrs.get(i);typeof r=="string"||typeof s=="string"?this._attrs.delete(i):(r.remove(s.keys()),r.isEmpty&&this._attrs.delete(i))}}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const i=Kr(e);for(const[s,r]of i)if(r===null)i.delete(s);else if(Ud(this.name,s)){const o=r instanceof Th?r._clone():new Th(this.document.stylesProcessor).setTo(String(r));i.set(s,o)}else if(Am(this.name,s)){const o=r instanceof Hx?r._clone():new Hx().setTo(String(r));i.set(s,o)}else typeof r!="string"&&i.set(s,String(r));return i}};Ya.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function n_e(n,t){if(typeof t=="string")return[new Li(n,t)];Ws(t)||(t=[t]);const e=[];for(const i of t)typeof i=="string"?e.push(new Li(n,i)):i instanceof _a?e.push(new Li(n,i.data)):e.push(i);return e}function Am(n,t){return t=="class"||n=="a"&&t=="rel"}function Ud(n,t){return t=="style"}class Xg extends Ya{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=i_e}}Xg.prototype.is=function(n,t){return t?t===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function i_e(){const n=[...this.getChildren()],t=n[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of n)if(!e.is("uiElement"))return null;return this.childCount}class my extends Wt(Xg){constructor(t,e,i,s){super(t,e,i,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",r=>r&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}my.prototype.is=function(n,t){return t?t===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const d8=Symbol("rootName");class jz extends my{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(d8)}set rootName(t){this._setCustomProperty(d8,t)}set _name(t){this.name=t}}jz.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};let cu=class{constructor(t={}){b(this,"direction");b(this,"boundaries");b(this,"singleCharacters");b(this,"shallow");b(this,"ignoreElementEnd");b(this,"_position");b(this,"_boundaryStartParent");b(this,"_boundaryEndParent");if(!t.boundaries&&!t.startPosition)throw new L("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new L("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=Re._createAt(t.startPosition):this._position=Re._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,i;do i=this.position,e=this.next();while(!e.done&&t(e.value));e.done||(this._position=i)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,i=t.parent;if(i.parent===null&&t.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(i&&i.is("view:$text")){if(t.isAtEnd)return this._position=Re._createAfter(i),this._next();s=i.data[t.offset]}else s=i.getChild(t.offset);if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-t.offset;const o=new _a(i,t.offset,r);return t.offset+=r,this._position=t,this._formatReturnValue("text",o,e,t,r)}if(s&&s.is("view:element")){if(!this.shallow)t=new Re(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,this._formatReturnValue("elementStart",s,e,t,1)}if(s&&s.is("view:$text")){if(this.singleCharacters)return t=new Re(s,0),this._position=t,this._next();let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new _a(s,0,r),t=Re._createAfter(o)):(o=new _a(s,0,s.data.length),t.offset++),this._position=t,this._formatReturnValue("text",o,e,t,r)}return t=Re._createAfter(i),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,e,t)}_previous(){let t=this.position.clone();const e=this.position,i=t.parent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(i.is("view:$text")){if(t.isAtStart)return this._position=Re._createBefore(i),this._previous();s=i.data[t.offset-1]}else s=i.getChild(t.offset-1);if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const a=i===this._boundaryStartParent?this.boundaries.start.offset:0;r=t.offset-a}t.offset-=r;const o=new _a(i,t.offset,r);return this._position=t,this._formatReturnValue("text",o,e,t,r)}if(s&&s.is("view:element"))return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",s,e,t,1)):(t=new Re(s,s.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,e,t));if(s&&s.is("view:$text")){if(this.singleCharacters)return t=new Re(s,s.data.length),this._position=t,this._previous();let r=s.data.length,o;if(s==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new _a(s,a,s.data.length-a),r=o.data.length,t=Re._createBefore(o)}else o=new _a(s,0,s.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",o,e,t,r)}return t=Re._createBefore(i),this._position=t,this._formatReturnValue("elementStart",i,e,t,1)}_formatReturnValue(t,e,i,s,r){return e.is("view:$textProxy")&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=Re._createAfter(e.textNode),this._position=s):i=Re._createAfter(e.textNode)),e.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=Re._createBefore(e.textNode),this._position=s):i=Re._createBefore(e.textNode))),{done:!1,value:{type:t,item:e,previousPosition:i,nextPosition:s,length:r}}}},Re=class ba extends Uu{constructor(e,i){super();b(this,"parent");b(this,"offset");this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof my);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const i=ba._createAt(this),s=i.offset+e;return i.offset=s<0?0:s,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new cu(i);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),s.push(e.offset);const r=$i(i,s);switch(r){case"prefix":return"before";case"extension":return"after";default:return i[r]<s[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new cu(e)}clone(){return new ba(this.parent,this.offset)}static _createAt(e,i){if(e instanceof ba)return new this(e.parent,e.offset);{const s=e;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new L("view-createpositionat-offset-required",s)}return new ba(s,i)}}static _createAfter(e){if(e.is("$textProxy"))return new ba(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new L("view-position-after-root",e,{root:e});return new ba(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new ba(e.textNode,e.offsetInText);if(!e.parent)throw new L("view-position-before-root",e,{root:e});return new ba(e.parent,e.index)}};Re.prototype.is=function(n){return n==="position"||n==="view:position"};let vt=class Ll extends Uu{constructor(e,i=null){super();b(this,"start");b(this,"end");this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new cu({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Mb,{direction:"backward"}),i=this.end.getLastMatchingPosition(Mb);return e.parent.is("$text")&&e.isAtStart&&(e=Re._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Re._createAfter(i.parent)),new Ll(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(Mb);if(e.isAfter(this.end)||e.isEqual(this.end))return new Ll(e,e);let i=this.end.getLastMatchingPosition(Mb,{direction:"backward"});const s=e.nodeAfter,r=i.nodeBefore;return s&&s.is("$text")&&(e=new Re(s,0)),r&&r.is("$text")&&(i=new Re(r,r.data.length)),new Ll(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&r}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Ll(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Ll(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new Ll(i,s)}return null}getWalker(e={}){return e.boundaries=this,new cu(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Ll(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new cu(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new cu(e);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,s,r){return new this(new Re(e,i),new Re(s,r))}static _createFromPositionAndShift(e,i){const s=e,r=e.getShiftedBy(i);return i>0?new this(s,r):new this(r,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Re._createBefore(e),i)}};vt.prototype.is=function(n){return n==="range"||n==="view:range"};function Mb(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}let Na=class Uz extends Xt(Uu){constructor(...e){super();b(this,"_ranges");b(this,"_lastRangeBackward");b(this,"_isFake");b(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)(!e||i.start.isBefore(e.start))&&(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)(!e||i.end.isAfter(e.end))&&(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const r of e._ranges)if(i.isEqual(r)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=sE(this.getRanges()),s=sE(e.getRanges());if(i!=s)return!1;if(i==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let o=!1;for(let a of e.getRanges())if(a=a.getTrimmed(),r.start.isEqual(a.start)&&r.end.isEqual(a.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,s,r]=e;if(typeof s=="object"&&(r=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(r);else if(i instanceof Uz||i instanceof m5)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof vt)this._setRanges([i],r&&r.backward),this._setFakeOptions(r);else if(i instanceof Re)this._setRanges([new vt(i)]),this._setFakeOptions(r);else if(i instanceof Hu){const o=!!r&&!!r.backward;let a;if(s===void 0)throw new L("view-selection-setto-required-second-parameter",this);s=="in"?a=vt._createIn(i):s=="on"?a=vt._createOn(i):a=new vt(Re._createAt(i,s)),this._setRanges([a],o),this._setFakeOptions(r)}else if(Ws(i))this._setRanges(i,r&&r.backward),this._setFakeOptions(r);else throw new L("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new L("view-selection-setfocus-no-ranges",this);const s=Re._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.pop(),s.compareWith(r)=="before"?this._addRange(new vt(s,r),!0):this._addRange(new vt(r,s)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof vt))throw new L("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new L("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new vt(e.start,e.end))}};Na.prototype.is=function(n){return n==="selection"||n==="view:selection"};let m5=class extends Xt(Uu){constructor(...e){super();b(this,"_selection");this._selection=new Na,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}};m5.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class bf extends Ga{constructor(e,i,s){super(e,i);b(this,"startRange");b(this,"_eventPhase");b(this,"_currentTarget");this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const $x=Symbol("bubbling contexts");function uE(n){class t extends n{fire(i,...s){try{const r=i instanceof Ga?i:new Ga(this,i),o=Wx(this);if(!o.size)return;if(Im(r,"capturing",this),Hd(o,"$capture",r,...s))return r.return;const a=r.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,u=l?!!Hz(o,l):!1;let h=l||s_e(a);if(Im(r,"atTarget",h),!u){if(Hd(o,"$text",r,...s))return r.return;Im(r,"bubbling",h)}for(;h;){if(h.is("rootElement")){if(Hd(o,"$root",r,...s))return r.return}else if(h.is("element")&&Hd(o,h.name,r,...s))return r.return;if(Hd(o,h,r,...s))return r.return;h=h.parent,Im(r,"bubbling",h)}return Im(r,"bubbling",this),Hd(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(r,this)}}_addEventListener(i,s,r){const o=qt(r.context||"$document"),a=Wx(this);for(const l of o){let u=a.get(l);u||(u=new(Xt()),a.set(l,u)),this.listenTo(u,i,s,r)}}_removeEventListener(i,s){const r=Wx(this);for(const o of r.values())this.stopListening(o,i,s)}}return t}{const n=uE(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{uE[t]=n.prototype[t]})}function Im(n,t,e){n instanceof bf&&(n._eventPhase=t,n._currentTarget=e)}function Hd(n,t,e,...i){const s=typeof t=="string"?n.get(t):Hz(n,t);return s?(s.fire(e,...i),e.stop.called):!1}function Hz(n,t){for(const[e,i]of n)if(typeof e=="function"&&e(t))return i;return null}function Wx(n){return n[$x]||(n[$x]=new Map),n[$x]}function s_e(n){if(!n)return null;const t=n.start.parent,e=n.end.parent,i=t.getPath(),s=e.getPath();return i.length>s.length?t:e}let gy=class extends uE(Wt()){constructor(e){super();b(this,"selection");b(this,"roots");b(this,"stylesProcessor");b(this,"_postFixers",new Set);this.selection=new m5,this.roots=new kn({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(i=s(e),i)break;while(i)}};const h8=10;class fu extends Ya{constructor(e,i,s,r){super(e,i,s,r);b(this,"_priority",h8);b(this,"_id",null);b(this,"_clonesGroup",null);this.getFillerOffset=r_e}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new L("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}_canMergeAttributesFrom(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canSubtractAttributesOf(e)}}b(fu,"DEFAULT_PRIORITY",h8);fu.prototype.is=function(n,t){return t?t===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function r_e(){if(qx(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(qx(n)>1)return null;n=n.parent}return!n||qx(n)>1?null:this.childCount}function qx(n){return Array.from(n.getChildren()).filter(t=>!t.is("uiElement")).length}class g5 extends Ya{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=o_e}_insertChild(t,e){if(e&&(e instanceof Hu||Array.from(e).length>0))throw new L("view-emptyelement-cannot-add",[this,e]);return 0}}g5.prototype.is=function(n,t){return t?t===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function o_e(){return null}class py extends Ya{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=l_e}_insertChild(t,e){if(e&&(e instanceof Hu||Array.from(e).length>0))throw new L("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const i of this.getAttributeKeys())e.setAttribute(i,this.getAttribute(i));return e}}py.prototype.is=function(n,t){return t?t===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function a_e(n){n.document.on("arrowKey",(t,e)=>c_e(t,e,n.domConverter),{priority:"low"})}function l_e(){return null}function c_e(n,t,e){if(t.keyCode==mt.arrowright){const i=t.domTarget.ownerDocument.defaultView.getSelection(),s=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(s||t.shiftKey){const r=i.focusNode,o=i.focusOffset,a=e.domPositionToView(r,o);if(a===null)return;let l=!1;const u=a.getLastMatchingPosition(h=>(h.item.is("uiElement")&&(l=!0),!!(h.item.is("uiElement")||h.item.is("attributeElement"))));if(l){const h=e.viewPositionToDom(u);s?i.collapse(h.parent,h.offset):i.extend(h.parent,h.offset)}}}}class p5 extends Ya{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=u_e}_insertChild(t,e){if(e&&(e instanceof Hu||Array.from(e).length>0))throw new L("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}p5.prototype.is=function(n,t){return t?t===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function u_e(){return null}let mu=class extends Xt(Uu){constructor(e,i){super();b(this,"document");b(this,"_children",[]);b(this,"_customProperties",new Map);this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this,{index:e});let s=0;const r=d_e(this.document,i);for(const o of r)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_fireChange(e,i,s){this.fire(`change:${e}`,i,s)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}};mu.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function d_e(n,t){return typeof t=="string"?[new Li(n,t)]:(Ws(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Li(n,e):e instanceof _a?new Li(n,e.data):e))}class b5{constructor(t){b(this,"document");b(this,"_cloneGroups",new Map);b(this,"_slotFactory",null);this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new mu(this.document,t)}createText(t){return new Li(this.document,t)}createAttributeElement(t,e,i={}){const s=new fu(this.document,t,e);return typeof i.priority=="number"&&(s._priority=i.priority),i.id&&(s._id=i.id),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createContainerElement(t,e,i={},s={}){let r=null;Lr(i)?s=i:r=i;const o=new Xg(this.document,t,e,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(t,e,i={}){const s=new my(this.document,t,e);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createEmptyElement(t,e,i={}){const s=new g5(this.document,t,e);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createUIElement(t,e,i){const s=new py(this.document,t,e);return i&&(s.render=i),s}createRawElement(t,e,i,s={}){const r=new p5(this.document,t,e);return i&&(r.render=i),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(t,e,i,s){s!==void 0?s._setAttribute(t,e,i):i._setAttribute(t,e)}removeAttribute(t,e,i){i!==void 0?i._removeAttribute(t,e):e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){Lr(t)&&i===void 0?e._setStyle(t):i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Re?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new L("view-writer-break-non-container-element",this.document);if(!e.parent)throw new L("view-writer-break-root",this.document);if(t.isAtStart)return Re._createBefore(e);if(!t.isAtEnd){const i=e._clone(!1);this.insert(Re._createAfter(e),i);const s=new vt(t,Re._createAt(e,"end")),r=new Re(i,0);this.move(s,r)}return Re._createAfter(e)}mergeAttributes(t){const e=t.offset,i=t.parent;if(i.is("$text"))return t;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Re(o,a))}const s=i.getChild(e-1),r=i.getChild(e);if(!s||!r)return t;if(s.is("$text")&&r.is("$text"))return m8(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Re(s,o))}return t}mergeContainers(t){const e=t.nodeBefore,i=t.nodeAfter;if(!e||!i||!e.is("containerElement")||!i.is("containerElement"))throw new L("view-writer-merge-containers-invalid-position",this.document);const s=e.getChild(e.childCount-1),r=s instanceof Li?Re._createAt(s,"end"):Re._createAt(e,"end");return this.move(vt._createIn(i),Re._createAt(e,"end")),this.remove(vt._createOn(i)),r}insert(t,e){e=Ws(e)?[...e]:[e],$z(e,this.document);const i=e.reduce((o,a)=>{const l=o[o.length-1],u=!a.is("uiElement");return!l||l.breakAttributes!=u?o.push({breakAttributes:u,nodes:[a]}):l.nodes.push(a),o},[]);let s=null,r=t;for(const{nodes:o,breakAttributes:a}of i){const l=this._insertNodes(r,o,a);s||(s=l.start),r=l.end}return s?new vt(s,r):new vt(t)}remove(t){const e=t instanceof vt?t:vt._createOn(t);if(Rm(e,this.document),e.isCollapsed)return new mu(this.document);const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=s.offset-i.offset,a=r._removeChildren(i.offset,o);for(const u of a)this._removeFromClonedElementsGroup(u);const l=this.mergeAttributes(i);return e.start=l,e.end=l.clone(),new mu(this.document,a)}clear(t,e){Rm(t,this.document);const i=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of i){const r=s.item;let o;if(r.is("element")&&e.isSimilar(r))o=vt._createOn(r);else if(!s.nextPosition.isAfter(t.start)&&r.is("$textProxy")){const a=r.getAncestors().find(l=>l.is("element")&&e.isSimilar(l));a&&(o=vt._createIn(a))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let i;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);const s=e.parent,r=s.childCount;t=this._breakAttributesRange(t,!0),i=this.remove(t),e.offset+=s.childCount-r}else i=this.remove(t);return this.insert(e,i)}wrap(t,e){if(!(e instanceof fu))throw new L("view-writer-wrap-invalid-attribute",this.document);if(Rm(t,this.document),t.isCollapsed){let i=t.start;i.parent.is("element")&&!h_e(i.parent)&&(i=i.getLastMatchingPosition(r=>r.item.is("uiElement"))),i=this._wrapPosition(i,e);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(t.start)&&this.setSelection(i),new vt(i)}else return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof fu))throw new L("view-writer-unwrap-invalid-attribute",this.document);if(Rm(t,this.document),t.isCollapsed)return t;const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=this._unwrapChildren(r,i.offset,s.offset,e),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new vt(a,l)}rename(t,e){const i=new Xg(this.document,t,e.getAttributes());return this.insert(Re._createAfter(e),i),this.move(vt._createIn(e),Re._createAt(i,0)),this.remove(vt._createOn(e)),i}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return Re._createAt(t,e)}createPositionAfter(t){return Re._createAfter(t)}createPositionBefore(t){return Re._createBefore(t)}createRange(t,e){return new vt(t,e)}createRangeOn(t){return vt._createOn(t)}createRangeIn(t){return vt._createIn(t)}createSelection(...t){return new Na(...t)}createSlot(t="children"){if(!this._slotFactory)throw new L("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,i){let s;if(i?s=dE(t):s=t.parent.is("$text")?t.parent.parent:t.parent,!s)throw new L("view-writer-invalid-position-container",this.document);let r;i?r=this._breakAttributes(t,!0):r=t.parent.is("$text")?Gx(t):t;const o=s._insertChild(r.offset,e);for(const h of e)this._addToClonedElementsGroup(h);const a=r.getShiftedBy(o),l=this.mergeAttributes(r);l.isEqual(r)||a.offset--;const u=this.mergeAttributes(a);return new vt(l,u)}_wrapChildren(t,e,i,s){let r=e;const o=[];for(;r<i;){const l=t.getChild(r),u=l.is("$text"),h=l.is("attributeElement");if(h&&l._canMergeAttributesFrom(s))l._mergeAttributesFrom(s),o.push(new Re(t,r));else if(u||!h||f_e(s,l)){const m=s._clone();l._remove(),m._appendChild(l),t._insertChild(r,m),this._addToClonedElementsGroup(m),o.push(new Re(t,r))}else this._wrapChildren(l,0,l.childCount,s);r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==e)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return vt._createFromParentsAndOffsets(t,e,t,i)}_unwrapChildren(t,e,i,s){let r=e;const o=[];for(;r<i;){const l=t.getChild(r);if(!l.is("attributeElement")){r++;continue}if(l.isSimilar(s)){const u=l.getChildren(),h=l.childCount;l._remove(),t._insertChild(r,u),this._removeFromClonedElementsGroup(l),o.push(new Re(t,r),new Re(t,r+h)),r+=h,i+=h-1;continue}if(l._canSubtractAttributesOf(s)){l._subtractAttributesOf(s),o.push(new Re(t,r),new Re(t,r+1)),r++;continue}this._unwrapChildren(l,0,l.childCount,s),r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==e||l.offset==i)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return vt._createFromParentsAndOffsets(t,e,t,i)}_wrapRange(t,e){const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=this._wrapChildren(r,i.offset,s.offset,e),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new vt(a,l)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return f8(t.clone());t.parent.is("$text")&&(t=Gx(t));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,t.parent._insertChild(t.offset,i);const s=new vt(t,t.getShiftedBy(1));this.wrap(s,e);const r=new Re(i.parent,i.index);i._remove();const o=r.nodeBefore,a=r.nodeAfter;return o&&o.is("view:$text")&&a&&a.is("view:$text")?m8(o,a):f8(r)}_breakAttributesRange(t,e=!1){const i=t.start,s=t.end;if(Rm(t,this.document),t.isCollapsed){const l=this._breakAttributes(t.start,e);return new vt(l,l)}const r=this._breakAttributes(s,e),o=r.parent.childCount,a=this._breakAttributes(i,e);return r.offset+=r.parent.childCount-o,new vt(a,r)}_breakAttributes(t,e=!1){const i=t.offset,s=t.parent;if(t.parent.is("emptyElement"))throw new L("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new L("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new L("view-writer-cannot-break-raw-element",this.document);if(!e&&s.is("$text")&&hE(s.parent)||hE(s))return t.clone();if(s.is("$text"))return this._breakAttributes(Gx(t),e);const r=s.childCount;if(i==r){const o=new Re(s.parent,s.index+1);return this._breakAttributes(o,e)}else if(i===0){const o=new Re(s.parent,s.index);return this._breakAttributes(o,e)}else{const o=s.index+1,a=s._clone();s.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=s.childCount-i,u=s._removeChildren(i,l);a._appendChild(u);const h=new Re(s.parent,o);return this._breakAttributes(h,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const s of t.getChildren())this._addToClonedElementsGroup(s);const e=t.id;if(!e)return;let i=this._cloneGroups.get(e);i||(i=new Set,this._cloneGroups.set(e,i)),i.add(t),t._clonesGroup=i}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const s of t.getChildren())this._removeFromClonedElementsGroup(s);const e=t.id;if(!e)return;const i=this._cloneGroups.get(e);i&&i.delete(t)}}function h_e(n){return Array.from(n.getChildren()).some(t=>!t.is("uiElement"))}function dE(n){let t=n.parent;for(;!hE(t);){if(!t)return;t=t.parent}return t}function f_e(n,t){return n.priority<t.priority?!0:n.priority>t.priority?!1:n.getIdentity()<t.getIdentity()}function f8(n){const t=n.nodeBefore;if(t&&t.is("$text"))return new Re(t,t.data.length);const e=n.nodeAfter;return e&&e.is("$text")?new Re(e,0):n}function Gx(n){if(n.offset==n.parent.data.length)return new Re(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Re(n.parent.parent,n.parent.index);const t=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new Li(n.root.document,t)),new Re(n.parent.parent,n.parent.index+1)}function m8(n,t){const e=n.data.length;return n._data+=t.data,t._remove(),new Re(n,e)}const m_e=[Li,fu,Xg,g5,p5,py];function $z(n,t){for(const e of n){if(!m_e.some(i=>e instanceof i))throw new L("view-writer-insert-invalid-node-type",t);e.is("$text")||$z(e.getChildren(),t)}}function hE(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Rm(n,t){const e=dE(n.start),i=dE(n.end);if(!e||!i||e!==i)throw new L("view-writer-invalid-range-container",t)}const Wz=n=>n.createTextNode(""),qz=n=>{const t=n.createElement("span");return t.dataset.ckeFiller="true",t.innerText="",t},Gz=n=>{const t=n.createElement("br");return t.dataset.ckeFiller="true",t},zr=7,Jg="".repeat(zr);function Ns(n){return typeof n=="string"?n.substr(0,zr)===Jg:Pn(n)&&n.data.substr(0,zr)===Jg}function dh(n){return n.data.length==zr&&Ns(n)}function g8(n){const t=typeof n=="string"?n:n.data;return Ns(n)?t.slice(zr):t}function g_e(n){n.document.on("arrowKey",p_e,{priority:"low"})}function p_e(n,t){if(t.keyCode==mt.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const i=e.getRangeAt(0).startContainer,s=e.getRangeAt(0).startOffset;Ns(i)&&s<=zr&&e.collapse(i,0)}}}let b_e=class extends Wt(){constructor(e,i){super();b(this,"domDocuments",new Set);b(this,"domConverter");b(this,"markedAttributes",new Set);b(this,"markedChildren",new Set);b(this,"markedTexts",new Set);b(this,"selection");b(this,"_inlineFiller",null);b(this,"_fakeSelectionContainer",null);this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Ge.isBlink&&!Ge.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else if(e==="children")this.markedChildren.add(i);else throw new L("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!Ge.isAndroid)return;let e=null;const i=Ge.isBlink&&!Ge.isAndroid?!this.isSelecting:!0;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Re._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(i)if(e){const s=this.domConverter.viewPositionToDom(e),r=s.parent.ownerDocument;Ns(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=p8(r,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(s,r),a=this._findUpdateActions(o,s,r,w_e);if(a.indexOf("update")!==-1){const l={equal:0,insert:0,delete:0};for(const u of a)if(u==="update"){const h=l.equal+l.insert,m=l.equal+l.delete,p=e.getChild(h);p&&!p.is("uiElement")&&!p.is("rawElement")&&this._updateElementMappings(p,s[m]),n8(r[h]),l.equal++}else l[u]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Re._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&Pn(i.parent)&&Ns(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Ns(e))throw new L("view-renderer-filler-was-lost",this);dh(e)?e.remove():e.data=e.data.substr(zr),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!v_e(i))return!1;const r=e.nodeBefore,o=e.nodeAfter;return!(r instanceof Li||o instanceof Li||s===i.getFillerOffset()&&(!r||!r.is("element","br"))||Ge.isAndroid&&(r||o))}_updateText(e,i){const s=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const a=i.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(o=Jg+o),this._updateTextNode(s,o)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(i){for(const s of Array.from(i.attributes)){const r=s.name;e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(i,r)}for(const s of e.getAttributeKeys())this.domConverter.setDomElementAttribute(i,s,e.getAttribute(s),e)}}_updateChildren(e,i){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(Ge.isAndroid){let p=null;for(const v of Array.from(s.childNodes)){if(p&&Pn(p)&&Pn(v)){s.normalize();break}p=v}}const r=i.inlineFillerPosition,o=s.childNodes,a=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&p8(s.ownerDocument,a,r.offset);const l=this._diffNodeLists(o,a),u=this._findUpdateActions(l,o,a,y_e);let h=0;const m=new Set;for(const p of u)p==="delete"?(m.add(o[h]),n8(o[h])):(p==="equal"||p==="update")&&h++;h=0;for(const p of u)p==="insert"?(Iz(s,h,a[h]),h++):p==="update"?(this._updateTextNode(o[h],a[h].data),h++):p==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(a[h])),h++);for(const p of m)p.parentNode||this.domConverter.unbindDomElement(p)}_diffNodeLists(e,i){return e=k_e(e,this._fakeSelectionContainer),rg(e,i,__e.bind(null,this.domConverter))}_findUpdateActions(e,i,s,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let o=[],a=[],l=[];const u={equal:0,insert:0,delete:0};for(const h of e)h==="insert"?l.push(s[u.equal+u.insert]):h==="delete"?a.push(i[u.equal+u.delete]):(o=o.concat(rg(a,l,r).map(m=>m==="equal"?"update":m)),o.push("equal"),a=[],l=[]),u[h]++;return o.concat(rg(a,l,r).map(h=>h==="equal"?"update":h))}_updateTextNode(e,i){const s=e.data;s!=i&&(Ge.isAndroid&&this.isComposing&&s.replace(/\u00A0/g," ")==i.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,i))}_updateTextNodeInternal(e,i){const s=uz(e.data,i);for(const r of s)r.type==="insert"?e.insertData(r.index,r.values.join("")):e.deleteData(r.index,r.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(Ge.isBlink&&!Ge.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Ge.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=C_e(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!s.parentElement||s.parentElement!=e)&&e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"";const r=i.getSelection(),o=i.createRange();r.removeAllRanges(),o.selectNodeContents(s),r.addRange(o)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(s.parent,s.offset,r.parent,r.offset),Ge.isGecko&&x_e(r,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return!(i&&this.selection.isEqual(i)||!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!i||i.parentElement!==e||s.anchorNode!==i&&!i.contains(s.anchorNode)?!0:i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const s=e.activeElement,r=this.domConverter.mapDomToView(s);s&&r&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function v_e(n){if(n.getAttribute("contenteditable")=="false")return!1;const t=n.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||t.getAttribute("contenteditable")=="true"}function p8(n,t,e){const i=t instanceof Array?t:t.childNodes,s=i[e];if(Pn(s))return s.data=Jg+s.data,s;{const r=n.createTextNode(Jg);return Array.isArray(t)?i.splice(e,0,r):Iz(t,e,r),r}}function w_e(n,t){return cc(n)&&cc(t)&&!Pn(n)&&!Pn(t)&&!lg(n)&&!lg(t)&&n.tagName.toLowerCase()===t.tagName.toLowerCase()}function y_e(n,t){return cc(n)&&cc(t)&&Pn(n)&&Pn(t)}function __e(n,t,e){return t===e?!0:Pn(t)&&Pn(e)?t.data===e.data:!!(n.isBlockFiller(t)&&n.isBlockFiller(e))}function x_e(n,t){let e=n.parent,i=n.offset;if(Pn(e)&&dh(e)&&(i=Ym(e)+1,e=e.parentNode),e.nodeType!=Node.ELEMENT_NODE||i!=e.childNodes.length-1)return;const s=e.childNodes[i];s&&s.tagName=="BR"&&t.addRange(t.getRangeAt(0))}function k_e(n,t){const e=Array.from(n);return e.length==0||!t||e[e.length-1]==t&&e.pop(),e}function C_e(n){const t=n.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="",t}const E_e=Gz(Pe.document),T_e=Wz(Pe.document),S_e=qz(Pe.document),Db="data-ck-unsafe-attribute-",b8="data-ck-unsafe-element";class by{constructor(t,{blockFillerMode:e,renderingMode:i="editing"}={}){b(this,"document");b(this,"renderingMode");b(this,"blockFillerMode");b(this,"preElements");b(this,"blockElements");b(this,"inlineObjectElements");b(this,"unsafeElements");b(this,"_domDocument");b(this,"_domToViewMapping",new WeakMap);b(this,"_viewToDomMapping",new WeakMap);b(this,"_fakeSelectionMapping",new WeakMap);b(this,"_rawContentElementMatcher",new ls);b(this,"_inlineObjectElementMatcher",new ls);b(this,"_elementsWithTemporaryCustomProperties",new Set);this.document=t,this.renderingMode=i,this.blockFillerMode=e||(i==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Pe.document:Pe.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Na(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const i of t.children)this.unbindDomElement(i)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,i){return this.renderingMode==="data"?!0:(t=t.toLowerCase(),t.startsWith("on")||t==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(t==="src"||t==="srcset")||i==="source"&&t==="srcset"?!0:!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data"){t.innerHTML=e;return}const i=new DOMParser().parseFromString(e,"text/html"),s=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const u of a){for(const m of u.getAttributeNames())this.setDomElementAttribute(u,m,u.getAttribute(m));const h=u.tagName.toLowerCase();this._shouldRenameElement(h)&&(_8(h),u.replaceWith(this._createReplacementDomElement(h,u)))}for(;t.firstChild;)t.firstChild.remove();t.append(s)}viewToDom(t,e={}){if(t.is("$text")){const i=this._processDataFromViewText(t);return this._domDocument.createTextNode(i)}else{const i=t;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let s;if(i.is("documentFragment"))s=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(s,i);else{if(i.is("uiElement"))return i.name==="$comment"?s=this._domDocument.createComment(i.getCustomProperty("$rawContent")):s=i.render(this._domDocument,this),e.bind&&this.bindElements(s,i),s;this._shouldRenameElement(i.name)?(_8(i.name),s=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?s=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):s=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(s,this),e.bind&&this.bindElements(s,i);for(const r of i.getAttributeKeys())this.setDomElementAttribute(s,r,i.getAttribute(r),i)}if(e.withChildren!==!1)for(const r of this.viewChildrenToDom(i,e))s instanceof HTMLTemplateElement?s.content.appendChild(r):s.appendChild(r);return s}}setDomElementAttribute(t,e,i,s){const r=this.shouldRenderAttribute(e,i,t.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(e);if(r||ht("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:i}),!Rz(e)){ht("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:i});return}t.hasAttribute(e)&&!r?t.removeAttribute(e):t.hasAttribute(Db+e)&&r&&t.removeAttribute(Db+e),t.setAttribute(r?e:Db+e,i)}removeDomElementAttribute(t,e){e!=b8&&(t.removeAttribute(e),t.removeAttribute(Db+e))}*viewChildrenToDom(t,e={}){const i=t.getFillerOffset&&t.getFillerOffset();let s=0;for(const r of t.getChildren()){i===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Qt(r.getAttributes());if(o&&this.renderingMode=="data")if(r.is("rawElement")){const a=this._domDocument.createElement(r.name);r.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(r,e);else o&&ht("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,e);s++}i===s&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),i=this.viewPositionToDom(t.end),s=this._domDocument.createRange();return s.setStart(e.parent,e.offset),s.setEnd(i.parent,i.offset),s}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const i=this.findCorrespondingDomText(e);if(!i)return null;let s=t.offset;return Ns(i)&&(s+=zr),{parent:i,offset:s}}else{let i,s,r;if(t.offset===0){if(i=this.mapViewToDom(e),!i)return null;r=i.childNodes[0]}else{const a=t.nodeBefore;if(s=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!s)return null;i=s.parentNode,r=s.nextSibling}if(Pn(r)&&Ns(r))return{parent:r,offset:zr};const o=s?Ym(s)+1:0;return{parent:i,offset:o}}}domToView(t,e={}){const i=[],s=this._domToView(t,e,i),r=s.next().value;return!r||(s.next(),this._processDomInlineNodes(null,i,e),this.blockFillerMode=="br"&&w8(r))||r.is("$text")&&r.data.length==0?null:r}*domChildrenToView(t,e={},i=[]){let s=[];t instanceof HTMLTemplateElement?s=[...t.content.childNodes]:s=[...t.childNodes];for(let r=0;r<s.length;r++){const o=s[r],a=this._domToView(o,e,i),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(t,i,e),this.blockFillerMode=="br"&&w8(l)||(yield l),a.next())}this._processDomInlineNodes(t,i,e)}domSelectionToView(t){if(O_e(t))return new Na([]);if(t.rangeCount===1){let s=t.getRangeAt(0).startContainer;Pn(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const e=this.isDomSelectionBackward(t),i=[];for(let s=0;s<t.rangeCount;s++){const r=t.getRangeAt(s),o=this.domRangeToView(r);o&&i.push(o)}return new Na(i,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),i=this.domPositionToView(t.endContainer,t.endOffset);return e&&i?new vt(e,i):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Ym(t));const i=this.mapDomToView(t);if(i&&(i.is("uiElement")||i.is("rawElement")))return Re._createBefore(i);if(Pn(t)){if(dh(t))return this.domPositionToView(t.parentNode,Ym(t));const s=this.findCorrespondingViewText(t);let r=e;return s?(Ns(t)&&(r-=zr,r=r<0?0:r),new Re(s,r)):null}else{if(e===0){const s=this.mapDomToView(t);if(s)return new Re(s,0)}else{const s=t.childNodes[e-1];if(Pn(s)&&dh(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Ym(s));const r=Pn(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new Re(r.parent,r.index+1)}return null}}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(dh(t))return null;const e=this.getHostViewElement(t);if(e)return e;const i=t.previousSibling;if(i){if(!this.isElement(i))return null;const s=this.mapDomToView(i);if(s){const r=s.nextSibling;return r instanceof Li?r:null}}else{const s=this.mapDomToView(t.parentNode);if(s){const r=s.getChild(0);return r instanceof Li?r:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:i,scrollY:s}=Pe.window,r=[];v8(e,o=>{const{scrollLeft:a,scrollTop:l}=o;r.push([a,l])}),e.focus(),v8(e,o=>{const[a,l]=r.shift();o.scrollLeft=a,o.scrollTop=l}),Pe.window.scrollTo(i,s)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(e);i&&i.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(E_e):y8(t,this.blockElements)?!0:t.isEqualNode(S_e)||I_e(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const i=e.collapsed;return e.detach(),i}getHostViewElement(t){const e=Cz(t);for(e.pop();e.length;){const i=e.pop(),s=this._domToViewMapping.get(i);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Wz(this._domDocument);case"markedNbsp":return qz(this._domDocument);case"br":return Gz(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(Pn(t)&&Ns(t)&&e<zr||this.isElement(t)&&Ns(t.childNodes[e]))return!1;const i=this.mapDomToView(t);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(t,e,i){if(this.blockFillerMode!="br"&&y8(t,this.blockElements))return null;const s=this.getHostViewElement(t);if(s)return s;if(lg(t)&&e.skipComments)return null;if(Pn(t)){if(dh(t))return null;{const r=t.data;if(r==="")return null;const o=new Li(this.document,r);return i.push(o),o}}else{let r=this.mapDomToView(t);if(r)return this._isInlineObjectElement(r)&&i.push(r),r;if(this.isDocumentFragment(t))r=new mu(this.document),e.bind&&this.bindDocumentFragments(t,r);else{r=this._createViewElement(t,e),e.bind&&this.bindElements(t,r);const a=t.attributes;if(a)for(let l=a.length,u=0;u<l;u++)r._setAttribute(a[u].name,a[u].value);if(this._isViewElementWithRawContent(r,e))return r._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(r)||i.push(r),r;if(lg(t))return r._setCustomProperty("$rawContent",t.data),r}yield r;const o=[];if(e.withChildren!==!1)for(const a of this.domChildrenToView(t,e,o))r._appendChild(a);if(this._isInlineObjectElement(r))i.push(r),this._processDomInlineNodes(null,o,e);else for(const a of o)i.push(a)}}_processDomInlineNodes(t,e,i){if(!e.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let s=!1;for(let r=0;r<e.length;r++){const o=e[r];if(!o.is("$text")){s=!1;continue}let a,l=!1;if(this._isPreFormatted(o))a=g8(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const u=r>0?e[r-1]:null,h=r+1<e.length?e[r+1]:null,m=!u||u.is("element")&&u.name=="br"||s,p=h?!1:!Ns(o.data);i.withChildren!==!1&&(m&&(a=a.replace(/^ /,"")),p&&(a=a.replace(/ $/,""))),a=g8(a),this.blockFillerMode!="br"&&o.parent&&(P_e(o.parent,a)?(a="",o.parent.parent&&(o.parent.parent._setCustomProperty("$hasBlockFiller",!0),o.parent._remove())):R_e(o.parent,a,this.blockElements)&&(a="",o.parent._setCustomProperty("$hasBlockFiller",!0))),a=a.replace(/ \u00A0/g,"  ");const v=h&&h.is("element")&&h.name!="br",_=h&&h.is("$text")&&h.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!h||v||_)&&(a=a.replace(/\u00A0$/," ")),(m||u&&u.is("element")&&u.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),e.splice(r,1),r--):(o._data=a,s=l)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(e.charAt(0)==" "){const i=this._getTouchingInlineViewNode(t,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(e=""+e.substr(1))}if(e.charAt(e.length-1)==" "){const i=this._getTouchingInlineViewNode(t,!0),s=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(e.charAt(e.length-2)==" "||!i||s)&&(e=e.substr(0,e.length-1)+"")}return e.replace(/ {2}/g," ")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_isPreFormatted(t){if(A_e(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(!(!e.is("element")||!e.hasStyle("white-space")||e.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const i=new cu({startPosition:e?Re._createAfter(t):Re._createBefore(t),direction:e?"forward":"backward"});for(const{item:s}of i){if(s.is("$textProxy"))return s;if(s.is("element")&&s.getCustomProperty("dataPipeline:transparentRendering"))continue;if(s.is("element","br"))return null;if(this._isInlineObjectElement(s))return s;if(s.is("containerElement"))return null}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return t.is("element")?t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t):!1}_createViewElement(t,e){if(lg(t))return new py(this.document,"$comment");const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Ya(this.document,i)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const i=this._domDocument.createElement("span");if(i.setAttribute(b8,t),e){for(;e.firstChild;)i.appendChild(e.firstChild);for(const s of e.getAttributeNames())i.setAttribute(s,e.getAttribute(s))}return i}}function A_e(n,t){return n.getAncestors().some(e=>e.is("element")&&t.includes(e.name))}function v8(n,t){let e=n;for(;e;)t(e),e=e.parentElement}function I_e(n,t){return n.isEqualNode(T_e)&&Yz(n,t)&&n.parentNode.childNodes.length===1}function Yz(n,t){const e=n.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function R_e(n,t,e){return t==""&&n&&n.is("element")&&n.childCount==1&&e.includes(n.name)}function P_e(n,t){return t==""&&n&&n.is("element","span")&&n.childCount==1&&n.hasAttribute("data-cke-filler")}function w8(n){return n.is("element","br")&&n.hasAttribute("data-cke-filler")}function y8(n,t){return n.tagName==="BR"&&Yz(n,t)&&n.parentNode.childNodes.length===1}function _8(n){n==="script"&&ht("domconverter-unsafe-script-element-detected"),n==="style"&&ht("domconverter-unsafe-style-element-detected")}function O_e(n){if(!Ge.isGecko||!n.rangeCount)return!1;const t=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch{return!0}return!1}class io extends us(){constructor(e){super();b(this,"view");b(this,"document");b(this,"_isEnabled",!1);this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class Uh{constructor(t,e,i){b(this,"view");b(this,"document");b(this,"domEvent");b(this,"domTarget");this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,wF(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Wo extends io{constructor(){super(...arguments);b(this,"useCapture",!1);b(this,"usePassive",!1)}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(e,s,(r,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,i,s){this.isEnabled&&this.document.fire(e,new Uh(this.view,i,s))}}class M_e extends Wo{constructor(){super(...arguments);b(this,"domEventType",["keydown","keyup"])}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Du(this)}};this.fire(e.type,e,i)}}class D_e extends io{constructor(e){super(e);b(this,"_fireSelectionChangeDoneDebounced");this._fireSelectionChangeDoneDebounced=Es(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,s=new Na(i.getRanges(),{backward:i.isBackward,fake:!1});(e==mt.arrowleft||e==mt.arrowup)&&s.setTo(s.getFirstPosition()),(e==mt.arrowright||e==mt.arrowdown)&&s.setTo(s.getLastPosition());const r={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}let Zz=class extends io{constructor(e){super(e);b(this,"domConverter");b(this,"_config");b(this,"_domElements");b(this,"_mutationObserver");this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,s=new Set,r=new Set;for(const a of e){const l=i.mapDomToView(a.target);l&&(l.is("uiElement")||l.is("rawElement")||a.type==="childList"&&!this._isBogusBrMutation(a)&&r.add(l))}for(const a of e){const l=i.mapDomToView(a.target);if(!(l&&(l.is("uiElement")||l.is("rawElement")))&&a.type==="characterData"){const u=i.findCorrespondingViewText(a.target);u&&!r.has(u.parent)?s.add(u):!u&&Ns(a.target)&&r.add(i.mapDomToView(a.target.parentNode))}}const o=[];for(const a of s)o.push({type:"text",node:a});for(const a of r){const l=i.mapViewToDom(a),u=Array.from(a.getChildren()),h=Array.from(i.domChildrenToView(l,{withChildren:!1}));Rwe(u,h,V_e)||o.push({type:"children",node:a})}o.length&&this.document.fire("mutations",{mutations:o})}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}};function V_e(n,t){if(!Array.isArray(n))return n===t?!0:n.is("$text")&&t.is("$text")?n.data===t.data:!1}class Rv extends Wo{constructor(e){super(e);b(this,"_renderTimeoutId",null);b(this,"_isFocusChanging",!1);b(this,"domEventType",["focus","blur"]);this.useCapture=!0;const i=this.document;i.on("focus",()=>this._handleFocus()),i.on("blur",(s,r)=>this._handleBlur(r)),i.on("beforeinput",()=>{i.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const i=this.document.selection.editableElement;(i===null||i===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class N_e extends io{constructor(e){super(e);b(this,"mutationObserver");b(this,"focusObserver");b(this,"selection");b(this,"domConverter");b(this,"_documents");b(this,"_fireSelectionChangeDoneDebounced");b(this,"_clearInfiniteLoopInterval");b(this,"_documentIsSelectingInactivityTimeoutDebounced");b(this,"_loopbackCounter");this.mutationObserver=e.getObserver(Zz),this.focusObserver=e.getObserver(Rv),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Es(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Es(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,s=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},r=()=>{this.document.isSelecting&&(this._handleSelectionChange(i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",s,{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),!this._documents.has(i)&&(this.listenTo(i,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",()=>{this.document.isComposing&&!Ge.isAndroid||(this._handleSelectionChange(i),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(i)},{priority:"lowest"}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const i=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(i);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(i))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(s))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:s,domSelection:i};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class L_e extends Wo{constructor(e){super(e);b(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Kz{constructor(t,e={}){b(this,"_files");b(this,"_native");this._files=e.cacheFiles?x8(t):null,this._native=t}get files(){return this._files||(this._files=x8(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,i){this._native.setDragImage(t,e,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function x8(n){const t=Array.from(n.files||[]),e=Array.from(n.items||[]);return t.length?t:e.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class B_e extends Wo{constructor(){super(...arguments);b(this,"domEventType","beforeinput")}onDomEvent(e){const i=e.getTargetRanges(),s=this.view,r=s.document;let o=null,a=null,l=[];if(e.dataTransfer&&(o=new Kz(e.dataTransfer)),e.data!==null?a=e.data:o&&(a=o.getData("text/plain")),r.selection.isFake)l=Array.from(r.selection.getRanges());else if(i.length)l=i.map(u=>{const h=s.domConverter.domPositionToView(u.startContainer,u.startOffset),m=s.domConverter.domPositionToView(u.endContainer,u.endOffset);if(h)return s.createRange(h,m);if(m)return s.createRange(m)}).filter(u=>!!u);else if(Ge.isAndroid){const u=e.target.ownerDocument.defaultView.getSelection();l=Array.from(s.domConverter.domSelectionToView(u).getRanges())}if(Ge.isAndroid&&e.inputType=="insertCompositionText"&&a&&a.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(l[0].end)]});return}if(e.inputType=="insertText"&&a&&a.includes(`
`)){const u=a.split(/\n{1,2}/g);let h=l;for(let m=0;m<u.length;m++){const p=u[m];p!=""&&(this.fire(e.type,e,{data:p,dataTransfer:o,targetRanges:h,inputType:e.inputType,isComposing:e.isComposing}),h=[r.selection.getFirstRange()]),m+1<u.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:h}),h=[r.selection.getFirstRange()])}return}this.fire(e.type,e,{data:a,dataTransfer:o,targetRanges:l,inputType:e.inputType,isComposing:e.isComposing})}}class F_e extends io{constructor(t){super(t),this.document.on("keydown",(e,i)=>{if(this.isEnabled&&Eye(i.keyCode)){const s=new bf(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,i),s.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class z_e extends io{constructor(t){super(t);const e=this.document;e.on("keydown",(i,s)=>{if(!this.isEnabled||s.keyCode!=mt.tab||s.ctrlKey)return;const r=new bf(e,"tab",e.selection.getFirstRange());e.fire(r,s),r.stop.called&&i.stop()})}observe(){}stopObserving(){}}let j_e=class extends Wt(){constructor(e){super();b(this,"document");b(this,"domConverter");b(this,"domRoots",new Map);b(this,"_renderer");b(this,"_initialDomRootAttributes",new WeakMap);b(this,"_observers",new Map);b(this,"_writer");b(this,"_ongoingChange",!1);b(this,"_postFixersInProgress",!1);b(this,"_renderingDisabled",!1);b(this,"_hasChangedSinceTheLastRendering",!1);this.document=new gy(e),this.domConverter=new by(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new b_e(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new b5(this.document),this.addObserver(Zz),this.addObserver(Rv),this.addObserver(N_e),this.addObserver(M_e),this.addObserver(D_e),this.addObserver(L_e),this.addObserver(F_e),this.addObserver(B_e),this.addObserver(z_e),g_e(this),a_e(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),Ge.isiOS&&this.listenTo(this.document,"blur",(i,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(i,{mutations:s})=>{s.forEach(r=>this._renderer.markToSync(r.type,r.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,i="main"){const s=this.document.getRoot(i);s._name=e.tagName.toLowerCase();const r={};for(const{name:a,value:l}of Array.from(e.attributes))r[a]=l,a==="class"?this._writer.addClass(l.split(" "),s):s.hasAttribute(a)||this._writer.setAttribute(a,l,s);this._initialDomRootAttributes.set(e,r);const o=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};o(),this.domRoots.set(i,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(a,l)=>this._renderer.markToSync("children",l)),s.on("change:attributes",(a,l)=>this._renderer.markToSync("attributes",l)),s.on("change:text",(a,l)=>this._renderer.markToSync("text",l)),s.on("change:isReadOnly",()=>this.change(o)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const a of this._observers.values())a.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:r})=>i.removeAttribute(r));const s=this._initialDomRootAttributes.get(i);for(const r in s)i.setAttribute(r,s[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const r of this._observers.values())r.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[s,r]of this.domRoots)i.observe(r,s);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:s=20,ancestorOffset:r=20}={}){const o=this.document.selection.getFirstRange();if(!o)return;const a=Er({alignToTop:e,forceScroll:i,viewportOffset:s,ancestorOffset:r});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const l={target:this.domConverter.viewRangeToDom(o),viewportOffset:s,ancestorOffset:r,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",l,a),Oz(l)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new L("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Rv).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Re._createAt(e,i)}createPositionAfter(e){return Re._createAfter(e)}createPositionBefore(e){return Re._createBefore(e)}createRange(e,i){return new vt(e,i)}createRangeOn(e){return vt._createOn(e)}createRangeIn(e){return vt._createIn(e)}createSelection(...e){return new Na(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class kc{is(){throw new Error("is() method is abstract")}}class jr extends kc{constructor(e,i,s){super();b(this,"textNode");b(this,"data");b(this,"offsetInText");if(this.textNode=e,i<0||i>e.offsetSize)throw new L("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.offsetSize)throw new L("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}jr.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class Ra{constructor(t){b(this,"direction");b(this,"boundaries");b(this,"singleCharacters");b(this,"shallow");b(this,"ignoreElementEnd");b(this,"_position");b(this,"_boundaryStartParent");b(this,"_boundaryEndParent");b(this,"_visitedParent");if(!t||!t.boundaries&&!t.startPosition)throw new L("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new L("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=fe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,i,s,r;do s=this.position,r=this._visitedParent,{done:e,value:i}=this.next();while(!e&&t(i));e||(this._position=s,this._visitedParent=r)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone(),this._visitedParent=t.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=cg(e,i),r=s||Xz(e,i,s);if(r&&r.is("model:element")){if(!this.shallow)e.path.push(0),this._visitedParent=r;else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,Xc("elementStart",r,t,e,1)}if(r&&r.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let u=r.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),o=u-e.offset}const a=e.offset-r.startOffset,l=new jr(r,a,o);return e.offset+=o,this._position=e,Xc("text",l,t,e,o)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Xc("elementEnd",i,t,e)}_previous(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=e.parent,r=cg(e,s),o=r||Jz(e,s,r);if(o&&o.is("model:element"))return e.offset--,this.shallow?(this._position=e,Xc("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this._position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():Xc("elementEnd",o,t,e));if(o&&o.is("model:$text")){let a;if(this.singleCharacters)a=1;else{let h=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>h&&(h=this.boundaries.start.offset),a=e.offset-h}const l=e.offset-o.startOffset,u=new jr(o,l-a,a);return e.offset-=a,this._position=e,Xc("text",u,t,e,a)}return e.path.pop(),this._position=e,this._visitedParent=i.parent,Xc("elementStart",i,t,e,1)}}function Xc(n,t,e,i,s){return{done:!1,value:{type:n,item:t,previousPosition:e,nextPosition:i,length:s}}}class fe extends kc{constructor(e,i,s="toNone"){super();b(this,"root");b(this,"path");b(this,"stickiness");if(!e.is("element")&&!e.is("documentFragment"))throw new L("model-position-root-invalid",e);if(!Array.isArray(i)||i.length===0)throw new L("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChildAtOffset(this.path[i]),!e)throw new L("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new L("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return cg(this,this.parent)}get nodeAfter(){const e=this.parent;return Xz(this,e,cg(this,e))}get nodeBefore(){const e=this.parent;return Jz(this,e,cg(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChildAtOffset(this.path[i]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=$i(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new Ra(i);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=$i(this.path,e.path),s=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,s)}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}getShiftedBy(e){const i=this.clone(),s=i.offset+e;return i.offset=s<0?0:s,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let s=0;s<i;s++){const r=this.path[s]-e.path[s];if(r<-1||r>1)return!1;if(r===1)return k8(e,this,s);if(r===-1)return k8(this,e,s)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?fE(this.path,i):fE(e.path,i)}hasSameParentAs(e){if(this.root!==e.root)return!1;const i=this.getParentPath(),s=e.getParentPath();return $i(i,s)=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=fe._createAt(this);break}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange,s=i.containsPosition(this)||i.start.isEqual(this);let r;return s?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?r=fe._createAt(e.deletionPosition):r=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,i){const s=fe._createAt(this);if(this.root!=e.root)return s;if($i(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;s.offset-=i}}else if($i(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+i>this.path[r])return null;s.path[r]-=i}}return s}_getTransformedByInsertion(e,i){const s=fe._createAt(this);if(this.root!=e.root)return s;if($i(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if($i(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;e.offset<=this.path[r]&&(s.path[r]+=i)}return s}_getTransformedByMove(e,i,s){if(i=i._getTransformedByDeletion(e,s),e.isEqual(i))return fe._createAt(this);const r=this._getTransformedByDeletion(e,s);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):r._getTransformedByInsertion(i,s)}_getCombined(e,i){const s=e.path.length-1,r=fe._createAt(i);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[s]-e.offset,r.path=[...r.path,...this.path.slice(s+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,s="toNone"){if(e.is("model:position"))return new fe(e.root,e.path,e.stickiness);{const r=e;if(i=="end")i=r.maxOffset;else{if(i=="before")return this._createBefore(r,s);if(i=="after")return this._createAfter(r,s);if(i!==0&&!i)throw new L("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new L("model-position-parent-incorrect",[this,e]);const o=r.getPath();return o.push(i),new this(r.root,o,s)}}static _createAfter(e,i){if(!e.parent)throw new L("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new L("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const s=new fe(i.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!i.getRoot(e.root))throw new L("model-position-fromjson-no-root",i,{rootName:e.root});return new fe(i.getRoot(e.root),e.path,e.stickiness)}}fe.prototype.is=function(n){return n==="position"||n==="model:position"};function cg(n,t){const e=t.getChildAtOffset(n.offset);return e&&e.is("$text")&&e.startOffset<n.offset?e:null}function Xz(n,t,e){return e!==null?null:t.getChildAtOffset(n.offset)}function Jz(n,t,e){return e!==null?null:t.getChild(t.offsetToIndex(n.offset)-1)}function k8(n,t,e){return!(e+1===n.path.length||!fE(t.path,e+1)||!U_e(n,e+1))}function fE(n,t){for(;t<n.length;){if(n[t]!==0)return!1;t++}return!0}function U_e(n,t){let e=n.parent,i=n.path.length-1,s=0;for(;i>=t;){if(n.path[i]+s!==e.maxOffset)return!1;s=1,i--,e=e.parent}return!0}class ee extends kc{constructor(e,i){super();b(this,"start");b(this,"end");this.start=fe._createAt(e),this.end=i?fe._createAt(i):fe._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ra({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),i=this.end.getParentPath();return $i(e,i)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&r}containsItem(e){const i=fe._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new ee(this.start,e.start)),this.containsPosition(e.end)&&i.push(new ee(e.end,this.end))):i.push(new ee(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new ee(i,s)}return null}getJoined(e,i=!1){let s=this.isIntersecting(e);if(s||(this.start.isBefore(e.start)?s=i?this.end.isTouching(e.start):this.end.isEqual(e.start):s=i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let r=this.start,o=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(o)&&(o=e.end),new ee(r,o)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,s=fe._createAt(this.start);let r=s.parent;for(;s.path.length>i+1;){const o=r.maxOffset-s.offset;o!==0&&e.push(new ee(s,s.getShiftedBy(o))),s.path=s.path.slice(0,-1),s.offset++,r=r.parent}for(;s.path.length<=this.end.path.length;){const o=this.end.path[s.path.length-1],a=o-s.offset;a!==0&&e.push(new ee(s,s.getShiftedBy(a))),s.offset=o,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Ra(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Ra(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new Ra(e);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ee(this.start,this.end)]}getTransformedByOperations(e){const i=[new ee(this.start,this.end)];for(const s of e)for(let r=0;r<i.length;r++){const o=i[r].getTransformedByOperation(s);i.splice(r,1,...o),r+=o.length-1}for(let s=0;s<i.length;s++){const r=i[s];for(let o=s+1;o<i.length;o++){const a=i[o];(r.containsRange(a)||a.containsRange(r)||r.isEqual(a))&&i.splice(o,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const s=e.sourcePosition,r=e.howMany,o=e.targetPosition;return this._getTransformedByMove(s,o,r,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new ee(i,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ee(this.start);let i=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(i=fe._createAt(s),i.offset=0):(e.deletionPosition.isEqual(i)||(s=e.deletionPosition),i=e.targetPosition),new ee(i,s)):new ee(i,s)}_getTransformedByInsertion(e,i,s=!1){if(s&&this.containsPosition(e))return[new ee(this.start,e),new ee(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const r=new ee(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,i),r.end=r.end._getTransformedByInsertion(e,i),[r]}}_getTransformedByMove(e,i,s,r=!1){if(this.isCollapsed){const p=this.start._getTransformedByMove(e,i,s);return[new ee(p)]}const o=ee._createFromPositionAndShift(e,s),a=i._getTransformedByDeletion(e,s);if(this.containsPosition(i)&&!r&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const p=this.start._getTransformedByMove(e,i,s),v=this.end._getTransformedByMove(e,i,s);return[new ee(p,v)]}let l;const u=this.getDifference(o);let h=null;const m=this.getIntersection(o);if(u.length==1?h=new ee(u[0].start._getTransformedByDeletion(e,s),u[0].end._getTransformedByDeletion(e,s)):u.length==2&&(h=new ee(this.start,this.end._getTransformedByDeletion(e,s))),h?l=h._getTransformedByInsertion(a,s,m!==null||r):l=[],m){const p=new ee(m.start._getCombined(o.start,a),m.end._getCombined(o.start,a));l.length==2?l.splice(1,0,p):l.push(p)}return l}_getTransformedByDeletion(e,i){let s=this.start._getTransformedByDeletion(e,i),r=this.end._getTransformedByDeletion(e,i);return s==null&&r==null?null:(s==null&&(s=e),r==null&&(r=e),new ee(s,r))}static _createFromPositionAndShift(e,i){const s=e,r=e.getShiftedBy(i);return i>0?new this(s,r):new this(r,s)}static _createIn(e){return new this(fe._createAt(e,0),fe._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(fe._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new L("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((o,a)=>o.start.isAfter(a.start)?1:-1);const s=e.indexOf(i),r=new this(i.start,i.end);for(let o=s-1;o>=0&&e[o].end.isEqual(r.start);o--)r.start=fe._createAt(e[o].start);for(let o=s+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=fe._createAt(e[o].end);return r}static fromJSON(e,i){return new this(fe.fromJSON(e.start,i),fe.fromJSON(e.end,i))}}ee.prototype.is=function(n){return n==="range"||n==="model:range"};class Qz extends Xt(){constructor(){super();b(this,"_modelToViewMapping",new WeakMap);b(this,"_viewToModelMapping",new WeakMap);b(this,"_viewToModelLengthCallbacks",new Map);b(this,"_markerNameToElements",new Map);b(this,"_elementToMarkerNames",new Map);b(this,"_deferredBindingRemovals",new Map);b(this,"_unboundMarkerNames",new Set);b(this,"_cache",new H_e);this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new L("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),r=this._viewToModelMapping.get(s),o=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=fe._createAt(r,o)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)&&this._cache.stopTracking(i)}bindElementToMarker(e,i){const s=this._markerNameToElements.get(i)||new Set;s.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,i){const s=this._markerNameToElements.get(i);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(i));const r=this._elementToMarkerNames.get(e);r&&(r.delete(i),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ee(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new vt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const s={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const s=new Set;for(const r of i)if(r.is("attributeElement"))for(const o of r.getElementsWithSameId())s.add(o);else s.add(r);return s}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,s){if(s!=e){const o=this._toModelOffset(e.parent,e.index,s),a=this._toModelOffset(e,i,e);return o+a}if(e.is("$text"))return i;let r=0;for(let o=0;o<i;o++)r+=this.getModelLength(e.getChild(o));return r}getModelLength(e){const i=[e];let s=0;for(;i.length>0;){const r=i.pop(),o=r.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(r.name);if(o)s+=o(r);else if(this._viewToModelMapping.has(r))s+=1;else if(r.is("$text"))s+=r.data.length;else{if(r.is("uiElement"))continue;for(const a of r.getChildren())i.push(a)}}return s}findPositionIn(e,i){if(i===0)return this._moveViewPositionToTextNode(new Re(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const r=this._cache.getClosest(e,i);return this._findPositionStartingFrom(r.viewPosition,r.modelOffset,i,e,!0)}else return this._findPositionStartingFrom(new Re(e,0),0,i,e,!1)}_findPositionStartingFrom(e,i,s,r,o){let a=e.parent,l=e.offset;if(a.is("$text"))return new Re(a,s-i);let u,h=i,m=0;for(;h<s;){if(u=a.getChild(l),!u){if(a==r)throw new L("mapping-model-offset-not-found",this,{modelOffset:s,viewContainer:r});l=a.parent.getChildIndex(a)+1,a=a.parent;continue}m=this.getModelLength(u),h+=m,l++,o&&this._cache.save(a,l,r,h)}return h==s?this._moveViewPositionToTextNode(new Re(a,l)):this._findPositionStartingFrom(new Re(u,0),h-m,s,r,o)}_moveViewPositionToTextNode(e){const i=e.nodeBefore,s=e.nodeAfter;return i&&i.is("view:$text")?new Re(i,i.data.length):s&&s.is("view:$text")?new Re(s,0):e}}class H_e extends Xt(){constructor(){super(...arguments);b(this,"_cachedMapping",new WeakMap);b(this,"_nodeToCacheListIndex",new WeakMap);b(this,"_invalidateOnChildrenChangeCallback",(e,i,s)=>{this._clearCacheInsideParent(i,s.index)});b(this,"_invalidateOnTextChangeCallback",(e,i)=>{this._clearCacheStartingBefore(i)})}save(e,i,s,r){const o=this._cachedMapping.get(s),a=o.cacheMap.get(r);if(a){const m=e.getChild(i-1),p=a.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(a.viewPosition.nodeBefore):0;this._nodeToCacheListIndex.set(m,p);return}const u={viewPosition:new Re(e,i),modelOffset:r};o.maxModelOffset=r>o.maxModelOffset?r:o.maxModelOffset,o.cacheMap.set(r,u);let h=o.cacheList.length-1;for(;h>=0&&o.cacheList[h].modelOffset>r;)h--;if(o.cacheList.splice(h+1,0,u),i>0){const m=e.getChild(i-1);this._nodeToCacheListIndex.set(m,h+1)}}getClosest(e,i){const s=this._cachedMapping.get(e);let r;if(s)if(i>s.maxModelOffset)r=s.cacheList[s.cacheList.length-1];else{const a=s.cacheMap.get(i);a?r=a:r=this._findInCacheList(s.cacheList,i)}else r=this.startTracking(e);const o=this._hoistViewPosition(r.viewPosition);return{modelOffset:r.modelOffset,viewPosition:o}}_hoistViewPosition(e){for(;e.parent.parent&&!this._cachedMapping.has(e.parent)&&e.isAtEnd;){const i=e.parent.parent,s=i.getChildIndex(e.parent)+1;e=new Re(i,s)}return e}startTracking(e){const s={viewPosition:new Re(e,0),modelOffset:0},r={maxModelOffset:0,cacheList:[s],cacheMap:new Map([[0,s]])};return this._cachedMapping.set(e,r),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),s}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,i){if(i==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheStartingBefore(e);else{const s=e.getChild(i-1);this._clearCacheStartingBefore(s)}}_clearCacheAll(e){const i=this._cachedMapping.get(e);i.maxModelOffset>0&&(i.maxModelOffset=0,i.cacheList.length=1,i.cacheMap.clear(),i.cacheMap.set(0,i.cacheList[0]))}_clearCacheStartingBefore(e){const i=this._nodeToCacheListIndex.get(e);if(i===void 0){const r=e.parent;this._cachedMapping.has(r)||this._clearCacheStartingBefore(r);return}let s=e.parent;for(;!this._cachedMapping.has(s);)s=s.parent;this._clearCacheFromIndex(s,i)}_clearCacheFromIndex(e,i){i===0&&(i=1);const s=this._cachedMapping.get(e),r=s.cacheList[i-1];if(!r)return;s.maxModelOffset=r.modelOffset;const o=s.cacheList.splice(i);for(const a of o){s.cacheMap.delete(a.modelOffset);const l=a.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(l)}}_findInCacheList(e,i){let s=0,r=e.length-1,o=r-s>>1,a=e[o];for(;s<r;)a.modelOffset<i?s=o+1:r=o-1,o=s+(r-s>>1),a=e[o];return a.modelOffset<=i?a:e[o-1]}}class $_e{constructor(){b(this,"_consumable",new Map);b(this,"_textProxyRegistry",new Map)}add(t,e){e=Vb(e),t instanceof jr&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Vb(e),t instanceof jr&&(t=this._getSymbolForTextProxy(t)),this.test(t,e)?(this._consumable.get(t).set(e,!1),!0):!1}test(t,e){e=Vb(e),t instanceof jr&&(t=this._getSymbolForTextProxy(t));const i=this._consumable.get(t);if(i===void 0)return null;const s=i.get(e);return s===void 0?null:s}revert(t,e){e=Vb(e),t instanceof jr&&(t=this._getSymbolForTextProxy(t));const i=this.test(t,e);return i===!1?(this._consumable.get(t).set(e,!0),!0):i===!0?!1:null}verifyAllConsumed(t){const e=[];for(const[i,s]of this._consumable)for(const[r,o]of s){const a=r.split(":")[0];o&&t==a&&e.push({event:r,item:i.name||i.description})}if(e.length)throw new L("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const i=this._textProxyRegistry.get(t.startOffset);if(i){const s=i.get(t.endOffset);s&&(e=s.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,i=t.endOffset,s=t.parent,r=Symbol("$textProxy:"+t.data);let o,a;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),a=o.get(i),a||(a=new Map,o.set(i,a)),a.set(s,r),r}}function Vb(n){const t=n.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?n:t.length>1?t[0]+":"+t[1]:t[0]}class ej extends Xt(){constructor(e){super();b(this,"_conversionApi");b(this,"_firedEventsMap");this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,i,s){const r=this._createConversionApi(s,e.getRefreshedItems());for(const a of e.getMarkersToRemove())this._convertMarkerRemove(a.name,a.range,r);const o=this._reduceChanges(e.getChanges());for(const a of o)a.type==="insert"?this._convertInsert(ee._createFromPositionAndShift(a.position,a.length),r):a.type==="reinsert"?this._convertReinsert(ee._createFromPositionAndShift(a.position,a.length),r):a.type==="remove"?this._convertRemove(a.position,a.length,a.name,r):this._convertAttribute(a.range,a.attributeKey,a.attributeOldValue,a.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const a of r.mapper.flushUnboundMarkerNames()){const l=i.get(a).getRange();this._convertMarkerRemove(a,l,r),this._convertMarkerAdd(a,l,r)}for(const a of e.getMarkersToAdd())this._convertMarkerAdd(a.name,a.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,i,s,r={}){const o=this._createConversionApi(s,void 0,r);this._convertInsert(e,o);for(const[a,l]of i)this._convertMarkerAdd(a,l,o);o.consumable.verifyAllConsumed("insert")}convertSelection(e,i,s){const r=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},r);const o=e.getFirstPosition().root;if(!r.mapper.toViewElement(o))return;const a=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,a),this.fire("selection",{selection:e},r),!!e.isCollapsed){for(const l of a)if(r.consumable.test(e,"addMarker:"+l.name)){const u=l.getRange();if(!W_e(e.getFirstPosition(),l,r.mapper))continue;const h={item:e,markerName:l.name,markerRange:u};this.fire(`addMarker:${l.name}`,h,r)}for(const l of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+l)){const u={item:e,range:e.getFirstRange(),attributeKey:l,attributeOldValue:null,attributeNewValue:e.getAttribute(l)};this.fire(`attribute:${l}:$text`,u,r)}}}_convertInsert(e,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const r of e.getWalker({shallow:!0}))this._testAndFire("insert",C8(r),i)}_convertRemove(e,i,s,r){this.fire(`remove:${s}`,{position:e,length:i},r)}_convertAttribute(e,i,s,r,o){this._addConsumablesForRange(o.consumable,e,`attribute:${i}`);for(const a of e){const l={item:a.item,range:ee._createFromPositionAndShift(a.previousPosition,a.length),attributeKey:i,attributeOldValue:s,attributeNewValue:r};this._testAndFire(`attribute:${i}`,l,o)}}_convertReinsert(e,i){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const r of s.map(C8))this._testAndFire("insert",{...r,reconversion:!0},i)}_convertMarkerAdd(e,i,s){if(i.root.rootName=="$graveyard")return;const r=`addMarker:${e}`;if(s.consumable.add(i,r),this.fire(r,{markerName:e,markerRange:i},s),!!s.consumable.consume(i,r)){this._addConsumablesForRange(s.consumable,i,r);for(const o of i.getItems()){if(!s.consumable.test(o,r))continue;const a={item:o,range:ee._createOn(o),markerName:e,markerRange:i};this.fire(r,a,s)}}}_convertMarkerRemove(e,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},s)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const s of i){const r=s.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(const o of r.getAttributeKeys())e.add(r,"attribute:"+o)}}return e}_addConsumablesForRange(e,i,s){for(const r of i.getItems())e.add(r,s);return e}_addConsumablesForSelection(e,i,s){e.add(i,"selection");for(const r of s)e.add(i,"addMarker:"+r.name);for(const r of i.getAttributeKeys())e.add(i,"attribute:"+r);return e}_testAndFire(e,i,s){const r=q_e(e,i),o=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,a=this._firedEventsMap.get(s),l=a.get(o);if(!l)a.set(o,new Set([r]));else if(!l.has(r))l.add(r);else return;this.fire(r,i,s)}_testAndFireAddAttributes(e,i){const s={item:e,range:ee._createOn(e)};for(const r of s.item.getAttributeKeys())s.attributeKey=r,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(r),this._testAndFire(`attribute:${r}`,s,i)}_createConversionApi(e,i=new Set,s={}){const r={...this._conversionApi,consumable:new $_e,writer:e,options:s,convertItem:o=>this._convertInsert(ee._createOn(o),r),convertChildren:o=>this._convertInsert(ee._createIn(o),r,{doNotAddConsumables:!0}),convertAttributes:o=>this._testAndFireAddAttributes(o,r),canReuseView:o=>!i.has(r.mapper.toModelElement(o))};return this._firedEventsMap.set(r,new Map),r}}function W_e(n,t,e){const i=t.getRange(),s=Array.from(n.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(i.containsItem(o))return!!e.toViewElement(o).getCustomProperty("addHighlight")})}function q_e(n,t){const e=t.item.is("element")?t.item.name:"$text";return`${n}:${e}`}function C8(n){return{item:n.item,range:ee._createFromPositionAndShift(n.previousPosition,n.length)}}let $u=class extends kc{constructor(e){super();b(this,"parent",null);b(this,"_attrs");b(this,"_index",null);b(this,"_startOffset",null);this._attrs=Kr(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),r=e.getAncestors(i);let o=0;for(;s[o]==r[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),r=$i(i,s);switch(r){case"prefix":return!0;case"extension":return!1;default:return i[r]<s[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=Kr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};$u.prototype.is=function(n){return n==="node"||n==="model:node"};class Ls extends Xt(kc){constructor(...e){super();b(this,"_lastRangeBackward",!1);b(this,"_attrs",new Map);b(this,"_ranges",[]);e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const r of e._ranges)if(i.isEqual(r)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ee(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)(!e||i.start.isBefore(e.start))&&(e=i);return e?new ee(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)(!e||i.end.isAfter(e.end))&&(e=i);return e?new ee(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,s,r]=e;if(typeof s=="object"&&(r=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof Ls)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof ee)this._setRanges([i],!!r&&!!r.backward);else if(i instanceof fe)this._setRanges([new ee(i)]);else if(i instanceof $u){const o=!!r&&!!r.backward;let a;if(s=="in")a=ee._createIn(i);else if(s=="on")a=ee._createOn(i);else if(s!==void 0)a=new ee(fe._createAt(i,s));else throw new L("model-selection-setto-required-second-parameter",[this,i]);this._setRanges([a],o)}else if(Ws(i))this._setRanges(i,r&&!!r.backward);else throw new L("model-selection-setto-not-selectable",[this,i])}_setRanges(e,i=!1){const s=Array.from(e),r=s.some(o=>{if(!(o instanceof ee))throw new L("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(a=>!a.isEqual(o))});s.length===this._ranges.length&&!r||(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new L("model-selection-setfocus-no-ranges",[this,e]);const s=fe._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(r)=="before"?(this._pushRange(new ee(s,r)),this._lastRangeBackward=!0):(this._pushRange(new ee(r,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const s=E8(i.start,e);Y_e(s,i)&&(yield s);const r=i.getWalker();for(const a of r){const l=a.item;a.type=="elementEnd"&&G_e(l,e,i)?yield l:a.type=="elementStart"&&l.is("model:element")&&l.root.document.model.schema.isBlock(l)&&r.jumpTo(fe._createAt(l,"end"))}const o=E8(i.end,e);Z_e(o,i)&&(yield o)}}containsEntireContent(e=this.anchor.root){const i=fe._createAt(e,0),s=fe._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ee(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new L("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Ls.prototype.is=function(n){return n==="selection"||n==="model:selection"};function tj(n,t){return t.has(n)?!1:(t.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function G_e(n,t,e){return tj(n,t)&&v5(n,e)}function E8(n,t){const i=n.parent.root.document.model.schema,s=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(a=>r?!1:(r=i.isLimit(a),!r&&tj(a,t)));return s.forEach(a=>t.add(a)),o}function v5(n,t){const e=K_e(n);return e?!t.containsRange(ee._createOn(e),!0):!0}function Y_e(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.start.isTouching(fe._createAt(n,n.maxOffset))?!1:v5(n,t):!1}function Z_e(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.end.isTouching(fe._createAt(n,0))?!1:v5(n,t):!1}function K_e(n){const t=n.root.document.model.schema;let e=n.parent;for(;e;){if(t.isBlock(e))return e;e=e.parent}}class ns extends Xt(ee){constructor(t,e){super(t,e),X_e.call(this)}detach(){this.stopListening()}toRange(){return new ee(this.start,this.end)}static fromRange(t){return new ns(t.start,t.end)}}ns.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function X_e(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&J_e.call(this,e)},{priority:"low"})}function J_e(n){const t=this.getTransformedByOperation(n),e=ee._createFromRanges(t),i=!e.isEqual(this),s=Q_e(this,n);let r=null;if(i){e.root.rootName=="$graveyard"&&(n.type=="remove"?r=n.sourcePosition:r=n.deletionPosition);const o=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function Q_e(n,t){switch(t.type){case"insert":return n.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(t.sourcePosition)||n.start.isEqual(t.sourcePosition)||n.containsPosition(t.targetPosition);case"split":return n.containsPosition(t.splitPosition)||n.containsPosition(t.insertionPosition)}return!1}class gn extends $u{constructor(e,i){super(i);b(this,"_data");this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new gn(this.data,this.getAttributes())}static fromJSON(e){return new gn(e.data,e.attributes)}}gn.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const Qg="selection:";class Xr extends Xt(kc){constructor(e){super();b(this,"_selection");this._selection=new e2e(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Qg+e}static _isStoreAttributeKey(e){return e.startsWith(Qg)}}Xr.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class e2e extends Ls{constructor(e){super();b(this,"markers",new kn({idProperty:"name"}));b(this,"_model");b(this,"_document");b(this,"_attributePriority",new Map);b(this,"_selectionRestorePosition",null);b(this,"_hasChangedRange",!1);b(this,"_overriddenGravityRegister",new Set);b(this,"_observedMarkers",new Set);this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,s)=>{const r=s[0];!r.isDocumentOperation||r.type=="marker"||r.type=="rename"||r.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,r,o)=>{this._updateMarker(s,o)}),this.listenTo(this._document,"change",(i,s)=>{t2e(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=mi();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new L("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new L("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=ns.fromRange(e);return i.on("change:range",(s,r,o)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=o.deletionPosition;const a=this._ranges.indexOf(i);this._ranges.splice(a,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const r of this._model.markers){const o=r.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;const a=r.getRange();for(const l of this.getRanges())a.containsRange(l,!l.isCollapsed)&&e.push(r)}const s=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),i=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,i){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let r=!1;const o=Array.from(this.markers),a=this.markers.has(e);if(!i)a&&(this.markers.remove(e),r=!0);else{let l=!1;for(const u of this.getRanges())if(i.containsRange(u,!u.isCollapsed)){l=!0;break}l&&!a?(this.markers.add(e),r=!0):!l&&a&&(this.markers.remove(e),r=!0)}r&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(e){const i=Kr(this._getSurroundingAttributes()),s=Kr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,a]of this._attributePriority)a=="low"&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(i);const r=[];for(const[o,a]of this.getAttributes())(!s.has(o)||s.get(o)!==a)&&r.push(o);for(const[o]of s)this.hasAttribute(o)||r.push(o);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,i,s=!0){const r=s?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===i?!1:(this._attrs.set(e,i),this._attributePriority.set(e,r),!0)}_removeAttribute(e,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,s),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const i=new Set;for(const[s,r]of this.getAttributes())e.get(s)!==r&&this._removeAttribute(s,!1);for(const[s,r]of e)this._setAttribute(s,r,!1)&&i.add(s);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(Qg)&&(yield[i.substr(Qg.length),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=Pm(r,i)),s||(s=Pm(o,i)),!this.isGravityOverridden&&!s){let a=r;for(;a&&!s;)a=a.previousSibling,s=Pm(a,i)}if(!s){let a=o;for(;a&&!s;)a=a.nextSibling,s=Pm(a,i)}s||(s=this.getStoredAttributes())}else{const r=this.getFirstRange();for(const o of r){if(o.item.is("element")&&i.isObject(o.item)){s=Pm(o.item,i);break}if(o.type=="text"){s=o.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Pm(n,t){if(!n)return null;if(n instanceof jr||n instanceof gn)return n.getAttributes();if(!t.isInline(n))return null;if(!t.isObject(n))return[];const e=[];for(const[i,s]of n.getAttributes())t.checkAttribute("$text",i)&&t.getAttributeProperties(i).copyFromObject!==!1&&e.push([i,s]);return e}function t2e(n,t){const e=n.document.differ;for(const i of e.getChanges()){if(i.type!="insert")continue;const s=i.position.parent;i.length===s.maxOffset&&n.enqueueChange(t,o=>{const a=Array.from(s.getAttributeKeys()).filter(l=>l.startsWith(Qg));for(const l of a)o.removeAttribute(l,s)})}}class ug{constructor(t){b(this,"_nodes",[]);b(this,"_offsetToNode",[]);t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(t){return this._nodes[t]||null}getNodeAtOffset(t){return this._offsetToNode[t]||null}getNodeIndex(t){return t.index}getNodeStartOffset(t){return t.startOffset}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new L("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){if(t==this._offsetToNode.length)return this._nodes.length;const e=this._offsetToNode[t];if(!e)throw new L("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.getNodeIndex(e)}_insertNodes(t,e){const i=[];for(const r of e){if(!(r instanceof $u))throw new L("model-nodelist-insertnodes-not-node",this);i.push(r)}let s=this.indexToOffset(t);l8(this._nodes,i,t),l8(this._offsetToNode,n2e(i),s);for(let r=t;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=s,s+=this._nodes[r].offsetSize}_removeNodes(t,e=1){if(e==0)return[];let i=this.indexToOffset(t);const s=this._nodes.splice(t,e),r=s[s.length-1],o=r.startOffset+r.offsetSize-i;this._offsetToNode.splice(i,o);for(const a of s)a._index=null,a._startOffset=null;for(let a=t;a<this._nodes.length;a++)this._nodes[a]._index=a,this._nodes[a]._startOffset=i,i+=this._nodes[a].offsetSize;return s}_removeNodesArray(t){if(t.length==0)return;for(const i of t)i._index=null,i._startOffset=null;this._nodes=this._nodes.filter(i=>i.index!==null),this._offsetToNode=this._offsetToNode.filter(i=>i.index!==null);let e=0;for(let i=0;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=e,e+=this._nodes[i].offsetSize}toJSON(){return this._nodes.map(t=>t.toJSON())}}function n2e(n){const t=[];let e=0;for(const i of n)for(let s=0;s<i.offsetSize;s++)t[e++]=i;return t}let yn=class v1 extends $u{constructor(e,i,s){super(i);b(this,"name");b(this,"_children",new ug);this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const s of e)i=i.getChildAtOffset(s);return i}findAncestor(e,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?s2e(this._children):void 0;return new v1(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=i2e(i);for(const r of s)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const r of s)r.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const i of e)i.parent=null}static fromJSON(e){let i;if(e.children){i=[];for(const s of e.children)s.name?i.push(v1.fromJSON(s)):i.push(gn.fromJSON(s))}return new v1(e.name,e.attributes,i)}};yn.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function i2e(n){if(typeof n=="string")return[new gn(n)];Ws(n)||(n=[n]);const t=[];for(const e of n)typeof e=="string"?t.push(new gn(e)):e instanceof jr?t.push(new gn(e.data,e.getAttributes())):t.push(e);return t}function s2e(n){const t=[];for(const e of n)t.push(e._clone(!0));return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class nj{constructor(t){b(this,"_dispatchers");this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class r2e extends nj{elementToElement(t){return this.add(k2e(t))}elementToStructure(t){return this.add(C2e(t))}attributeToElement(t){return this.add(E2e(t))}attributeToAttribute(t){return this.add(T2e(t))}markerToElement(t){return this.add(S2e(t))}markerToHighlight(t){return this.add(I2e(t))}markerToData(t){return this.add(A2e(t))}}function ij(){return(n,t,e)=>{if(!e.consumable.consume(t.item,n.name))return;const i=e.writer,s=e.mapper.toViewPosition(t.range.start),r=i.createText(t.item.data);i.insert(s,r)}}function sj(){return(n,t,e)=>{e.convertAttributes(t.item),!t.reconversion&&t.item.is("element")&&!t.item.isEmpty&&e.convertChildren(t.item)}}function o2e(){return(n,t,e)=>{const i=e.mapper.toViewPosition(t.position),s=t.position.getShiftedBy(t.length),r=e.mapper.toViewPosition(s,{isPhantom:!0}),o=e.writer.createRange(i,r),a=e.writer.remove(o.getTrimmed());for(const l of e.writer.createRangeIn(a).getItems())e.mapper.unbindViewElement(l,{defer:!0})}}function rj(n,t){const e=n.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function a2e(){return(n,t,e)=>{const i=t.selection;if(i.isCollapsed||!e.consumable.consume(i,"selection"))return;const s=[];for(const r of i.getRanges())s.push(e.mapper.toViewRange(r));e.writer.setSelection(s,{backward:i.isBackward})}}function l2e(){return(n,t,e)=>{const i=t.selection;if(!i.isCollapsed||!e.consumable.consume(i,"selection"))return;const s=e.writer,r=i.getFirstPosition(),o=e.mapper.toViewPosition(r),a=s.breakAttributes(o);s.setSelection(a)}}function c2e(){return(n,t,e)=>{const i=e.writer,s=i.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&e.writer.mergeAttributes(r.start);i.setSelection(null)}}function u2e(n){return(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const s=n(e.attributeOldValue,i,e),r=n(e.attributeNewValue,i,e);if(!s&&!r)return;i.consumable.consume(e.item,t.name);const o=i.writer,a=o.document.selection;if(e.item instanceof Ls||e.item instanceof Xr)o.wrap(a.getFirstRange(),r);else{let l=i.mapper.toViewRange(e.range);e.attributeOldValue!==null&&s&&(l=o.unwrap(l,s)),e.attributeNewValue!==null&&r&&o.wrap(l,r)}}}function d2e(n,t=N2e){return(e,i,s)=>{if(!t(i.item,s.consumable,{preflight:!0}))return;const r=n(i.item,s,i);if(!r)return;t(i.item,s.consumable);const o=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,r),s.writer.insert(o,r),s.convertAttributes(i.item),uj(r,i.item.getChildren(),s,{reconversion:i.reconversion})}}function h2e(n,t){return(e,i,s)=>{if(!t(i.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory(O2e(i.item,r,s));const o=n(i.item,s,i);if(s.writer._clearSlotFactory(),!o)return;M2e(i.item,r,s),t(i.item,s.consumable);const a=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,o),s.writer.insert(a,o),s.convertAttributes(i.item),D2e(o,r,s,{reconversion:i.reconversion})}}function f2e(n){return(t,e,i)=>{e.isOpening=!0;const s=n(e,i);e.isOpening=!1;const r=n(e,i);if(!s||!r)return;const o=e.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,t.name))return;for(const u of o)if(!i.consumable.consume(u.item,t.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(o.start),s),i.mapper.bindElementToMarker(s,e.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),r),i.mapper.bindElementToMarker(r,e.markerName)),t.stop()}}function m2e(){return(n,t,e)=>{const i=e.mapper.markerNameToElements(t.markerName);if(i){for(const s of i)e.mapper.unbindElementFromMarkerName(s,t.markerName),e.writer.clear(e.writer.createRangeOn(s),s);e.writer.clearClonedElementsGroup(t.markerName),n.stop()}}}function g2e(n){return(t,e,i)=>{const s=n(e.markerName,i);if(!s)return;const r=e.markerRange;i.consumable.consume(r,t.name)&&(T8(r,!1,i,e,s),T8(r,!0,i,e,s),t.stop())}}function T8(n,t,e,i,s){const r=t?n.start:n.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||a){let u,h;t&&o||!t&&!a?(u=o,h=!0):(u=a,h=!1);const m=e.mapper.toViewElement(u);if(m){p2e(m,t,h,e,i,s);return}}const l=e.mapper.toViewPosition(r);b2e(l,t,e,i,s)}function p2e(n,t,e,i,s,r){const o=`data-${r.group}-${t?"start":"end"}-${e?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(r.name),i.writer.setAttribute(o,a.join(","),n),i.mapper.bindElementToMarker(n,s.markerName)}function b2e(n,t,e,i,s){const r=`${s.group}-${t?"start":"end"}`,o=s.name?{name:s.name}:null,a=e.writer.createUIElement(r,o);e.writer.insert(n,a),e.mapper.bindElementToMarker(a,i.markerName)}function v2e(n){return(t,e,i)=>{const s=n(e.markerName,i);if(!s)return;const r=i.mapper.markerNameToElements(e.markerName);if(!r)return;for(const a of r)i.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("containerElement")?(o(`data-${s.group}-start-before`,a),o(`data-${s.group}-start-after`,a),o(`data-${s.group}-end-before`,a),o(`data-${s.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(e.markerName),t.stop();function o(a,l){if(l.hasAttribute(a)){const u=new Set(l.getAttribute(a).split(","));u.delete(s.name),u.size==0?i.writer.removeAttribute(a,l):i.writer.setAttribute(a,Array.from(u).join(","),l)}}}}function w2e(n){return(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const s=n(e.attributeOldValue,i,e),r=n(e.attributeNewValue,i,e);if(!s&&!r)return;i.consumable.consume(e.item,t.name);const o=i.mapper.toViewElement(e.item),a=i.writer;if(!o)throw new L("conversion-attribute-to-attribute-on-text",i.dispatcher,e);if(e.attributeOldValue!==null&&s){let l=s.value;s.key=="style"&&(typeof s.value=="string"?l=new Th(a.document.stylesProcessor).setTo(s.value).getStylesEntries().map(([u])=>u):l=Object.keys(s.value)),a.removeAttribute(s.key,l,o)}if(e.attributeNewValue!==null&&r){let l=r.value;r.key=="style"&&typeof r.value=="string"&&(l=Object.fromEntries(new Th(a.document.stylesProcessor).setTo(r.value).getStylesEntries())),a.setAttribute(r.key,l,!1,o)}}}function y2e(n){return(t,e,i)=>{if(!e.item||!(e.item instanceof Ls||e.item instanceof Xr)&&!e.item.is("$textProxy"))return;const s=w5(n,e,i);if(!s||!i.consumable.consume(e.item,t.name))return;const r=i.writer,o=rj(r,s),a=r.document.selection;if(e.item instanceof Ls||e.item instanceof Xr)r.wrap(a.getFirstRange(),o);else{const l=i.mapper.toViewRange(e.range),u=r.wrap(l,o);for(const h of u.getItems())if(h.is("attributeElement")&&h.isSimilar(o)){i.mapper.bindElementToMarker(h,e.markerName);break}}}}function _2e(n){return(t,e,i)=>{if(!e.item||!(e.item instanceof yn))return;const s=w5(n,e,i);if(!s||!i.consumable.test(e.item,t.name))return;const r=i.mapper.toViewElement(e.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(e.item,t.name);for(const a of ee._createIn(e.item))i.consumable.consume(a.item,t.name);r.getCustomProperty("addHighlight")(r,s,i.writer),i.mapper.bindElementToMarker(r,e.markerName)}}}function x2e(n){return(t,e,i)=>{if(e.markerRange.isCollapsed)return;const s=w5(n,e,i);if(!s)return;const r=rj(i.writer,s),o=i.mapper.markerNameToElements(e.markerName);if(o){for(const a of o)i.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),r):a.getCustomProperty("removeHighlight")(a,s.id,i.writer);i.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function k2e(n){const t=oj(n.model),e=ep(n.view,"container");return t.attributes.length&&(t.children=!0),i=>{i.on(`insert:${t.name}`,d2e(e,cj(t)),{priority:n.converterPriority||"normal"}),(t.children||t.attributes.length)&&i.on("reduceChanges",lj(t),{priority:"low"})}}function C2e(n){const t=oj(n.model),e=ep(n.view,"container");return t.children=!0,i=>{if(i._conversionApi.schema.checkChild(t.name,"$text"))throw new L("conversion-element-to-structure-disallowed-text",i,{elementName:t.name});i.on(`insert:${t.name}`,h2e(e,cj(t)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",lj(t),{priority:"low"})}}function E2e(n){n=Er(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const s of t.values)n.view[s]=ep(n.view[s],"attribute");else n.view=ep(n.view,"attribute");const i=aj(n);return s=>{s.on(e,u2e(i),{priority:n.converterPriority||"normal"})}}function T2e(n){n=Er(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const s of t.values)n.view[s]=S8(n.view[s]);else n.view=S8(n.view);const i=aj(n);return s=>{s.on(e,w2e(i),{priority:n.converterPriority||"normal"})}}function S2e(n){const t=ep(n.view,"ui");return e=>{e.on(`addMarker:${n.model}`,f2e(t),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,m2e(),{priority:n.converterPriority||"normal"})}}function A2e(n){n=Er(n);const t=n.model;let e=n.view;return e||(e=i=>({group:t,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${t}`,g2e(e),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${t}`,v2e(e),{priority:n.converterPriority||"normal"})}}function I2e(n){return t=>{t.on(`addMarker:${n.model}`,y2e(n.view),{priority:n.converterPriority||"normal"}),t.on(`addMarker:${n.model}`,_2e(n.view),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,x2e(n.view),{priority:n.converterPriority||"normal"})}}function oj(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?qt(n.attributes):[],children:!!n.children}}function ep(n,t){return typeof n=="function"?n:(e,i)=>R2e(n,i,t)}function R2e(n,t,e){typeof n=="string"&&(n={name:n});let i;const s=t.writer,r=Object.assign({},n.attributes);if(e=="container")i=s.createContainerElement(n.name,r);else if(e=="attribute"){const o={priority:n.priority||fu.DEFAULT_PRIORITY};i=s.createAttributeElement(n.name,r,o)}else i=s.createUIElement(n.name,r);if(n.styles){const o=Object.keys(n.styles);for(const a of o)s.setStyle(a,n.styles[a],i)}if(n.classes){const o=n.classes;if(typeof o=="string")s.addClass(o,i);else for(const a of o)s.addClass(a,i)}return i}function aj(n){return n.model.values?(t,e,i)=>{const s=n.view[t];return s?s(t,e,i):null}:n.view}function S8(n){return typeof n=="string"?t=>({key:n,value:t}):typeof n=="object"?n.value?()=>n:t=>({key:n.key,value:t}):n}function w5(n,t,e){const i=typeof n=="function"?n(t,e):n;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function P2e(n){return(t,e)=>{if(!t.is("element",n.name))return!1;if(e.type=="attribute"){if(n.attributes.includes(e.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function lj(n){const t=P2e(n);return(e,i)=>{const s=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const r of i.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!t(o,r)){s.push(r);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const a=fe._createBefore(o);let l=s.length;for(let u=s.length-1;u>=0;u--){const h=s[u],p=(h.type=="attribute"?h.range.start:h.position).compareWith(a);if(p=="before"||h.type=="remove"&&p=="same")break;l=u}s.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}i.changes=s}}function cj(n){return(t,e,i={})=>{const s=["insert"];for(const r of n.attributes)t.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>e.test(t,r))?(i.preflight||s.forEach(r=>e.consume(t,r)),!0):!1}}function O2e(n,t,e){return(i,s)=>{const r=i.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(n.getChildren());else if(typeof s=="function")o=Array.from(n.getChildren()).filter(a=>s(a));else throw new L("conversion-slot-mode-unknown",e.dispatcher,{modeOrFilter:s});return t.set(r,o),r}}function M2e(n,t,e){const i=Array.from(t.values()).flat(),s=new Set(i);if(s.size!=i.length)throw new L("conversion-slot-filter-overlap",e.dispatcher,{element:n});if(s.size!=n.childCount)throw new L("conversion-slot-filter-incomplete",e.dispatcher,{element:n})}function D2e(n,t,e,i){e.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of t)uj(n,r,e,i),e.writer.move(e.writer.createRangeIn(s),e.writer.createPositionBefore(s)),e.writer.remove(s);e.mapper.off("modelToViewPosition",o);function o(a,l){const u=l.modelPosition.nodeAfter,h=r.indexOf(u);h<0||(l.viewPosition=l.mapper.findPositionIn(s,h))}}function uj(n,t,e,i){for(const s of t)V2e(n.root,s,e,i)||e.convertItem(s)}function V2e(n,t,e,i){const{writer:s,mapper:r}=e;if(!i.reconversion)return!1;const o=r.toViewElement(t);return!o||o.root==n||!e.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(fe._createBefore(t))),!0)}function N2e(n,t,{preflight:e}={}){return e?t.test(n,"insert"):t.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function dj(n){const{schema:t,document:e}=n.model;for(const i of e.getRoots())if(i.isEmpty&&!t.checkChild(i,"$text")&&t.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function hj(n,t,e){const i=e.createContext(n);return!(!e.checkChild(i,"paragraph")||!e.checkChild(i.push("paragraph"),t))}function fj(n,t){const e=t.createElement("paragraph");return t.insert(e,n),t.createPositionAt(e,0)}class L2e extends nj{elementToElement(t){return this.add(mj(t))}elementToAttribute(t){return this.add(z2e(t))}attributeToAttribute(t){return this.add(j2e(t))}elementToMarker(t){return this.add(U2e(t))}dataToMarker(t){return this.add(H2e(t))}}function A8(){return(n,t,e)=>{if(!t.modelRange&&e.consumable.consume(t.viewItem,{name:!0})){const{modelRange:i,modelCursor:s}=e.convertChildren(t.viewItem,t.modelCursor);t.modelRange=i,t.modelCursor=s}}}function B2e(){return(n,t,{schema:e,consumable:i,writer:s})=>{let r=t.modelCursor;if(!i.test(t.viewItem))return;if(!e.checkChild(r,"$text")){if(!hj(r,"$text",e)||t.viewItem.data.trim().length==0)return;r=fj(r,s)}i.consume(t.viewItem);const o=s.createText(t.viewItem.data);s.insert(o,r),t.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),t.modelCursor=t.modelRange.end}}function F2e(n,t){return(e,i)=>{const s=i.newSelection,r=[];for(const a of s.getRanges())r.push(t.toModelRange(a));const o=n.createSelection(r,{backward:s.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function mj(n){n=Er(n);const t=mE(n),e=y5(n.view),i=e?`element:${e}`:"element";return s=>{s.on(i,t,{priority:n.converterPriority||"normal"})}}function z2e(n){n=Er(n),gj(n);const t=pj(n,!1),e=y5(n.view),i=e?`element:${e}`:"element";return s=>{s.on(i,t,{priority:n.converterPriority||"low"})}}function j2e(n){n=Er(n);let t=null;(typeof n.view=="string"||n.view.key)&&(t=q2e(n)),gj(n,t);const e=pj(n,!0);return i=>{i.on("element",e,{priority:n.converterPriority||"low"})}}function U2e(n){const t=Z2e(n.model);return mj({...n,model:t})}function H2e(n){n=Er(n),n.model||(n.model=s=>s?n.view+":"+s:n.view);const t={view:n.view,model:n.model},e=mE(I8(t,"start")),i=mE(I8(t,"end"));return s=>{s.on(`element:${n.view}-start`,e,{priority:n.converterPriority||"normal"}),s.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const r=Bs.low,o=Bs.highest,a=Bs.get(n.converterPriority)/o;s.on("element",$2e(t),{priority:r+a})}}function $2e(n){return(t,e,i)=>{const s=`data-${n.view}`;if(!i.consumable.test(e.viewItem,{attributes:s+"-end-after"})&&!i.consumable.test(e.viewItem,{attributes:s+"-start-after"})&&!i.consumable.test(e.viewItem,{attributes:s+"-end-before"})&&!i.consumable.test(e.viewItem,{attributes:s+"-start-before"}))return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor)),i.consumable.consume(e.viewItem,{attributes:s+"-end-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(s+"-end-after").split(",")),i.consumable.consume(e.viewItem,{attributes:s+"-start-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(s+"-start-after").split(",")),i.consumable.consume(e.viewItem,{attributes:s+"-end-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(s+"-end-before").split(",")),i.consumable.consume(e.viewItem,{attributes:s+"-start-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(s+"-start-before").split(","));function r(o,a){for(const l of a){const u=n.model(l,i),h=i.writer.createElement("$marker",{"data-name":u});i.writer.insert(h,o),e.modelCursor.isEqual(o)?e.modelCursor=e.modelCursor.getShiftedBy(1):e.modelCursor=e.modelCursor._getTransformedByInsertion(o,1),e.modelRange=e.modelRange._getTransformedByInsertion(o,1)[0]}}}}function y5(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function mE(n){const t=new ls(n.view);return(e,i,s)=>{const r=t.match(i.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(i.viewItem,o))return;const a=W2e(n.model,i.viewItem,s);a&&s.safeInsert(a,i.modelCursor)&&(s.consumable.consume(i.viewItem,o),s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i))}}function W2e(n,t,e){return n instanceof Function?n(t,e):e.writer.createElement(n)}function q2e(n){typeof n.view=="string"&&(n.view={key:n.view});const t=n.view.key,e=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let i;return t=="class"||t=="style"?i={[t=="class"?"classes":"styles"]:e}:i={attributes:{[t]:e}},n.view.name&&(i.name=n.view.name),n.view=i,t}function gj(n,t=null){const e=t===null?!0:r=>r.getAttribute(t),i=typeof n.model!="object"?n.model:n.model.key,s=typeof n.model!="object"||typeof n.model.value>"u"?e:n.model.value;n.model={key:i,value:s}}function pj(n,t){const e=new ls(n.view);return(i,s,r)=>{if(!s.modelRange&&t)return;const o=e.match(s.viewItem);if(!o||(G2e(n.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(s.viewItem,r):n.model.value;if(l===null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),Y2e(s.modelRange,{key:a,value:l},t,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function G2e(n,t){const e=typeof n=="function"?n(t):n;return typeof e=="object"&&!y5(e)?!1:!e.classes&&!e.attributes&&!e.styles}function Y2e(n,t,e,i){let s=!1;for(const r of Array.from(n.getItems({shallow:e})))i.schema.checkAttribute(r,t.key)&&(s=!0,!r.hasAttribute(t.key)&&i.writer.setAttribute(t.key,t.value,r));return s}function Z2e(n){return(t,e)=>{const i=typeof n=="string"?n:n(t,e);return e.writer.createElement("$marker",{"data-name":i})}}function I8(n,t){const e=(i,s)=>{const r=i.getAttribute("name"),o=n.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${t}`,model:e}}function K2e(n){n.document.registerPostFixer(t=>X2e(t,n))}function X2e(n,t){const e=t.document.selection,i=t.schema,s=[];let r=!1;for(const o of e.getRanges()){const a=bj(o,i);a&&!a.isEqual(o)?(s.push(a),r=!0):s.push(o)}return r&&n.setSelection(txe(s),{backward:e.isBackward}),!1}function bj(n,t){return n.isCollapsed?J2e(n,t):Q2e(n,t)}function J2e(n,t){const e=n.start,i=t.getNearestSelectionRange(e);if(!i){const r=e.getAncestors().reverse().find(o=>t.isObject(o));return r?ee._createOn(r):null}if(!i.isCollapsed)return i;const s=i.start;return e.isEqual(s)?null:new ee(s)}function Q2e(n,t){const{start:e,end:i}=n,s=t.checkChild(e,"$text"),r=t.checkChild(i,"$text"),o=t.getLimitElement(e),a=t.getLimitElement(i);if(o===a){if(s&&r)return null;if(exe(e,i,t)){const m=e.nodeAfter&&t.isSelectable(e.nodeAfter)?null:t.getNearestSelectionRange(e,"forward"),v=i.nodeBefore&&t.isSelectable(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward"),_=m?m.start:e,k=v?v.end:i;return new ee(_,k)}}const l=o&&!o.is("rootElement"),u=a&&!a.is("rootElement");if(l||u){const h=e.nodeAfter&&i.nodeBefore&&e.nodeAfter.parent===i.nodeBefore.parent,m=l&&(!h||!P8(e.nodeAfter,t)),p=u&&(!h||!P8(i.nodeBefore,t));let v=e,_=i;return m&&(v=fe._createBefore(R8(o,t))),p&&(_=fe._createAfter(R8(a,t))),new ee(v,_)}return null}function R8(n,t){let e=n,i=e;for(;t.isLimit(i)&&i.parent;)e=i,i=i.parent;return e}function exe(n,t,e){const i=n.nodeAfter&&!e.isLimit(n.nodeAfter)||e.checkChild(n,"$text"),s=t.nodeBefore&&!e.isLimit(t.nodeBefore)||e.checkChild(t,"$text");return i||s}function txe(n){const t=[...n],e=new Set;let i=1;for(;i<t.length;){const r=t[i],o=t.slice(0,i);for(const[a,l]of o.entries())if(!e.has(a)){if(r.isEqual(l))e.add(a);else if(r.isIntersecting(l)){e.add(a),e.add(i);const u=r.getJoined(l);t.push(u)}}i++}return t.filter((r,o)=>!e.has(o))}function P8(n,t){return n&&t.isSelectable(n)}class nxe extends Wt(){constructor(e,i){super();b(this,"model");b(this,"view");b(this,"mapper");b(this,"downcastDispatcher");this.model=e,this.view=new j_e(i),this.mapper=new Qz,this.downcastDispatcher=new ej({mapper:this.mapper,schema:e.schema});const s=this.model.document,r=s.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(a=>{this.downcastDispatcher.convertChanges(s.differ,o,a),this.downcastDispatcher.convertSelection(r,o,a)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",F2e(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",ixe(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",ij(),{priority:"lowest"}),this.downcastDispatcher.on("insert",sj(),{priority:"lowest"}),this.downcastDispatcher.on("remove",o2e(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",c2e()),this.downcastDispatcher.on("selection",a2e(),{priority:"low"}),this.downcastDispatcher.on("selection",l2e(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(a=>{if(a.rootName=="$graveyard")return null;const l=new jz(this.view.document,a.name);return l.rootName=a.rootName,this.mapper.bindElements(a,l),l})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new L("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function ixe(n,t,e){return(i,s)=>{if(!(e.document.isComposing&&!Ge.isAndroid))for(let r=0;r<s.targetRanges.length;r++){const o=s.targetRanges[r],a=n.toModelRange(o),l=bj(a,t);!l||l.isEqual(a)||(s.targetRanges[r]=n.toViewRange(l))}}}class sxe extends Wt(){constructor(){super();b(this,"_sourceDefinitions",{});b(this,"_attributeProperties",Object.create(null));b(this,"_customChildChecks",new Map);b(this,"_customAttributeChecks",new Map);b(this,"_genericCheckSymbol",Symbol("$generic"));b(this,"_compiledDefinitions");this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new Ql(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new Ql(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new L("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new L("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return typeof e=="string"?i=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?i="$text":i=e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!!(i&&i.isBlock)}isLimit(e){const i=this.getDefinition(e);return i?!!(i.isLimit||i.isObject):!1}isObject(e){const i=this.getDefinition(e);return i?!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent):!1}isInline(e){const i=this.getDefinition(e);return!!(i&&i.isInline)}isSelectable(e){const i=this.getDefinition(e);return i?!!(i.isSelectable||i.isObject):!1}isContent(e){const i=this.getDefinition(e);return i?!!(i.isContent||i.isObject):!1}checkChild(e,i){return i?this._checkContextMatch(e,i):!1}checkAttribute(e,i){const s=this.getDefinition(e.last);if(!s)return!1;const r=this._evaluateAttributeChecks(e,i);return r!==void 0?r:s.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof fe){const s=e.nodeBefore,r=e.nodeAfter;if(!(s instanceof yn))throw new L("schema-check-merge-no-element-before",this);if(!(r instanceof yn))throw new L("schema-check-merge-no-element-after",this);return this.checkMerge(s,r)}if(this.isLimit(e)||this.isLimit(i))return!1;for(const s of i.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e,i){const s=i!==void 0?i:this._genericCheckSymbol,r=this._customChildChecks.get(s)||[];r.push(e),this._customChildChecks.set(s,r)}addAttributeCheck(e,i){const s=i!==void 0?i:this._genericCheckSymbol,r=this._customAttributeChecks.get(s)||[];r.push(e),this._customAttributeChecks.set(s,r)}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let i;for(e instanceof fe?i=e.parent:i=(e instanceof ee?[e]:Array.from(e.getRanges())).reduce((r,o)=>{const a=o.getCommonAncestor();return r?r.getCommonAncestor(a,{includeSelf:!0}):a},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new gn("",e.getAttributes())];return this.checkAttribute(r,i)}else{const s=e.getRanges();for(const r of s)for(const o of r)if(this.checkAttribute(o.item,i))return!0}return!1}*getValidRanges(e,i){e=yxe(e);for(const s of e)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ee(e);let s,r;const o=e.getAncestors().reverse().find(a=>this.isLimit(a))||e.root;(i=="both"||i=="backward")&&(s=new Ra({boundaries:ee._createIn(o),startPosition:e,direction:"backward"})),(i=="both"||i=="forward")&&(r=new Ra({boundaries:ee._createIn(o),startPosition:e}));for(const a of wxe(s,r)){const l=a.walker==s?"elementEnd":"elementStart",u=a.value;if(u.type==l&&this.isObject(u.item))return ee._createOn(u.item);if(this.checkChild(u.nextPosition,"$text"))return new ee(u.nextPosition)}return null}findAllowedParent(e,i){let s=e.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,i,s){const r=s.model;for(const[o,a]of Object.entries(i))r.schema.checkAttribute(e,o)&&s.setAttribute(o,a,e)}removeDisallowedAttributes(e,i){for(const s of e)if(s.is("$text"))O8(this,s,i);else{const o=ee._createIn(s).getPositions();for(const a of o){const l=a.nodeBefore||a.parent;O8(this,l,i)}}}getAttributesWithProperty(e,i,s){const r={};for(const[o,a]of e.getAttributes()){const l=this.getAttributeProperties(o);l[i]!==void 0&&(s===void 0||s===l[i])&&(r[o]=a)}return r}createContext(e){return new Ql(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,s=Object.keys(i);for(const o of s)e[o]=rxe(i[o],o);const r=Object.values(e);for(const o of r)oxe(e,o),axe(e,o),lxe(e,o),cxe(e,o);for(const o of r)uxe(e,o);for(const o of r)dxe(e,o);for(const o of r)hxe(e,o);for(const o of r)mxe(e,o);for(const o of r)gxe(e,o);this._compiledDefinitions=fxe(e)}_checkContextMatch(e,i){const s=e.last;let r=this._evaluateChildChecks(e,i);if(r=r!==void 0?r:i.allowIn.includes(s.name),!r)return!1;const o=this.getDefinition(s),a=e.trimLast();return o?a.length==0?!0:this._checkContextMatch(a,o):!1}_evaluateChildChecks(e,i){const s=this._customChildChecks.get(this._genericCheckSymbol)||[],r=this._customChildChecks.get(i.name)||[];for(const o of[...s,...r]){const a=o(e,i);if(a!==void 0)return a}}_evaluateAttributeChecks(e,i){const s=this._customAttributeChecks.get(this._genericCheckSymbol)||[],r=this._customAttributeChecks.get(i)||[];for(const o of[...s,...r]){const a=o(e,i);if(a!==void 0)return a}}*_getValidRangesForRange(e,i){let s=e.start,r=e.start;for(const o of e.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(ee._createIn(o),i)),this.checkAttribute(o,i)||(s.isEqual(r)||(yield new ee(s,r)),s=fe._createAfter(o)),r=fe._createAfter(o);s.isEqual(r)||(yield new ee(s,r))}findOptimalInsertionRange(e,i){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return i=="before"||i=="after"?new ee(fe._createAt(s,i)):ee._createOn(s);const r=Qt(e.getSelectedBlocks());if(!r)return new ee(e.focus);if(r.isEmpty)return new ee(fe._createAt(r,0));const o=fe._createAfter(r);return e.focus.isTouching(o)?new ee(o):new ee(fe._createBefore(r))}}class Ql{constructor(t){b(this,"_items");if(t instanceof Ql)return t;let e;typeof t=="string"?e=[t]:Array.isArray(t)?e=t:e=t.getAncestors({includeSelf:!0}),this._items=e.map(vxe)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Ql([t]);return e._items=[...this._items,...e._items],e}trimLast(){const t=new Ql([]);return t._items=this._items.slice(0,-1),t}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function rxe(n,t){const e={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return pxe(n,e),mo(n,e,"allowIn"),mo(n,e,"allowChildren"),mo(n,e,"disallowIn"),mo(n,e,"disallowChildren"),mo(n,e,"allowContentOf"),mo(n,e,"allowWhere"),mo(n,e,"allowAttributes"),mo(n,e,"disallowAttributes"),mo(n,e,"allowAttributesOf"),mo(n,e,"inheritTypesFrom"),bxe(n,e),e}function oxe(n,t){for(const e of t.allowIn){const i=n[e];i?i.allowChildren.add(t.name):t.allowIn.delete(e)}}function axe(n,t){for(const e of t.allowChildren){const i=n[e];i?i.allowIn.add(t.name):t.allowChildren.delete(e)}}function lxe(n,t){for(const e of t.disallowIn){const i=n[e];i?i.disallowChildren.add(t.name):t.disallowIn.delete(e)}}function cxe(n,t){for(const e of t.disallowChildren){const i=n[e];i?i.disallowIn.add(t.name):t.disallowChildren.delete(e)}}function uxe(n,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function dxe(n,t){for(const e of t.allowContentOf){const i=n[e];i&&(i.disallowChildren.forEach(s=>{t.allowChildren.has(s)||(t.disallowChildren.add(s),n[s].disallowIn.add(t.name))}),i.allowChildren.forEach(s=>{t.disallowChildren.has(s)||(t.allowChildren.add(s),n[s].allowIn.add(t.name))}))}}function hxe(n,t){for(const e of t.allowWhere){const i=n[e];i&&(i.disallowIn.forEach(s=>{t.allowIn.has(s)||(t.disallowIn.add(s),n[s].disallowChildren.add(t.name))}),i.allowIn.forEach(s=>{t.disallowIn.has(s)||(t.allowIn.add(s),n[s].allowChildren.add(t.name))}))}}function fxe(n){const t={};for(const e of Object.values(n))t[e.name]={name:e.name,isBlock:!!e.isBlock,isContent:!!e.isContent,isInline:!!e.isInline,isLimit:!!e.isLimit,isObject:!!e.isObject,isSelectable:!!e.isSelectable,allowIn:Array.from(e.allowIn).filter(i=>!!n[i]),allowChildren:Array.from(e.allowChildren).filter(i=>!!n[i]),allowAttributes:Array.from(e.allowAttributes)};return t}function mxe(n,t){for(const e of t.allowAttributesOf){const i=n[e];if(!i)return;i.allowAttributes.forEach(s=>{t.disallowAttributes.has(s)||t.allowAttributes.add(s)})}}function gxe(n,t){for(const e of t.inheritTypesFrom){const i=n[e];if(i){const s=Object.keys(i).filter(r=>r.startsWith("is"));for(const r of s)r in t||(t[r]=i[r])}}}function pxe(n,t){for(const e of n){const i=Object.keys(e).filter(s=>s.startsWith("is"));for(const s of i)t[s]=!!e[s]}}function mo(n,t,e){for(const i of n){let s=i[e];typeof s=="string"&&(s=[s]),Array.isArray(s)&&s.forEach(r=>t[e].add(r))}}function bxe(n,t){for(const e of n){const i=e.inheritAllFrom;i&&(t.allowContentOf.add(i),t.allowWhere.add(i),t.allowAttributesOf.add(i),t.inheritTypesFrom.add(i))}}function vxe(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(t){return n.getAttribute(t)}}}function*wxe(n,t){let e=!1;for(;!e;){if(e=!0,n){const i=n.next();i.done||(e=!1,yield{walker:n,value:i.value})}if(t){const i=t.next();i.done||(e=!1,yield{walker:t,value:i.value})}}}function*yxe(n){for(const t of n)yield*t.getMinimalFlatRanges()}function O8(n,t,e){for(const i of t.getAttributeKeys())n.checkAttribute(t,i)||e.removeAttribute(i,t)}class _xe extends Xt(){constructor(e){super();b(this,"conversionApi");b(this,"_splitParts",new Map);b(this,"_cursorParents",new Map);b(this,"_modelCursor",null);b(this,"_emptyElementsToKeep",new Set);this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(i,s)=>this._convertItem(i,s),convertChildren:(i,s)=>this._convertChildren(i,s),safeInsert:(i,s)=>this._safeInsert(i,s),updateConversionResult:(i,s)=>this._updateConversionResult(i,s),splitToAllowedParent:(i,s)=>this._splitToAllowedParent(i,s),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)}}convert(e,i,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=kxe(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=Av.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),o=i.createDocumentFragment();if(r){this._removeEmptyElements();const a=this._modelCursor.parent,l=a._removeChildren(0,a.childCount);o._insertChild(0,l),o.markers=xxe(o,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,i){const s={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof ee))throw new L("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,i){let s=i.is("position")?i:fe._createAt(i,0);const r=new ee(s);for(const o of Array.from(e.getChildren())){const a=this._convertItem(o,s);a.modelRange instanceof ee&&(r.end=a.modelRange.end,s=a.modelCursor)}return{modelRange:r,modelCursor:s}}_safeInsert(e,i){const s=this._splitToAllowedParent(e,i);return s?(this.conversionApi.writer.insert(e,s.position),!0):!1}_updateConversionResult(e,i){const s=this._getSplitParts(e),r=this.conversionApi.writer;i.modelRange||(i.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(s[s.length-1])));const o=this._cursorParents.get(e);o?i.modelCursor=r.createPositionAt(o,0):i.modelCursor=i.modelRange.end}_splitToAllowedParent(e,i){const{schema:s,writer:r}=this.conversionApi;let o=s.findAllowedParent(i,e);if(o){if(o===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return hj(i,e,s)?{position:fj(i,r)}:null;const a=this.conversionApi.writer.split(i,o),l=[];for(const h of a.range.getWalker())if(h.type=="elementEnd")l.push(h.item);else{const m=l.pop(),p=h.item;this._registerSplitPair(m,p)}const u=a.range.end.parent;return this._cursorParents.set(e,u),{position:a.position,cursorParent:u}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(i,s),s.push(i)}_getSplitParts(e){let i;return this._splitParts.has(e)?i=this._splitParts.get(e):i=[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const i of this._splitParts.keys())if(i.isEmpty&&!this._emptyElementsToKeep.has(i)){const s=e.get(i.parent)||[];s.push(i),this._splitParts.delete(i),e.set(i.parent,s)}for(const[i,s]of e)i._removeChildrenArray(s);e.size&&this._removeEmptyElements()}}function xxe(n,t){const e=new Set,i=new Map,s=ee._createIn(n).getItems();for(const r of s)r.is("element","$marker")&&e.add(r);for(const r of e){const o=r.getAttribute("data-name"),a=t.createPositionBefore(r);i.has(o)?i.get(o).end=a.clone():i.set(o,new ee(a.clone())),t.remove(r)}return i}function kxe(n,t){let e;for(const i of new Ql(n)){const s={};for(const o of i.getAttributeKeys())s[o]=i.getAttribute(o);const r=t.createElement(i.name,s);e&&t.insert(r,e),e=fe._createAt(r,0)}return e}class Cxe{getHtml(t){const i=Pe.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(t),i.innerHTML}}class _5{constructor(t){b(this,"domParser");b(this,"domConverter");b(this,"htmlWriter");b(this,"skipComments",!0);this.domParser=new DOMParser,this.domConverter=new by(t,{renderingMode:"data"}),this.htmlWriter=new Cxe}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4))||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),i=e.createDocumentFragment(),s=e.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);return i}}class Exe extends Xt(){constructor(e,i){super();b(this,"model");b(this,"mapper");b(this,"downcastDispatcher");b(this,"upcastDispatcher");b(this,"viewDocument");b(this,"stylesProcessor");b(this,"htmlProcessor");b(this,"processor");b(this,"_viewWriter");this.model=e,this.mapper=new Qz,this.downcastDispatcher=new ej({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",ij(),{priority:"lowest"}),this.downcastDispatcher.on("insert",sj(),{priority:"lowest"}),this.upcastDispatcher=new _xe({schema:e.schema}),this.viewDocument=new gy(i),this.stylesProcessor=i,this.htmlProcessor=new _5(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new b5(this.viewDocument),this.upcastDispatcher.on("text",B2e(),{priority:"lowest"}),this.upcastDispatcher.on("element",A8(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",A8(),{priority:"lowest"}),Wt().prototype.decorate.call(this,"init"),Wt().prototype.decorate.call(this,"set"),Wt().prototype.decorate.call(this,"get"),Wt().prototype.decorate.call(this,"toView"),Wt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},dj)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([i]))throw new L("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(i);return r.isAttached()||ht("datacontroller-get-detached-root",this),s==="empty"&&!this.model.hasContent(r,{ignoreWhitespaces:!0})?"":this.stringify(r,e)}stringify(e,i={}){const s=this.toView(e,i);return this.processor.toData(s)}toView(e,i={}){const s=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const o=ee._createIn(e),a=new mu(s);this.mapper.bindElements(e,a);const l=e.is("documentFragment")?e.markers:Txe(e);return this.downcastDispatcher.convert(o,l,r,i),a}init(e){if(this.model.document.version)throw new L("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new L("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const r of Object.keys(i)){const o=this.model.document.getRoot(r);s.insert(this.parse(i[r],o),o,0)}}),Promise.resolve()}set(e,i={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new L("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const o of Object.keys(s)){const a=this.model.document.getRoot(o);r.remove(r.createRangeIn(a)),r.insert(this.parse(s[o],a),a,0)}})}parse(e,i="$root"){const s=this.processor.toView(e);return this.toModel(s,i)}toModel(e,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}function Txe(n){const t=[],e=n.root.document;if(!e)return new Map;const i=ee._createIn(n);for(const s of e.model.markers){const r=s.getRange(),o=r.isCollapsed,a=r.start.isEqual(i.start)||r.end.isEqual(i.end);if(o&&a)t.push([s.name,r]);else{const l=i.getIntersection(r);l&&t.push([s.name,l])}}return t.sort(([s,r],[o,a])=>{if(r.end.compareWith(a.start)!=="after")return 1;if(r.start.compareWith(a.end)!=="before")return-1;switch(r.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(t)}class Sxe{constructor(t,e){b(this,"_helpers",new Map);b(this,"_downcast");b(this,"_upcast");this._downcast=qt(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=qt(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const i=this._downcast.includes(e);if(!this._upcast.includes(e)&&!i)throw new L("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:i})}for(t){if(!this._helpers.has(t))throw new L("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:i}of Yx(t))this.for("upcast").elementToElement({model:e,view:i,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:i}of Yx(t))this.for("upcast").elementToAttribute({view:i,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:i}of Yx(t))this.for("upcast").attributeToAttribute({view:i,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:i}){if(this._helpers.has(t))throw new L("conversion-group-exists",this);const s=i?new r2e(e):new L2e(e);this._helpers.set(t,s)}}function*Yx(n){if(n.model.values)for(const t of n.model.values){const e={key:n.model.key,value:t},i=n.view[t],s=n.upcastAlso?n.upcastAlso[t]:void 0;yield*M8(e,i,s)}else yield*M8(n.model,n.view,n.upcastAlso)}function*M8(n,t,e){if(yield{model:n,view:t},e)for(const i of qt(e))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class qs{constructor(t){b(this,"baseVersion");b(this,"isDocumentOperation");b(this,"batch");this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function x5(n,t){const e=wj(t),i=e.reduce((o,a)=>o+a.offsetSize,0),s=n.parent;ip(n);const r=n.index;return s._insertChild(r,e),np(s,r+e.length),np(s,r),new ee(n,n.getShiftedBy(i))}function vj(n){if(!n.isFlat)throw new L("operation-utils-remove-range-not-flat",this);const t=n.start.parent;ip(n.start),ip(n.end);const e=t._removeChildren(n.start.index,n.end.index-n.start.index);return np(t,n.start.index),e}function tp(n,t){if(!n.isFlat)throw new L("operation-utils-move-range-not-flat",this);const e=vj(n);return t=t._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),x5(t,e)}function Axe(n,t,e){ip(n.start),ip(n.end);for(const i of n.getItems({shallow:!0})){const s=i.is("$textProxy")?i.textNode:i;e!==null?s._setAttribute(t,e):s._removeAttribute(t),np(s.parent,s.index)}np(n.end.parent,n.end.index)}function wj(n){const t=[];function e(i){if(typeof i=="string")t.push(new gn(i));else if(i instanceof jr)t.push(new gn(i.data,i.getAttributes()));else if(i instanceof $u)t.push(i);else if(Ws(i))for(const s of i)e(s)}e(n);for(let i=1;i<t.length;i++){const s=t[i],r=t[i-1];s instanceof gn&&r instanceof gn&&yj(s,r)&&(t.splice(i-1,2,new gn(r.data+s.data,r.getAttributes())),i--)}return t}function np(n,t){const e=n.getChild(t-1),i=n.getChild(t);if(e&&i&&e.is("$text")&&i.is("$text")&&yj(e,i)){const s=new gn(e.data+i.data,e.getAttributes());n._removeChildren(t-1,2),n._insertChild(t-1,s)}}function ip(n){const t=n.textNode,e=n.parent;if(t){const i=n.offset-t.startOffset,s=t.index;e._removeChildren(s,1);const r=new gn(t.data.substr(0,i),t.getAttributes()),o=new gn(t.data.substr(i),t.getAttributes());e._insertChild(s,[r,o])}}function yj(n,t){const e=n.getAttributes(),i=t.getAttributes();for(const s of e){if(s[1]!==t.getAttribute(s[0]))return!1;i.next()}return i.next().done}class jt extends qs{constructor(e,i,s,r){super(r);b(this,"sourcePosition");b(this,"howMany");b(this,"targetPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ee._createFromPositionAndShift(this.sourcePosition,this.howMany),ee._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new jt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new jt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,r=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new L("move-operation-nodes-do-not-exist",this);if(e===i&&s<r&&r<s+this.howMany)throw new L("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&$i(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=s&&this.targetPosition.path[o]<s+this.howMany)throw new L("move-operation-node-into-itself",this)}}_execute(){tp(ee._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const s=fe.fromJSON(e.sourcePosition,i),r=fe.fromJSON(e.targetPosition,i);return new this(s,e.howMany,r,e.baseVersion)}}class Ri extends qs{constructor(e,i,s){super(s);b(this,"position");b(this,"nodes");b(this,"shouldReceiveAttributes");this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new ug(wj(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new ug([...this.nodes].map(s=>s._clone(!0))),i=new Ri(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new fe(e,[0]);return new jt(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new L("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new ug([...e].map(i=>i._clone(!0))),x5(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const s=[];for(const o of e.nodes)o.name?s.push(yn.fromJSON(o)):s.push(gn.fromJSON(o));const r=new Ri(fe.fromJSON(e.position,i),s,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class nn extends qs{constructor(e,i,s,r,o){super(o);b(this,"splitPosition");b(this,"howMany");b(this,"insertionPosition");b(this,"graveyardPosition");this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new fe(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ee(this.splitPosition,e)}get affectedSelectable(){const e=[ee._createFromPositionAndShift(this.splitPosition,0),ee._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ee._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new nn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new fe(e,[0]);return new $n(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new L("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new L("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new L("split-operation-graveyard-position-invalid",this)}else throw new L("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)tp(ee._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=e._clone();x5(this.insertionPosition,s)}const i=new ee(fe._createAt(e,this.splitPosition.offset),fe._createAt(e,e.maxOffset));tp(i,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new fe(e.root,i,"toPrevious")}static fromJSON(e,i){const s=fe.fromJSON(e.splitPosition,i),r=fe.fromJSON(e.insertionPosition,i),o=e.graveyardPosition?fe.fromJSON(e.graveyardPosition,i):null;return new this(s,e.howMany,r,o,e.baseVersion)}}class $n extends qs{constructor(e,i,s,r,o){super(o);b(this,"sourcePosition");b(this,"howMany");b(this,"targetPosition");b(this,"graveyardPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new fe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ee(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ee._createOn(e),ee._createFromPositionAndShift(this.targetPosition,0),ee._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new $n(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new fe(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new nn(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(e.parent)if(i.parent){if(this.howMany!=e.maxOffset)throw new L("merge-operation-how-many-invalid",this)}else throw new L("merge-operation-target-position-invalid",this);else throw new L("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,i=ee._createIn(e);tp(i,this.targetPosition),tp(ee._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const s=fe.fromJSON(e.sourcePosition,i),r=fe.fromJSON(e.targetPosition,i),o=fe.fromJSON(e.graveyardPosition,i);return new this(s,e.howMany,r,o,e.baseVersion)}}class is extends qs{constructor(e,i,s,r,o,a){super(a);b(this,"name");b(this,"oldRange");b(this,"newRange");b(this,"affectsData");b(this,"_markers");this.name=e,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=o,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new is(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new is(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new is(e.name,e.oldRange?ee.fromJSON(e.oldRange,i):null,e.newRange?ee.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}class Xn extends qs{constructor(e,i,s,r,o){super(o);b(this,"range");b(this,"key");b(this,"oldValue");b(this,"newValue");this.range=e.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Xn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Xn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new L("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!jh(e.getAttribute(this.key),this.oldValue))throw new L("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new L("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){jh(this.oldValue,this.newValue)||Axe(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new Xn(ee.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class fi extends qs{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new fi(this.baseVersion)}getReversed(){return new fi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Cs extends qs{constructor(e,i,s,r){super(r);b(this,"position");b(this,"oldName");b(this,"newName");this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Cs(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Cs(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof yn){if(e.name!==this.oldName)throw new L("rename-operation-wrong-name",this)}else throw new L("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new Cs(fe.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class La extends qs{constructor(e,i,s,r,o){super(o);b(this,"root");b(this,"key");b(this,"oldValue");b(this,"newValue");this.root=e,this.key=i,this.oldValue=s===void 0?null:s,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new La(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new La(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new L("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new L("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new L("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new L("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new La(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class So extends qs{constructor(e,i,s,r,o){super(o);b(this,"rootName");b(this,"elementName");b(this,"isAdd");b(this,"_document");if(this.rootName=e,this.elementName=i,this.isAdd=s,this._document=r,!this._document.getRoot(this.rootName)){const a=this._document.createRoot(this.elementName,this.rootName);a._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new So(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new So(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new So(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const Tr={};Tr[Xn.className]=Xn;Tr[Ri.className]=Ri;Tr[is.className]=is;Tr[jt.className]=jt;Tr[fi.className]=fi;Tr[qs.className]=qs;Tr[Cs.className]=Cs;Tr[La.className]=La;Tr[So.className]=So;Tr[nn.className]=nn;Tr[$n.className]=$n;class Ixe{static fromJSON(t,e){return Tr[t.__className].fromJSON(t,e)}}const gE=new Map;function Lt(n,t,e){let i=gE.get(n);i||(i=new Map,gE.set(n,i)),i.set(t,e)}function Rxe(n,t){const e=gE.get(n);return e&&e.has(t)?e.get(t):Pxe}function Pxe(n){return[n]}function D8(n,t,e={}){const i=Rxe(n.constructor,t.constructor);try{return n=n.clone(),i(n,t,e)}catch(s){throw s}}function Oxe(n,t,e){n=n.slice(),t=t.slice();const i=new Mxe(e.document,e.useRelations,e.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(t);const s=i.originalOperations;if(n.length==0||t.length==0)return{operationsA:n,operationsB:t,originalOperations:s};const r=new WeakMap;for(const l of n)r.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:t.length};let a=0;for(;a<n.length;){const l=n[a],u=r.get(l);if(u==t.length){a++;continue}const h=t[u],m=D8(l,h,i.getContext(l,h,!0)),p=D8(h,l,i.getContext(h,l,!1));i.updateRelation(l,h),i.setOriginalOperations(m,l),i.setOriginalOperations(p,h);for(const v of m)r.set(v,u+p.length);n.splice(a,1,...m),t.splice(u,1,...p)}return N8(n),N8(t),V8(n,o.nextBaseVersionB),V8(t,o.nextBaseVersionA),{operationsA:n,operationsB:t,originalOperations:s}}class Mxe{constructor(t,e,i=!1){b(this,"originalOperations");b(this,"_history");b(this,"_useRelations");b(this,"_forceWeakRemove");b(this,"_relations");this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(t,e=null){const i=e?this.originalOperations.get(e):null;for(const s of t)this.originalOperations.set(s,i||s)}updateRelation(t,e){if(t instanceof jt)e instanceof $n?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof jt&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof nn){if(e instanceof $n)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof jt)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const i=ee._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const s=i.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-i.start.offset;this._setRelation(t,e,{howMany:s,offset:r})}}}else if(t instanceof $n)e instanceof $n?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof nn?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof jt&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof is){const i=t.newRange;if(!i)return;if(e instanceof $n){const s=i.start.isEqual(e.targetPosition),r=i.start.isEqual(e.deletionPosition),o=i.end.isEqual(e.deletionPosition),a=i.end.isEqual(e.sourcePosition);(s||r||o||a)&&this._setRelation(t,e,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(t,e,i){return{aIsStrong:i,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const i=this.originalOperations.get(e),s=this._history.getUndoneOperation(i);if(!s)return null;const r=this.originalOperations.get(t),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(t,e,i){const s=this.originalOperations.get(t),r=this.originalOperations.get(e);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,i)}}function V8(n,t){for(const e of n)e.baseVersion=t++}function N8(n){const t=new Map;for(let e=0;e<n.length;e++){const i=n[e];i instanceof is&&(i.baseVersion!==-1?t.set(i.name,{op:i,ranges:i.newRange?[i.newRange]:[]}):(i.newRange&&t.get(i.name).ranges.push(i.newRange),n.splice(e,1),e--))}for(const{op:e,ranges:i}of t.values())i.length?e.newRange=ee._createFromRanges(i):e.newRange=null}Lt(Xn,Xn,(n,t,e)=>{if(n.key===t.key&&n.range.start.hasSameParentAs(t.range.start)){const i=n.range.getDifference(t.range).map(r=>new Xn(r,n.key,n.oldValue,n.newValue,0)),s=n.range.getIntersection(t.range);return s&&e.aIsStrong&&i.push(new Xn(s,t.key,t.newValue,n.newValue,0)),i.length==0?[new fi(0)]:i}else return[n]});Lt(Xn,Ri,(n,t)=>{if(n.range.start.hasSameParentAs(t.position)&&n.range.containsPosition(t.position)){const i=n.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(s=>new Xn(s,n.key,n.oldValue,n.newValue,n.baseVersion));if(t.shouldReceiveAttributes){const s=_j(t,n.key,n.oldValue);s&&i.unshift(s)}return i}return n.range=n.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[n]});function _j(n,t,e){const s=n.nodes.getNode(0).getAttribute(t);if(s==e)return null;const r=new ee(n.position,n.position.getShiftedBy(n.howMany));return new Xn(r,t,s,e,0)}Lt(Xn,$n,(n,t)=>{const e=[];n.range.start.hasSameParentAs(t.deletionPosition)&&(n.range.containsPosition(t.deletionPosition)||n.range.start.isEqual(t.deletionPosition))&&e.push(ee._createFromPositionAndShift(t.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(t);return i.isCollapsed||e.push(i),e.map(s=>new Xn(s,n.key,n.oldValue,n.newValue,n.baseVersion))});Lt(Xn,jt,(n,t)=>Dxe(n.range,t).map(i=>new Xn(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function Dxe(n,t){const e=ee._createFromPositionAndShift(t.sourcePosition,t.howMany);let i=null,s=[];e.containsRange(n,!0)?i=n:n.start.hasSameParentAs(e.start)?(s=n.getDifference(e),i=n.getIntersection(e)):s=[n];const r=[];for(let o of s){o=o._getTransformedByDeletion(t.sourcePosition,t.howMany);const a=t.getMovedRangeStart(),l=o.start.hasSameParentAs(a),u=o._getTransformedByInsertion(a,t.howMany,l);r.push(...u)}return i&&r.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),r}Lt(Xn,nn,(n,t)=>{if(n.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(t.splitPosition)&&n.range.containsPosition(t.splitPosition)){const e=n.clone();return e.range=new ee(t.moveTargetPosition.clone(),n.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),n.range.end=t.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,e]}return n.range=n.range._getTransformedBySplitOperation(t),[n]});Lt(Ri,Xn,(n,t)=>{const e=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(n.position)){const i=_j(n,t.key,t.newValue);i&&e.push(i)}return e});Lt(Ri,Ri,(n,t,e)=>n.position.isEqual(t.position)&&e.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(t),[n]));Lt(Ri,jt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));Lt(Ri,nn,(n,t)=>(n.position=n.position._getTransformedBySplitOperation(t),[n]));Lt(Ri,$n,(n,t)=>(n.position=n.position._getTransformedByMergeOperation(t),[n]));Lt(is,Ri,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(t)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(t)[0]),[n]));Lt(is,is,(n,t,e)=>{if(n.name==t.name)if(e.aIsStrong)n.oldRange=t.newRange?t.newRange.clone():null;else return[new fi(0)];return[n]});Lt(is,$n,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(t)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(t)),[n]));Lt(is,jt,(n,t)=>{const e=[n];if(n.oldRange&&(n.oldRange=ee._createFromRanges(n.oldRange._getTransformedByMoveOperation(t))),n.newRange){const i=n.newRange._getTransformedByMoveOperation(t);n.newRange=i[0];for(let s=1;s<i.length;s++){const r=n.clone();r.oldRange=null,r.newRange=i[s],r.baseVersion=-1,e.push(r)}}return e});Lt(is,nn,(n,t,e)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(t)),n.newRange){if(e.abRelation){const i=n.newRange._getTransformedBySplitOperation(t);return n.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?n.newRange.start=fe._createAt(t.insertionPosition):n.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement?n.newRange.start=fe._createAt(t.moveTargetPosition):n.newRange.start=i.start,n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?n.newRange.end=fe._createAt(t.moveTargetPosition):n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?n.newRange.end=fe._createAt(t.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(t)}return[n]});Lt($n,Ri,(n,t)=>(n.sourcePosition.hasSameParentAs(t.position)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(t),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t),[n]));Lt($n,$n,(n,t,e)=>{if(n.sourcePosition.isEqual(t.sourcePosition)&&n.targetPosition.isEqual(t.targetPosition))if(e.bWasUndone){const i=t.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new fe(t.graveyardPosition.root,i),n.howMany=0,[n]}else return[new fi(0)];if(n.sourcePosition.isEqual(t.sourcePosition)&&!n.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",s=t.targetPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&e.aIsStrong){const l=t.targetPosition._getTransformedByMergeOperation(t),u=n.targetPosition._getTransformedByMergeOperation(t);return[new jt(l,n.howMany,u,0)]}else return[new fi(0)]}return n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(t),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),(!n.graveyardPosition.isEqual(t.graveyardPosition)||!e.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});Lt($n,jt,(n,t,e)=>{const i=ee._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&n.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new fi(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(n.sourcePosition)&&e.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=t.howMany):t.targetPosition.isEqual(n.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=t.howMany):(n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition.hasSameParentAs(t.sourcePosition)&&(n.howMany-=t.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(t),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(t),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(t.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)),[n])});Lt($n,nn,(n,t,e)=>{if(t.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),n.deletionPosition.isEqual(t.graveyardPosition)&&(n.howMany=t.howMany)),n.targetPosition.isEqual(t.splitPosition)&&(t.graveyardPosition&&n.deletionPosition.isEqual(t.graveyardPosition)||e.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),[n];if(n.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n];if(e.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=t.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]}return n.sourcePosition.hasSameParentAs(t.splitPosition)&&(n.howMany=t.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]});Lt(jt,Ri,(n,t)=>{const i=ee._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(t,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(t.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t)),[n]});Lt(jt,jt,(n,t,e)=>{const i=ee._createFromPositionAndShift(n.sourcePosition,n.howMany),s=ee._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=e.aIsStrong,o=!e.aIsStrong;e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?o=!0:(e.abRelation=="insertAfter"||e.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(t.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):a=n.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),L8(n,t)&&L8(t,n))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),hh([i],a);if(s.containsPosition(n.targetPosition)&&s.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),hh([i],a);const h=$i(n.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(h=="prefix"||h=="extension")return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),hh([i],a);n.type=="remove"&&t.type!="remove"&&!e.aWasUndone&&!e.forceWeakRemove?r=!0:n.type!="remove"&&t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&(r=!1);const m=[],p=i.getDifference(s);for(const _ of p){_.start=_.start._getTransformedByDeletion(t.sourcePosition,t.howMany),_.end=_.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const k=$i(_.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",C=_._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,k);m.push(...C)}const v=i.getIntersection(s);return v!==null&&r&&(v.start=v.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),v.end=v.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),m.length===0?m.push(v):m.length==1?s.start.isBefore(i.start)||s.start.isEqual(i.start)?m.unshift(v):m.push(v):m.splice(1,0,v)),m.length===0?[new fi(n.baseVersion)]:hh(m,a)});Lt(jt,nn,(n,t,e)=>{let i=n.targetPosition.clone();(!n.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||e.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(t));const s=ee._createFromPositionAndShift(n.sourcePosition,n.howMany);if(s.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(s.start.hasSameParentAs(t.splitPosition)&&s.containsPosition(t.splitPosition)){let a=new ee(t.splitPosition,s.end);a=a._getTransformedBySplitOperation(t);const l=[new ee(s.start,t.splitPosition),a];return hh(l,i)}n.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(i=t.moveTargetPosition),n.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[s._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const a=s.start.isEqual(t.graveyardPosition)||s.containsPosition(t.graveyardPosition);n.howMany>1&&a&&!e.aWasUndone&&o.push(ee._createFromPositionAndShift(t.insertionPosition,1))}return hh(o,i)});Lt(jt,$n,(n,t,e)=>{const i=ee._createFromPositionAndShift(n.sourcePosition,n.howMany);if(t.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(t.sourcePosition)){if(n.type=="remove"&&!e.forceWeakRemove){if(!e.aWasUndone){const o=[];let a=t.graveyardPosition.clone(),l=t.targetPosition._getTransformedByMergeOperation(t);const u=n.targetPosition.getTransformedByOperation(t);n.howMany>1&&(o.push(new jt(n.sourcePosition,n.howMany-1,u,0)),a=a._getTransformedByMove(n.sourcePosition,u,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,u,n.howMany-1));const h=t.deletionPosition._getCombined(n.sourcePosition,u),m=new jt(a,1,h,0),p=m.getMovedRangeStart().path.slice();p.push(0);const v=new fe(m.targetPosition.root,p);l=l._getTransformedByMove(a,h,1);const _=new jt(l,t.howMany,v,0);return o.push(m),o.push(_),o}}else if(n.howMany==1)return e.bWasUndone?(n.sourcePosition=t.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]):[new fi(0)]}const r=ee._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(t);return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]});Lt(Cs,Ri,(n,t)=>(n.position=n.position._getTransformedByInsertOperation(t),[n]));Lt(Cs,$n,(n,t)=>n.position.isEqual(t.deletionPosition)?(n.position=t.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(t),[n]));Lt(Cs,jt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));Lt(Cs,Cs,(n,t,e)=>{if(n.position.isEqual(t.position))if(e.aIsStrong)n.oldName=t.newName;else return[new fi(0)];return[n]});Lt(Cs,nn,(n,t)=>{const e=n.position.path,i=t.splitPosition.getParentPath();if($i(e,i)=="same"&&!t.graveyardPosition){const s=new Cs(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,s]}return n.position=n.position._getTransformedBySplitOperation(t),[n]});Lt(La,La,(n,t,e)=>{if(n.root===t.root&&n.key===t.key){if(!e.aIsStrong||n.newValue===t.newValue)return[new fi(0)];n.oldValue=t.newValue}return[n]});Lt(So,So,(n,t)=>n.rootName===t.rootName&&n.isAdd===t.isAdd?[new fi(0)]:[n]);Lt(nn,Ri,(n,t)=>(n.splitPosition.hasSameParentAs(t.position)&&n.splitPosition.offset<t.position.offset&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(t),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(t),[n]));Lt(nn,$n,(n,t,e)=>{if(!n.graveyardPosition&&!e.bWasUndone&&n.splitPosition.hasSameParentAs(t.sourcePosition)){const i=t.graveyardPosition.path.slice();i.push(0);const s=new fe(t.graveyardPosition.root,i),r=nn.getInsertionPosition(new fe(t.graveyardPosition.root,i)),o=new nn(s,0,r,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=nn.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(t.deletionPosition)&&!n.splitPosition.isAfter(t.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=nn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});Lt(nn,jt,(n,t,e)=>{const i=ee._createFromPositionAndShift(t.sourcePosition,t.howMany);if(n.graveyardPosition){const r=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!e.bWasUndone&&r){const o=n.splitPosition._getTransformedByMoveOperation(t),a=n.graveyardPosition._getTransformedByMoveOperation(t),l=a.path.slice();l.push(0);const u=new fe(a.root,l);return[new jt(o,n.howMany,u,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)}const s=n.splitPosition.isEqual(t.targetPosition);if(s&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return n.howMany+=t.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),n.insertionPosition=nn.getInsertionPosition(n.splitPosition),[n];if(s&&e.abRelation&&e.abRelation.howMany){const{howMany:r,offset:o}=e.abRelation;return n.howMany+=r,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.splitPosition)){const r=t.howMany-(n.splitPosition.offset-t.sourcePosition.offset);return n.howMany-=r,n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany),n.splitPosition=t.sourcePosition.clone(),n.insertionPosition=nn.getInsertionPosition(n.splitPosition),[n]}return t.sourcePosition.isEqual(t.targetPosition)||(n.splitPosition.hasSameParentAs(t.sourcePosition)&&n.splitPosition.offset<=t.sourcePosition.offset&&(n.howMany-=t.howMany),n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(t),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(t):n.insertionPosition=nn.getInsertionPosition(n.splitPosition),[n]});Lt(nn,nn,(n,t,e)=>{if(n.splitPosition.isEqual(t.splitPosition)){if(!n.graveyardPosition&&!t.graveyardPosition)return[new fi(0)];if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition))return[new fi(0)];if(e.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t),[n]}if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",s=t.splitPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&e.aIsStrong){const l=[];return t.howMany&&l.push(new jt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),n.howMany&&l.push(new jt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new fi(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t)),n.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return n.howMany++,[n];if(t.splitPosition.isEqual(n.insertionPosition)&&e.baRelation=="splitBefore"){const i=t.insertionPosition.path.slice();i.push(0);const s=new fe(t.insertionPosition.root,i),r=new jt(n.insertionPosition,1,s,0);return[n,r]}return n.splitPosition.hasSameParentAs(t.splitPosition)&&n.splitPosition.offset<t.splitPosition.offset&&(n.howMany-=t.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(t),n.insertionPosition=nn.getInsertionPosition(n.splitPosition),[n]});function L8(n,t){return n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function hh(n,t){const e=[];for(let i=0;i<n.length;i++){const s=n[i],r=new jt(s.start,s.end.offset-s.start.offset,t,0);e.push(r);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return e}class si extends Xt(fe){constructor(t,e,i="toNone"){if(super(t,e,i),!this.root.is("rootElement"))throw new L("model-liveposition-root-not-rootelement",t);Vxe.call(this)}detach(){this.stopListening()}toPosition(){return new fe(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}si.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function Vxe(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&Nxe.call(this,e)},{priority:"low"})}function Nxe(n){const t=this.getTransformedByOperation(n);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}class $d{constructor(t={}){b(this,"operations");b(this,"isUndoable");b(this,"isLocal");b(this,"isUndo");b(this,"isTyping");typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},ht("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:i=!0,isUndo:s=!1,isTyping:r=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=i,this.isUndo=s,this.isTyping=r}get type(){return ht("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.isDocumentOperation&&(t.batch=this,this.operations.push(t)),t}}const bg=class bg{constructor(t){b(this,"_markerCollection");b(this,"_changesInElement",new Map);b(this,"_elementsSnapshots",new Map);b(this,"_elementChildrenSnapshots",new Map);b(this,"_elementState",new Map);b(this,"_changedMarkers",new Map);b(this,"_changedRoots",new Map);b(this,"_changeCount",0);b(this,"_cachedChanges",null);b(this,"_cachedChangesWithGraveyard",null);b(this,"_refreshedItems",new Set);this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of e.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const i=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const r=ee._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const o of r.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const i=ee._createFromPositionAndShift(e.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const i=e.splitPosition.parent;if(!this._isInInsertedElement(i)){this._markRemove(i,e.splitPosition.offset,e.howMany);const s=ee._createFromPositionAndShift(e.splitPosition,e.howMany);for(const r of s.getItems({shallow:!0}))this._setElementState(r,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const i=e.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const s=e.graveyardPosition.parent;this._markInsert(s,e.graveyardPosition.offset,1),this._setElementState(i,"move");const r=e.targetPosition.parent;if(!this._isInInsertedElement(r)){this._markInsert(r,e.targetPosition.offset,i.maxOffset);const o=ee._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const a of o.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const i=e.affectedSelectable;if(!i._isLoaded||i.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const i=e.root.rootName;this._bufferRootAttributeChange(i,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,i){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let s=this._changedMarkers.get(t);s?s.newMarkerData=i:(s={newMarkerData:i,oldMarkerData:e},this._changedMarkers.set(t,s)),s.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,i]of this._changedMarkers)i.oldMarkerData.range!=null&&t.push({name:e,range:i.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,i]of this._changedMarkers)i.newMarkerData.range!=null&&t.push({name:e,range:i.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const i=t.range&&!e.range,s=!t.range&&e.range,r=t.range&&e.range&&!t.range.isEqual(e.range);if(i||s||r)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const i of this._changesInElement.keys()){const s=this._changesInElement.get(i).sort((h,m)=>h.offset===m.offset?h.type!=m.type?h.type=="remove"?-1:1:0:h.offset<m.offset?-1:1),r=this._elementChildrenSnapshots.get(i),o=F8(i.getChildren()),a=Lxe(r.length,s);let l=0,u=0;for(const h of a)if(h==="i"){const m=this._getDiffActionForNode(o[l].node,"insert"),p=this._elementsSnapshots.get(o[l].node),v=this._getInsertDiff(i,l,m,o[l],p);e.push(v),l++}else if(h==="r"){const m=this._getDiffActionForNode(r[u].node,"remove"),p=this._getRemoveDiff(i,l,m,r[u]);e.push(p),u++}else if(h==="a"){const m=r[u].attributes,p=o[l].attributes;let v;if(o[l].name=="$text")v=new ee(fe._createAt(i,l),fe._createAt(i,l+1));else{const k=i.offsetToIndex(l);v=new ee(fe._createAt(i,l),fe._createAt(i.getChild(k),0))}const _=this._getAttributesDiff(v,m,p);e.push(..._),l++,u++}else l++,u++}e.sort((i,s)=>i.position.root!=s.position.root?i.position.root.rootName<s.position.root.rootName?-1:1:i.position.isEqual(s.position)?i.changeCount-s.changeCount:i.position.isBefore(s.position)?-1:1);for(let i=1,s=0;i<e.length;i++){const r=e[s],o=e[i],a=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),l=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,u=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;a||l||u?(r.length++,u&&(r.range.end=r.range.end.getShiftedBy(1)),e[i]=null):s=i}e=e.filter(i=>i);for(const i of e)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(Bxe),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const e={...t};return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=ee._createOn(t);for(const i of this._markerCollection.getMarkersIntersectingRange(e)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const i=e.getData();this.bufferMarkerChange(e.name,{...i,range:null},i)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t)){this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});return}const i=this._changedRoots.get(t);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(t)):i.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,i,s){const r=this._changedRoots.get(t)||{name:t},o=r.attributes||{};if(o[e]){const a=o[e];s===a.oldValue?delete o[e]:a.newValue=s}else o[e]={oldValue:i,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(t)):(r.attributes=o,this._changedRoots.set(t,r))}_markInsert(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"insert",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,s)}_markRemove(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"remove",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,s),this._removeAllNestedChanges(t,e,i)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const i=this._getChangesForElement(t);this._handleChange(e,i),i.push(e);for(let s=0;s<i.length;s++)i[s].howMany<1&&(i.splice(s,1),s--)}_setElementState(t,e){if(!t.is("element"))return;const i=bg._statesPriority.indexOf(this._elementState.get(t));bg._statesPriority.indexOf(e)>i&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element")||!this._elementsSnapshots.has(t))return e;const i=this._elementState.get(t);return!i||i=="move"?e:i}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=F8(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const i of e)this._elementsSnapshots.set(i.node,i)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const i of e){const s=t.offset+t.howMany,r=i.offset+i.howMany;if(t.type=="insert"&&(i.type=="insert"&&(t.offset<=i.offset?i.offset+=t.howMany:t.offset<r&&(i.howMany+=t.nodesToHandle,t.nodesToHandle=0)),i.type=="remove"&&t.offset<i.offset&&(i.offset+=t.howMany),i.type=="attribute")){if(t.offset<=i.offset)i.offset+=t.howMany;else if(t.offset<r){const o=i.howMany;i.howMany=t.offset-i.offset,e.unshift({type:"attribute",offset:s,howMany:o-i.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(i.type=="insert"){if(s<=i.offset)i.offset-=t.howMany;else if(s<=r)if(t.offset<i.offset){const o=s-i.offset;i.offset=t.offset,i.howMany-=o,t.nodesToHandle-=o}else i.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=i.offset)t.nodesToHandle-=i.howMany,i.howMany=0;else if(t.offset<r){const o=r-t.offset;i.howMany-=o,t.nodesToHandle-=o}}if(i.type=="remove"&&(s<=i.offset?i.offset-=t.howMany:t.offset<i.offset&&(t.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(s<=i.offset)i.offset-=t.howMany;else if(t.offset<i.offset){const o=s-i.offset;i.offset=t.offset,i.howMany-=o}else if(t.offset<r)if(s<=r){const o=i.howMany;i.howMany=t.offset-i.offset;const a=o-i.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:a,count:this._changeCount++})}else i.howMany-=r-t.offset}}if(t.type=="attribute"){if(i.type=="insert")if(t.offset<i.offset&&s>i.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,e),e.push(o)}t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=i.offset&&t.offset<r&&(s>r?(t.nodesToHandle=s-r,t.offset=r):t.nodesToHandle=0);if(i.type=="remove"&&t.offset<i.offset&&s>i.offset){const o={type:"attribute",offset:i.offset,howMany:s-i.offset,count:this._changeCount++};this._handleChange(o,e),e.push(o),t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}i.type=="attribute"&&(t.offset>=i.offset&&s<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=i.offset&&s>=r&&(i.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,i,s,r){const o={type:"insert",position:fe._createAt(t,e),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,action:i};return i!="insert"&&r&&(o.before={name:r.name,attributes:new Map(r.attributes)}),o}_getRemoveDiff(t,e,i,s){return{type:"remove",action:i,position:fe._createAt(t,e),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,i){const s=[];i=new Map(i);for(const[r,o]of e){const a=i.has(r)?i.get(r):null;a!==o&&s.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(r)}for(const[r,o]of i)s.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const i=this._changesInElement.get(e),s=t.startOffset;if(i){for(const r of i)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,i){const s=new ee(fe._createAt(t,e),fe._createAt(t,e+i));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}};b(bg,"_statesPriority",[void 0,"refresh","rename","move"]);let pE=bg;function B8(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function F8(n){const t=[];for(const e of n)if(e.is("$text"))for(let i=0;i<e.data.length;++i)t.push(B8(e));else t.push(B8(e));return t}function Lxe(n,t){const e=[];let i=0,s=0;for(const r of t){if(r.offset>i){for(let o=0;o<r.offset-i;o++)e.push("e");s+=r.offset-i}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)e.push("i");i=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)e.push("r");i=r.offset,s+=r.howMany}else{if(r.howMany>1500)for(let o=0;o<r.howMany;o++)e.push("a");else e.push(..."a".repeat(r.howMany).split(""));i=r.offset+r.howMany,s+=r.howMany}}if(s<n)for(let r=0;r<n-s-i;r++)e.push("e");return e}function Bxe(n){const t="position"in n&&n.position.root.rootName=="$graveyard",e="range"in n&&n.range.root.rootName=="$graveyard";return!t&&!e}class Fxe{constructor(){b(this,"_operations",[]);b(this,"_undoPairs",new Map);b(this,"_undoneOperations",new Set);b(this,"_baseVersionToOperationIndex",new Map);b(this,"_version",0);b(this,"_gaps",new Map)}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new L("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const i=this._operations[0];t===void 0&&(t=i.baseVersion);let s=e-1;for(const[a,l]of this._gaps)t>a&&t<l&&(t=l),s>a&&s<l&&(s=a-1);if(s<i.baseVersion||t>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(t);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Pv extends yn{constructor(e,i,s="main"){super(i);b(this,"rootName");b(this,"_document");b(this,"_isAttached",!0);b(this,"_isLoaded",!0);this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Pv.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const z8="$graveyard";class zxe extends Xt(){constructor(e){super();b(this,"model");b(this,"history");b(this,"selection");b(this,"roots");b(this,"differ");b(this,"isReadOnly");b(this,"_postFixers");b(this,"_hasSelectionChangedFromTheLastChangeBlock");this.model=e,this.history=new Fxe,this.selection=new Xr(this),this.roots=new kn({idProperty:"rootName"}),this.differ=new pE(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",z8),this.listenTo(e,"applyOperation",(i,s)=>{const r=s[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,s)=>{const r=s[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,s,r,o,a)=>{const l={...s.getData(),range:o};this.differ.bufferMarkerChange(s.name,a,l),r===null&&s.on("change",(u,h)=>{const m=s.getData();this.differ.bufferMarkerChange(s.name,{...m,range:h},m)})}),this.registerPostFixer(i=>{let s=!1;for(const r of this.roots)!r.isAttached()&&!r.isEmpty&&(i.remove(i.createRangeIn(r)),s=!0);for(const r of this.model.markers)r.getRange().root.isAttached()||(i.removeMarker(r),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(z8)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new L("model-document-createroot-name-exists",this,{name:i});const s=new Pv(this,e,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=ez(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,s=i.schema,r=i.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(r)||i.createRange(r)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&j8(e.start)&&j8(e.end)}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(e),i)break;while(i)}}function j8(n){const t=n.textNode;if(t){const e=t.data,i=n.offset-t.startOffset;return!d5(e,i)&&!h5(e,i)}return!0}class jxe extends Xt(){constructor(){super(...arguments);b(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof sh?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,s=!1,r=!1){const o=e instanceof sh?e.name:e;if(o.includes(","))throw new L("markercollection-incorrect-marker-name",this);const a=this._markers.get(o);if(a){const h=a.getData(),m=a.getRange();let p=!1;return m.isEqual(i)||(a._attachLiveRange(ns.fromRange(i)),p=!0),s!=a.managedUsingOperations&&(a._managedUsingOperations=s,p=!0),typeof r=="boolean"&&r!=a.affectsData&&(a._affectsData=r,p=!0),p&&this.fire(`update:${o}`,a,m,i,h),a}const l=ns.fromRange(i),u=new sh(o,l,s,r);return this._markers.set(o,u),this.fire(`update:${o}`,u,null,i,{...u.getData(),range:null}),u}_remove(e){const i=e instanceof sh?e.name:e,s=this._markers.get(i);return s?(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0):!1}_refresh(e){const i=e instanceof sh?e.name:e,s=this._markers.get(i);if(!s)throw new L("markercollection-refresh-marker-not-exists",this);const r=s.getRange();this.fire(`update:${i}`,s,r,r,s.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class sh extends Xt(kc){constructor(e,i,s,r){super();b(this,"name");b(this,"_managedUsingOperations");b(this,"_affectsData");b(this,"_liveRange");this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}sh.prototype.is=function(n){return n==="marker"||n==="model:marker"};class Uxe extends qs{constructor(e,i){super(null);b(this,"sourcePosition");b(this,"howMany");this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new L("detach-operation-on-document-node",this)}_execute(){vj(ee._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}let Bl=class xj extends kc{constructor(e){super();b(this,"markers",new Map);b(this,"_children",new ug);e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const s of e)i=i.getChildAtOffset(s);return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const s of e)s.name?i.push(yn.fromJSON(s)):i.push(gn.fromJSON(s));return new xj(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=Hxe(i);for(const r of s)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const r of s)r.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const i of e)i.parent=null}};Bl.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function Hxe(n){return typeof n=="string"?[new gn(n)]:(Ws(n)||(n=[n]),Array.from(n).map(t=>typeof t=="string"?new gn(t):t instanceof jr?new gn(t.data,t.getAttributes()):t))}class $xe{constructor(t,e){b(this,"model");b(this,"batch");this.model=t,this.batch=e}createText(t,e){return new gn(t,e)}createElement(t,e){return new yn(t,e)}createDocumentFragment(){return new Bl}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,i=0){if(this._assertWriterUsedCorrectly(),t instanceof gn&&t.data=="")return;const s=fe._createAt(e,i);if(t.parent)if($8(t.root,s.root)){this.move(ee._createOn(t),s);return}else{if(t.root.document)throw new L("model-writer-insert-forbidden-move",this);this.remove(t)}const r=s.root.document?s.root.document.version:null,o=t instanceof Bl?t._removeChildren(0,t.childCount):t,a=new Ri(s,o,r);if(t instanceof gn&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),t instanceof Bl)for(const[l,u]of t.markers){const h=fe._createAt(u.root,0),p={range:new ee(u.start._getCombined(h,s),u.end._getCombined(h,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,p):this.addMarker(l,p)}}insertText(t,e,i,s){e instanceof Bl||e instanceof yn||e instanceof fe?this.insert(this.createText(t),e,i):this.insert(this.createText(t,e),i,s)}insertElement(t,e,i,s){e instanceof Bl||e instanceof yn||e instanceof fe?this.insert(this.createElement(t),e,i):this.insert(this.createElement(t,e),i,s)}append(t,e){this.insert(t,e,"end")}appendText(t,e,i){e instanceof Bl||e instanceof yn?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),i,"end")}appendElement(t,e,i){e instanceof Bl||e instanceof yn?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),i,"end")}setAttribute(t,e,i){if(this._assertWriterUsedCorrectly(),i instanceof ee){const s=i.getMinimalFlatRanges();for(const r of s)U8(this,t,e,r)}else H8(this,t,e,i)}setAttributes(t,e){for(const[i,s]of Kr(t))this.setAttribute(i,s,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof ee){const i=e.getMinimalFlatRanges();for(const s of i)U8(this,t,null,s)}else H8(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=i=>{for(const s of i.getAttributeKeys())this.removeAttribute(s,i)};if(!(t instanceof ee))e(t);else for(const i of t.getItems())e(i)}move(t,e,i){if(this._assertWriterUsedCorrectly(),!(t instanceof ee))throw new L("writer-move-invalid-range",this);if(!t.isFlat)throw new L("writer-move-range-not-flat",this);const s=fe._createAt(e,i);if(s.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!$8(t.root,s.root))throw new L("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,o=new jt(t.start,t.end.offset-t.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const i=(t instanceof ee?t:ee._createOn(t)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),Wxe(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,i=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof yn))throw new L("writer-merge-no-element-before",this);if(!(i instanceof yn))throw new L("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,i){return this.model.createPositionFromPath(t,e,i)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,i=t.nodeAfter;this.move(ee._createIn(i),fe._createAt(e,"end")),this.remove(i)}_merge(t){const e=fe._createAt(t.nodeBefore,"end"),i=fe._createAt(t.nodeAfter,0),s=t.root.document.graveyard,r=new fe(s,[0]),o=t.root.document.version,a=new $n(i,t.nodeAfter.maxOffset,e,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof yn))throw new L("writer-rename-not-element-instance",this);const i=t.root.document?t.root.document.version:null,s=new Cs(fe._createBefore(t),t.name,e,i);this.batch.addOperation(s),this.model.applyOperation(s)}split(t,e){this._assertWriterUsedCorrectly();let i=t.parent;if(!i.parent)throw new L("writer-split-element-no-parent",this);if(e||(e=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new L("writer-split-invalid-limit-element",this);let s,r;do{const o=i.root.document?i.root.document.version:null,a=i.maxOffset-t.offset,l=nn.getInsertionPosition(t),u=new nn(t,a,l,null,o);this.batch.addOperation(u),this.model.applyOperation(u),!s&&!r&&(s=i,r=t.parent.nextSibling),t=this.createPositionAfter(t.parent),i=t.parent}while(i!==e);return{position:t,range:new ee(fe._createAt(s,"end"),fe._createAt(r,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new L("writer-wrap-range-not-flat",this);const i=e instanceof yn?e:new yn(e);if(i.childCount>0)throw new L("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new L("writer-wrap-element-attached",this);this.insert(i,t.start);const s=new ee(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(s,fe._createAt(i,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new L("writer-unwrap-element-no-parent",this);this.move(ee._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new L("writer-addmarker-no-usingoperation",this);const i=e.usingOperation,s=e.range,r=e.affectsData===void 0?!1:e.affectsData;if(this.model.markers.has(t))throw new L("writer-addmarker-marker-exists",this);if(!s)throw new L("writer-addmarker-no-range",this);return i?(Om(this,t,null,s,r),this.model.markers.get(t)):this.model.markers._set(t,s,i,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const i=typeof t=="string"?t:t.name,s=this.model.markers.get(i);if(!s)throw new L("writer-updatemarker-marker-not-exists",this);if(!e){ht("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(s);return}const r=typeof e.usingOperation=="boolean",o=typeof e.affectsData=="boolean",a=o?e.affectsData:s.affectsData;if(!r&&!e.range&&!o)throw new L("writer-updatemarker-wrong-options",this);const l=s.getRange(),u=e.range?e.range:l;if(r&&e.usingOperation!==s.managedUsingOperations){e.usingOperation?Om(this,i,null,u,a):(Om(this,i,l,null,a),this.model.markers._set(i,u,void 0,a));return}s.managedUsingOperations?Om(this,i,l,u,a):this.model.markers._set(i,u,void 0,a)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new L("writer-removemarker-no-marker",this);const i=this.model.markers.get(e);if(!i.managedUsingOperations){this.model.markers._remove(e);return}const s=i.getRange();Om(this,e,s,null,i.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(t);if(i&&i.isAttached())throw new L("writer-addroot-root-exists",this);const s=this.model.document,r=new So(t,e,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new L("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===e&&this.removeMarker(r);for(const r of e.getAttributeKeys())this.removeAttribute(r,e);this.remove(this.createRangeIn(e));const i=this.model.document,s=new So(e.rootName,e.name,!1,i,i.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[i,s]of Kr(t))this._setSelectionAttribute(i,s)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=Xr._getStoreAttributeKey(t);this.setAttribute(s,e,i.anchor.parent)}i._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const i=Xr._getStoreAttributeKey(t);this.removeAttribute(i,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new L("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const s=i.getRange();let r=!1;if(t==="move"){const o=e;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=e,a=o.nodeBefore,l=o.nodeAfter,u=s.start.parent==a&&s.start.isAtEnd,h=s.end.parent==l&&s.end.offset==0,m=s.end.nodeAfter==l,p=s.start.nodeAfter==l;r=u||h||m||p}r&&this.updateMarker(i.name,{range:s})}}}function U8(n,t,e,i){const s=n.model,r=s.document;let o=i.start,a,l,u;for(const m of i.getWalker({shallow:!0}))u=m.item.getAttribute(t),a&&l!=u&&(l!=e&&h(),o=a),a=m.nextPosition,l=u;a instanceof fe&&a!=o&&l!=e&&h();function h(){const m=new ee(o,a),p=m.root.document?r.version:null,v=new Xn(m,t,l,e,p);n.batch.addOperation(v),s.applyOperation(v)}}function H8(n,t,e,i){const s=n.model,r=s.document,o=i.getAttribute(t);let a,l;if(o!=e){if(i.root===i){const h=i.document?r.version:null;l=new La(i,t,o,e,h)}else{a=new ee(fe._createBefore(i),n.createPositionAfter(i));const h=a.root.document?r.version:null;l=new Xn(a,t,o,e,h)}n.batch.addOperation(l),s.applyOperation(l)}}function Om(n,t,e,i,s){const r=n.model,o=r.document,a=new is(t,e,i,r.markers,!!s,o.version);n.batch.addOperation(a),r.applyOperation(a)}function Wxe(n,t,e,i){let s;if(n.root.document){const r=i.document,o=new fe(r.graveyard,[0]);s=new jt(n,t,o,r.version)}else s=new Uxe(n,t);e.addOperation(s),i.applyOperation(s)}function $8(n,t){return n===t||n instanceof Pv&&t instanceof Pv}function qxe(n,t,e={}){if(t.isCollapsed)return;const i=t.getFirstRange();if(i.root.rootName=="$graveyard")return;const s=n.schema;n.change(r=>{if(!e.doNotResetEntireContent&&tke(s,t)){eke(r,t);return}const o={};if(!e.doNotAutoparagraph){const u=t.getSelectedElement();u&&Object.assign(o,s.getAttributesWithProperty(u,"copyOnReplace",!0))}const[a,l]=Gxe(i);a.isTouching(l)||r.remove(r.createRange(a,l)),e.leaveUnmerged||(Zxe(r,a,l),s.removeDisallowedAttributes(a.parent.getChildren(),r)),Tj(r,t,a),!e.doNotAutoparagraph&&Jxe(s,a)&&Ej(r,a,t,o),a.detach(),l.detach()})}function Gxe(n){const t=n.root.document.model,e=n.start;let i=n.end;if(t.hasContent(n,{ignoreMarkers:!0})){const s=Yxe(i);if(s&&i.isTouching(t.createPositionAt(s,0))){const r=t.createSelection(n);t.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),a=t.createRange(o,i);t.hasContent(a,{ignoreMarkers:!0})||(i=o)}}return[si.fromPosition(e,"toPrevious"),si.fromPosition(i,"toNext")]}function Yxe(n){const t=n.parent,e=t.root.document.model.schema,i=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of i){if(e.isLimit(s))return null;if(e.isBlock(s))return s}}function Zxe(n,t,e){const i=n.model;if(!k5(n.model.schema,t,e))return;const[s,r]=Xxe(t,e);!s||!r||(!i.hasContent(s,{ignoreMarkers:!0})&&i.hasContent(r,{ignoreMarkers:!0})?Cj(n,t,e,s.parent):kj(n,t,e,s.parent))}function kj(n,t,e,i){const s=t.parent,r=e.parent;if(!(s==i||r==i)){for(t=n.createPositionAfter(s),e=n.createPositionBefore(r),e.isEqual(t)||n.insert(r,t),n.merge(t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}k5(n.model.schema,t,e)&&kj(n,t,e,i)}}function Cj(n,t,e,i){const s=t.parent,r=e.parent;if(!(s==i||r==i)){for(t=n.createPositionAfter(s),e=n.createPositionBefore(r),e.isEqual(t)||n.insert(s,e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}e=n.createPositionBefore(r),Kxe(n,e),k5(n.model.schema,t,e)&&Cj(n,t,e,i)}}function Kxe(n,t){const e=t.nodeBefore,i=t.nodeAfter;e.name!=i.name&&n.rename(e,i.name),n.clearAttributes(e),n.setAttributes(Object.fromEntries(i.getAttributes()),e),n.merge(t)}function k5(n,t,e){const i=t.parent,s=e.parent;return i==s||n.isLimit(i)||n.isLimit(s)?!1:Qxe(t,e,n)}function Xxe(n,t){const e=n.getAncestors(),i=t.getAncestors();let s=0;for(;e[s]&&e[s]==i[s];)s++;return[e[s],i[s]]}function Jxe(n,t){const e=n.checkChild(t,"$text"),i=n.checkChild(t,"paragraph");return!e&&i}function Qxe(n,t,e){const i=new ee(n,t);for(const s of i.getWalker())if(e.isLimit(s.item))return!1;return!0}function Ej(n,t,e,i={}){const s=n.createElement("paragraph");n.model.schema.setAllowedAttributes(s,i,n),n.insert(s,t),Tj(n,e,n.createPositionAt(s,0))}function eke(n,t){const e=n.model.schema.getLimitElement(t);n.remove(n.createRangeIn(e)),Ej(n,n.createPositionAt(e,0),t)}function tke(n,t){const e=n.getLimitElement(t);if(!t.containsEntireContent(e))return!1;const i=t.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(e,"paragraph")}function Tj(n,t,e){t instanceof Xr?n.setSelection(e):t.setTo(e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nke(n,t){return n.change(e=>{const i=e.createDocumentFragment(),s=t.getFirstRange();if(!s||s.isCollapsed)return i;const r=s.start.root,o=s.start.getCommonPath(s.end),a=r.getNodeByPath(o);let l;s.start.parent==s.end.parent?l=s:l=e.createRange(e.createPositionAt(a,s.start.path[o.length]),e.createPositionAt(a,s.end.path[o.length]+1));const u=l.end.offset-l.start.offset;for(const h of l.getItems({shallow:!0}))h.is("$textProxy")?e.appendText(h.data,h.getAttributes(),i):e.append(e.cloneElement(h,!0),i);if(l!=s){const h=s._getTransformedByMove(l.start,e.createPositionAt(i,0),u)[0],m=e.createRange(e.createPositionAt(i,0),h.start),p=e.createRange(h.end,e.createPositionAt(i,"end"));W8(p,e),W8(m,e)}return i})}function W8(n,t){const e=[];Array.from(n.getItems({direction:"backward"})).map(i=>t.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{e.push(i.start.parent),t.remove(i)}),e.forEach(i=>{let s=i;for(;s.parent&&s.isEmpty;){const r=t.createRangeOn(s);s=s.parent,t.remove(r)}})}function ike(n,t,e){return n.change(i=>{const s=e||n.document.selection;s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});const r=new ske(n,i,s.anchor),o=[];let a;if(t.is("documentFragment")){if(t.markers.size){const h=[];for(const[m,p]of t.markers){const{start:v,end:_}=p,k=v.isEqual(_);h.push({position:v,name:m,isCollapsed:k},{position:_,name:m,isCollapsed:k})}h.sort(({position:m},{position:p})=>m.isBefore(p)?1:-1);for(const{position:m,name:p,isCollapsed:v}of h){let _=null,k=null;const C=m.parent===t&&m.isAtStart,T=m.parent===t&&m.isAtEnd;!C&&!T?(_=i.createElement("$marker"),i.insert(_,m)):v&&(k=C?"start":"end"),o.push({name:p,element:_,collapsed:k})}}a=t.getChildren()}else a=[t];r.handleNodes(a);let l=r.getSelectionRange();if(t.is("documentFragment")&&o.length){const h=l?ns.fromRange(l):null,m={};for(let p=o.length-1;p>=0;p--){const{name:v,element:_,collapsed:k}=o[p],C=!m[v];if(C&&(m[v]=[]),_){const T=i.createPositionAt(_,"before");m[v].push(T),i.remove(_)}else{const T=r.getAffectedRange();if(!T){k&&m[v].push(r.position);continue}k?m[v].push(T[k]):m[v].push(C?T.start:T.end)}}for(const[p,[v,_]]of Object.entries(m))v&&_&&v.root===_.root&&v.root.document&&!i.model.markers.has(p)&&i.addMarker(p,{usingOperation:!0,affectsData:!0,range:new ee(v,_)});h&&(l=h.toRange(),h.detach())}/* istanbul ignore else -- @preserve */l&&(s instanceof Xr?i.setSelection(l):s.setTo(l));const u=r.getAffectedRange()||n.createRange(s.anchor);return r.destroy(),u})}class ske{constructor(t,e,i){b(this,"model");b(this,"writer");b(this,"position");b(this,"canMergeWith");b(this,"schema");b(this,"_documentFragment");b(this,"_documentFragmentPosition");b(this,"_firstNode",null);b(this,"_lastNode",null);b(this,"_lastAutoParagraph",null);b(this,"_filterAttributesOf",[]);b(this,"_affectedStart",null);b(this,"_affectedEnd",null);b(this,"_nodeToSelect",null);this.model=t,this.writer=e,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(t);if(i.isAfter(e)){this._lastNode=t;/* istanbul ignore if -- @preserve */if(this.position.parent!=t||!this.position.isAtEnd)throw new L("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ee._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ee(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(!this._checkAndSplitToAllowedPosition(t)){this.schema.isObject(t)||this._handleDisallowedNode(t);return}this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=si.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleDisallowedNode(t){t.is("element")&&this.handleNodes(t.getChildren())}_appendToFragment(t){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,t))throw new L("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=si.fromPosition(t,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(t))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=si.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof yn)||!this._canMergeLeft(t))return;const e=si._createBefore(t);e.stickiness="toNext";const i=si.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=si._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=si._createAt(e.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof yn)||!this._canMergeRight(t))return;const e=si._createAfter(t);e.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(e))throw new L("insertcontent-invalid-insertion-position",this);this.position=fe._createAt(e.nodeBefore,"end");const i=si.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=si._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=si._createAt(e.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof yn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof yn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_insertAutoParagraph(){this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0)}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===e&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,t)||this._insertAutoParagraph(),!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)||this.schema.checkChild(t,"paragraph")&&this.schema.checkChild("paragraph",e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function rke(n,t,e,i={}){if(!n.schema.isObject(t))throw new L("insertobject-element-not-an-object",n,{object:t});const s=e||n.document.selection;let r=s;i.findOptimalPosition&&n.schema.isBlock(t)&&(r=n.createSelection(n.schema.findOptimalInsertionRange(s,i.findOptimalPosition)));const o=Qt(s.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let u=t;const h=r.anchor.parent;!n.schema.checkChild(h,t)&&n.schema.checkChild(h,"paragraph")&&n.schema.checkChild("paragraph",t)&&(u=l.createElement("paragraph"),l.insert(t,u)),n.schema.setAllowedAttributes(u,a,l);const m=n.insertContent(u,r);return m.isCollapsed||i.setSelection&&oke(l,t,i.setSelection,a),m})}function oke(n,t,e,i){const s=n.model;if(e=="on"){n.setSelection(t,"on");return}if(e!="after")throw new L("insertobject-invalid-place-parameter-value",s);let r=t.nextSibling;if(s.schema.isInline(t)){n.setSelection(t,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(t.parent,"paragraph")&&(r=n.createElement("paragraph"),s.schema.setAllowedAttributes(r,i,n),s.insertContent(r,n.createPositionAfter(t))),r&&n.setSelection(r,0)}const ake=' ,.?!:;"-()';function lke(n,t,e={}){const i=n.schema,s=e.direction!="backward",r=e.unit?e.unit:"character",o=!!e.treatEmojiAsSingleUnit,a=t.focus,l=new Ra({boundaries:hke(a,s),singleCharacters:!0,direction:s?"forward":"backward"}),u={walker:l,schema:i,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let h;for(;h=l.next();){if(h.done)return;const m=cke(u,h.value);if(m){t instanceof Xr?n.change(p=>{p.setSelectionFocus(m)}):t.setFocus(m);return}}}function cke(n,t){const{isForward:e,walker:i,unit:s,schema:r,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:u}=t;if(a=="text")return n.unit==="word"?dke(i,e):uke(i,s,o);if(a==(e?"elementStart":"elementEnd")){if(r.isSelectable(l))return fe._createAt(l,e?"after":"before");if(r.checkChild(u,"$text"))return u}else{if(r.isLimit(l)){i.skip(()=>!0);return}if(r.checkChild(u,"$text"))return u}}function uke(n,t,e){const i=n.position.textNode;if(i){const s=i.data;let r=n.position.offset-i.startOffset;for(;d5(s,r)||t=="character"&&h5(s,r)||e&&Lz(s,r);)n.next(),r=n.position.offset-i.startOffset}return n.position}function dke(n,t){let e=n.position.textNode;for(e||(e=t?n.position.nodeAfter:n.position.nodeBefore);e&&e.is("$text");){const i=n.position.offset-e.startOffset;if(mke(e,i,t))e=t?n.position.nodeAfter:n.position.nodeBefore;else{if(fke(e.data,i,t))break;n.next()}}return n.position}function hke(n,t){const e=n.root,i=fe._createAt(e,t?"end":0);return t?new ee(n,i):new ee(i,n)}function fke(n,t,e){const i=t+(e?0:-1);return ake.includes(n.charAt(i))}function mke(n,t,e){return t===(e?n.offsetSize:0)}let gke=class extends Wt(){constructor(){super();b(this,"markers");b(this,"document");b(this,"schema");b(this,"_pendingChanges");b(this,"_currentWriter");this.markers=new jxe,this.document=new zxe(this),this.schema=new sxe,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),K2e(this),this.document.registerPostFixer(dj),this.on("insertContent",(e,[i,s])=>{e.return=ike(this,i,s)}),this.on("insertObject",(e,[i,s,r])=>{e.return=rke(this,i,s,r)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new $d,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new $d):e instanceof $d||(e=new $d(e)):e=new $d,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,i,s,...r){const o=Zx(i,s);return this.fire("insertContent",[e,o,s,...r])}insertObject(e,i,s,r,...o){const a=Zx(i,s);return this.fire("insertObject",[e,a,r,r,...o])}deleteContent(e,i){qxe(this,e,i)}modifySelection(e,i){lke(this,e,i)}getSelectedContent(e){return nke(this,e)}hasContent(e,i={}){const s=e instanceof ee?e:ee._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:o=!1}=i;if(!o){for(const a of this.markers.getMarkersIntersectingRange(s))if(a.affectsData)return!0}for(const a of s.getItems())if(this.schema.isContent(a))if(a.is("$textProxy"))if(r){if(a.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const i=Zx(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,s){return new fe(e,i,s)}createPositionAt(e,i){return fe._createAt(e,i)}createPositionAfter(e){return fe._createAfter(e)}createPositionBefore(e){return fe._createBefore(e)}createRange(e,i){return new ee(e,i)}createRangeIn(e){return ee._createIn(e)}createRangeOn(e){return ee._createOn(e)}createSelection(...e){return new Ls(...e)}createBatch(e){return new $d(e)}createOperationFromJSON(e){return Ixe.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new $xe(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function Zx(n,t){if(n)return n instanceof Ls||n instanceof Xr?n:n instanceof $u?t||t===0?new Ls(n,t):n.is("rootElement")?new Ls(n,"in"):new Ls(n,"on"):new Ls(n)}class Sj extends Wo{constructor(){super(...arguments);b(this,"domEventType","click")}onDomEvent(e){this.fire(e.type,e)}}class vy extends Wo{constructor(){super(...arguments);b(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(e){this.fire(e.type,e)}}class pke extends Wo{constructor(){super(...arguments);b(this,"domEventType",["touchstart","touchend","touchmove"])}onDomEvent(e){this.fire(e.type,e)}}class Ys{constructor(t){b(this,"document");this.document=t}createDocumentFragment(t){return new mu(this.document,t)}createElement(t,e,i){return new Ya(this.document,t,e,i)}createText(t){return new Li(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,i){return i._insertChild(t,e)}removeChildren(t,e,i){return i._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const i=t.parent;if(i){const s=i.getChildIndex(t);return this.removeChildren(s,1,i),this.insertChild(s,e,i),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const i=e.getChildIndex(t);this.remove(t),this.insertChild(i,t.getChildren(),e)}}rename(t,e){const i=new Ya(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,i)?i:null}setAttribute(t,e,i){i._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){Lr(t)&&i===void 0?e._setStyle(t):i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return Re._createAt(t,e)}createPositionAfter(t){return Re._createAfter(t)}createPositionBefore(t){return Re._createBefore(t)}createRange(t,e){return new vt(t,e)}createRangeOn(t){return vt._createOn(t)}createRangeIn(t){return vt._createIn(t)}createSelection(...t){return new Na(...t)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const bke=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,vke=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,wke=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,yke=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,_ke=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,xke=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,kke=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function Aj(n){return n.startsWith("#")?bke.test(n):n.startsWith("rgb")?vke.test(n)||wke.test(n):n.startsWith("hsl")?yke.test(n)||_ke.test(n):kke.has(n.toLowerCase())}const Cke=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function Eke(n){return Cke.includes(n)}const Tke=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function wy(n){return Tke.test(n)}const Ske=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Ij(n){return Ske.test(n)}const Ake=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function Ike(n){return Ake.includes(n)}const Rke=["center","top","bottom","left","right"];function Pke(n){return Rke.includes(n)}const Oke=["fixed","scroll","local"];function Mke(n){return Oke.includes(n)}const Dke=/^url\(/;function Vke(n){return Dke.test(n)}function dg(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const t=C5(n),e=t[0],i=t[2]||e,s=t[1]||e,r=t[3]||s;return{top:e,bottom:i,right:s,left:r}}function hg(n){return t=>{const{top:e,right:i,bottom:s,left:r}=t,o=[];return[e,i,r,s].every(a=>!!a)?o.push([n,Nke(t)]):(e&&o.push([n+"-top",e]),i&&o.push([n+"-right",i]),s&&o.push([n+"-bottom",s]),r&&o.push([n+"-left",r])),o}}function Nke({top:n,right:t,bottom:e,left:i}){const s=[];return i!==t?s.push(n,t,e,i):e!==n?s.push(n,t,e):t!==n?s.push(n,t):s.push(n),s.join(" ")}function Rj(n){return t=>({path:n,value:dg(t)})}function C5(n){const t=n.trim().slice(0,1500).matchAll(xke);return Array.from(t).map(e=>e[0])}function E5(n){n.setNormalizer("background",Lke()),n.setNormalizer("background-color",Bke()),n.setReducer("background",Fke()),n.setStyleRelation("background",["background-color"])}function Lke(){return n=>{const t={},e=C5(n);for(const i of e)Ike(i)?(t.repeat=t.repeat||[],t.repeat.push(i)):Pke(i)?(t.position=t.position||[],t.position.push(i)):Mke(i)?t.attachment=i:Aj(i)?t.color=i:Vke(i)&&(t.image=i);return{path:"background",value:t}}}function Bke(){return n=>({path:"background.color",value:n})}function Fke(){return n=>{const t=[];return t.push(["background-color",n.color]),t}}function Pj(n){n.setNormalizer("border",zke()),n.setNormalizer("border-top",Nb("top")),n.setNormalizer("border-right",Nb("right")),n.setNormalizer("border-bottom",Nb("bottom")),n.setNormalizer("border-left",Nb("left")),n.setNormalizer("border-color",Kx("color")),n.setNormalizer("border-width",Kx("width")),n.setNormalizer("border-style",Kx("style")),n.setNormalizer("border-top-color",ar("color","top")),n.setNormalizer("border-top-style",ar("style","top")),n.setNormalizer("border-top-width",ar("width","top")),n.setNormalizer("border-right-color",ar("color","right")),n.setNormalizer("border-right-style",ar("style","right")),n.setNormalizer("border-right-width",ar("width","right")),n.setNormalizer("border-bottom-color",ar("color","bottom")),n.setNormalizer("border-bottom-style",ar("style","bottom")),n.setNormalizer("border-bottom-width",ar("width","bottom")),n.setNormalizer("border-left-color",ar("color","left")),n.setNormalizer("border-left-style",ar("style","left")),n.setNormalizer("border-left-width",ar("width","left")),n.setExtractor("border-top",Lb("top")),n.setExtractor("border-right",Lb("right")),n.setExtractor("border-bottom",Lb("bottom")),n.setExtractor("border-left",Lb("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",hg("border-color")),n.setReducer("border-style",hg("border-style")),n.setReducer("border-width",hg("border-width")),n.setReducer("border-top",Bb("top")),n.setReducer("border-right",Bb("right")),n.setReducer("border-bottom",Bb("bottom")),n.setReducer("border-left",Bb("left")),n.setReducer("border",Uke()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function zke(){return n=>{const{color:t,style:e,width:i}=Oj(n);return{path:"border",value:{color:dg(t),style:dg(e),width:dg(i)}}}}function Nb(n){return t=>{const{color:e,style:i,width:s}=Oj(t),r={};return e!==void 0&&(r.color={[n]:e}),i!==void 0&&(r.style={[n]:i}),s!==void 0&&(r.width={[n]:s}),{path:"border",value:r}}}function Kx(n){return t=>({path:"border",value:jke(t,n)})}function jke(n,t){return{[t]:dg(n)}}function ar(n,t){return e=>({path:"border",value:{[n]:{[t]:e}}})}function Lb(n){return(t,e)=>{if(e.border)return Km(e.border,n)}}function Km(n,t){const e={};return n.width&&n.width[t]&&(e.width=n.width[t]),n.style&&n.style[t]&&(e.style=n.style[t]),n.color&&n.color[t]&&(e.color=n.color[t]),e}function Oj(n){const t={},e=C5(n);for(const i of e)wy(i)||/thin|medium|thick/.test(i)?t.width=i:Eke(i)?t.style=i:t.color=i;return t}function Uke(){return t=>{const e=Km(t,"top"),i=Km(t,"right"),s=Km(t,"bottom"),r=Km(t,"left"),o=[e,i,s,r],a={width:n(o,"width"),style:n(o,"style"),color:n(o,"color")},l=rh(a,"all");return l.length?l:[...Object.entries(a).reduce((h,[m,p])=>(p&&(h.push([`border-${m}`,p]),o.forEach(v=>delete v[m])),h),[]),...rh(e,"top"),...rh(i,"right"),...rh(s,"bottom"),...rh(r,"left")]};function n(t,e){return t.map(i=>i[e]).reduce((i,s)=>i==s?i:null)}}function Bb(n){return t=>rh(t,n)}function rh(n,t){const e=[];if(n&&n.width&&e.push("width"),n&&n.style&&e.push("style"),n&&n.color&&e.push("color"),e.length==3){const i=e.map(s=>n[s]).join(" ");return[t=="all"?["border",i]:[`border-${t}`,i]]}return t=="all"?[]:e.map(i=>[`border-${t}-${i}`,n[i]])}function Hke(n){n.setNormalizer("margin",Rj("margin")),n.setNormalizer("margin-top",t=>({path:"margin.top",value:t})),n.setNormalizer("margin-right",t=>({path:"margin.right",value:t})),n.setNormalizer("margin-bottom",t=>({path:"margin.bottom",value:t})),n.setNormalizer("margin-left",t=>({path:"margin.left",value:t})),n.setReducer("margin",hg("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function $ke(n){n.setNormalizer("padding",Rj("padding")),n.setNormalizer("padding-top",t=>({path:"padding.top",value:t})),n.setNormalizer("padding-right",t=>({path:"padding.right",value:t})),n.setNormalizer("padding-bottom",t=>({path:"padding.bottom",value:t})),n.setNormalizer("padding-left",t=>({path:"padding.left",value:t})),n.setReducer("padding",hg("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Mj{constructor(t){b(this,"crashes",[]);b(this,"state","initializing");b(this,"_crashNumberLimit");b(this,"_now",Date.now);b(this,"_minimumNonErrorTimePeriod");b(this,"_boundErrorHandler");b(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const i="error"in e?e.error:e.reason;i instanceof Error&&this._handleError(i,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(i=>i!==e)}_fire(t,...e){const i=this._listeners[t]||[];for(const s of i)s.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-e)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bE(n,t=new Set){const e=[n],i=new Set;let s=0;for(;e.length>s;){const r=e[s++];if(!(i.has(r)||!Wke(r)||t.has(r)))if(i.add(r),Symbol.iterator in r)try{for(const o of r)e.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&e.push(r[o])}return i}function Wke(n){const t=Object.prototype.toString.call(n),e=typeof n;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function Dj(n,t,e=new Set){if(n===t&&qke(n))return!0;const i=bE(n,e),s=bE(t,e);for(const r of i)if(s.has(r))return!0;return!1}function qke(n){return typeof n=="object"&&n!==null}class Vj extends Mj{constructor(e,i={}){super(i);b(this,"_editor",null);b(this,"_lifecyclePromise",null);b(this,"_throttledSave");b(this,"_data");b(this,"_lastDocumentVersion");b(this,"_elementOrData");b(this,"_initUsingData",!0);b(this,"_editables",{});b(this,"_config");b(this,"_excludedProps");this._throttledSave=Mu(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(s,r)=>e.create(s,r)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],s=this._config.rootsAttributes||{},r={};for(const[a,l]of Object.entries(this._data.roots))l.isLoaded?(e[a]="",r[a]=s[a]||{}):i.push(a);const o={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:r,_watchdogInitialData:this._data};return delete o.initialData,o.extraPlugins.push(Gke),this._initUsingData?this.create(e,o,o.context):qa(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=s,this._creator(e,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(l=>l.isAttached()&&l.rootName!="$graveyard"),{plugins:s}=e,r=s.has("CommentsRepository")&&s.get("CommentsRepository"),o=s.has("TrackChanges")&&s.get("TrackChanges"),a={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(l=>{a.roots[l.rootName]={content:JSON.stringify(Array.from(l.getChildren())),attributes:JSON.stringify(Array.from(l.getAttributes())),isLoaded:l._isLoaded}});for(const l of e.model.markers)l._affectsData&&(a.markers[l.name]={rangeJSON:l.getRange().toJSON(),usingOperation:l._managedUsingOperations,affectsData:l._affectsData});return r&&(a.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(a.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),a}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(i);s&&(e[i]=s)}return e}_isErrorComingFromThisItem(e){return Dj(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return i5(e,(i,s)=>{if(qa(i)||s==="context")return i})}}class Gke{constructor(t){b(this,"editor");b(this,"_data");this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,e){if("name"in e){const i=t.createElement(e.name,e.attributes);if(e.children)for(const s of e.children)i._appendChild(this._createNode(t,s));return i}else return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach(([i,{content:s,attributes:r}])=>{const o=JSON.parse(s),a=JSON.parse(r),l=e.model.document.getRoot(i);for(const[u,h]of a)t.setAttribute(u,h,l);for(const u of o){const h=this._createNode(t,u);t.insert(h,l,"end")}}),Object.entries(this._data.markers).forEach(([i,s])=>{const{document:r}=e.model,{rangeJSON:{start:o,end:a},...l}=s,u=r.getRoot(o.root),h=t.createPositionFromPath(u,o.path,o.stickiness),m=t.createPositionFromPath(u,a.path,a.stickiness),p=t.createRange(h,m);t.addMarker(i,{range:p,...l})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach(i=>{const s=this.editor.config.get("collaboration.channelId"),r=this.editor.plugins.get("CommentsRepository");r.hasCommentThread(i.threadId)&&r.getCommentThread(i.threadId).remove(),r.addCommentThread({channelId:s,...i})}),e.forEach(i=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(i.id)){const r=s.getSuggestion(i.id);r.attributes=i.attributes}else s.addSuggestionData(i)})}}const fg=Symbol("MainQueueId");class Yke extends Mj{constructor(e,i={}){super(i);b(this,"_watchdogs",new Map);b(this,"_watchdogConfig");b(this,"_context",null);b(this,"_contextProps",new Set);b(this,"_actionQueues",new Zke);b(this,"_contextConfig");b(this,"_item");this._watchdogConfig=i,this._creator=s=>e.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(fg,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const i=q8(e);return Promise.all(i.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return r=new Vj(null,this._watchdogConfig),r.setCreator(s.creator),r._setExcludedProperties(this._contextProps),s.destructor&&r.setDestructor(s.destructor),this._watchdogs.set(s.id,r),r.on("error",(o,{error:a,causesRestart:l})=>{this._fire("itemError",{itemId:s.id,error:a}),l&&this._actionQueues.enqueue(s.id,()=>new Promise(u=>{const h=()=>{r.off("restart",h),this._fire("itemRestart",{itemId:s.id}),u()};r.on("restart",h)}))}),r.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(e){const i=q8(e);return Promise.all(i.map(s=>this._actionQueues.enqueue(s,()=>{const r=this._getWatchdog(s);return this._watchdogs.delete(s),r.destroy()})))}destroy(){return this._actionQueues.enqueue(fg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(fg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=bE(this._context),Promise.all(Array.from(this._watchdogs.values()).map(i=>(i._setExcludedProperties(this._contextProps),i.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(i=>i.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const i=this._watchdogs.get(e);if(!i)throw new Error(`Item with the given id was not registered: ${e}.`);return i}_isErrorComingFromThisItem(e){for(const i of this._watchdogs.values())if(i._isErrorComingFromThisItem(e))return!1;return Dj(this._context,e.context)}}class Zke{constructor(){b(this,"_onEmptyCallbacks",[]);b(this,"_queues",new Map);b(this,"_activeActions",0)}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const i=t===fg;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const r=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(fg),this._queues.get(t)])).then(e),o=r.catch(()=>{});return this._queues.set(t,o),r.finally(()=>{this._activeActions--,this._queues.get(t)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function q8(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class F extends Wt(){constructor(e){super();b(this,"editor");b(this,"_disableStack",new Set);this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",G8,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",G8),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function G8(n){n.return=!1,n.stop()}class je extends Wt(){constructor(e){super();b(this,"editor");b(this,"_isEnabledBasedOnSelection");b(this,"_affectsData");b(this,"_disableStack");this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const s=e.model.document.selection,o=!(s.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!o)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Y8,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Y8),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Y8(n){n.return=!1,n.stop()}class Z8 extends je{constructor(){super(...arguments);b(this,"_childCommandsDefinitions",[])}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){dz(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class Nj extends Xt(){constructor(e,i=[],s=[]){super();b(this,"_context");b(this,"_plugins",new Map);b(this,"_availablePlugins");b(this,"_contextPlugins");this._context=e,this._availablePlugins=new Map;for(const r of i)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,o]of s)this._contextPlugins.set(r,o),this._contextPlugins.set(o,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new L("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(e){return this._plugins.has(e)}init(e,i=[],s=[]){const r=this,o=this._context;_(e),C(e);const a=e.filter(N=>!p(N,i)),l=[...k(a)];D(l,s);const u=P(l);return O(u,"init").then(()=>O(u,"afterInit")).then(()=>u);function h(N){return typeof N=="function"}function m(N){return h(N)&&!!N.isContextPlugin}function p(N,j){return j.some(z=>z===N||v(N)===z||v(z)===N)}function v(N){return h(N)?N.pluginName||N.name:N}function _(N,j=new Set){N.forEach(z=>{h(z)&&(j.has(z)||(j.add(z),z.pluginName&&!r._availablePlugins.has(z.pluginName)&&r._availablePlugins.set(z.pluginName,z),z.requires&&_(z.requires,j)))})}function k(N,j=new Set){return N.map(z=>h(z)?z:r._availablePlugins.get(z)).reduce((z,J)=>j.has(J)?z:(j.add(J),J.requires&&(C(J.requires,J),k(J.requires,j).forEach(_e=>z.add(_e))),z.add(J)),new Set)}function C(N,j=null){N.map(z=>h(z)?z:r._availablePlugins.get(z)||z).forEach(z=>{T(z,j),S(z,j),I(z,j)})}function T(N,j){if(!h(N))throw j?new L("plugincollection-soft-required",o,{missingPlugin:N,requiredBy:v(j)}):new L("plugincollection-plugin-not-found",o,{plugin:N})}function S(N,j){if(m(j)&&!m(N))throw new L("plugincollection-context-required",o,{plugin:v(N),requiredBy:v(j)})}function I(N,j){if(j&&p(N,i))throw new L("plugincollection-required",o,{plugin:v(N),requiredBy:v(j)})}function P(N){return N.map(j=>{let z=r._contextPlugins.get(j);return z=z||new j(o),r._add(j,z),z})}function O(N,j){return N.reduce((z,J)=>!J[j]||r._contextPlugins.has(J)?z:z.then(J[j].bind(J)),Promise.resolve())}function D(N,j){for(const z of j){if(typeof z!="function")throw new L("plugincollection-replace-plugin-invalid-type",null,{pluginItem:z});const J=z.pluginName;if(!J)throw new L("plugincollection-replace-plugin-missing-name",null,{pluginItem:z});if(z.requires&&z.requires.length)throw new L("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:J});const _e=r._availablePlugins.get(J);if(!_e)throw new L("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:J});const ae=N.indexOf(_e);if(ae===-1){if(r._contextPlugins.has(_e))return;throw new L("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:J})}if(_e.requires&&_e.requires.length)throw new L("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:J});N.splice(ae,1,z),r._availablePlugins.set(J,z)}}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy=="function"&&!this._contextPlugins.has(i)&&e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new L("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,i)}}}class Ov{constructor(t){b(this,"config");b(this,"plugins");b(this,"locale");b(this,"t");b(this,"editors");b(this,"_contextOwner",null);const{translations:e,...i}=t||{};this.config=new _z(i,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new Nj(this,s);const r=this.config.get("language")||{};this.locale=new Vye({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new kn}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const i of t.concat(e)){if(typeof i!="function")throw new L("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new L("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new L("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const i=new this(t);e(i.initPlugins().then(()=>i))})}}b(Ov,"defaultConfig"),b(Ov,"builtinPlugins");class Lj extends Wt(){constructor(e){super();b(this,"context");this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}class Kke{constructor(){b(this,"_commands");this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const i=this.get(t);if(!i)throw new L("commandcollection-command-not-found",this,{commandName:t});return i.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class Xke extends Vt{constructor(e){super();b(this,"editor");this.editor=e}set(e,i,s={}){if(typeof i=="string"){const r=i;i=(o,a)=>{this.editor.execute(r),a()}}super.set(e,i,s)}}const Xx="contentEditing",K8="common";class Jke{constructor(t){b(this,"keystrokeInfos",new Map);b(this,"_editor");this._editor=t;const e=t.config.get("menuBar.isVisible"),i=t.locale.t;this.addKeystrokeInfoCategory({id:Xx,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const s=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&s.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:s}]})}addKeystrokeInfoCategory({id:t,label:e,description:i,groups:s}){this.keystrokeInfos.set(t,{id:t,label:e,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:K8}),s&&s.forEach(r=>{this.addKeystrokeInfoGroup({categoryId:t,...r})})}addKeystrokeInfoGroup({categoryId:t=Xx,id:e,label:i,keystrokes:s}){const r=this.keystrokeInfos.get(t);if(!r)throw new L("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});r.groups.set(e,{id:e,label:i,keystrokes:s||[]})}addKeystrokeInfos({categoryId:t=Xx,groupId:e=K8,keystrokes:i}){if(!this.keystrokeInfos.has(t))throw new L("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:i});const s=this.keystrokeInfos.get(t);if(!s.groups.has(e))throw new L("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:i});s.groups.get(e).keystrokes.push(...i)}}function Qke(n){return{sessionId:sCe(),pageSessionId:rCe(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:eCe(n),plugins:tCe(n.plugins),distribution:nCe(),env:iCe(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:Jx(n.config.get("toolbar")),block:Jx(n.config.get("blockToolbar")),balloon:Jx(n.config.get("balloonToolbar"))}}}function eCe(n){return Object.getPrototypeOf(n).constructor.editorName}function tCe(n){return Array.from(n).filter(([t])=>!!t.pluginName).map(([t])=>{const{pluginName:e,isContextPlugin:i,isOfficialPlugin:s,isPremiumPlugin:r}=t;return{isContext:!!i,isOfficial:!!s,isPremium:!!r,name:e}})}function Jx(n){if(!n)return;const t=Array.isArray(n)?{items:n}:n,e=r(t.items||[]);return{isMultiline:e.includes("-"),shouldNotGroupWhenFull:!!t.shouldNotGroupWhenFull,items:s(e)};function s(o){return o.filter(a=>a!=="|"&&a!=="-")}function r(o){return o.flatMap(a=>typeof a=="string"?[a]:r(a.items))}}function nCe(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function iCe(){let n="unknown",t="unknown";return Ge.isMac?n="mac":Ge.isWindows?n="windows":Ge.isiOS?n="ios":Ge.isAndroid&&(n="android"),Ge.isGecko?t="gecko":Ge.isBlink?t="blink":Ge.isSafari&&(t="safari"),{os:n,browser:t}}function sCe(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",mi()),localStorage.getItem("__ckeditor-session-id")}function rCe(){return Pe.window.CKEDITOR_PAGE_SESSION_ID=Pe.window.CKEDITOR_PAGE_SESSION_ID||mi(),Pe.window.CKEDITOR_PAGE_SESSION_ID}var tu;let oCe=(tu=class extends Wt(){constructor(e={}){super();b(this,"accessibility");b(this,"commands");b(this,"config");b(this,"conversion");b(this,"data");b(this,"editing");b(this,"locale");b(this,"model");b(this,"plugins");b(this,"keystrokes");b(this,"t");b(this,"_context");b(this,"_readOnlyLocks");if("sanitizeHtml"in e)throw new L("editor-config-sanitizehtml-not-supported");const i=this.constructor,{translations:s,...r}=i.defaultConfig||{},{translations:o=s,...a}=e,l=e.language||r.language;this._context=e.context||new Ov({language:l,translations:o}),this._context._addEditor(this,!e.context);const u=Array.from(i.builtinPlugins||[]);this.config=new _z(a,r),this.config.define("plugins",u),this.config.define(this._context._getEditorConfig()),m(this.config),this.plugins=new Nj(this,u,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Kke,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new gke,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const h=new e_e;this.data=new Exe(this.model,h),this.editing=new nxe(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Sxe([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Xke(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new Jke(this),p(this);function m(v){let _=v.get("licenseKey");if(!_&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(_=window.CKEDITOR_GLOBAL_LICENSE_KEY,v.set("licenseKey",_)),!_)throw new L("license-key-missing")}function p(v){const _=v.config.get("licenseKey"),k=window[Symbol.for("cke distribution")]||"sh";function C(z){v.enableReadOnlyMode(Symbol("invalidLicense")),v._showLicenseError(z)}function T(z){const J=z.split(".");return J.length!=3?null:J[1]}function S(z){return["exp","jti","vc"].every(_e=>_e in z)}function I(z){return Object.getOwnPropertyNames(z).sort().filter(ae=>ae!="vc"&&z[ae]!=null).map(ae=>z[ae])}function P(z){const{hostname:J}=new URL(window.location.href);if(z.includes(J))return!0;const _e=J.split(".");return z.filter(ae=>ae.includes("*")).map(ae=>ae.split(".")).filter(ae=>ae.length<=_e.length).map(ae=>Array(_e.length-ae.length).fill(ae[0]==="*"?"*":"").concat(ae)).some(ae=>_e.every((xe,be)=>ae[be]===xe||ae[be]==="*"))}if(_=="GPL"){k=="cloud"&&C("distributionChannel");return}const O=T(_);if(!O){C("invalid");return}const D=u5(O);if(!D){C("invalid");return}if(!S(D)){C("invalid");return}if(D.distributionChannel&&!qt(D.distributionChannel).includes(k)){C("distributionChannel");return}if(zye(I(D))!=D.vc.toLowerCase()){C("invalid");return}if(new Date(D.exp*1e3)<Jwe){C("expired");return}const j=D.licensedHosts;if(j&&j.length>0&&!P(j)){C("domainLimit");return}if(["evaluation","trial"].includes(D.licenseType)&&D.exp*1e3<Date.now()){C("expired");return}if(["development","evaluation","trial"].includes(D.licenseType)){const{licenseType:z}=D,J=z[0].toUpperCase()+z.slice(1),_e=z==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${J} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${_e} ${z} license of CKEditor 5${z==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(["evaluation","trial"].includes(D.licenseType)){const z=D.licenseType,J=setTimeout(()=>{C(`${z}Limit`)},6e5);v.on("destroy",()=>{clearTimeout(J)})}D.usageEndpoint&&v.once("ready",()=>{const z={requestId:mi(),requestTime:Math.round(Date.now()/1e3),license:_,editor:aCe(v)};v._sendUsageRequest(D.usageEndpoint,z).then(J=>{const{status:_e,message:ae}=J;ae&&console.warn(ae),_e!="ok"&&C("usageLimit")},()=>{Kwe("license-key-validation-endpoint-not-reachable",{url:D.usageEndpoint})})},{priority:"high"})}}static get editorName(){return"Editor"}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new L("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),s=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],o=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(r),s,o)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(s){/* istanbul ignore next -- @preserve */L.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}_showLicenseError(e,i){setTimeout(()=>{if(e=="invalid")throw new L("invalid-license-key");if(e=="expired")throw new L("license-key-expired");if(e=="domainLimit")throw new L("license-key-domain-limit");if(e=="featureNotAllowed")throw new L("license-key-plugin-not-allowed",null,{pluginName:i});if(e=="evaluationLimit")throw new L("license-key-evaluation-limit");if(e=="trialLimit")throw new L("license-key-trial-limit");if(e=="developmentLimit")throw new L("license-key-development-limit");if(e=="usageLimit")throw new L("license-key-usage-limit");if(e=="distributionChannel")throw new L("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,i){const s=new Headers({"Content-Type":"application/json"}),r=await fetch(new URL(e),{method:"POST",headers:s,body:JSON.stringify(i)});if(!r.ok)throw new Error(`HTTP Response: ${r.status}`);return r.json()}},b(tu,"defaultConfig"),b(tu,"builtinPlugins"),b(tu,"Context",Ov),b(tu,"EditorWatchdog",Vj),b(tu,"ContextWatchdog",Yke),tu);function aCe(n){const t=Qke(n);function e(i,s){if(zh(t,i)!==void 0)throw new L("editor-usage-data-path-already-set",{path:i});lz(t,i,s)}return n.fire("collectUsageData",{setUsageData:e}),t}function lCe(n){if(!Pu(n.updateSourceElement))throw new L("attachtoform-missing-elementapi-interface",n);const t=n.sourceElement;if(cCe(t)&&t.form){let e;const i=t.form,s=()=>n.updateSourceElement();Pu(i.submit)&&(e=i.submit,i.submit=()=>{s(),e.apply(i)}),i.addEventListener("submit",s),n.on("destroy",()=>{i.removeEventListener("submit",s),e&&(i.submit=e)})}}function cCe(n){return!!n&&n.tagName.toLowerCase()==="textarea"}function vE(n){class t extends n{constructor(){super(...arguments);b(this,"sourceElement")}updateSourceElement(s){if(!this.sourceElement)throw new L("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!o){e8(this.sourceElement,"");return}const a=typeof s=="string"?s:this.data.get();e8(this.sourceElement,a)}}return t}vE.updateSourceElement=vE(Object).prototype.updateSourceElement;class Hh extends Lj{constructor(){super(...arguments);b(this,"_actions")}static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new kn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new L("pendingactions-add-invalid-message",this);const i=new(Wt());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}var uCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',dCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',hCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',fCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',mCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',gCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',pCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',bCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',vCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',wCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',yCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',_Ce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',xCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',kCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',CCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',ECe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',TCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',SCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',ACe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',ICe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',RCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',PCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',OCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',MCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',DCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',VCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',NCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',LCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',BCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',FCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',zCe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',jCe='<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',UCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',HCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',$Ce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',WCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',qCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',GCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',YCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',ZCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',KCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',XCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',JCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',QCe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',eEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',tEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',nEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',iEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',sEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',rEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',oEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',aEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',lEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',cEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',uEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',dEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',hEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',fEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',mEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',gEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',pEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',bEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',vEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>',wEe=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>
`,yEe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1Zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5Zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5Zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5Zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2Z"/></svg>',_Ee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.68 3.417a.238.238 0 0 0-.24.236v12.66l3.793-3.102a1.215 1.215 0 0 1 1.534 0l3.793 3.103V3.654a.238.238 0 0 0-.24-.237H5.68ZM4 3.653C4 2.74 4.752 2 5.68 2h8.64c.928 0 1.68.74 1.68 1.653v13.164c0 1-1.185 1.547-1.967.908L10 14.426l-4.033 3.299c-.782.64-1.967.092-1.967-.908V3.653Z"/></svg>',xEe='<svg viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M2 14.436V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v12.436a.5.5 0 0 1-.819.385l-3.862-3.2a.5.5 0 0 0-.638 0l-3.862 3.2A.5.5 0 0 1 2 14.436Z"/></svg>',kEe=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M8.5 8.25a1.25 1.25 0 1 1-2.499.001A1.25 1.25 0 0 1 8.5 8.25Z"/><path clip-rule="evenodd" d="M14 8.25a1.25 1.25 0 1 1-2.499.001A1.25 1.25 0 0 1 14 8.25Z"/><path clip-rule="evenodd" d="M7.127 12.088a.75.75 0 1 0-1.254.824C6.88 14.444 8.423 15.25 10 15.25c1.578 0 3.12-.805 4.127-2.338a.75.75 0 0 0-1.254-.824C12.13 13.221 11.048 13.75 10 13.75c-1.047 0-2.13-.529-2.873-1.662Z"/><path d="M10 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0-1.5a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z"/></svg>
`;const me={bold:KCe,cancel:uCe,caption:dCe,check:hCe,cog:fCe,colorPalette:mCe,eraser:gCe,history:pCe,image:xCe,imageUpload:kCe,imageAssetManager:CCe,imageUrl:ECe,lowVision:bCe,textAlternative:vCe,loupe:wCe,previousArrow:yCe,nextArrow:_Ce,importExport:eEe,paragraph:XCe,plus:JCe,text:QCe,alignBottom:TCe,alignMiddle:SCe,alignTop:ACe,alignLeft:ICe,alignCenter:RCe,alignRight:PCe,alignJustify:OCe,objectLeft:BCe,objectCenter:DCe,objectRight:FCe,objectFullWidth:NCe,objectInline:LCe,objectBlockLeft:MCe,objectBlockRight:VCe,objectSizeCustom:jCe,objectSizeFull:zCe,objectSizeLarge:UCe,objectSizeSmall:HCe,objectSizeMedium:$Ce,pencil:WCe,pilcrow:qCe,quote:GCe,threeVerticalDots:YCe,dragIndicator:ZCe,redo:tEe,undo:nEe,bulletedList:iEe,numberedList:sEe,todoList:rEe,codeBlock:oEe,browseFiles:aEe,heading1:lEe,heading2:cEe,heading3:uEe,heading4:dEe,heading5:hEe,heading6:fEe,horizontalLine:mEe,html:gEe,indent:pEe,outdent:bEe,table:vEe,source:wEe,remove:yEe,bookmark:_Ee,bookmarkInline:xEe,emoji:kEe};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class CEe extends Wt(){constructor(){super();b(this,"total");b(this,"_reader");b(this,"_data");const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((s,r)=>{i.onload=()=>{const o=i.result;this._data=o,s(o)},i.onerror=()=>{r("error")},i.onabort=()=>{r("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Yl extends F{constructor(){super(...arguments);b(this,"loaders",new kn);b(this,"_loadersMap",new Map);b(this,"_pendingAction",null)}static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[Hh]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return ht("filerepository-no-upload-adapter"),null;const i=new X8(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const r of this.loaders)s+=r.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const r of this.loaders)r.uploadTotal&&(s+=r.uploadTotal);this.uploadTotal=s}),i}destroyLoader(e){const i=e instanceof X8?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,r)=>{s===i&&this._loadersMap.delete(r)})}_updatePendingAction(){const e=this.editor.plugins.get(Hh);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=r=>`${i("Upload in progress")} ${parseInt(r)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}class X8 extends Wt(){constructor(e,i){super();b(this,"id");b(this,"_filePromiseWrapper");b(this,"_adapter");b(this,"_reader");this.id=mi(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new CEe,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,r)=>r?s/r*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new L("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new L("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((s,r)=>{i.rejecter=r,i.isFulfilled=!1,e.then(o=>{i.isFulfilled=!0,s(o)}).catch(o=>{i.isFulfilled=!0,r(o)})}),i}}class EEe extends F{static get requires(){return[Yl]}static get pluginName(){return"SimpleUploadAdapter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.config.get("simpleUpload");if(t){if(!t.uploadUrl){ht("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(Yl).createUploadAdapter=e=>new TEe(e,t)}}}class TEe{constructor(t,e){b(this,"loader");b(this,"options");b(this,"xhr");this.loader=t,this.options=e}upload(){return this.loader.file.then(t=>new Promise((e,i)=>{this._initRequest(),this._initListeners(e,i,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.options.uploadUrl,!0),t.responseType="json"}_initListeners(t,e,i){const s=this.xhr,r=this.loader,o=`Couldn't upload file: ${i.name}.`;s.addEventListener("error",()=>e(o)),s.addEventListener("abort",()=>e()),s.addEventListener("load",()=>{const a=s.response;if(!a||a.error)return e(a&&a.error&&a.error.message?a.error.message:o);const l=a.url?{default:a.url}:a.urls;t({...a,urls:l})});/* istanbul ignore else -- @preserve */s.upload&&s.upload.addEventListener("progress",a=>{a.lengthComputable&&(r.uploadTotal=a.total,r.uploaded=a.loaded)})}_sendRequest(t){let e=this.options.headers||{};typeof e=="function"&&(e=e(t));const i=this.options.withCredentials||!1;for(const r of Object.keys(e))this.xhr.setRequestHeader(r,e[r]);this.xhr.withCredentials=i;const s=new FormData;s.append("upload",t),this.xhr.send(s)}}var Qx,J8;function Bj(){return J8||(J8=1,Qx={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Qx}var SEe=Bj();const Q8=mc(SEe);var eO={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function tO(n){var t,e=[],i=1,s;if(typeof n=="string")if(Q8[n])e=Q8[n].slice(),s="rgb";else if(n==="transparent")i=0,s="rgb",e=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var r=n.slice(1),o=r.length,a=o<=4;i=1,a?(e=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],o===4&&(i=parseInt(r[3]+r[3],16)/255)):(e=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],o===8&&(i=parseInt(r[6]+r[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),s="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var l=t[1],u=l==="rgb",r=l.replace(/a$/,"");s=r;var o=r==="cmyk"?4:r==="gray"?1:3;e=t[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,v){if(/%$/.test(p))return v===o?parseFloat(p)/100:r==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(r[v]==="h"){if(/deg$/.test(p))return parseFloat(p);if(eO[p]!==void 0)return eO[p]}return parseFloat(p)}),l===r&&e.push(1),i=u||e[o]===void 0?1:e[o],e=e.slice(0,o)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(e=n.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),s=n.match(/([a-z])/ig).join("").toLowerCase());else isNaN(n)?Array.isArray(n)||n.length?(e=[n[0],n[1],n[2]],s="rgb",i=n.length===4?n[3]:1):n instanceof Object&&(n.r!=null||n.red!=null||n.R!=null?(s="rgb",e=[n.r||n.red||n.R||0,n.g||n.green||n.G||0,n.b||n.blue||n.B||0]):(s="hsl",e=[n.h||n.hue||n.H||0,n.s||n.saturation||n.S||0,n.l||n.lightness||n.L||n.b||n.brightness]),i=n.a||n.alpha||n.opacity||1,n.opacity!=null&&(i/=100)):(s="rgb",e=[n>>>16,(n&65280)>>>8,n&255]);return{space:s,values:e,alpha:i}}var ek,nO;function Fj(){if(nO)return ek;nO=1;const n=Bj(),t={};for(const s of Object.keys(n))t[n[s]]=s;const e={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ek=e;for(const s of Object.keys(e)){if(!("channels"in e[s]))throw new Error("missing channels property: "+s);if(!("labels"in e[s]))throw new Error("missing channel labels property: "+s);if(e[s].labels.length!==e[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:r,labels:o}=e[s];delete e[s].channels,delete e[s].labels,Object.defineProperty(e[s],"channels",{value:r}),Object.defineProperty(e[s],"labels",{value:o})}e.rgb.hsl=function(s){const r=s[0]/255,o=s[1]/255,a=s[2]/255,l=Math.min(r,o,a),u=Math.max(r,o,a),h=u-l;let m,p;u===l?m=0:r===u?m=(o-a)/h:o===u?m=2+(a-r)/h:a===u&&(m=4+(r-o)/h),m=Math.min(m*60,360),m<0&&(m+=360);const v=(l+u)/2;return u===l?p=0:v<=.5?p=h/(u+l):p=h/(2-u-l),[m,p*100,v*100]},e.rgb.hsv=function(s){let r,o,a,l,u;const h=s[0]/255,m=s[1]/255,p=s[2]/255,v=Math.max(h,m,p),_=v-Math.min(h,m,p),k=function(C){return(v-C)/6/_+1/2};return _===0?(l=0,u=0):(u=_/v,r=k(h),o=k(m),a=k(p),h===v?l=a-o:m===v?l=1/3+r-a:p===v&&(l=2/3+o-r),l<0?l+=1:l>1&&(l-=1)),[l*360,u*100,v*100]},e.rgb.hwb=function(s){const r=s[0],o=s[1];let a=s[2];const l=e.rgb.hsl(s)[0],u=1/255*Math.min(r,Math.min(o,a));return a=1-1/255*Math.max(r,Math.max(o,a)),[l,u*100,a*100]},e.rgb.cmyk=function(s){const r=s[0]/255,o=s[1]/255,a=s[2]/255,l=Math.min(1-r,1-o,1-a),u=(1-r-l)/(1-l)||0,h=(1-o-l)/(1-l)||0,m=(1-a-l)/(1-l)||0;return[u*100,h*100,m*100,l*100]};function i(s,r){return(s[0]-r[0])**2+(s[1]-r[1])**2+(s[2]-r[2])**2}return e.rgb.keyword=function(s){const r=t[s];if(r)return r;let o=1/0,a;for(const l of Object.keys(n)){const u=n[l],h=i(s,u);h<o&&(o=h,a=l)}return a},e.keyword.rgb=function(s){return n[s]},e.rgb.xyz=function(s){let r=s[0]/255,o=s[1]/255,a=s[2]/255;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,a=a>.04045?((a+.055)/1.055)**2.4:a/12.92;const l=r*.4124+o*.3576+a*.1805,u=r*.2126+o*.7152+a*.0722,h=r*.0193+o*.1192+a*.9505;return[l*100,u*100,h*100]},e.rgb.lab=function(s){const r=e.rgb.xyz(s);let o=r[0],a=r[1],l=r[2];o/=95.047,a/=100,l/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,a=a>.008856?a**(1/3):7.787*a+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const u=116*a-16,h=500*(o-a),m=200*(a-l);return[u,h,m]},e.hsl.rgb=function(s){const r=s[0]/360,o=s[1]/100,a=s[2]/100;let l,u,h;if(o===0)return h=a*255,[h,h,h];a<.5?l=a*(1+o):l=a+o-a*o;const m=2*a-l,p=[0,0,0];for(let v=0;v<3;v++)u=r+1/3*-(v-1),u<0&&u++,u>1&&u--,6*u<1?h=m+(l-m)*6*u:2*u<1?h=l:3*u<2?h=m+(l-m)*(2/3-u)*6:h=m,p[v]=h*255;return p},e.hsl.hsv=function(s){const r=s[0];let o=s[1]/100,a=s[2]/100,l=o;const u=Math.max(a,.01);a*=2,o*=a<=1?a:2-a,l*=u<=1?u:2-u;const h=(a+o)/2,m=a===0?2*l/(u+l):2*o/(a+o);return[r,m*100,h*100]},e.hsv.rgb=function(s){const r=s[0]/60,o=s[1]/100;let a=s[2]/100;const l=Math.floor(r)%6,u=r-Math.floor(r),h=255*a*(1-o),m=255*a*(1-o*u),p=255*a*(1-o*(1-u));switch(a*=255,l){case 0:return[a,p,h];case 1:return[m,a,h];case 2:return[h,a,p];case 3:return[h,m,a];case 4:return[p,h,a];case 5:return[a,h,m]}},e.hsv.hsl=function(s){const r=s[0],o=s[1]/100,a=s[2]/100,l=Math.max(a,.01);let u,h;h=(2-o)*a;const m=(2-o)*l;return u=o*l,u/=m<=1?m:2-m,u=u||0,h/=2,[r,u*100,h*100]},e.hwb.rgb=function(s){const r=s[0]/360;let o=s[1]/100,a=s[2]/100;const l=o+a;let u;l>1&&(o/=l,a/=l);const h=Math.floor(6*r),m=1-a;u=6*r-h,(h&1)!==0&&(u=1-u);const p=o+u*(m-o);let v,_,k;switch(h){default:case 6:case 0:v=m,_=p,k=o;break;case 1:v=p,_=m,k=o;break;case 2:v=o,_=m,k=p;break;case 3:v=o,_=p,k=m;break;case 4:v=p,_=o,k=m;break;case 5:v=m,_=o,k=p;break}return[v*255,_*255,k*255]},e.cmyk.rgb=function(s){const r=s[0]/100,o=s[1]/100,a=s[2]/100,l=s[3]/100,u=1-Math.min(1,r*(1-l)+l),h=1-Math.min(1,o*(1-l)+l),m=1-Math.min(1,a*(1-l)+l);return[u*255,h*255,m*255]},e.xyz.rgb=function(s){const r=s[0]/100,o=s[1]/100,a=s[2]/100;let l,u,h;return l=r*3.2406+o*-1.5372+a*-.4986,u=r*-.9689+o*1.8758+a*.0415,h=r*.0557+o*-.204+a*1.057,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,h=h>.0031308?1.055*h**(1/2.4)-.055:h*12.92,l=Math.min(Math.max(0,l),1),u=Math.min(Math.max(0,u),1),h=Math.min(Math.max(0,h),1),[l*255,u*255,h*255]},e.xyz.lab=function(s){let r=s[0],o=s[1],a=s[2];r/=95.047,o/=100,a/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;const l=116*o-16,u=500*(r-o),h=200*(o-a);return[l,u,h]},e.lab.xyz=function(s){const r=s[0],o=s[1],a=s[2];let l,u,h;u=(r+16)/116,l=o/500+u,h=u-a/200;const m=u**3,p=l**3,v=h**3;return u=m>.008856?m:(u-16/116)/7.787,l=p>.008856?p:(l-16/116)/7.787,h=v>.008856?v:(h-16/116)/7.787,l*=95.047,u*=100,h*=108.883,[l,u,h]},e.lab.lch=function(s){const r=s[0],o=s[1],a=s[2];let l;l=Math.atan2(a,o)*360/2/Math.PI,l<0&&(l+=360);const h=Math.sqrt(o*o+a*a);return[r,h,l]},e.lch.lab=function(s){const r=s[0],o=s[1],l=s[2]/360*2*Math.PI,u=o*Math.cos(l),h=o*Math.sin(l);return[r,u,h]},e.rgb.ansi16=function(s,r=null){const[o,a,l]=s;let u=r===null?e.rgb.hsv(s)[2]:r;if(u=Math.round(u/50),u===0)return 30;let h=30+(Math.round(l/255)<<2|Math.round(a/255)<<1|Math.round(o/255));return u===2&&(h+=60),h},e.hsv.ansi16=function(s){return e.rgb.ansi16(e.hsv.rgb(s),s[2])},e.rgb.ansi256=function(s){const r=s[0],o=s[1],a=s[2];return r===o&&o===a?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(o/255*5)+Math.round(a/255*5)},e.ansi16.rgb=function(s){let r=s%10;if(r===0||r===7)return s>50&&(r+=3.5),r=r/10.5*255,[r,r,r];const o=(~~(s>50)+1)*.5,a=(r&1)*o*255,l=(r>>1&1)*o*255,u=(r>>2&1)*o*255;return[a,l,u]},e.ansi256.rgb=function(s){if(s>=232){const u=(s-232)*10+8;return[u,u,u]}s-=16;let r;const o=Math.floor(s/36)/5*255,a=Math.floor((r=s%36)/6)/5*255,l=r%6/5*255;return[o,a,l]},e.rgb.hex=function(s){const o=(((Math.round(s[0])&255)<<16)+((Math.round(s[1])&255)<<8)+(Math.round(s[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o},e.hex.rgb=function(s){const r=s.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];let o=r[0];r[0].length===3&&(o=o.split("").map(m=>m+m).join(""));const a=parseInt(o,16),l=a>>16&255,u=a>>8&255,h=a&255;return[l,u,h]},e.rgb.hcg=function(s){const r=s[0]/255,o=s[1]/255,a=s[2]/255,l=Math.max(Math.max(r,o),a),u=Math.min(Math.min(r,o),a),h=l-u;let m,p;return h<1?m=u/(1-h):m=0,h<=0?p=0:l===r?p=(o-a)/h%6:l===o?p=2+(a-r)/h:p=4+(r-o)/h,p/=6,p%=1,[p*360,h*100,m*100]},e.hsl.hcg=function(s){const r=s[1]/100,o=s[2]/100,a=o<.5?2*r*o:2*r*(1-o);let l=0;return a<1&&(l=(o-.5*a)/(1-a)),[s[0],a*100,l*100]},e.hsv.hcg=function(s){const r=s[1]/100,o=s[2]/100,a=r*o;let l=0;return a<1&&(l=(o-a)/(1-a)),[s[0],a*100,l*100]},e.hcg.rgb=function(s){const r=s[0]/360,o=s[1]/100,a=s[2]/100;if(o===0)return[a*255,a*255,a*255];const l=[0,0,0],u=r%1*6,h=u%1,m=1-h;let p=0;switch(Math.floor(u)){case 0:l[0]=1,l[1]=h,l[2]=0;break;case 1:l[0]=m,l[1]=1,l[2]=0;break;case 2:l[0]=0,l[1]=1,l[2]=h;break;case 3:l[0]=0,l[1]=m,l[2]=1;break;case 4:l[0]=h,l[1]=0,l[2]=1;break;default:l[0]=1,l[1]=0,l[2]=m}return p=(1-o)*a,[(o*l[0]+p)*255,(o*l[1]+p)*255,(o*l[2]+p)*255]},e.hcg.hsv=function(s){const r=s[1]/100,o=s[2]/100,a=r+o*(1-r);let l=0;return a>0&&(l=r/a),[s[0],l*100,a*100]},e.hcg.hsl=function(s){const r=s[1]/100,a=s[2]/100*(1-r)+.5*r;let l=0;return a>0&&a<.5?l=r/(2*a):a>=.5&&a<1&&(l=r/(2*(1-a))),[s[0],l*100,a*100]},e.hcg.hwb=function(s){const r=s[1]/100,o=s[2]/100,a=r+o*(1-r);return[s[0],(a-r)*100,(1-a)*100]},e.hwb.hcg=function(s){const r=s[1]/100,a=1-s[2]/100,l=a-r;let u=0;return l<1&&(u=(a-l)/(1-l)),[s[0],l*100,u*100]},e.apple.rgb=function(s){return[s[0]/65535*255,s[1]/65535*255,s[2]/65535*255]},e.rgb.apple=function(s){return[s[0]/255*65535,s[1]/255*65535,s[2]/255*65535]},e.gray.rgb=function(s){return[s[0]/100*255,s[0]/100*255,s[0]/100*255]},e.gray.hsl=function(s){return[0,0,s[0]]},e.gray.hsv=e.gray.hsl,e.gray.hwb=function(s){return[0,100,s[0]]},e.gray.cmyk=function(s){return[0,0,0,s[0]]},e.gray.lab=function(s){return[s[0],0,0]},e.gray.hex=function(s){const r=Math.round(s[0]/100*255)&255,a=((r<<16)+(r<<8)+r).toString(16).toUpperCase();return"000000".substring(a.length)+a},e.rgb.gray=function(s){return[(s[0]+s[1]+s[2])/3/255*100]},ek}var tk,iO;function AEe(){if(iO)return tk;iO=1;const n=Fj();function t(){const r={},o=Object.keys(n);for(let a=o.length,l=0;l<a;l++)r[o[l]]={distance:-1,parent:null};return r}function e(r){const o=t(),a=[r];for(o[r].distance=0;a.length;){const l=a.pop(),u=Object.keys(n[l]);for(let h=u.length,m=0;m<h;m++){const p=u[m],v=o[p];v.distance===-1&&(v.distance=o[l].distance+1,v.parent=l,a.unshift(p))}}return o}function i(r,o){return function(a){return o(r(a))}}function s(r,o){const a=[o[r].parent,r];let l=n[o[r].parent][r],u=o[r].parent;for(;o[u].parent;)a.unshift(o[u].parent),l=i(n[o[u].parent][u],l),u=o[u].parent;return l.conversion=a,l}return tk=function(r){const o=e(r),a={},l=Object.keys(o);for(let u=l.length,h=0;h<u;h++){const m=l[h];o[m].parent!==null&&(a[m]=s(m,o))}return a},tk}var nk,sO;function IEe(){if(sO)return nk;sO=1;const n=Fj(),t=AEe(),e={},i=Object.keys(n);function s(o){const a=function(...l){const u=l[0];return u==null?u:(u.length>1&&(l=u),o(l))};return"conversion"in o&&(a.conversion=o.conversion),a}function r(o){const a=function(...l){const u=l[0];if(u==null)return u;u.length>1&&(l=u);const h=o(l);if(typeof h=="object")for(let m=h.length,p=0;p<m;p++)h[p]=Math.round(h[p]);return h};return"conversion"in o&&(a.conversion=o.conversion),a}return i.forEach(o=>{e[o]={},Object.defineProperty(e[o],"channels",{value:n[o].channels}),Object.defineProperty(e[o],"labels",{value:n[o].labels});const a=t(o);Object.keys(a).forEach(u=>{const h=a[u];e[o][u]=r(h),e[o][u].raw=s(h)})}),nk=e,nk}var zj=IEe();const REe=mc(zj),jj=QM({__proto__:null,default:REe},[zj]),sp=(n,t=0,e=1)=>n>e?e:n<t?t:n,Ni=(n,t=0,e=Math.pow(10,t))=>Math.round(e*n)/e,PEe=n=>NEe(wE(n)),wE=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Ni(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?Ni(parseInt(n.substring(6,8),16)/255,2):1}),OEe=n=>VEe(DEe(n)),MEe=({h:n,s:t,v:e,a:i})=>{const s=(200-t)*e/100;return{h:Ni(n),s:Ni(s>0&&s<200?t*e/100/(s<=100?s:200-s)*100:0),l:Ni(s/2),a:Ni(i,2)}},yE=n=>{const{h:t,s:e,l:i}=MEe(n);return`hsl(${t}, ${e}%, ${i}%)`},DEe=({h:n,s:t,v:e,a:i})=>{n=n/360*6,t=t/100,e=e/100;const s=Math.floor(n),r=e*(1-t),o=e*(1-(n-s)*t),a=e*(1-(1-n+s)*t),l=s%6;return{r:Ni([e,o,r,r,a,e][l]*255),g:Ni([a,e,e,o,r,r][l]*255),b:Ni([r,r,a,e,e,o][l]*255),a:Ni(i,2)}},Fb=n=>{const t=n.toString(16);return t.length<2?"0"+t:t},VEe=({r:n,g:t,b:e,a:i})=>{const s=i<1?Fb(Ni(i*255)):"";return"#"+Fb(n)+Fb(t)+Fb(e)+s},NEe=({r:n,g:t,b:e,a:i})=>{const s=Math.max(n,t,e),r=s-Math.min(n,t,e),o=r?s===n?(t-e)/r:s===t?2+(e-n)/r:4+(n-t)/r:0;return{h:Ni(60*(o<0?o+6:o)),s:Ni(s?r/s*100:0),v:Ni(s/255*100),a:i}},Uj=(n,t)=>{if(n===t)return!0;for(const e in n)if(n[e]!==t[e])return!1;return!0},LEe=(n,t)=>n.toLowerCase()===t.toLowerCase()?!0:Uj(wE(n),wE(t)),rO={},Hj=n=>{let t=rO[n];return t||(t=document.createElement("template"),t.innerHTML=n,rO[n]=t),t},T5=(n,t,e)=>{n.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))};let Sh=!1;const _E=n=>"touches"in n,BEe=n=>Sh&&!_E(n)?!1:(Sh||(Sh=_E(n)),!0),oO=(n,t)=>{const e=_E(t)?t.touches[0]:t,i=n.el.getBoundingClientRect();T5(n.el,"move",n.getMove({x:sp((e.pageX-(i.left+window.pageXOffset))/i.width),y:sp((e.pageY-(i.top+window.pageYOffset))/i.height)}))},FEe=(n,t)=>{const e=t.keyCode;e>40||n.xy&&e<37||e<33||(t.preventDefault(),T5(n.el,"move",n.getMove({x:e===39?.01:e===37?-.01:e===34?.05:e===33?-.05:e===35?1:e===36?-1:0,y:e===40?.01:e===38?-.01:0},!0)))};class $j{constructor(t,e,i,s){const r=Hj(`<div role="slider" tabindex="0" part="${e}" ${i}><div part="${e}-pointer"></div></div>`);t.appendChild(r.content.cloneNode(!0));const o=t.querySelector(`[part=${e}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=s,this.nodes=[o.firstChild,o]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(Sh?"touchmove":"mousemove",this),e(Sh?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!BEe(t)||!Sh&&t.button!=0)return;this.el.focus(),oO(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),oO(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":FEe(this,t);break}}style(t){t.forEach((e,i)=>{for(const s in e)this.nodes[i].style.setProperty(s,e[s])})}}class zEe extends $j{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:yE({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Ni(t)}`)}getMove(t,e){return{h:e?sp(this.h+t.x*360,0,360):360*t.x}}}class jEe extends $j{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:yE(t)},{"background-color":yE({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Ni(t.s)}%, Brightness ${Ni(t.v)}%`)}getMove(t,e){return{s:e?sp(this.hsva.s+t.x*100,0,100):t.x*100,v:e?sp(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const UEe=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',HEe="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",$Ee="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",zb=Symbol("same"),ik=Symbol("color"),aO=Symbol("hsva"),sk=Symbol("update"),lO=Symbol("parts"),cO=Symbol("css"),uO=Symbol("sliders");class WEe extends HTMLElement{static get observedAttributes(){return["color"]}get[cO](){return[UEe,HEe,$Ee]}get[uO](){return[jEe,zEe]}get color(){return this[ik]}set color(t){if(!this[zb](t)){const e=this.colorModel.toHsva(t);this[sk](e),this[ik]=t}}constructor(){super();const t=Hj(`<style>${this[cO].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[lO]=this[uO].map(i=>new i(e))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,i){const s=this.colorModel.fromAttr(i);this[zb](s)||(this.color=s)}handleEvent(t){const e=this[aO],i={...e,...t.detail};this[sk](i);let s;!Uj(i,e)&&!this[zb](s=this.colorModel.fromHsva(i))&&(this[ik]=s,T5(this,"color-changed",{value:s}))}[zb](t){return this.color&&this.colorModel.equal(t,this.color)}[sk](t){this[aO]=t,this[lO].forEach(e=>e.update(t))}}const qEe={defaultColor:"#000",toHsva:PEe,fromHsva:({h:n,s:t,v:e})=>OEe({h:n,s:t,v:e,a:1}),equal:LEe,fromAttr:n=>n};class GEe extends WEe{get colorModel(){return qEe}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ei extends kn{constructor(e=[]){super(e,{idProperty:"viewUid"});b(this,"_parentElement");this.on("add",(i,s,r)=>{this._renderViewIntoCollectionParent(s,r)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!YEe(e))throw new L("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const r of e)s.delegate(r).to(i);this.on("add",(s,r)=>{for(const o of e)r.delegate(o).to(i)}),this.on("remove",(s,r)=>{for(const o of e)r.stopDelegating(o,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}function YEe(n){return n.every(t=>typeof t=="string")}const ZEe="http://www.w3.org/1999/xhtml";class ss extends Xt(){constructor(e){super();b(this,"ns");b(this,"tag");b(this,"text");b(this,"attributes");b(this,"children");b(this,"eventListeners");b(this,"_isRendered");b(this,"_revertData");Object.assign(this,hO(dO(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=gO(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new L("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(i){if(i.children)for(const s of i.children)Mv(s)?yield s:S5(s)&&(yield*e(s))}yield*e(this)}static bind(e,i){return{to(s,r){return new KEe({eventNameOrFunction:s,attribute:s,observable:e,emitter:i,callback:r})},if(s,r,o){return new Wj({observable:e,emitter:i,attribute:s,valueIfTrue:r,callback:o})}}}static extend(e,i){if(e._isRendered)throw new L("template-extend-render",[this,e]);Zj(e,hO(dO(i)))}_renderNode(e){let i;if(e.node?i=this.tag&&this.text:i=this.tag?this.text:!this.text,i)throw new L("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||ZEe,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),w1(this.text)?this._bindToObservable({schema:this.text,updater:JEe(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,s=e.revertData;for(const r in this.attributes){const o=i.getAttribute(r),a=this.attributes[r];s&&(s.attributes[r]=o);const l=mO(a)?a[0].ns:null;if(w1(a)){const u=mO(a)?a[0].value:a;s&&pO(r)&&u.unshift(o),this._bindToObservable({schema:u,updater:QEe(i,r,l),data:e})}else if(r=="style"&&typeof a[0]!="string")this._renderStyleAttribute(a[0],e);else{s&&o&&pO(r)&&a.unshift(o);const u=a.map(h=>h&&(h.value||h)).reduce((h,m)=>h.concat(m),[]).reduce(Yj,"");$h(u)||i.setAttributeNS(l,r,u)}}}_renderStyleAttribute(e,i){const s=i.node;for(const r in e){const o=e[r];w1(o)?this._bindToObservable({schema:[o],updater:eTe(s,r),data:i}):s.style[r]=o}}_renderElementChildren(e){const i=e.node,s=e.intoFragment?document.createDocumentFragment():i,r=e.isApplying;let o=0;for(const a of this.children)if(A5(a)){if(!r){a.setParent(i);for(const l of a)s.appendChild(l.element)}}else if(Mv(a))r||(a.isRendered||a.render(),s.appendChild(a.element));else if(cc(a))s.appendChild(a);else if(r){const l=e.revertData,u=gO();l.children.push(u),a._renderNode({intoFragment:!1,node:s.childNodes[o++],isApplying:!0,revertData:u})}else s.appendChild(a.render());e.intoFragment&&i.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(r=>{const[o,a]=i.split("@");return r.activateDomEventListener(o,a,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:i,data:s}){const r=s.revertData;qj(e,i,s);const o=e.filter(a=>!$h(a)).filter(a=>a.observable).map(a=>a.activateAttributeListener(e,i,s));r&&r.bindings.push(o)}_revertTemplateFromNode(e,i){for(const r of i.bindings)for(const o of r)o();if(i.text){e.textContent=i.text;return}const s=e;for(const r in i.attributes){const o=i.attributes[r];o===null?s.removeAttribute(r):s.setAttribute(r,o)}for(let r=0;r<i.children.length;++r)this._revertTemplateFromNode(s.childNodes[r],i.children[r])}}class Gp{constructor(t){b(this,"attribute");b(this,"observable");b(this,"emitter");b(this,"callback");this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,i){const s=()=>qj(t,e,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class KEe extends Gp{constructor(e){super(e);b(this,"eventNameOrFunction");this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,s){const r=(o,a)=>{(!i||a.target.matches(i))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(a):this.observable.fire(this.eventNameOrFunction,a))};return this.emitter.listenTo(s.node,e,r),()=>{this.emitter.stopListening(s.node,e,r)}}}class Wj extends Gp{constructor(e){super(e);b(this,"valueIfTrue");this.valueIfTrue=e.valueIfTrue}getValue(e){const i=super.getValue(e);return $h(i)?!1:this.valueIfTrue||!0}}function w1(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(w1):n instanceof Gp):!1}function XEe(n,t){return n.map(e=>e instanceof Gp?e.getValue(t):e)}function qj(n,t,{node:e}){const i=XEe(n,e);let s;n.length==1&&n[0]instanceof Wj?s=i[0]:s=i.reduce(Yj,""),$h(s)?t.remove():t.set(s)}function JEe(n){return{set(t){n.textContent=t},remove(){n.textContent=""}}}function QEe(n,t,e){return{set(i){n.setAttributeNS(e,t,i)},remove(){n.removeAttributeNS(e,t)}}}function eTe(n,t){return{set(e){n.style[t]=e},remove(){n.style[t]=null}}}function dO(n){return i5(n,e=>{if(e&&(e instanceof Gp||S5(e)||Mv(e)||A5(e)))return e})}function hO(n){if(typeof n=="string"?n=iTe(n):n.text&&sTe(n),n.on&&(n.eventListeners=nTe(n.on),delete n.on),!n.text){n.attributes&&tTe(n.attributes);const t=[];if(n.children)if(A5(n.children))t.push(n.children);else for(const e of n.children)S5(e)||Mv(e)||cc(e)?t.push(e):t.push(new ss(e));n.children=t}return n}function tTe(n){for(const t in n)n[t].value&&(n[t].value=qt(n[t].value)),Gj(n,t)}function nTe(n){for(const t in n)Gj(n,t);return n}function iTe(n){return{text:[n]}}function sTe(n){n.text=qt(n.text)}function Gj(n,t){n[t]=qt(n[t])}function Yj(n,t){return $h(t)?n:$h(n)?t:`${n} ${t}`}function fO(n,t){for(const e in t)n[e]?n[e].push(...t[e]):n[e]=t[e]}function Zj(n,t){if(t.attributes&&(n.attributes||(n.attributes={}),fO(n.attributes,t.attributes)),t.eventListeners&&(n.eventListeners||(n.eventListeners={}),fO(n.eventListeners,t.eventListeners)),t.text&&n.text.push(...t.text),t.children&&t.children.length){if(n.children.length!=t.children.length)throw new L("ui-template-extend-children-mismatch",n);let e=0;for(const i of t.children)Zj(n.children[e++],i)}}function $h(n){return!n&&n!==0}function Mv(n){return n instanceof ye}function S5(n){return n instanceof ss}function A5(n){return n instanceof ei}function mO(n){return rn(n[0])&&n[0].ns}function gO(){return{children:[],bindings:[],attributes:{}}}function pO(n){return n=="class"||n=="style"}class ye extends us(Wt()){constructor(e){super();b(this,"element");b(this,"isRendered");b(this,"locale");b(this,"t");b(this,"template");b(this,"_viewCollections");b(this,"_unboundChildren");b(this,"_bindTemplate");this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new kn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ss.bind(this,this)}createCollection(e){const i=new ei(e);return this._viewCollections.add(i),i}registerChild(e){Ws(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){Ws(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new ss(e)}extendTemplate(e){ss.extend(this.template,e)}render(){if(this.isRendered)throw new L("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function so({emitter:n,activator:t,callback:e,contextElements:i,listenerOptions:s}){n.listenTo(document,"mousedown",(r,o)=>{if(!t())return;const a=typeof o.composedPath=="function"?o.composedPath():[],l=typeof i=="function"?i():i;for(const u of l)if(u.contains(o.target)||a.includes(u))return;e()},s)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vf(n){class t extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qo({view:n}){n.listenTo(n.element,"submit",(t,e)=>{e.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wf({keystrokeHandler:n,focusTracker:t,gridItems:e,numberOfColumns:i,uiLanguageDirection:s}){const r=typeof i=="number"?()=>i:i;n.set("arrowright",o((u,h)=>s==="rtl"?l(u,h.length):a(u,h.length))),n.set("arrowleft",o((u,h)=>s==="rtl"?a(u,h.length):l(u,h.length))),n.set("arrowup",o((u,h)=>{let m=u-r();return m<0&&(m=u+r()*Math.floor(h.length/r()),m>h.length-1&&(m-=r())),m})),n.set("arrowdown",o((u,h)=>{let m=u+r();return m>h.length-1&&(m=u%r()),m}));function o(u){return h=>{const m=e.find(_=>_.element===t.focusedElement),p=e.getIndex(m),v=u(p,e);e.get(v).focus(),h.stopPropagation(),h.preventDefault()}}function a(u,h){return u===h-1?0:u+1}function l(u,h){return u===0?h-1:u-1}}const ew=class ew extends ye{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=e.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:s,value:r}of Array.from(e.attributes))ew.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}};b(ew,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);let vr=ew;class Kj extends ye{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}class Le extends ye{constructor(e,i=new Kj){super(e);b(this,"children");b(this,"labelView");b(this,"iconView");b(this,"keystrokeView");b(this,"_focusDelayed",null);const s=this.bindTemplate,r=mi();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new vr,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",a=>!a),s.if("isVisible","ck-hidden",a=>!a),s.to("isOn",a=>a?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",a=>a||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("_ariaChecked"),"aria-pressed":s.to("_ariaPressed"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,a=>!a),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(a=>{this.isEnabled?this.fire("execute"):a.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(a,l,u)=>!l||bO(u)?!1:String(!!a)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(a,l,u)=>!l||!bO(u)?!1:String(!!a)),Ge.isSafari&&(this._focusDelayed||(this._focusDelayed=c5(()=>this.focus(),0)),o.on.mousedown=s.to(()=>{this._focusDelayed()}),o.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(o)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new ye;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>Sv(i))}]}),e}_getTooltipString(e,i,s){return e?typeof e=="string"?e:(s&&(s=Sv(s)),e instanceof Function?e(i,s):`${i}${s?` (${s})`:""}`):""}}function bO(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class Yp extends ye{constructor(e,i={}){super(e);b(this,"children");b(this,"iconView");const s=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),i.icon&&(this.iconView=new vr,this.iconView.content=i.icon,this.children.add(this.iconView));const r=new ye(e);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(r)}}class Cn extends Xt(){constructor(e){super();b(this,"focusables");b(this,"focusTracker");b(this,"keystrokeHandler");b(this,"actions");if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let s=e.actions[i];typeof s=="string"&&(s=[s]);for(const r of s)e.keystrokeHandler.set(r,(o,a)=>{this[i](),a()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(rk)||null}get last(){return this.focusables.filter(rk).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const r=i.element===this.focusTracker.focusedElement;return r&&(e=s),r}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const i=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",s=>{const r=i();this.focusNext(),r!==i()&&s.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",s=>{const r=i();this.focusPrevious(),r!==i()&&s.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let r=this.focusables.get(s),o=(s+i+e)%i;do{const a=this.focusables.get(o);if(rk(a)){r=a;break}o=(o+i+e)%i}while(o!==s);return r}}function rk(n){return Zp(n)&&Vo(n.element)}function Zp(n){return"focus"in n&&typeof n.focus=="function"}function rTe(n){return Zp(n)&&"focusCycler"in n&&n.focusCycler instanceof Cn}function oTe(n){class t extends n{constructor(...s){super(...s);b(this,"_onDragBound",this._onDrag.bind(this));b(this,"_onDragEndBound",this._onDragEnd.bind(this));b(this,"_lastDraggingCoordinates",{x:0,y:0});this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(Pe.document,"mouseup",this._onDragEndBound),this.listenTo(Pe.document,"touchend",this._onDragEndBound),this.listenTo(Pe.document,"mousemove",this._onDragBound),this.listenTo(Pe.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(Pe.document,"mouseup",this._onDragEndBound),this.stopListening(Pe.document,"touchend",this._onDragEndBound),this.stopListening(Pe.document,"mousemove",this._onDragBound),this.stopListening(Pe.document,"touchmove",this._onDragBound)}_onDragStart(s,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let o=0,a=0;r instanceof MouseEvent?(o=r.clientX,a=r.clientY):(o=r.touches[0].clientX,a=r.touches[0].clientY),this._lastDraggingCoordinates={x:o,y:a},this.isDragging=!0}_onDrag(s,r){if(!this.isDragging){this._detachDragListeners();return}let o=0,a=0;r instanceof MouseEvent?(o=r.clientX,a=r.clientY):(o=r.touches[0].clientX,a=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(o-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:o,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(s){return this.dragHandleElement?this.dragHandleElement===s.target||s.target instanceof HTMLElement&&this.dragHandleElement.contains(s.target):!1}}return t}class aTe extends ye{constructor(e){super(e);b(this,"children");b(this,"keystrokes");b(this,"focusCycler");b(this,"_focusTracker");b(this,"_focusables");this.children=this.createCollection(),this.keystrokes=new Vt,this._focusTracker=new Ct,this._focusables=new ei,this.focusCycler=new Cn({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const s=new Le(this.locale);let r;s.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(s);for(r in i)r!="onExecute"&&r!="onCreate"&&s.set(r,i[r]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class lTe extends ye{constructor(e){super(e);b(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const Ms={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},vO=xc("px"),tw=class tw extends oTe(ye){constructor(e,{getCurrentDomRoot:i,getViewportOffset:s,keystrokeHandlerOptions:r}){super(e);b(this,"parts");b(this,"headerView");b(this,"closeButtonView");b(this,"actionsView");b(this,"contentView");b(this,"keystrokes");b(this,"focusTracker");b(this,"wasMoved",!1);b(this,"_getCurrentDomRoot");b(this,"_getViewportOffset");b(this,"_focusables");b(this,"_focusCycler");const o=this.bindTemplate,a=e.t;this.set("className",""),this.set("ariaLabel",a("Editor dialog")),this.set("isModal",!1),this.set("position",Ms.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=i,this._getViewportOffset=s,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Vt,this.focusTracker=new Ct,this._focusables=new ei,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:r}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",l=>!l),o.if("_isVisible","ck-hidden",l=>!l)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.if("isModal","ck-dialog_modal"),o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",l=>vO(l)),left:o.to("_left",l=>vO(l)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,i)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),i())}),this.on("drag",(e,{deltaX:i,deltaY:s})=>{this.wasMoved=!0,this.moveBy(i,s)}),this.listenTo(Pe.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(Pe.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,i,s)=>{s&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:i,hasCloseButton:s=!0,content:r,actionButtons:o}){i&&(this.headerView=new Yp(this.locale,{icon:e}),s&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=i,this.ariaLabel=i,this.parts.add(this.headerView,0)),r&&(r instanceof ye&&(r=[r]),this.contentView=new lTe(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),o&&(this.actionsView=new aTe(this.locale),this.actionsView.setButtons(o),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,i){const s=this._getViewportRect(),r=this._getDialogRect();e+r.width>s.right&&(e=s.right-r.width),e<s.left&&(e=s.left),i<s.top&&(i=s.top),this._moveTo(e,i)}_moveTo(e,i){this._left=e,this._top=i}moveBy(e,i){this.moveTo(this._left+e,this._top+i)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let i=this.position,s;this._getCurrentDomRoot()?s=this._getVisibleDomRootRect(e):i=Ms.SCREEN_CENTER;const r=tw.defaultOffset,o=this._getDialogRect();switch(i){case Ms.EDITOR_TOP_SIDE:{if(s){const a=this.locale.contentLanguageDirection==="ltr"?s.right-o.width-r:s.left+r;this.moveTo(a,s.top+r)}else this._moveOffScreen();break}case Ms.EDITOR_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),Math.round(s.top+s.height/2-o.height/2)):this._moveOffScreen();break}case Ms.SCREEN_CENTER:{this.moveTo(Math.round((e.width-o.width)/2),Math.round((e.height-o.height)/2));break}case Ms.EDITOR_TOP_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.top+r):this._moveOffScreen();break}case Ms.EDITOR_BOTTOM_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.bottom-o.height-r):this._moveOffScreen();break}case Ms.EDITOR_ABOVE_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.top-o.height-r):this._moveOffScreen();break}case Ms.EDITOR_BELOW_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.bottom+r):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let i=new Xe(this._getCurrentDomRoot()).getVisible();if(i){if(i=e.getIntersection(i),!i)return null}else return null;return i}_getDialogRect(){return new Xe(this.element.firstElementChild)}_getViewportRect(){const e=new Xe(Pe.window);if(this.isModal)return e;const i={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=i.top,e.height-=i.top,e.bottom-=i.bottom,e.height-=i.bottom,e.left+=i.left,e.right-=i.right,e.width-=i.left+i.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const i of this.contentView.children)Zp(i)&&e.push(i);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element),rTe(i)&&this._focusCycler.chain(i.focusCycler)})}_createCloseButton(){const e=new Le(this.locale),i=this.locale.t;return e.set({label:i("Close"),tooltip:!0,icon:me.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};b(tw,"defaultOffset",15);let rp=tw;const Or=class Or extends F{constructor(e){super(e);b(this,"view");b(this,"_onHide");const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),Or._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{Or._visibleDialogPlugin&&Or._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,s)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const s of i)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:s,hasCloseButton:r=!0,content:o,actionButtons:a,className:l,isModal:u,position:h,onHide:m,keystrokeHandlerOptions:p}){const v=this.editor;this.view=new rp(v.locale,{getCurrentDomRoot:()=>v.editing.view.getDomRoot(v.model.document.selection.anchor.root.rootName),getViewportOffset:()=>v.ui.viewportOffset,keystrokeHandlerOptions:p});const _=this.view;_.on("close",()=>{this.hide()}),v.ui.view.body.add(_),v.keystrokes.listenTo(_.element),h||(h=u?Ms.SCREEN_CENTER:Ms.EDITOR_CENTER),u&&this._lockBodyScroll(),_.set({position:h,_isVisible:!0,className:l,isModal:u}),_.setupParts({icon:i,title:s,hasCloseButton:r,content:o,actionButtons:a}),this.id=e,m&&(this._onHide=m),this.isOpen=!0,Or._visibleDialogPlugin=this}hide(){Or._visibleDialogPlugin&&Or._visibleDialogPlugin.fire(`hide:${Or._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.isModal&&this._unlockBodyScroll(),i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Or._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}};b(Or,"_visibleDialogPlugin");let uc=Or;class Wh extends Le{constructor(e,i=new Kj){super(e,i);b(this,"_checkIconHolderView",new cTe);this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",s.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(r,o)=>r||o)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,i,s)=>{const{children:r,_checkIconHolderView:o}=this;s?r.add(o,0):r.remove(o)})}}class cTe extends ye{constructor(){super();b(this,"children");b(this,"_checkIconView",this._createCheckIconView());const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",i=>i?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,i,s)=>{const{children:r,_checkIconView:o}=this;s&&!r.has(o)?r.add(o):!s&&r.has(o)&&r.remove(o)})}_createCheckIconView(){const e=new vr;return e.content=me.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class Rt extends Wh{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class ks extends ye{constructor(e){super(e);b(this,"id");this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${mi()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class uTe extends ye{constructor(t,e){super(t);const i=t.t,s=new ks;s.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":s.id,role:"document",tabindex:-1},children:[Ei(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),s]})}focus(){this.element.focus()}_createCategories(t){return t.map(e=>{const i=[Ei(document,"h3",{},e.label),...Array.from(e.groups.values()).map(s=>this._createGroup(s)).flat()];return e.description&&i.splice(1,0,Ei(document,"p",{},e.description)),Ei(document,"section",{},i)})}_createGroup(t){const e=t.keystrokes.sort((s,r)=>s.label.localeCompare(r.label)).map(s=>this._createGroupRow(s)).flat(),i=[Ei(document,"dl",{},e)];return t.label&&i.unshift(Ei(document,"h4",{},t.label)),i}_createGroupRow(t){const e=this.locale.t,i=Ei(document,"dt"),s=Ei(document,"dd"),r=hTe(t.keystroke),o=[];for(const a of r)o.push(a.map(dTe).join(""));return i.innerHTML=t.label,s.innerHTML=o.join(", ")+(t.mayRequireFn&&Ge.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[i,s]}}function dTe(n){return Sv(n).split("+").map(t=>`<kbd>${t}</kbd>`).join("+")}function hTe(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}var wO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class fTe extends F{constructor(){super(...arguments);b(this,"contentView",null)}static get requires(){return[uc]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton(Le);return s.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton(Rt);return s.label=i("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,r)=>{this._toggleDialog(),r()}),this._setupRootLabels()}_createButton(e){const i=this.editor,s=i.plugins.get("Dialog"),r=i.locale,o=new e(r);return o.set({keystroke:"Alt+0",icon:wO,isToggleable:!0}),o.on("execute",()=>this._toggleDialog()),o.bind("isOn").to(s,"id",a=>a==="accessibilityHelp"),o}_setupRootLabels(){const e=this.editor,i=e.editing.view,s=e.t;e.ui.on("ready",()=>{i.change(o=>{for(const a of i.document.roots)r(o,a)}),e.on("addRoot",(o,a)=>{const l=e.editing.view.document.getRoot(a.rootName);i.change(u=>r(u,l))},{priority:"low"})});function r(o,a){const u=[a.getAttribute("aria-label"),s("Press %0 for help.",[Sv("Alt+0")])].filter(h=>h).join(". ");o.setAttribute("aria-label",u,a)}}_toggleDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new uTe(e.locale,e.accessibility.keystrokeInfos)),i.id==="accessibilityHelp"?i.hide():i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:wO,hasCloseButton:!0,content:this.contentView})}}const cr=class cr extends ei{constructor(e,i=[]){super(i);b(this,"locale");b(this,"_bodyCollectionContainer");this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ss({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!cr._bodyWrapper||!cr._bodyWrapper.isConnected)&&(cr._bodyWrapper=Ei(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(cr._bodyWrapper)),cr._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),cr._bodyWrapper&&!cr._bodyWrapper.childElementCount&&(cr._bodyWrapper.remove(),delete cr._bodyWrapper)}};b(cr,"_bodyWrapper");let xE=cr;class Vu extends Le{constructor(e){super(e);b(this,"toggleSwitchView");this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new ye;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class yO extends Xj(Le){}class mTe extends Xj(Wh){}function Xj(n){class t extends n{constructor(...s){super(...s);b(this,"buttonView");b(this,"_fileInputView");this.buttonView=this,this._fileInputView=new gTe(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return t}class gTe extends ye{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var yy='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class I5 extends ye{constructor(e,i){super(e);b(this,"buttonView");b(this,"children");const s=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",s.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:s.if("isCollapsed","hidden"),"aria-labelledby":s.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Le(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:yy}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",s=>!s),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function op(n,t){const e=n.t,i={Black:e("Black"),"Dim grey":e("Dim grey"),Grey:e("Grey"),"Light grey":e("Light grey"),White:e("White"),Red:e("Red"),Orange:e("Orange"),Yellow:e("Yellow"),"Light green":e("Light green"),Green:e("Green"),Aquamarine:e("Aquamarine"),Turquoise:e("Turquoise"),"Light blue":e("Light blue"),Blue:e("Blue"),Purple:e("Purple")};return t.map(s=>{const r=i[s.label];return r&&r!=s.label&&(s.label=r),s})}function ap(n){return n.map(pTe).filter(t=>!!t)}function pTe(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder===void 0?!1:n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}var bTe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class Jj extends Le{constructor(t){super(t);const e=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=bTe,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color",i=>Ge.isMediaForcedColors?null:i)},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class _O extends ye{constructor(e,i){super(e);b(this,"columns");b(this,"items");b(this,"focusTracker");b(this,"keystrokes");const s=i&&i.colorDefinitions?i.colorDefinitions:[];this.columns=i&&i.columns?i.columns:5;const r={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Ct,this.keystrokes=new Vt,this.items.on("add",(o,a)=>{a.isOn=a.color===this.selectedColor}),s.forEach(o=>{const a=new Jj;a.set({color:o.color,label:o.label,tooltip:!0,hasBorder:o.options.hasBorder}),a.on("execute",()=>{this.fire("execute",{value:o.color,hasBorder:o.options.hasBorder,label:o.label})}),this.items.add(a)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:r}}),this.on("change:selectedColor",(o,a,l)=>{for(const u of this.items)u.isOn=u.color===l})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),wf({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Qj(n,t){if(!n)return"";const e=eU(n);if(!e)return"";if(e.space===t)return n;if(!_Te(e))return"";const s=jj[e.space][t];if(!s)return"";const r=s(e.space==="hex"?e.hexValue:e.values);return yTe(r,t)}function vTe(n){if(!n)return"";const t=eU(n);return t?t.space==="hex"?t.hexValue:Qj(n,"hex"):"#000"}function wTe(n,t){customElements.get(n)===void 0&&customElements.define(n,t)}function yTe(n,t){switch(t){case"hex":return`#${n}`;case"rgb":return`rgb(${n[0]}, ${n[1]}, ${n[2]})`;case"hsl":return`hsl(${n[0]}, ${n[1]}%, ${n[2]}%)`;case"hwb":return`hwb(${n[0]}, ${n[1]}, ${n[2]})`;case"lab":return`lab(${n[0]}% ${n[1]} ${n[2]})`;case"lch":return`lch(${n[0]}% ${n[1]} ${n[2]})`;default:return""}}function eU(n){if(n.startsWith("#")){const e=tO(n);return{space:"hex",values:e.values,hexValue:n,alpha:e.alpha}}const t=tO(n);return t.space?t:null}function _Te(n){return Object.keys(jj).includes(n.space)}class _n extends ye{constructor(e,i){super(e);b(this,"fieldView");b(this,"labelView");b(this,"statusView");b(this,"fieldWrapperChildren");const s=`ck-labeled-field-view-${mi()}`,r=`ck-labeled-field-view-status-${mi()}`;this.fieldView=i(this,s,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(a,l)=>a||l);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",a=>!a),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new ks(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new ye(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",r=>!r)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class xTe extends ye{constructor(e){super(e);b(this,"focusTracker");this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ct,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=kTe(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function kTe(n){return!n.value}class tU extends xTe{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class nU extends tU{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class CTe extends tU{constructor(t,{min:e,max:i,step:s}={}){super(t);const r=this.bindTemplate;this.set("min",e),this.set("max",i),this.set("step",s),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:r.to("min"),max:r.to("max"),step:r.to("step")}})}}class ETe extends ye{constructor(e){super(e);b(this,"children");const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():ht("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const fh=class fh extends ye{constructor(e,i,s){super(e);b(this,"buttonView");b(this,"panelView");b(this,"focusTracker");b(this,"keystrokes");b(this,"listView");b(this,"toolbarView");b(this,"menuView");const r=this.bindTemplate;this.buttonView=i,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Vt,this.focusTracker=new Ct,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[i,s]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(i,s,r)=>{if(r)if(this.panelPosition==="auto"){const o=fh._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(i,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(i,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(i,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:i,southEast:s,southWest:r,northEast:o,northWest:a,southMiddleEast:l,southMiddleWest:u,northMiddleEast:h,northMiddleWest:m}=fh.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,r,l,u,e,o,a,h,m,i]:[r,s,u,l,e,a,o,m,h,i]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};b(fh,"defaultPanelPositions",{south:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,i)=>({top:e.bottom,left:e.left-i.width+e.width,name:"sw"}),southMiddleEast:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)/4,name:"sme"}),southMiddleWest:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)*3/4,name:"smw"}),north:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)/2,name:"n"}),northEast:(e,i)=>({top:e.top-i.height,left:e.left,name:"ne"}),northWest:(e,i)=>({top:e.top-i.height,left:e.left-i.width+e.width,name:"nw"}),northMiddleEast:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)/4,name:"nme"}),northMiddleWest:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)*3/4,name:"nmw"})}),b(fh,"_getOptimalPosition",a5);let Dv=fh;class iU extends Le{constructor(e){super(e);b(this,"arrowView");this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new vr;return e.content=yy,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Za extends ye{constructor(e){super(e);b(this,"children");const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Kp extends ye{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class y1 extends ye{constructor(e,i=new ks){super(e);b(this,"labelView");b(this,"items");b(this,"children");const s=this.bindTemplate,r=new _y(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:i.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof Kp));e&&e.focus()}}}class _y extends ye{constructor(e){super(e);b(this,"focusables");b(this,"items");b(this,"focusTracker");b(this,"keystrokes");b(this,"_focusCycler");b(this,"_listItemGroupToChangeListeners",new WeakMap);const i=this.bindTemplate;this.focusables=new ei,this.items=this.createCollection(),this.focusTracker=new Ct,this.keystrokes=new Vt,this._focusCycler=new Cn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof y1?this._registerFocusableItemsGroup(e):e instanceof Za&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const s of i.removed)s instanceof y1?this._deregisterFocusableItemsGroup(s):s instanceof Za&&this._deregisterFocusableListItem(s);for(const s of Array.from(i.added).reverse())s instanceof y1?this._registerFocusableItemsGroup(s,i.index):this._registerFocusableListItem(s,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,s)=>{for(const r of s.removed)this._deregisterFocusableListItem(r);for(const r of Array.from(s.added).reverse())this._registerFocusableListItem(r,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((r,o)=>{const a=typeof i<"u"?i+o:void 0;this._registerFocusableListItem(r,a)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const xO=xc("px"),TTe={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Os=class Os extends ye{constructor(e){super(e);b(this,"content");b(this,"_pinWhenIsVisibleCallback");b(this,"_resizeObserver");const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",s=>`ck-balloon-panel_${s}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",xO),left:i.to("left",xO)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const i=_1(e.target);if(i&&!Vo(i))return!1;this.show();const s=Os.defaultPositions,r=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:Pe.document.body,fitInViewport:!0},e),o=Os._getOptimalPosition(r)||TTe,a=parseInt(o.left),l=parseInt(o.top),u=o.name,h=o.config||{},{withArrow:m=!0}=h;return this.top=l,this.left=a,this.position=u,this.withArrow=m,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let i=_1(e.target);const s=e.limiter?_1(e.limiter):Pe.document.body;if(this.listenTo(Pe.document,"scroll",(r,o)=>{const a=o.target,l=i&&a.contains(i),u=s&&a.contains(s);(l||u||!i||!s)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(Pe.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(i&&Pn(i)&&(i=i.parentElement),i)){const r=()=>{Vo(i)||this.unpin()};this._resizeObserver=new qp(i,r)}return!0}_stopPinning(){this.stopListening(Pe.document,"scroll"),this.stopListening(Pe.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:i=Os.arrowSideOffset,heightOffset:s=Os.arrowHeightOffset,stickyVerticalOffset:r=Os.stickyVerticalOffset,config:o}=e;return{northWestArrowSouthWest:(u,h)=>({top:a(u,h),left:u.left-i,name:"arrow_sw",...o&&{config:o}}),northWestArrowSouthMiddleWest:(u,h)=>({top:a(u,h),left:u.left-h.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northWestArrowSouth:(u,h)=>({top:a(u,h),left:u.left-h.width/2,name:"arrow_s",...o&&{config:o}}),northWestArrowSouthMiddleEast:(u,h)=>({top:a(u,h),left:u.left-h.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northWestArrowSouthEast:(u,h)=>({top:a(u,h),left:u.left-h.width+i,name:"arrow_se",...o&&{config:o}}),northArrowSouthWest:(u,h)=>({top:a(u,h),left:u.left+u.width/2-i,name:"arrow_sw",...o&&{config:o}}),northArrowSouthMiddleWest:(u,h)=>({top:a(u,h),left:u.left+u.width/2-h.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northArrowSouth:(u,h)=>({top:a(u,h),left:u.left+u.width/2-h.width/2,name:"arrow_s",...o&&{config:o}}),northArrowSouthMiddleEast:(u,h)=>({top:a(u,h),left:u.left+u.width/2-h.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northArrowSouthEast:(u,h)=>({top:a(u,h),left:u.left+u.width/2-h.width+i,name:"arrow_se",...o&&{config:o}}),northEastArrowSouthWest:(u,h)=>({top:a(u,h),left:u.right-i,name:"arrow_sw",...o&&{config:o}}),northEastArrowSouthMiddleWest:(u,h)=>({top:a(u,h),left:u.right-h.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northEastArrowSouth:(u,h)=>({top:a(u,h),left:u.right-h.width/2,name:"arrow_s",...o&&{config:o}}),northEastArrowSouthMiddleEast:(u,h)=>({top:a(u,h),left:u.right-h.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northEastArrowSouthEast:(u,h)=>({top:a(u,h),left:u.right-h.width+i,name:"arrow_se",...o&&{config:o}}),southWestArrowNorthWest:u=>({top:l(u),left:u.left-i,name:"arrow_nw",...o&&{config:o}}),southWestArrowNorthMiddleWest:(u,h)=>({top:l(u),left:u.left-h.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southWestArrowNorth:(u,h)=>({top:l(u),left:u.left-h.width/2,name:"arrow_n",...o&&{config:o}}),southWestArrowNorthMiddleEast:(u,h)=>({top:l(u),left:u.left-h.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southWestArrowNorthEast:(u,h)=>({top:l(u),left:u.left-h.width+i,name:"arrow_ne",...o&&{config:o}}),southArrowNorthWest:u=>({top:l(u),left:u.left+u.width/2-i,name:"arrow_nw",...o&&{config:o}}),southArrowNorthMiddleWest:(u,h)=>({top:l(u),left:u.left+u.width/2-h.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southArrowNorth:(u,h)=>({top:l(u),left:u.left+u.width/2-h.width/2,name:"arrow_n",...o&&{config:o}}),southArrowNorthMiddleEast:(u,h)=>({top:l(u),left:u.left+u.width/2-h.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southArrowNorthEast:(u,h)=>({top:l(u),left:u.left+u.width/2-h.width+i,name:"arrow_ne",...o&&{config:o}}),southEastArrowNorthWest:u=>({top:l(u),left:u.right-i,name:"arrow_nw",...o&&{config:o}}),southEastArrowNorthMiddleWest:(u,h)=>({top:l(u),left:u.right-h.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southEastArrowNorth:(u,h)=>({top:l(u),left:u.right-h.width/2,name:"arrow_n",...o&&{config:o}}),southEastArrowNorthMiddleEast:(u,h)=>({top:l(u),left:u.right-h.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southEastArrowNorthEast:(u,h)=>({top:l(u),left:u.right-h.width+i,name:"arrow_ne",...o&&{config:o}}),westArrowEast:(u,h)=>({top:u.top+u.height/2-h.height/2,left:u.left-h.width-s,name:"arrow_e",...o&&{config:o}}),eastArrowWest:(u,h)=>({top:u.top+u.height/2-h.height/2,left:u.right+s,name:"arrow_w",...o&&{config:o}}),viewportStickyNorth:(u,h,m,p)=>{const v=p||m;return!u.getIntersection(v)||v.height-u.height>r?null:{top:v.top+r,left:u.left+u.width/2-h.width/2,name:"arrowless",config:{withArrow:!1,...o}}}};function a(u,h){return u.top-h.height-s}function l(u){return u.bottom+s}}};b(Os,"arrowSideOffset",25),b(Os,"arrowHeightOffset",10),b(Os,"stickyVerticalOffset",20),b(Os,"_getOptimalPosition",a5),b(Os,"defaultPositions",Os.generatePositions());let ci=Os;function _1(n){return qa(n)?n:uy(n)?n.commonAncestorContainer:typeof n=="function"?_1(n()):null}class R5 extends ye{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class STe extends ye{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ATe(n){return n.bindTemplate.to(t=>{t.target===n.element&&t.preventDefault()})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xy(n){if(Array.isArray(n))return{items:n,removeItems:[]};const t={items:[],removeItems:[]};return n?{...t,...n}:t}const kE={alignLeft:me.alignLeft,bold:me.bold,importExport:me.importExport,paragraph:me.paragraph,plus:me.plus,text:me.text,threeVerticalDots:me.threeVerticalDots,pilcrow:me.pilcrow,dragIndicator:me.dragIndicator};class dc extends ye{constructor(e,i){super(e);b(this,"options");b(this,"items");b(this,"focusTracker");b(this,"keystrokes");b(this,"itemsView");b(this,"children");b(this,"focusables");b(this,"_focusCycler");b(this,"_behavior");const s=this.bindTemplate,r=this.t;this.options=i||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.items=this.createCollection(),this.focusTracker=new Ct,this.keystrokes=new Vt,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new ITe(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const o=e.uiLanguageDirection==="rtl";this._focusCycler=new Cn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});const a=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&a.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:a,role:s.to("role"),"aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:ATe(this)}}),this._behavior=this.options.shouldGroupWhenFull?new PTe(this):new RTe(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,i)=>{this.focusTracker.add(i)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,s){this.items.addMany(this._buildItemsFromConfig(e,i,s))}_buildItemsFromConfig(e,i,s){const r=xy(e),o=s||r.removeItems;return this._cleanItemsConfiguration(r.items,i,o).map(l=>rn(l)?this._createNestedToolbarDropdown(l,i,o):l==="|"?new R5:l==="-"?new STe:i.create(l)).filter(l=>!!l)}_cleanItemsConfiguration(e,i,s){const r=e.filter((o,a,l)=>o==="|"?!0:s.indexOf(o)!==-1?!1:o==="-"?this.options.shouldGroupWhenFull?(ht("toolbarview-line-break-ignored-when-grouping-items",l),!1):!0:!rn(o)&&!i.has(o)?(ht("toolbarview-item-unavailable",{item:o}),!1):!0);return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){const i=a=>a!=="-"&&a!=="|",s=e.length,r=e.findIndex(i);if(r===-1)return[];const o=s-e.slice().reverse().findIndex(i);return e.slice(r,o).filter((a,l,u)=>i(a)?!0:!(l>0&&u[l-1]===a))}_createNestedToolbarDropdown(e,i,s){let{label:r,icon:o,items:a,tooltip:l=!0,withText:u=!1}=e;if(a=this._cleanItemsConfiguration(a,i,s),!a.length)return null;const h=this.locale,m=Wn(h);return r||ht("toolbarview-nested-toolbar-dropdown-missing-label",e),m.class="ck-toolbar__nested-toolbar-dropdown",m.buttonView.set({label:r,tooltip:l,withText:!!u}),o!==!1?m.buttonView.icon=kE[o]||o||me.threeVerticalDots:m.buttonView.withText=!0,Xp(m,()=>m.toolbarView._buildItemsFromConfig(a,i,s)),m}}class ITe extends ye{constructor(e){super(e);b(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class RTe{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(i=>i),t.focusables.bindTo(t.items).using(i=>Zp(i)?i:null),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class PTe{constructor(t){b(this,"view");b(this,"viewChildren");b(this,"viewFocusables");b(this,"viewItemsView");b(this,"viewFocusTracker");b(this,"viewLocale");b(this,"ungroupedItems");b(this,"groupedItems");b(this,"groupedItemsDropdown");b(this,"resizeObserver",null);b(this,"cachedPadding",null);b(this,"shouldUpdateGroupingOnNextResize",!1);b(this,"viewElement");this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",(e,i)=>{const s=i.index,r=Array.from(i.added);for(const o of i.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const a=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Vo(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,i=new Xe(t.lastChild),s=new Xe(t);if(!this.cachedPadding){const r=Pe.window.getComputedStyle(t),o=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return e==="ltr"?i.right>s.right-this.cachedPadding:i.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new qp(this.viewElement,e=>{(!t||t!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new R5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,i=Wn(t);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",Xp(i,this.groupedItems),i.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:me.threeVerticalDots}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{Zp(t)&&this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Wu extends ye{constructor(e,i){super(e);b(this,"children");b(this,"actionView");b(this,"arrowView");b(this,"keystrokes");b(this,"focusTracker");const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new Vt,this.focusTracker=new Ct,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new Le;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new Le,i=e.bindTemplate;return e.icon=yy,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function Wn(n,t=iU){const e=typeof t=="function"?new t(n):t,i=new ETe(n),s=new Dv(n,e,i);return e.bind("isEnabled").to(s),e instanceof Wu?e.arrowView.bind("isOn").to(s,"isOpen"):e.bind("isOn").to(s,"isOpen"),OTe(s),s}function Xp(n,t,e={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?kO(n,t,e):n.once("change:isOpen",()=>kO(n,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&ky(n,()=>n.toolbarView.items.find(i=>i.isOn))}function kO(n,t,e){const i=n.locale,s=i.t,r=n.toolbarView=new dc(i),o=typeof t=="function"?t():t;r.ariaLabel=e.ariaLabel||s("Dropdown toolbar"),e.maxWidth&&(r.maxWidth=e.maxWidth),e.class&&(r.class=e.class),e.isCompact&&(r.isCompact=e.isCompact),e.isVertical&&(r.isVertical=!0),o instanceof ei?r.items.bindTo(o).using(a=>a):r.items.addMany(o),n.panelView.children.add(r),n.focusTracker.add(r),r.items.delegate("execute").to(n)}function ro(n,t,e={}){n.isOpen?CO(n,t,e):n.once("change:isOpen",()=>CO(n,t,e),{priority:"highest"}),ky(n,()=>n.listView.items.find(i=>i instanceof Za?i.children.first.isOn:!1))}function CO(n,t,e){const i=n.locale,s=n.listView=new _y(i),r=typeof t=="function"?t():t;s.ariaLabel=e.ariaLabel,s.role=e.role,rU(n,s.items,r,i),n.panelView.children.add(s),s.items.delegate("execute").to(n)}function ky(n,t){n.on("change:isOpen",()=>{if(!n.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():ht("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:Bs.low-10})}function OTe(n){MTe(n),DTe(n),VTe(n),NTe(n),LTe(n),BTe(n)}function MTe(n){so({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...sU(n.focusTracker).filter(t=>!n.element.contains(t))]})}function sU(n){return[...n.elements,...n.externalViews.flatMap(t=>sU(t.focusTracker))]}function DTe(n){n.on("execute",t=>{t.source instanceof Vu||(n.isOpen=!1)})}function VTe(n){n.focusTracker.on("change:isFocused",(t,e,i)=>{i||!n.isOpen||(n.isOpen=!1)})}function NTe(n){n.keystrokes.set("arrowdown",(t,e)=>{n.isOpen&&(n.panelView.focus(),e())}),n.keystrokes.set("arrowup",(t,e)=>{n.isOpen&&(n.panelView.focusLast(),e())})}function LTe(n){n.on("change:isOpen",(t,e,i)=>{if(i)return;n.focusTracker.elements.some(r=>r.contains(Pe.document.activeElement))&&n.buttonView.focus()})}function BTe(n){n.on("change:isOpen",(t,e,i)=>{i&&n.panelView.focus()},{priority:"low"})}function rU(n,t,e,i){t.on("change",()=>{const s=[...t].reduce((o,a)=>(a instanceof Za&&a.children.first instanceof Wh&&o.push(a.children.first),o),[]),r=s.some(o=>o.isToggleable);s.forEach(o=>{o.hasCheckSpace=r})}),t.bindTo(e).using(s=>{if(s.type==="separator")return new Kp(i);if(s.type==="group"){const r=new y1(i);return r.set({label:s.label}),rU(n,r.items,s.items,i),r.items.delegate("execute").to(n),r}else if(s.type==="button"||s.type==="switchbutton"){const r=s.model.role==="menuitemcheckbox"||s.model.role==="menuitemradio",o=new Za(i);let a;return s.type==="button"?(a=new Wh(i),a.set({isToggleable:r})):a=new Vu(i),a.bind(...Object.keys(s.model)).to(s.model),a.delegate("execute").to(o),o.children.add(a),o}return null})}const Wi=(n,t,e)=>{const i=new nU(n.locale);return i.set({id:t,ariaDescribedById:e}),i.bind("isReadOnly").to(n,"isEnabled",s=>!s),i.bind("hasError").to(n,"errorText",s=>!!s),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},oU=(n,t,e)=>{const i=new CTe(n.locale);return i.set({id:t,ariaDescribedById:e,inputMode:"numeric"}),i.bind("isReadOnly").to(n,"isEnabled",s=>!s),i.bind("hasError").to(n,"errorText",s=>!!s),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},P5=(n,t,e)=>{const i=Wn(n.locale);return i.set({id:t,ariaDescribedById:e}),i.bind("isEnabled").to(n),i},FTe=150;class zTe extends ye{constructor(e,i={}){super(e);b(this,"hexInputRow");b(this,"_debounceColorPickerEvent");b(this,"_config");this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const s=this.createCollection();i.hideInput||s.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:s}),this._config=i,this._debounceColorPickerEvent=Es(r=>{this.set("color",r),this.fire("colorSelected",{color:this.color})},FTe,{leading:!0}),this.on("set:color",(r,o,a)=>{r.return=Qj(a,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=ok(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),ok(this.color)!=ok(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),wTe("hex-color-picker",GEe),this.picker=Pe.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const i=e.detail.value;this._debounceColorPickerEvent(i)})}focus(){/* istanbul ignore next -- @preserve */!this._config.hideInput&&(Ge.isGecko||Ge.isiOS||Ge.isSafari||Ge.isBlink)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const s=[...this.picker.shadowRoot.children].filter(r=>r.getAttribute("role")==="slider").map(r=>new jTe(r));this.slidersView=this.createCollection(),s.forEach(r=>{this.slidersView.add(r)})}_createInputRow(){const e=this._createColorInput();return new HTe(this.locale,e)}_createColorInput(){const e=new _n(this.locale,Wi),{t:i}=this.locale;return e.set({label:i("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",s=>e.isFocused?e.fieldView.value:s.startsWith("#")?s.substring(1):s),e.fieldView.on("input",()=>{const s=e.fieldView.element.value;if(s){const r=aU(s);r&&this._debounceColorPickerEvent(r)}}),e}isValid(){const{t:e}=this.locale;return this._config.hideInput?!0:(this.resetValidationStatus(),this.hexInputRow.getParsedColor()?!0:(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function ok(n){let t=vTe(n);return t||(t="#000"),t.length===4&&(t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")),t.toLowerCase()}class jTe extends ye{constructor(t){super(),this.element=t}focus(){this.element.focus()}}class UTe extends ye{constructor(t){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class HTe extends ye{constructor(e,i){super(e);b(this,"children");b(this,"inputView");this.inputView=i,this.children=this.createCollection([new UTe,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return aU(this.inputView.fieldView.element.value)}}function aU(n){if(!n)return null;const t=n.trim().replace(/^#/,"");return![3,4,6,8].includes(t.length)||!/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(t)?null:`#${t}`}class $Te extends Wt(kn){constructor(t){super(t),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(t,e){return this.find(i=>i.color===t.color)?this:super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}class WTe extends ye{constructor(e,{colors:i,columns:s,removeButtonLabel:r,documentColorsLabel:o,documentColorsCount:a,colorPickerLabel:l,focusTracker:u,focusables:h}){super(e);b(this,"items");b(this,"colorDefinitions");b(this,"focusTracker");b(this,"columns");b(this,"documentColors");b(this,"documentColorsCount");b(this,"staticColorsGrid");b(this,"documentColorsGrid");b(this,"colorPickerButtonView");b(this,"removeColorButtonView");b(this,"_focusables");b(this,"_documentColorsLabel");b(this,"_removeButtonLabel");b(this,"_colorPickerLabel");const m=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=u,this.items=this.createCollection(),this.colorDefinitions=i,this.columns=s,this.documentColors=new $Te,this.documentColorsCount=a,this._focusables=h,this._removeButtonLabel=r,this._colorPickerLabel=l,this._documentColorsLabel=o,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",m.if("isVisible","ck-hidden",p=>!p)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,i){const s=e.document,r=this.documentColorsCount;this.documentColors.clear();for(const o of s.getRoots()){const a=e.createRangeIn(o);for(const l of a.getItems())if(l.is("$textProxy")&&l.hasAttribute(i)&&(this._addColorToDocumentColors(l.getAttribute(i)),this.documentColors.length>=r))return}}updateSelectedColors(){const e=this.documentColorsGrid,i=this.staticColorsGrid,s=this.selectedColor;i.selectedColor=s,e&&(e.selectedColor=s)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=ss.bind(this.documentColors,this.documentColors),i=new ye(this.locale);i.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(i),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new Le,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:me.colorPalette,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new Le;return e.set({withText:!0,icon:me.eraser,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new _O(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(i,s)=>{this.fire("execute",{value:s.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=ss.bind(this.documentColors,this.documentColors),i=new _O(this.locale,{columns:this.columns});return i.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),i.items.bindTo(this.documentColors).using(s=>{const r=new Jj;return r.set({color:s.color,hasBorder:s.options&&s.options.hasBorder}),s.label&&r.set({label:s.label,tooltip:!0}),r.on("execute",()=>{this.fire("execute",{value:s.color,source:"documentColorsGrid"})}),r}),this.documentColors.on("change:isEmpty",(s,r,o)=>{o&&(i.selectedColor=null)}),i}_addColorToDocumentColors(e){const i=this.colorDefinitions.find(s=>s.color===e);i?this.documentColors.add(Object.assign({},i)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class qTe extends ye{constructor(e,{focusTracker:i,focusables:s,keystrokes:r,colorPickerViewConfig:o}){super(e);b(this,"items");b(this,"colorPickerView");b(this,"saveButtonView");b(this,"cancelButtonView");b(this,"actionBarView");b(this,"focusTracker");b(this,"keystrokes");b(this,"_focusables");b(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=i,this.keystrokes=r,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=s,this._colorPickerViewConfig=o;const a=this.bindTemplate,{saveButtonView:l,cancelButtonView:u}=this._createActionButtons();this.saveButtonView=l,this.cancelButtonView=u,this.actionBarView=this._createActionBarView({saveButtonView:l,cancelButtonView:u}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",a.if("isVisible","ck-hidden",h=>!h)]},children:this.items})}render(){super.render();const e=new zTe(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(i,s,r)=>{e.color=r}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const i of this.colorPickerView.slidersView)this.focusTracker.add(i.element),this._focusables.add(i);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:i}){const s=new ye,r=this.createCollection();return r.add(e),r.add(i),s.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:r}),s}_createActionButtons(){const e=this.locale,i=e.t,s=new Le(e),r=new Le(e);return s.set({icon:me.check,class:"ck-button-save",type:"button",withText:!1,label:i("Accept")}),r.set({icon:me.cancel,class:"ck-button-cancel",type:"button",withText:!1,label:i("Cancel")}),s.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),r.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:s,cancelButtonView:r}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,i)=>{this.fire("execute",{value:i.color,source:"colorPicker"}),this.set("selectedColor",i.color)})}}class O5 extends ye{constructor(e,{colors:i,columns:s,removeButtonLabel:r,documentColorsLabel:o,documentColorsCount:a,colorPickerLabel:l,colorPickerViewConfig:u}){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"items");b(this,"colorGridsFragmentView");b(this,"colorPickerFragmentView");b(this,"_focusCycler");b(this,"_focusables");b(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=new Ct,this.keystrokes=new Vt,this._focusables=new ei,this._colorPickerViewConfig=u,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new WTe(e,{colors:i,columns:s,removeButtonLabel:r,documentColorsLabel:o,documentColorsCount:a,colorPickerLabel:l,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new qTe(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:u}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(h,m,p)=>{this.colorGridsFragmentView.set("selectedColor",p),this.colorPickerFragmentView.set("selectedColor",p)}),this.colorGridsFragmentView.on("change:selectedColor",(h,m,p)=>{this.set("selectedColor",p)}),this.colorPickerFragmentView.on("change:selectedColor",(h,m,p)=>{this.set("selectedColor",p)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,i){this.colorGridsFragmentView.updateDocumentColors(e,i)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class GTe{constructor(t){b(this,"editor");b(this,"_components",new Map);this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(ak(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new L("componentfactory-item-missing",this,{name:t});return this._components.get(ak(t)).callback(this.editor.locale)}has(t){return this._components.has(ak(t))}}function ak(n){return String(n).toLowerCase()}const EO="ck-tooltip",ki=class ki extends us(){constructor(e){super();b(this,"tooltipTextView");b(this,"balloonPanelView");b(this,"_currentElementWithTooltip",null);b(this,"_currentTooltipPosition",null);b(this,"_mutationObserver",null);b(this,"_pinTooltipDebounced");b(this,"_unpinTooltipDebounced");b(this,"_watchdogExcluded");if(ki._editors.add(e),ki._instance)return ki._instance;ki._instance=this,this.tooltipTextView=new ye(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ci(e.locale),this.balloonPanelView.class=EO,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=YTe(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Es(this._pinTooltip,600),this._unpinTooltipDebounced=Es(this._unpinTooltip,400),this.listenTo(Pe.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(Pe.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Pe.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Pe.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Pe.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Pe.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const i=e.ui.view&&e.ui.view.body;ki._editors.delete(e),this.stopListening(e.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),ki._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ki._instance=null)}static getPositioningFunctions(e){const i=ki.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[e]}_onKeyDown(e,i){i.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),i.stopPropagation())}_onEnterOrFocus(e,{target:i}){const s=lk(i);if(!s){e.name==="focus"&&this._unpinTooltip();return}if(s===this._currentElementWithTooltip){this._unpinTooltipDebounced.cancel();return}this._unpinTooltip(),e.name==="focus"&&!s.matches(":hover")||s.matches("[data-cke-tooltip-instant]")?this._pinTooltip(s,ck(s)):this._pinTooltipDebounced(s,ck(s))}_onLeaveOrBlur(e,{target:i,relatedTarget:s}){if(e.name==="mouseleave"){if(!qa(i))return;const r=this.balloonPanelView.element,o=r&&(r===s||r.contains(s)),a=!o&&i===r;if(o){this._unpinTooltipDebounced.cancel();return}if(!a&&this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const l=lk(i),u=lk(s);(a||l&&l!==u)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||l&&l.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:i,position:s,cssClass:r}){this._unpinTooltip();const o=Qt(ki._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.class=[EO,r].filter(a=>a).join(" "),this.balloonPanelView.pin({target:e,positions:ki.getPositioningFunctions(s)}),this._mutationObserver.attach(e);for(const a of ki._editors)this.listenTo(a.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=s}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of ki._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=ck(this._currentElementWithTooltip);if(!Vo(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ki.getPositioningFunctions(e.position)})}};b(ki,"defaultBalloonPositions",ci.generatePositions({heightOffset:5,sideOffset:13})),b(ki,"_editors",new Set),b(ki,"_instance",null);let CE=ki;function lk(n){return qa(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function ck(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function YTe(n){const t=new MutationObserver(()=>{n()});return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}const ZTe=50,KTe=350;class lU extends us(){constructor(e,i={}){super();b(this,"editor");b(this,"_balloonView",null);b(this,"_showBalloonThrottled",Mu(()=>this._showBalloon(),50,{leading:!0}));b(this,"_lastFocusedEditableElement",null);b(this,"_balloonClass");this.editor=e,this._balloonClass=i.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,s,r)=>{this._updateLastFocusedEditableElement(),r?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,s,r)=>{this._updateLastFocusedEditableElement(),r&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,i=new ci,s=this._createBadgeContent();return i.content.add(s),this._balloonClass&&(i.class=this._balloonClass),e.ui.view.body.add(i),i}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),i=e.side==="right"?XTe(this._lastFocusedEditableElement,e):JTe(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[i]}}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!i||!s){this._lastFocusedEditableElement=null;return}const r=Array.from(e.ui.getEditableElementsNames()).map(o=>e.ui.getEditableElement(o));r.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=r[0]}}function XTe(n,t){return cU(n,t,(e,i)=>e.left+e.width-i.width-t.horizontalOffset)}function JTe(n,t){return cU(n,t,e=>e.left+t.horizontalOffset)}function cU(n,t,e){return(i,s)=>{const r=new Xe(n);if(r.width<KTe||r.height<ZTe)return null;let o;t.position==="inside"?o=r.bottom-s.height:o=r.bottom-s.height/2,o-=t.verticalOffset;const a=e(r,s),u=i.clone().moveTo(a,o).getIntersection(s.clone().moveTo(a,o)).getVisible();return!u||u.getArea()<s.getArea()?null:{top:o,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}var QTe=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`;const eSe="Powered by";class tSe extends lU{constructor(t){super(t,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const t=this.editor;if(t.config.get("ui.poweredBy.forceVisible"))return!0;const i=t.config.get("licenseKey");if(i=="GPL")return!0;const s=u5(i.split(".")[1]);return s?!s.whiteLabel:!0}_createBadgeContent(){return new nSe(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{},i=e.position||t.position,s=i==="inside"?5:t.verticalOffset;return{position:i,side:e.side||t.side,label:e.label===void 0?eSe:e.label,verticalOffset:e.verticalOffset!==void 0?e.verticalOffset:s,horizontalOffset:e.horizontalOffset!==void 0?e.horizontalOffset:t.horizontalOffset,forceVisible:!!e.forceVisible}}}class nSe extends ye{constructor(t,e){super(t);const i=new vr,s=this.bindTemplate;i.set({content:QTe,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],i],on:{dragstart:s.to(r=>r.preventDefault())}}]})}}class iSe extends lU{constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"});b(this,"licenseTypeMessage",{evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"})}_isEnabled(){const i=this.editor.config.get("licenseKey"),s=TO(i);return!!(s&&this.licenseTypeMessage[s])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),i=TO(e);return new sSe(this.editor.locale,this.licenseTypeMessage[i])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),i=this.editor.config.get("ui.poweredBy")||{},s=i.position||e.position,r=i.side||e.side;return{position:s,side:r==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class sSe extends ye{constructor(t,e){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[e]}]})}}function TO(n){if(n=="GPL")return"GPL";const t=u5(n.split(".")[1]);return t?t.licenseType||"production":null}const SO={POLITE:"polite",ASSERTIVE:"assertive"};class rSe{constructor(t){b(this,"editor");b(this,"view");this.editor=t,t.once("ready",()=>{for(const e of Object.values(SO))this.announce("",e)})}announce(t,e=SO.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new oSe(i.locale),i.ui.view.body.add(this.view));const{politeness:s,isUnsafeHTML:r}=typeof e=="string"?{politeness:e}:e;let o=this.view.regionViews.find(a=>a.politeness===s);o||(o=new aSe(i,s),this.view.regionViews.add(o)),o.announce({announcement:t,isUnsafeHTML:r})}}class oSe extends ye{constructor(e){super(e);b(this,"regionViews");this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class aSe extends ye{constructor(e,i){super(e.locale);b(this,"politeness");b(this,"_domConverter");b(this,"_pruneAnnouncementsInterval");this.setTemplate({tag:"div",attributes:{"aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const s=document.createElement("li");i?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}class Jr extends Za{constructor(t,e){super(t);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const jb=5,Wd={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",t=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const e of n.menus){const i=t.path[0],s=i instanceof Jr&&i.children.first===e;e.isOpen=(t.path.includes(e)||s)&&e.isEnabled}t.source.focus()}})},focusCycleMenusOnArrows(n){const t=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",i=>{e(i.source,t?-1:1)}),n.on("menu:arrowleft",i=>{e(i.source,t?1:-1)});function e(i,s){const r=n.children.getIndex(i),o=i.isOpen,a=n.children.length,l=n.children.get((r+a+s)%a);i.isOpen=!1,o&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(t=>{t.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(t,e,i)=>{i&&n.menus.filter(s=>t.source.parentMenuView===s.parentMenuView&&t.source!==s&&s.isOpen).forEach(s=>{s.isOpen=!1})})},closeOnClickOutside(n){so({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(t=>t.element)})},enableFocusHighlightOnInteraction(n){let t=!1;n.on("change:isOpen",(e,i,s)=>{s||(t||(n.isFocusBorderEnabled=!1),t=!1)}),n.listenTo(n.element,"keydown",()=>{t=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{t=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{t&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},Ml={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),e())})},openOnArrowRightKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(t,(e,i)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),e())})},closeOnArrowLeftKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(t,(e,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(t,e)=>{n.isOpen&&(n.isOpen=!1,n.focus(),e())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(t,e,i)=>{!i&&t.source===n.parentMenuView&&(n.isOpen=!1)})}},lSe={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,t)=>({top:n.bottom,left:n.left-t.width+n.width,name:"sw"}),northEast:(n,t)=>({top:n.top-t.height,left:n.left,name:"ne"}),northWest:(n,t)=>({top:n.top-t.height,left:n.left-t.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-jb,name:"es"}),eastNorth:(n,t)=>({top:n.top-t.height,left:n.right-jb,name:"en"}),westSouth:(n,t)=>({top:n.top,left:n.left-t.width+jb,name:"ws"}),westNorth:(n,t)=>({top:n.top-t.height,left:n.left-t.width+jb,name:"wn"})},cSe=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function uSe(n){let t;return!("items"in n)||!n.items?t={items:Er(cSe),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:t={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},t}function dSe({normalizedConfig:n,locale:t,componentFactory:e,extraItems:i}){const s=Er(n);return AO(n,s,i),hSe(n,s),AO(n,s,s.addItems),fSe(n,s,e),uU(n,s),mSe(s,t),s}function hSe(n,t){const e=t.removeItems,i=[];t.items=t.items.filter(({menuId:s})=>e.includes(s)?(i.push(s),!1):!0),yf(t.items,s=>{s.groups=s.groups.filter(({groupId:r})=>e.includes(r)?(i.push(r),!1):!0);for(const r of s.groups)r.items=r.items.filter(o=>{const a=dU(o);return e.includes(a)?(i.push(a),!1):!0})});for(const s of e)i.includes(s)||ht("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:s})}function AO(n,t,e){const i=[];if(e.length!=0){for(const s of e){const r=bSe(s.position),o=vSe(s.position);if(gSe(s))if(!o)r==="start"?(t.items.unshift(s.menu),i.push(s)):r==="end"&&(t.items.push(s.menu),i.push(s));else{const a=t.items.findIndex(l=>l.menuId===o);a!=-1?r==="before"?(t.items.splice(a,0,s.menu),i.push(s)):r==="after"&&(t.items.splice(a+1,0,s.menu),i.push(s)):IO(t,s.menu,o,r)&&i.push(s)}else pSe(s)?yf(t.items,a=>{if(a.menuId===o)r==="start"?(a.groups.unshift(s.group),i.push(s)):r==="end"&&(a.groups.push(s.group),i.push(s));else{const l=a.groups.findIndex(u=>u.groupId===o);l!==-1&&(r==="before"?(a.groups.splice(l,0,s.group),i.push(s)):r==="after"&&(a.groups.splice(l+1,0,s.group),i.push(s)))}}):IO(t,s.item,o,r)&&i.push(s)}for(const s of e)i.includes(s)||ht("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:s})}}function IO(n,t,e,i){let s=!1;return yf(n.items,r=>{for(const{groupId:o,items:a}of r.groups){if(s)return;if(o===e)i==="start"?(a.unshift(t),s=!0):i==="end"&&(a.push(t),s=!0);else{const l=a.findIndex(u=>dU(u)===e);l!==-1&&(i==="before"?(a.splice(l,0,t),s=!0):i==="after"&&(a.splice(l+1,0,t),s=!0))}}}),s}function fSe(n,t,e){yf(t.items,i=>{for(const s of i.groups)s.items=s.items.filter(r=>{const o=typeof r=="string"&&!e.has(r);return o&&!t.isUsingDefaultConfig&&ht("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:Er(i),componentName:r}),!o})})}function uU(n,t){const e=t.isUsingDefaultConfig;let i=!1;if(t.items=t.items.filter(s=>s.groups.length?!0:(uk(n,s,e),!1)),!t.items.length){uk(n,n,e);return}yf(t.items,s=>{s.groups=s.groups.filter(r=>r.items.length?!0:(i=!0,!1));for(const r of s.groups)r.items=r.items.filter(o=>hU(o)&&!o.groups.length?(uk(n,o,e),i=!0,!1):!0)}),i&&uU(n,t)}function uk(n,t,e){e||ht("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:t})}function mSe(n,t){const e=t.t,i={File:e({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:e({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:e({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:e({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:e({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:e({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:e({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:e({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:e({string:"Font",id:"MENU_BAR_MENU_FONT"})};yf(n.items,s=>{s.label in i&&(s.label=i[s.label])})}function yf(n,t){if(Array.isArray(n))for(const i of n)e(i);function e(i){t(i);for(const s of i.groups)for(const r of s.items)hU(r)&&e(r)}}function gSe(n){return typeof n=="object"&&"menu"in n}function pSe(n){return typeof n=="object"&&"group"in n}function bSe(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function vSe(n){const t=n.match(/^[^:]+:(.+)/);return t?t[1]:null}function dU(n){return typeof n=="string"?n:n.menuId}function hU(n){return typeof n=="object"&&"menuId"in n}class wSe extends Wt(){constructor(e){super();b(this,"editor");b(this,"componentFactory");b(this,"focusTracker");b(this,"tooltipManager");b(this,"poweredBy");b(this,"evaluationBadge");b(this,"ariaLiveAnnouncer");b(this,"isReady",!1);b(this,"_editableElementsMap",new Map);b(this,"_focusableToolbarDefinitions",[]);b(this,"_extraMenuBarElements",[]);b(this,"_lastFocusedForeignElement",null);const i=e.editing.view;this.editor=e,this.componentFactory=new GTe(e),this.focusTracker=new Ct,this.tooltipManager=new CE(e),this.poweredBy=new tSe(e),this.evaluationBadge=new iSe(e),this.ariaLiveAnnouncer=new rSe(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const i=e.element;this.focusTracker.add(i),this.editor.keystrokes.listenTo(i);const s=uSe(this.editor.config.get("menuBar")||{});e.fillFromConfig(s,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(r,o)=>{i.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),o())}),this.editor.keystrokes.set("Alt+F9",(r,o)=>{i.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),o())})}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor;let i;e.keystrokes.set("Alt+F10",(s,r)=>{this._saveLastFocusedForeignElement();const o=this._getCurrentFocusedToolbarDefinition();(!o||!i)&&(i=this._getFocusableCandidateToolbarDefinitions());for(let a=0;a<i.length;a++){const l=i.shift();if(i.push(l),l!==o&&this._focusFocusableCandidateToolbar(l)){o&&o.options.afterBlur&&o.options.afterBlur();break}}r()}),e.keystrokes.set("Esc",(s,r)=>{const o=this._getCurrentFocusedToolbarDefinition();o&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),o.options.afterBlur&&o.options.afterBlur(),r())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:r}=i;(Vo(s.element)||r.beforeFocus)&&e.push(i)}return e.sort((i,s)=>RO(i)-RO(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:s}}=e;return s&&s(),Vo(i.element)?(i.focus(),!0):!1}_handleScrollToTheSelection(e,i){const s={top:0,bottom:0,left:0,right:0,...this.viewportOffset};i.viewportOffset.top+=s.top,i.viewportOffset.bottom+=s.bottom,i.viewportOffset.left+=s.left,i.viewportOffset.right+=s.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const i of e)this.focusTracker.add(i.element);e.on("add",(i,s)=>{this.focusTracker.add(s.element)}),e.on("remove",(i,s)=>{this.focusTracker.remove(s.element)})}}function RO(n){const{toolbarView:t,options:e}=n;let i=10;return Vo(t.element)&&i--,e.isContextual&&i--,i}class ySe extends ye{constructor(e){super(e);b(this,"body");b(this,"menuBarView");this.body=new xE(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class _Se extends ySe{constructor(e){super(e);b(this,"top");b(this,"main");b(this,"_voiceLabelView");this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new ks;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class xSe extends ye{constructor(e,i,s){super(e);b(this,"name",null);b(this,"_editingView");b(this,"_editableElement");b(this,"_hasExternalElement");this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?s(this):i(this);function i(r){e.change(o=>{const a=e.document.getRoot(r.name);o.addClass(r.isFocused?"ck-focused":"ck-blurred",a),o.removeClass(r.isFocused?"ck-blurred":"ck-focused",a)})}function s(r){e.once("change:isRenderingInProgress",(o,a,l)=>{l?s(r):i(r)})}}}class kSe extends xSe{constructor(e,i,s,r={}){super(e,i,s);b(this,"_options");this._options=r,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(i=>{const s=e.document.getRoot(this.name);i.setAttribute("aria-label",this.getEditableAriaLabel(),s)})}getEditableAriaLabel(){const e=this.locale.t,i=this._options.label,s=this._editableElement,r=this.name;if(typeof i=="string")return i;if(typeof i=="object")return i[r];if(typeof i=="function")return i(this);if(s){const o=s.getAttribute("aria-label");if(o)return o}return e("Rich Text Editor. Editing area: %0",r)}}class PO extends Lj{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class wr extends Wt(){constructor(t,e){super(),e&&wF(this,e),t&&this.set(t)}}const Ub=xc("px");class Ki extends F{constructor(e){super(e);b(this,"positionLimiter");b(this,"visibleStack");b(this,"_viewToStack",new Map);b(this,"_idToStack",new Map);b(this,"_view",null);b(this,"_rotatorView",null);b(this,"_fakePanelsView",null);this.positionLimiter=()=>{const i=this.editor.editing.view,r=i.document.selection.editableElement;return r?i.domConverter.mapViewToDom(r.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new L("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i)){this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(i);return}const s=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new L("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new L("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ci(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(s=>s[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new CSe(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,r)=>!r&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,r)=>{if(r<2)return"";const o=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[o,r])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new ESe(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:s=!0,singleViewMode:r=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}}class CSe extends ye{constructor(e){super(e);b(this,"focusTracker");b(this,"buttonPrevView");b(this,"buttonNextView");b(this,"content");const i=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ct,this.buttonPrevView=this._createButtonView(i("Previous"),me.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),me.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",r=>r?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const s=new Le(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s}}class ESe extends ye{constructor(e,i){super(e);b(this,"content");b(this,"_balloonPanelView");const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",r=>r?"":"ck-hidden")],style:{top:s.to("top",Ub),left:s.to("left",Ub),width:s.to("width",Ub),height:s.to("height",Ub)}},children:this.content}),this.on("change:numberOfPanels",(r,o,a,l)=>{a>l?this._addPanels(a-l):this._removePanels(l-a),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new ye;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:s,height:r}=new Xe(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:s,height:r})}}}const qd=xc("px");class TSe extends ye{constructor(e){super(e);b(this,"content");b(this,"contentPanelElement");b(this,"_contentPanelPlaceholder");const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ss({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?qd(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new ss({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?qd(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",s=>s&&qd(s)),bottom:i.to("_stickyBottomOffset",s=>s&&qd(s)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Pe.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new Xe(this.limiterElement);let i=e.getVisible();if(i){const s=new Xe(Pe.window);s.top+=this.viewportTopOffset,s.height-=this.viewportTopOffset,i=i.getIntersection(s)}if(i&&e.top<i.top){const s=i.top;if(s+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const r=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-r>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(r):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(s):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=qd(-Pe.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=qd(-Pe.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Xe(this.contentPanelElement)}}class SSe extends _n{constructor(e,i){const s=e.t,r=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Wi},i);super(e,r.creator);b(this,"iconView");b(this,"resetButtonView");b(this,"_viewConfig");this.label=i.label,this._viewConfig=r,this._viewConfig.showIcon&&(this.iconView=new vr,this.iconView.content=me.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Le(e),this.resetButtonView.set({label:s("Clear"),icon:me.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",o=>!o),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class fU extends ye{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",e=>!e)],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class ASe extends ye{constructor(e){super(e);b(this,"focusTracker");b(this,"children");b(this,"_focusCycler");this.children=this.createCollection(),this.focusTracker=new Ct,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Cn({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class ISe extends ye{constructor(e,i){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"resultsView");b(this,"filteredView");b(this,"infoView");b(this,"queryView");b(this,"focusCycler");b(this,"_config");this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ct,this.keystrokes=new Vt,this.resultsView=new ASe(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new fU,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Cn({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(s,{resultsCount:r,totalItemsCount:o})=>{this.resultsCount=r,this.totalItemsCount=o}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(e){const i=e?new RegExp(cy(e),"ig"):null,s=this.filteredView.filter(i);this.fire("search",{query:e,...s})}_createSearchTextQueryView(){const e=new SSe(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,i=this.infoView;this.on("search",(r,o)=>{if(o.resultsCount)i.set({isVisible:!1});else{const a=this._config.infoView&&this._config.infoView.text;let l,u;o.totalItemsCount?a&&a.notFound?(l=a.notFound.primary,u=a.notFound.secondary):(l=e("No results found"),u=""):a&&a.noSearchableItems?(l=a.noSearchableItems.primary,u=a.noSearchableItems.secondary):(l=e("No searchable items"),u=""),i.set({primaryText:s(l,o),secondaryText:s(u,o),isVisible:!0})}});function s(r,{query:o,resultsCount:a,totalItemsCount:l}){return typeof r=="function"?r(o,a,l):r}}}const RSe=xc("px");class PSe extends F{constructor(e){super(e);b(this,"toolbarView");b(this,"focusTracker");b(this,"_balloonConfig");b(this,"_resizeObserver",null);b(this,"_balloon");b(this,"_fireSelectionChangeDebounced");this._balloonConfig=xy(e.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new Ct,this._trackFocusableEditableElements(),this.focusTracker.add(this.toolbarView),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=e.plugins.get(Ki),this._fireSelectionChangeDebounced=Es(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get isOfficialPlugin(){return!0}static get requires(){return[Ki]}init(){const e=this.editor,i=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(s,r,o)=>{const a=this._balloon.visibleView===this.toolbarView;!o&&a?this.hide():o&&this.show()}),this.listenTo(i,"change:range",(s,r)=>{(r.directChange||i.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(e,"ready",()=>{const s=e.ui.view.editable.element;this._resizeObserver=new qp(s,r=>{this.toolbarView.maxWidth=RSe(r.contentRect.width*.9)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const e=this.editor.locale.t,i=!this._balloonConfig.shouldNotGroupWhenFull,s=new dc(this.editor.locale,{shouldGroupWhenFull:i,isFloating:!0});return s.ariaLabel=e("Editor contextual toolbar"),s.render(),s}show(e=!1){const i=this.editor,s=i.model.document.selection,r=i.model.schema;this._balloon.hasView(this.toolbarView)||s.isCollapsed&&!e||OSe(s,r)||Array.from(this.toolbarView.items).every(o=>o.isEnabled!==void 0&&!o.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_trackFocusableEditableElements(){const{editor:e,focusTracker:i}=this,{editing:s}=e;s.view.addObserver(class extends io{observe(o){i.add(o)}stopObserving(o){i.remove(o)}})}_getBalloonPositionData(){const i=this.editor.editing.view,s=i.document,r=s.selection,o=s.selection.isBackward;return{target:()=>{const a=o?r.getFirstRange():r.getLastRange(),l=Xe.getDomRangeRects(i.domConverter.viewRangeToDom(a));return o?l[0]:(l.length>1&&l[l.length-1].width===0&&l.pop(),l[l.length-1])},positions:this._getBalloonPositions(o)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(e){const s=Ge.isSafari&&Ge.isiOS?ci.generatePositions({heightOffset:Math.max(ci.arrowHeightOffset,Math.round(20/Pe.window.visualViewport.scale))}):ci.defaultPositions;return e?[s.northWestArrowSouth,s.northWestArrowSouthWest,s.northWestArrowSouthEast,s.northWestArrowSouthMiddleEast,s.northWestArrowSouthMiddleWest,s.southWestArrowNorth,s.southWestArrowNorthWest,s.southWestArrowNorthEast,s.southWestArrowNorthMiddleWest,s.southWestArrowNorthMiddleEast]:[s.southEastArrowNorth,s.southEastArrowNorthEast,s.southEastArrowNorthWest,s.southEastArrowNorthMiddleEast,s.southEastArrowNorthMiddleWest,s.northEastArrowSouth,s.northEastArrowSouthEast,s.northEastArrowSouthWest,s.northEastArrowSouthMiddleEast,s.northEastArrowSouthMiddleWest]}}function OSe(n,t){return n.rangeCount===1?!1:[...n.getRanges()].every(e=>{const i=e.getContainedElement();return i&&t.isSelectable(i)})}const OO=xc("px");class MSe extends Le{constructor(t){super(t);const e=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:e.to("top",i=>OO(i)),left:e.to("left",i=>OO(i))}}})}}const Mm=xc("px");class DSe extends F{constructor(e){super(e);b(this,"toolbarView");b(this,"panelView");b(this,"buttonView");b(this,"_resizeObserver",null);b(this,"_blockToolbarConfig");this._blockToolbarConfig=xy(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),so({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t,s=i("Click to edit block"),r=i("Drag to move"),o=i("Edit block"),a=e.plugins.has("DragDropBlockToolbar"),l=a?`${s}
${r}`:o;this.buttonView.label=l,a&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(e.model.document.selection,"change:range",(u,h)=>{h.directChange&&this._hidePanel()}),this.listenTo(e.ui,"update",()=>this._updateButton()),this.listenTo(e,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(u,h,m)=>{m?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),this._repositionButtonOnScroll(),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const u of this.toolbarView.items)u.on("execute",()=>this._hidePanel(!0),{priority:"high"})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const e=this.editor.locale.t,i=!this._blockToolbarConfig.shouldNotGroupWhenFull,s=new dc(this.editor.locale,{shouldGroupWhenFull:i,isFloating:!0});return s.ariaLabel=e("Editor block content toolbar"),s}_createPanelView(){const e=this.editor,i=new ci(e.locale);return i.content.add(this.toolbarView),i.class="ck-toolbar-container",e.ui.view.body.add(i),this.toolbarView.keystrokes.set("Esc",(s,r)=>{this._hidePanel(!0),r()}),i}_createButtonView(){const e=this.editor,i=e.t,s=new MSe(e.locale),r=this._blockToolbarConfig.icon,o=kE[r]||r||kE.dragIndicator;return s.set({label:i("Edit block"),icon:o,withText:!1}),s.bind("isOn").to(this.panelView,"isVisible"),s.bind("tooltip").to(this.panelView,"isVisible",a=>!a),this.listenTo(s,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),this.listenTo(s,"change:isEnabled",(a,l,u)=>{!u&&this.panelView.isVisible&&this._hidePanel(!1)}),e.ui.view.body.add(s),s}_updateButton(){const e=this.editor,i=e.model,s=e.editing.view;if(!e.ui.focusTracker.isFocused){this._hideButton();return}if(!e.model.canEditAt(e.model.document.selection)){this._hideButton();return}const r=Array.from(i.document.selection.getSelectedBlocks())[0];if(!r||Array.from(this.toolbarView.items).every(a=>!a.isEnabled)){this._hideButton();return}const o=s.domConverter.mapViewToDom(e.editing.mapper.toViewElement(r));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(o),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const e=this.panelView.isVisible;this.panelView.show();const i=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(i),this.panelView.pin({target:this.buttonView.element,limiter:i}),e||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const e=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(e)}_hidePanel(e){this.panelView.isVisible=!1,e&&this.editor.editing.view.focus()}_repositionButtonOnScroll(){const{buttonView:e}=this;let i=!1;const s=(r,o)=>{if(i)return;const a=this._getSelectedEditableElement();o.target!==Pe.document&&!Cz(a).includes(o.target)||(i=!0,Pe.window.requestAnimationFrame(()=>{this._updateButton(),i=!1}))};e.on("change:isVisible",(r,o,a)=>{a?e.listenTo(Pe.document,"scroll",s,{useCapture:!0,usePassive:!0}):e.stopListening(Pe.document,"scroll",s)})}_attachButtonToElement(e){const i=this.buttonView.element,s=this._getSelectedEditableElement(),r=window.getComputedStyle(e),o=new Xe(s),a=parseInt(r.paddingTop,10),l=parseInt(r.lineHeight,10)||parseInt(r.fontSize,10)*1.2,u=new Xe(i),h=new Xe(e);let m;this.editor.locale.uiLanguageDirection==="ltr"?m=o.left-u.width:m=o.right;const p=h.top+a+(l-u.height)/2;u.moveTo(m,p);const v=u.toAbsoluteRect();this.buttonView.top=v.top,this.buttonView.left=v.left,this._clipButtonToViewport(this.buttonView,s)}_clipButtonToViewport(e,i){const s=new Xe(e.element),r=new Xe(i).getVisible(),o=(...l)=>{e.element.style.clipPath=l.length?`polygon(${l.join(",")})`:""},a=l=>{e.isEnabled=!l,e.element.style.pointerEvents=l?"none":""};if(r&&r.bottom<s.bottom){const l=Math.min(s.height,s.bottom-r.bottom);a(l>=s.height),o("0 0","100% 0",`100% calc(100% - ${Mm(l)})`,`0 calc(100% - ${Mm(l)}`)}else if(r&&r.top>s.top){const l=Math.min(s.height,r.top-s.top);a(l>=s.height),o(`0 ${Mm(l)}`,`100% ${Mm(l)}`,"100% 100%","0 100%")}else a(!1),o()}_setupToolbarResize(){const e=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==e&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new qp(e,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(e)})))}_getToolbarMaxWidth(e){const i=new Xe(e),s=new Xe(this.buttonView.element),o=this.editor.locale.uiLanguageDirection==="rtl"?s.left-i.right+s.width:i.left-s.left;return Mm(i.width+o)}}class VSe extends Wh{constructor(e){super(e);b(this,"arrowView");const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new vr;return e.content=yy,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class NSe extends ye{constructor(e){super(e);b(this,"children");const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),i.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}const nw=class nw extends ye{constructor(e){super(e);b(this,"buttonView");b(this,"panelView");b(this,"focusTracker");b(this,"keystrokes");const i=this.bindTemplate;this.buttonView=new VSe(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new NSe(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Vt,this.focusTracker=new Ct,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s),i.if("parentMenuView","ck-menu-bar__menu_top-level",s=>!s)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Ml.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Ml.openOnButtonClick(this),Ml.openOnArrowRightKey(this),Ml.closeOnArrowLeftKey(this),Ml.openAndFocusOnEnterKeyPress(this),Ml.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Ml.openAndFocusPanelOnArrowDownKey(this),Ml.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,i)=>{this.fire("arrowright"),i()}),this.keystrokes.set("arrowleft",(e,i)=>{this.fire("arrowleft"),i()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,i,s)=>{if(!s)return;const r=nw._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:i,northEast:s,northWest:r,westSouth:o,eastSouth:a,westNorth:l,eastNorth:u}=lSe;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[a,u,o,l]:[e,i,s,r]:this.parentMenuView?[o,l,a,u]:[i,e,r,s]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};b(nw,"_getOptimalPosition",a5);let Yi=nw;class No extends _y{constructor(t){super(t),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const t=Array.from(this.items).some(e=>{const i=MO(e);return i&&i.isToggleable});this.items.forEach(e=>{const i=MO(e);i&&(i.hasCheckSpace=t)})}}function MO(n){return n instanceof Za?n.children.map(t=>LSe(t)?t.buttonView:t).find(t=>t instanceof Wh):null}function LSe(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof Le}class mU extends mTe{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const DO=["mouseenter","arrowleft","arrowright","change:isOpen"];class BSe extends ye{constructor(e){super(e);b(this,"children");b(this,"menus",[]);const i=e.t,s=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",s.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i,s=[]){const r=this.locale,a=dSe({normalizedConfig:e,locale:r,componentFactory:i,extraItems:s}).items.map(l=>this._createMenu({componentFactory:i,menuDefinition:l}));this.children.addMany(a)}render(){super.render(),Wd.toggleMenusAndFocusItemsOnHover(this),Wd.closeMenusWhenTheBarCloses(this),Wd.closeMenuWhenAnotherOnTheSameLevelOpens(this),Wd.focusCycleMenusOnArrows(this),Wd.closeOnClickOutside(this),Wd.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,i=null){i?(e.delegate(...DO).to(i),e.parentMenuView=i):e.delegate(...DO).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:s}){const r=this.locale,o=new Yi(r);return this.registerMenu(o,s),o.buttonView.set({label:i.label}),o.once("change:isOpen",()=>{const a=new No(r);a.ariaLabel=i.label,o.panelView.children.add(a),a.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:o,componentFactory:e}))}),o}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:s}){const r=this.locale,o=[];for(const a of e.groups){for(const l of a.items){const u=new Jr(r,i);if(rn(l))u.children.add(this._createMenu({componentFactory:s,menuDefinition:l,parentMenuView:i}));else{const h=this._createMenuItemContentFromFactory({componentName:l,componentFactory:s,parentMenuView:i});if(!h)continue;u.children.add(h)}o.push(u)}a!==e.groups[e.groups.length-1]&&o.push(new Kp(r))}return o}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:s}){const r=s.create(e);return r instanceof Yi||r instanceof Rt||r instanceof mU?(this._registerMenuTree(r,i),r.on("execute",()=>{this.close()}),r):(ht("menu-bar-component-unsupported",{componentName:e,componentView:r}),null)}_registerMenuTree(e,i){if(!(e instanceof Yi)){e.delegate("mouseenter").to(i);return}this.registerMenu(e,i);const s=e.panelView.children.filter(o=>o instanceof No)[0];if(!s){e.delegate("mouseenter").to(i);return}const r=s.items.filter(o=>o instanceof Za);for(const o of r)this._registerMenuTree(o.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,s,r)=>{clearTimeout(e),r?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(o=>o.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const M5=["left","right","center","justify"];function gU(n){return M5.includes(n)}function pU(n,t){return t.contentLanguageDirection=="rtl"?n==="right":n==="left"}function bU(n){const t=n.map(i=>{let s;return typeof i=="string"?s={name:i}:s=i,s}).filter(i=>{const s=M5.includes(i.name);return s||ht("alignment-config-name-not-recognized",{option:i}),s}),e=t.filter(i=>!!i.className).length;if(e&&e<t.length)throw new L("alignment-config-classnames-are-missing",{configuredOptions:n});return t.forEach((i,s,r)=>{const o=r.slice(s+1);if(o.some(l=>l.name==i.name))throw new L("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&o.some(u=>u.className==i.className))throw new L("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),t}const D5="alignment";class FSe extends je{refresh(){const e=this.editor.locale,i=Qt(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(t={}){const e=this.editor,i=e.locale,s=e.model,r=s.document,o=t.value;s.change(a=>{const l=Array.from(r.selection.getSelectedBlocks()).filter(m=>this._canBeAligned(m)),u=l[0].getAttribute("alignment");pU(o,i)||u===o||!o?zSe(l,a):jSe(l,a,o)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,D5)}}function zSe(n,t){for(const e of n)t.removeAttribute(D5,e)}function jSe(n,t,e){for(const i of n)t.setAttribute(D5,e,i)}class USe extends F{static get pluginName(){return"AlignmentEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("alignment",{options:M5.map(e=>({name:e}))})}init(){const t=this.editor,e=t.locale,i=t.model.schema,r=bU(t.config.get("alignment.options")).filter(u=>gU(u.name)&&!pU(u.name,e)),o=r.some(u=>!!u.className);i.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?t.conversion.attributeToAttribute(qSe(r)):t.conversion.for("downcast").attributeToAttribute(HSe(r));const a=$Se(r);for(const u of a)t.conversion.for("upcast").attributeToAttribute(u);const l=WSe(r);for(const u of l)t.conversion.for("upcast").attributeToAttribute(u);t.commands.add("alignment",new FSe(t))}}function HSe(n){const t={};for(const{name:i}of n)t[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:n.map(i=>i.name)},view:t}}function $Se(n){const t=[];for(const{name:e}of n)t.push({view:{key:"style",value:{"text-align":e}},model:{key:"alignment",value:e}});return t}function WSe(n){const t=[];for(const{name:e}of n)t.push({view:{key:"align",value:e},model:{key:"alignment",value:e}});return t}function qSe(n){const t={};for(const i of n)t[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:n.map(i=>i.name)},view:t}}const Dm=new Map([["left",me.alignLeft],["right",me.alignRight],["center",me.alignCenter],["justify",me.alignJustify]]);class GSe extends F{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=bU(t.config.get("alignment.options"));e.map(i=>i.name).filter(gU).forEach(i=>this._addButton(i)),this._addToolbarDropdown(e),this._addMenuBarMenu(e)}_addButton(t){this.editor.ui.componentFactory.add(`alignment:${t}`,i=>this._createButton(i,t))}_createButton(t,e,i={}){const s=this.editor,r=s.commands.get("alignment"),o=new Le(t);return o.set({label:this.localizedOptionTitles[e],icon:Dm.get(e),tooltip:!0,isToggleable:!0,...i}),o.bind("isEnabled").to(r),o.bind("isOn").to(r,"value",a=>a===e),this.listenTo(o,"execute",()=>{s.execute("alignment",{value:e}),s.editing.view.focus()}),o}_addToolbarDropdown(t){const e=this.editor;e.ui.componentFactory.add("alignment",s=>{const r=Wn(s),o=s.uiLanguageDirection==="rtl"?"w":"e",a=s.t;Xp(r,()=>t.map(h=>this._createButton(s,h.name,{tooltipPosition:o})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),r.buttonView.set({label:a("Text alignment"),tooltip:!0}),r.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const l=s.contentLanguageDirection==="rtl"?Dm.get("right"):Dm.get("left"),u=e.commands.get("alignment");return r.buttonView.bind("icon").to(u,"value",h=>Dm.get(h)||l),r.bind("isEnabled").to(u,"isEnabled"),this.listenTo(r,"execute",()=>{e.editing.view.focus()}),r})}_addMenuBarMenu(t){const e=this.editor;e.ui.componentFactory.add("menuBar:alignment",i=>{const s=e.commands.get("alignment"),r=i.t,o=new Yi(i),a=new No(i);o.bind("isEnabled").to(s),a.set({ariaLabel:r("Text alignment"),role:"menu"}),o.buttonView.set({label:r("Text alignment")});for(const l of t){const u=new Jr(i,o),h=new Rt(i);h.delegate("execute").to(o),h.set({label:this.localizedOptionTitles[l.name],icon:Dm.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),h.on("execute",()=>{e.execute("alignment",{value:l.name}),e.editing.view.focus()}),h.bind("isOn").to(s,"value",m=>m===l.name),h.bind("isEnabled").to(s,"isEnabled"),u.children.add(h),a.items.add(u)}return o.panelView.children.add(a),o})}}class YSe extends F{static get requires(){return[USe,GSe]}static get pluginName(){return"Alignment"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class vU{constructor(t,e=20){b(this,"model");b(this,"limit");b(this,"_isLocked");b(this,"_size");b(this,"_batch",null);b(this,"_changeCallback");b(this,"_selectionChangeCallback");this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(i,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){(!this.isLocked||t)&&(this._batch=null,this._size=0)}}class ZSe extends je{constructor(e,i){super(e);b(this,"_buffer");this._buffer=new vU(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,s=i.document,r=e.text||"",o=r.length;let a=s.selection;if(e.selection?a=e.selection:e.range&&(a=i.createSelection(e.range)),!i.canEditAt(a))return;const l=e.resultRange;i.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const h=Array.from(s.selection.getAttributes());i.deleteContent(a),r&&i.insertContent(u.createText(r,h),a),l?u.setSelection(l):a.is("documentSelection")||u.setSelection(a),this._buffer.unlock(),this._buffer.input(o)})}}const wU=["insertText","insertReplacementText"],KSe=[...wU,"insertCompositionText"];class XSe extends io{constructor(e){super(e);b(this,"focusObserver");this.focusObserver=e.getObserver(Rv);const i=Ge.isAndroid?KSe:wU,s=e.document;s.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;const{data:a,targetRanges:l,inputType:u,domEvent:h}=o;if(!i.includes(u))return;this.focusObserver.flush();const m=new Ga(s,"insertText");s.fire(m,new Uh(e,h,{text:a,selection:e.createSelection(l)})),m.stop.called&&r.stop()}),Ge.isAndroid||s.on("compositionend",(r,{data:o,domEvent:a})=>{this.isEnabled&&o&&s.fire("insertText",new Uh(e,a,{text:o}))},{priority:"lowest"})}observe(){}stopObserving(){}}class yU extends F{constructor(){super(...arguments);b(this,"_compositionQueue")}static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model,s=e.editing.view,r=e.editing.mapper,o=i.document.selection;this._compositionQueue=new JSe(e),s.addObserver(XSe);const a=new ZSe(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",a),e.commands.add("input",a),this.listenTo(s.document,"insertText",(l,u)=>{s.document.isComposing||u.preventDefault(),Ge.isAndroid&&s.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:h,selection:m}=u;let p;m?p=Array.from(m.getRanges()).map(k=>r.toModelRange(k)):p=Array.from(o.getRanges());let v=h;if(Ge.isAndroid){const k=Array.from(p[0].getItems()).reduce((C,T)=>C+(T.is("$textProxy")?T.data:""),"");if(k&&(k.length<=v.length?v.startsWith(k)&&(v=v.substring(k.length),p[0].start=p[0].start.getShiftedBy(k.length)):k.startsWith(v)&&(p[0].start=p[0].start.getShiftedBy(v.length),v="")),v.length==0&&p[0].isCollapsed)return}const _={text:v,selection:i.createSelection(p)};Ge.isAndroid&&s.document.isComposing?this._compositionQueue.push(_):(e.execute("insertText",_),s.scrollToTheSelection())}),Ge.isAndroid?this.listenTo(s.document,"keydown",(l,u)=>{o.isCollapsed||u.keyCode!=229||!s.document.isComposing||VO(i,a)}):this.listenTo(s.document,"compositionstart",()=>{o.isCollapsed||VO(i,a)}),Ge.isAndroid?(this.listenTo(s.document,"mutations",(l,{mutations:u})=>{if(s.document.isComposing)for(const{node:h}of u){const m=e5e(h,r),p=r.toModelElement(m);if(this._compositionQueue.isComposedElement(p)){this._compositionQueue.flush("mutations");return}}}),this.listenTo(s.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(s.document,"compositionend",()=>{const l=[];for(const u of this._compositionQueue.flushComposedElements()){const h=r.toViewElement(u);h&&l.push({type:"children",node:h})}l.length&&s.document.fire("mutations",{mutations:l})},{priority:"lowest"})):this.listenTo(s.document,"compositionend",()=>{s.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class JSe{constructor(t){b(this,"editor");b(this,"flushDebounced",Es(()=>this.flush("timeout"),50));b(this,"_queue",[]);b(this,"_compositionElements",new Set);this.editor=t}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(t){const e={text:t.text};if(t.selection){e.selectionRanges=[];for(const i of t.selection.getRanges())e.selectionRanges.push(ns.fromRange(i)),this._compositionElements.add(i.start.parent)}this._queue.push(e),this.flushDebounced()}shift(){const t=this._queue.shift(),e={text:t.text};if(t.selectionRanges){const i=t.selectionRanges.map(s=>QSe(s)).filter(s=>!!s);i.length&&(e.selection=this.editor.model.createSelection(i))}return e}flush(t){const e=this.editor,i=e.model,s=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=e.commands.get("insertText").buffer;i.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const a=this.shift();e.execute("insertText",a)}o.unlock()}),s.scrollToTheSelection()}isComposedElement(t){return this._compositionElements.has(t)}flushComposedElements(){const t=Array.from(this._compositionElements);return this._compositionElements.clear(),t}}function VO(n,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),n.enqueueChange(e.batch,()=>{n.deleteContent(n.document.selection)}),e.unlock()}function QSe(n){const t=n.toRange();return n.detach(),t.root.rootName=="$graveyard"?null:t}function e5e(n,t){let e=n.is("$text")?n.parent:n;for(;!t.toModelElement(e);)e=e.parent;return e}class NO extends je{constructor(e,i){super(e);b(this,"direction");b(this,"_buffer");this.direction=i,this._buffer=new vU(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const o=r.createSelection(e.selection||s.selection);if(!i.canEditAt(o))return;const a=e.sequence||1,l=o.isCollapsed;if(o.isCollapsed&&i.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(a)){this._replaceEntireContentWithParagraph(r);return}if(this._shouldReplaceFirstBlockWithParagraph(o,a)){this.editor.execute("paragraph",{selection:o});return}if(o.isCollapsed)return;let u=0;o.getFirstRange().getMinimalFlatRanges().forEach(h=>{u+=sE(h.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(o,{doNotResetEntireContent:l,direction:this.direction}),this._buffer.input(u),r.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,r=i.document.selection,o=i.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(o))||!i.schema.checkChild(o,"paragraph"))return!1;const l=o.getChild(0);return!(l&&l.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const i=this.editor.model,r=i.document.selection,o=i.schema.getLimitElement(r),a=e.createElement("paragraph");e.remove(e.createRangeIn(o)),e.insert(a,o),e.setSelection(a,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const r=e.getFirstPosition(),o=s.schema.getLimitElement(r),a=o.getChild(0);return!(r.parent!=a||!e.containsEntireContent(a)||!s.schema.checkChild(o,"paragraph")||a.name=="paragraph")}}const t5e="character",LO="word",n5e="codePoint",Wl="selection",oh="backward",Xm="forward",_U={deleteContent:{unit:Wl,direction:oh},deleteContentBackward:{unit:n5e,direction:oh},deleteWordBackward:{unit:LO,direction:oh},deleteHardLineBackward:{unit:Wl,direction:oh},deleteSoftLineBackward:{unit:Wl,direction:oh},deleteContentForward:{unit:t5e,direction:Xm},deleteWordForward:{unit:LO,direction:Xm},deleteHardLineForward:{unit:Wl,direction:Xm},deleteSoftLineForward:{unit:Wl,direction:Xm}};class i5e extends io{constructor(t){super(t);const e=t.document;let i=0;e.on("keydown",()=>{i++}),e.on("keyup",()=>{i=0}),e.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=r,u=_U[l];if(!u)return;const h={direction:u.direction,unit:u.unit,sequence:i};h.unit==Wl&&(h.selectionToRemove=t.createSelection(o[0])),l==="deleteContentBackward"&&(Ge.isAndroid&&(h.sequence=1),r5e(o)&&(h.unit=Wl,h.selectionToRemove=t.createSelection(o)));const m=new bf(e,"delete",o[0]);e.fire(m,new Uh(t,a,h)),m.stop.called&&s.stop()}),Ge.isBlink&&s5e(this)}observe(){}stopObserving(){}}function s5e(n){const t=n.view,e=t.document;let i=null,s=!1;e.on("keydown",(a,{keyCode:l})=>{i=l,s=!1}),e.on("keyup",(a,{keyCode:l,domEvent:u})=>{const h=e.selection,m=n.isEnabled&&l==i&&r(l)&&!h.isCollapsed&&!s;if(i=null,m){const p=h.getFirstRange(),v=new bf(e,"delete",p),_={unit:Wl,direction:o(l),selectionToRemove:h};e.fire(v,new Uh(t,u,_))}}),e.on("beforeinput",(a,{inputType:l})=>{const u=_U[l];r(i)&&u&&u.direction==o(i)&&(s=!0)},{priority:"high"}),e.on("beforeinput",(a,{inputType:l,data:u})=>{i==mt.delete&&l=="insertText"&&u==""&&a.stop()},{priority:"high"});function r(a){return a==mt.backspace||a==mt.delete}function o(a){return a==mt.backspace?oh:Xm}}function r5e(n){if(n.length!=1||n[0].isCollapsed)return!1;const t=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let e=0;for(const{nextPosition:i,item:s}of t){if(i.parent.is("$text")){const r=i.parent.data,o=i.offset;if(d5(r,o)||h5(r,o)||Lz(r,o))continue;e++}else(s.is("containerElement")||s.is("emptyElement"))&&e++;if(e>1)return!0}return!1}class Lo extends F{constructor(){super(...arguments);b(this,"_undoOnBackspace")}static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.editing.view,s=i.document,r=e.model.document;i.addObserver(i5e),this._undoOnBackspace=!1;const o=new NO(e,"forward");e.commands.add("deleteForward",o),e.commands.add("forwardDelete",o),e.commands.add("delete",new NO(e,"backward")),this.listenTo(s,"delete",(a,l)=>{s.isComposing||l.preventDefault();const{direction:u,sequence:h,selectionToRemove:m,unit:p}=l,v=u==="forward"?"deleteForward":"delete",_={sequence:h};if(p=="selection"){const k=Array.from(m.getRanges()).map(C=>e.editing.mapper.toModelRange(C));_.selection=e.model.createSelection(k)}else _.unit=p;e.execute(v,_),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(s,"keydown",(a,l)=>{if(s.isComposing||l.keyCode!=mt.backspace||!r.selection.isCollapsed)return;const u=e.model.schema.getLimitElement(r.selection);e.model.createPositionAt(u,0).isTouching(r.selection.getFirstPosition())&&l.preventDefault()}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(a,l)=>{this._undoOnBackspace&&l.direction=="backward"&&l.sequence==1&&l.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),l.preventDefault(),a.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Cy extends F{static get requires(){return[yU,Lo]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xU(n,t){let e=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((s,{item:r})=>r.is("$text")||r.is("$textProxy")?s+r.data:(e=t.createPositionAfter(r),""),""),range:t.createRange(e,n.end)}}class V5 extends Wt(){constructor(e,i){super();b(this,"model");b(this,"testCallback");b(this,"_hasMatch");this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(s,{directChange:r})=>{if(r){if(!i.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(i,"change:data",(s,r)=>{r.isUndo||!r.isLocal||this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,i={}){const s=this.model,o=s.document.selection,a=s.createRange(s.createPositionAt(o.focus.parent,0),o.focus),{text:l,range:u}=xU(a,s),h=this.testCallback(l);if(!h&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!h,h){const m=Object.assign(i,{text:l,range:u});typeof h=="object"&&Object.assign(m,h),this.fire(`matched:${e}`,m)}}}class Vv extends F{constructor(e){super(e);b(this,"attributes");b(this,"_overrideUid");b(this,"_isNextGravityRestorationSkipped",!1);this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model,s=e.editing.view,r=e.locale,o=i.document.selection;this.listenTo(s.document,"arrowKey",(a,l)=>{if(!o.isCollapsed||l.shiftKey||l.altKey||l.ctrlKey)return;const u=l.keyCode==mt.arrowright,h=l.keyCode==mt.arrowleft;if(!u&&!h)return;const m=r.contentLanguageDirection;let p=!1;m==="ltr"&&u||m==="rtl"&&h?p=this._handleForwardMovement(l):p=this._handleBackwardMovement(l),p===!0&&a.stop()},{context:"$text",priority:"highest"}),this.listenTo(o,"change:range",(a,l)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!l.directChange&&lr(o.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,s=this.editor.model,r=s.document.selection,o=r.getFirstPosition();return this._isGravityOverridden||o.isAtStart&&ma(r,i)?!1:lr(o,i)?(Nm(e),ma(r,i)&&lr(o,i,!0)?Vm(s,i):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const i=this.attributes,s=this.editor.model,r=s.document.selection,o=r.getFirstPosition();return this._isGravityOverridden?(Nm(e),this._restoreGravity(),lr(o,i,!0)?Vm(s,i):Hb(s,i,o),!0):o.isAtStart?ma(r,i)?(Nm(e),Hb(s,i,o),!0):!1:!ma(r,i)&&lr(o,i,!0)?(Nm(e),Hb(s,i,o),!0):BO(o,i)?o.isAtEnd&&!ma(r,i)&&lr(o,i)?(Nm(e),Hb(s,i,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,r=e.editing.view.document;e.editing.view.addObserver(vy),e.editing.view.addObserver(pke);let o=!1,a=!1;this.listenTo(r,"touchstart",()=>{a=!1,o=!0}),this.listenTo(r,"mousedown",()=>{a=!0}),this.listenTo(r,"selectionChange",()=>{const l=this.attributes;if(!a&&!o||(a=!1,o=!1,!s.isCollapsed)||!ma(s,l))return;const u=s.getFirstPosition();lr(u,l)&&(u.isAtStart||lr(u,l,!0)?Vm(i,l):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,s=i.document.selection,r=this.attributes;this.listenTo(i,"insertContent",()=>{const o=s.getFirstPosition();ma(s,r)&&lr(o,r)&&Vm(i,r)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,r=e.editing.view;let o=!1,a=!1;this.listenTo(r.document,"delete",(l,u)=>{o=u.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!o)return;const l=s.getFirstPosition();a=ma(s,this.attributes)&&!BO(l,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{o&&(o=!1,!a&&e.model.enqueueChange(()=>{const l=s.getFirstPosition();ma(s,this.attributes)&&lr(l,this.attributes)&&(l.isAtStart||lr(l,this.attributes,!0)?Vm(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function ma(n,t){for(const e of t)if(n.hasAttribute(e))return!0;return!1}function Hb(n,t,e){const i=e.nodeBefore;n.change(s=>{if(i){const r=[],o=n.schema.isObject(i)&&n.schema.isInline(i);for(const[a,l]of i.getAttributes())n.schema.checkAttribute("$text",a)&&(!o||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&r.push([a,l]);s.setSelectionAttribute(r)}else s.removeSelectionAttribute(t)})}function Vm(n,t){n.change(e=>{e.removeSelectionAttribute(t)})}function Nm(n){n.preventDefault()}function BO(n,t){const e=n.getShiftedBy(-1);return lr(e,t)}function lr(n,t,e=!1){const{nodeBefore:i,nodeAfter:s}=n;for(const r of t){const o=i?i.getAttribute(r):void 0,a=s?s.getAttribute(r):void 0;if(!(e&&(o===void 0||a===void 0))&&a!==o)return!0}return!1}const FO={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Gd('"'),to:[null,"",null,""]},quotesSecondary:{from:Gd("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Gd("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Gd('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Gd('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Gd("'"),to:[null,"",null,""]}},zO={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},o5e=["symbols","mathematical","typography","quotes"];class a5e extends F{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("typing",{transformations:{include:o5e}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,i=t.plugins.get("Delete"),s=d5e(t.config.get("typing.transformations")),r=a=>{for(const l of s)if(l.from.test(a))return{normalizedTransformation:l}},o=new V5(t.model,r);o.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:u,to:h}=l.normalizedTransformation,m=u.exec(l.text),p=h(m.slice(1)),v=l.range;let _=m.index;e.enqueueChange(k=>{for(let C=1;C<m.length;C++){const T=m[C],S=p[C-1];if(S==null){_+=T.length;continue}const I=v.start.getShiftedBy(_),P=e.createRange(I,I.getShiftedBy(T.length)),O=u5e(I);e.insertContent(k.createText(S,O),P),_+=S.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}function l5e(n){return typeof n=="string"?new RegExp(`(${cy(n)})$`):n}function c5e(n){return typeof n=="string"?()=>[n]:n instanceof Array?()=>n:n}function u5e(n){return(n.textNode?n.textNode:n.nodeAfter).getAttributes()}function Gd(n){return new RegExp(`(^|\\s)(${n})([^${n}]*)(${n})$`)}function d5e(n){const t=n.extra||[],e=n.remove||[],i=r=>!e.includes(r),s=n.include.concat(t).filter(i);return h5e(s).filter(i).map(r=>typeof r=="string"&&FO[r]?FO[r]:r).filter(r=>typeof r=="object").map(r=>({from:l5e(r.from),to:c5e(r.to)}))}function h5e(n){const t=new Set;for(const e of n)if(typeof e=="string"&&zO[e])for(const i of zO[e])t.add(i);else t.add(e);return Array.from(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Jp(n,t,e,i){return i.createRange(EE(n,t,e,!0,i),EE(n,t,e,!1,i))}function EE(n,t,e,i,s){let r=n.textNode||(i?n.nodeBefore:n.nodeAfter),o=null;for(;r&&r.getAttribute(t)==e;)o=r,r=i?r.previousSibling:r.nextSibling;return o?s.createPositionAt(o,i?"before":"after"):n}function kU(n,t,e,i){const s=n.editing.view,r=new Set;s.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(t)){const u=Jp(a.getFirstPosition(),t,a.getAttribute(t),n.model),h=n.editing.mapper.toViewRange(u);for(const m of h.getItems())m.is("element",e)&&!m.hasClass(i)&&(o.addClass(i,m),r.add(m),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){s.change(l=>{for(const u of r.values())l.removeClass(i,u),r.delete(u)})}})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Dl(n,t,e,i){let s,r=null;typeof i=="function"?s=i:(r=n.commands.get(i),s=()=>{n.execute(i)}),n.model.document.on("change:data",(o,a)=>{if(r&&!r.isEnabled||!t.isEnabled)return;const l=Qt(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const u=Array.from(n.model.document.differ.getChanges()),h=u[0];if(u.length!=1||h.type!=="insert"||h.name!="$text"||h.length!=1)return;const m=h.position.parent;if(m.is("element","codeBlock")||m.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||r&&r.value===!0)return;const p=m.getChild(0),v=n.model.createRangeOn(p);if(!v.containsRange(l)&&!l.end.isEqual(v.end))return;const _=e.exec(p.data.substr(0,l.end.offset));_&&n.model.enqueueChange(k=>{const C=k.createPositionAt(m,0),T=k.createPositionAt(m,_[0].length),S=new ns(C,T);if(s({match:_})!==!1){k.remove(S);const P=n.model.document.selection.getFirstRange(),O=k.createRangeIn(m);m.isEmpty&&!O.isEqual(P)&&!O.containsRange(P,!0)&&k.remove(m)}S.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Yd(n,t,e,i){let s,r;e instanceof RegExp?s=e:r=e,r=r||(o=>{let a;const l=[],u=[];for(;(a=s.exec(o))!==null&&!(a&&a.length<4);){let{index:h,"1":m,"2":p,"3":v}=a;const _=m+p+v;h+=a[0].length-_.length;const k=[h,h+m.length],C=[h+m.length+p.length,h+m.length+p.length+v.length];l.push(k),l.push(C),u.push([h+m.length,h+m.length+p.length])}return{remove:l,format:u}}),n.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!t.isEnabled)return;const l=n.model,u=l.document.selection;if(!u.isCollapsed)return;const h=Array.from(l.document.differ.getChanges()),m=h[0];if(h.length!=1||m.type!=="insert"||m.name!="$text"||m.length!=1)return;const p=u.focus,v=p.parent,{text:_,range:k}=f5e(l.createRange(l.createPositionAt(v,0),p),l),C=r(_),T=jO(k.start,C.format,l),S=jO(k.start,C.remove,l);T.length&&S.length&&l.enqueueChange(I=>{if(i(I,T)!==!1){for(const O of S.reverse())I.remove(O);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function jO(n,t,e){return t.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>e.createRange(n.getShiftedBy(i[0]),n.getShiftedBy(i[1])))}function f5e(n,t){let e=n.start;return{text:Array.from(n.getItems()).reduce((s,r)=>!(r.is("$text")||r.is("$textProxy"))||r.getAttribute("code")?(e=t.createPositionAfter(r),""):s+r.data,""),range:t.createRange(e,n.end)}}class m5e extends F{static get requires(){return[Lo]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&Dl(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&Dl(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&Dl(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&Dl(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const e=$b(this.editor,"bold");Yd(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Yd(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(t.get("italic")){const e=$b(this.editor,"italic");Yd(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Yd(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(t.get("code")){const e=$b(this.editor,"code");Yd(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(t.get("strikethrough")){const e=$b(this.editor,"strikethrough");Yd(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],s=new RegExp(`^(#{${i}})\\s$`);Dl(this.editor,this,s,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Dl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&Dl(t,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Dl(this.editor,this,/^---$/,"horizontalLine")}}function $b(n,t){return(e,i)=>{if(!n.commands.get(t).isEnabled)return!1;const r=n.model.schema.getValidRanges(i,t);for(const o of r)e.setAttribute(t,!0,o);e.removeSelectionAttribute(t)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class g5e extends F{constructor(e){super(e);b(this,"adapter");b(this,"_debouncedSave");b(this,"_lastDocumentVersion");b(this,"_savePromise");b(this,"_domEmitter");b(this,"_config");b(this,"_pendingActions");b(this,"_makeImmediateSave");b(this,"_action",null);const i=e.config.get("autosave")||{},s=i.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=Es(this._save.bind(this),s),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(us()),this._config=i,this._pendingActions=e.plugins.get(Hh),this._makeImmediateSave=!1}static get pluginName(){return"Autosave"}static get isOfficialPlugin(){return!0}static get requires(){return[Hh]}init(){const e=this.editor,i=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(i,"change:data",(s,r)=>{this._saveCallbacks.length&&r.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});/* istanbul ignore next -- @preserve */this._domEmitter.listenTo(window,"beforeunload",(s,r)=>{this._pendingActions.hasAny&&(r.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class qu extends je{constructor(e,i){super(e);b(this,"attributeKey");this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,r=i.document.selection,o=e.forceValue===void 0?!this.value:e.forceValue;i.change(a=>{if(r.isCollapsed)o?a.setSelectionAttribute(this.attributeKey,!0):a.removeSelectionAttribute(this.attributeKey);else{const l=i.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const u of l)o?a.setAttribute(this.attributeKey,o,u):a.removeAttribute(this.attributeKey,u)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const r of s.getRanges())for(const o of r.getItems())if(i.checkAttribute(o,this.attributeKey))return o.hasAttribute(this.attributeKey);return!1}}const Zd="bold";class p5e extends F{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Zd}),t.model.schema.setAttributeProperties(Zd,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Zd,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(Zd,new qu(t,Zd)),t.keystrokes.set("CTRL+B",Zd),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function Gu({editor:n,commandName:t,plugin:e,icon:i,label:s,keystroke:r}){return o=>{const a=n.commands.get(t),l=new o(n.locale);return l.set({label:s,icon:i,keystroke:r,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof Rt?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),e.listenTo(l,"execute",()=>{n.execute(t),n.editing.view.focus()}),l}}const dk="bold";class b5e extends F{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Gu({editor:t,commandName:dk,plugin:this,icon:me.bold,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(dk,()=>i(Le)),t.ui.componentFactory.add("menuBar:"+dk,()=>i(Rt))}}class v5e extends F{static get requires(){return[p5e,b5e]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const Jc="code",w5e="ck-code_selected";class y5e extends F{static get pluginName(){return"CodeEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Vv]}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Jc}),t.model.schema.setAttributeProperties(Jc,{isFormatting:!0,copyOnEnter:!1}),t.conversion.attributeToElement({model:Jc,view:"code"}),t.commands.add(Jc,new qu(t,Jc)),t.plugins.get(Vv).registerAttribute(Jc),kU(t,Jc,"code",w5e),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}var _5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>';const hk="code";class x5e extends F{static get pluginName(){return"CodeUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Gu({editor:t,commandName:hk,plugin:this,icon:_5e,label:e("Code")});t.ui.componentFactory.add(hk,()=>i(Le)),t.ui.componentFactory.add("menuBar:"+hk,()=>i(Rt))}}class k5e extends F{static get requires(){return[y5e,x5e]}static get pluginName(){return"Code"}static get isOfficialPlugin(){return!0}}const Kd="italic";class C5e extends F{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Kd}),t.model.schema.setAttributeProperties(Kd,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Kd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Kd,new qu(t,Kd)),t.keystrokes.set("CTRL+I",Kd),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}var E5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';const fk="italic";class T5e extends F{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Gu({editor:t,commandName:fk,plugin:this,icon:E5e,keystroke:"CTRL+I",label:e("Italic")});t.ui.componentFactory.add(fk,()=>i(Le)),t.ui.componentFactory.add("menuBar:"+fk,()=>i(Rt))}}class S5e extends F{static get requires(){return[C5e,T5e]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}const Lm="strikethrough";class A5e extends F{static get pluginName(){return"StrikethroughEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Lm}),t.model.schema.setAttributeProperties(Lm,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Lm,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),t.commands.add(Lm,new qu(t,Lm)),t.keystrokes.set("CTRL+SHIFT+X","strikethrough"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}var I5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';const mk="strikethrough";class R5e extends F{static get pluginName(){return"StrikethroughUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Gu({editor:t,commandName:mk,plugin:this,icon:I5e,keystroke:"CTRL+SHIFT+X",label:e("Strikethrough")});t.ui.componentFactory.add(mk,()=>i(Le)),t.ui.componentFactory.add("menuBar:"+mk,()=>i(Rt))}}class P5e extends F{static get requires(){return[A5e,R5e]}static get pluginName(){return"Strikethrough"}static get isOfficialPlugin(){return!0}}const Bm="subscript";class O5e extends F{static get pluginName(){return"SubscriptEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Bm}),t.model.schema.setAttributeProperties(Bm,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Bm,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add(Bm,new qu(t,Bm))}}var M5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>';const gk="subscript";class D5e extends F{static get pluginName(){return"SubscriptUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Gu({editor:t,commandName:gk,plugin:this,icon:M5e,label:e("Subscript")});t.ui.componentFactory.add(gk,()=>i(Le)),t.ui.componentFactory.add("menuBar:"+gk,()=>i(Rt))}}class V5e extends F{static get requires(){return[O5e,D5e]}static get pluginName(){return"Subscript"}static get isOfficialPlugin(){return!0}}const Fm="superscript";class N5e extends F{static get pluginName(){return"SuperscriptEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Fm}),t.model.schema.setAttributeProperties(Fm,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Fm,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add(Fm,new qu(t,Fm))}}var L5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>';const pk="superscript";class B5e extends F{static get pluginName(){return"SuperscriptUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Gu({editor:t,commandName:pk,plugin:this,icon:L5e,label:e("Superscript")});t.ui.componentFactory.add(pk,()=>i(Le)),t.ui.componentFactory.add("menuBar:"+pk,()=>i(Rt))}}class F5e extends F{static get requires(){return[N5e,B5e]}static get pluginName(){return"Superscript"}static get isOfficialPlugin(){return!0}}const zm="underline";class z5e extends F{static get pluginName(){return"UnderlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:zm}),t.model.schema.setAttributeProperties(zm,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:zm,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(zm,new qu(t,zm)),t.keystrokes.set("CTRL+U","underline"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Underline text"),keystroke:"CTRL+U"}]})}}var j5e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';const bk="underline";class U5e extends F{static get pluginName(){return"UnderlineUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=Gu({editor:t,commandName:bk,plugin:this,icon:j5e,label:e("Underline"),keystroke:"CTRL+U"});t.ui.componentFactory.add(bk,()=>i(Le)),t.ui.componentFactory.add("menuBar:"+bk,()=>i(Rt))}}class H5e extends F{static get requires(){return[z5e,U5e]}static get pluginName(){return"Underline"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*CU(n,t){for(const e of t)e&&n.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class $5e extends je{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,i=e.document.selection,s=e.schema,r=i.isCollapsed,o=i.getFirstRange(),a=o.start.parent,l=o.end.parent;if(s.isLimit(a)||s.isLimit(l))return!r&&a==l&&e.deleteContent(i),!1;if(r){const u=CU(t.model.schema,i.getAttributes());return UO(t,o.start),t.setSelectionAttribute(u),!0}else{const u=!(o.start.isAtStart&&o.end.isAtEnd),h=a==l;if(e.deleteContent(i,{leaveUnmerged:u}),u){if(h)return UO(t,i.focus),!0;t.setSelection(l,0)}}return!1}}function UO(n,t){n.split(t),n.setSelection(t.parent.nextSibling,0)}const W5e={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class EU extends io{constructor(t){super(t);const e=this.document;let i=!1;e.on("keydown",(s,r)=>{i=r.shiftKey}),e.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;Ge.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const a=r.domEvent,l=W5e[o];if(!l)return;const u=new bf(e,"enter",r.targetRanges[0]);e.fire(u,new Uh(t,a,{isSoft:l.isSoft})),u.stop.called&&s.stop()})}observe(){}stopObserving(){}}class Qp extends F{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=e.document,s=this.editor.t;e.addObserver(EU),t.commands.add("enter",new $5e(t)),this.listenTo(i,"enter",(r,o)=>{i.isComposing||o.preventDefault(),!o.isSoft&&(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class q5e extends je{execute(){const t=this.editor.model,e=t.document;t.change(i=>{Y5e(t,i,e.selection),this.fire("afterExecute",{writer:i})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=G5e(t.schema,e.selection)}}function G5e(n,t){if(t.rangeCount>1)return!1;const e=t.anchor;if(!e||!n.checkChild(e,"softBreak"))return!1;const i=t.getFirstRange(),s=i.start.parent,r=i.end.parent;return!((TE(s,n)||TE(r,n))&&s!==r)}function Y5e(n,t,e){const i=e.isCollapsed,s=e.getFirstRange(),r=s.start.parent,o=s.end.parent,a=r==o;if(i){const l=CU(n.schema,e.getAttributes());HO(n,t,s.end),t.removeSelectionAttribute(e.getAttributeKeys()),t.setSelectionAttribute(l)}else{const l=!(s.start.isAtStart&&s.end.isAtEnd);n.deleteContent(e,{leaveUnmerged:l}),a?HO(n,t,e.focus):l&&t.setSelection(o,0)}}function HO(n,t,e){const i=t.createElement("softBreak");n.insertContent(i,e),t.setSelection(i,"after")}function TE(n,t){return n.is("rootElement")?!1:t.isLimit(n)||TE(n.parent,t)}class TU extends F{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.conversion,s=t.editing.view,r=s.document,o=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),s.addObserver(EU),t.commands.add("shiftEnter",new q5e(t)),this.listenTo(r,"enter",(a,l)=>{r.isComposing||l.preventDefault(),l.isSoft&&(t.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Z5e extends je{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,i=e.schema,s=e.document.selection,r=Array.from(s.getSelectedBlocks()),o=t.forceValue===void 0?!this.value:t.forceValue;e.change(a=>{if(!o)this._removeQuote(a,r.filter(Wb));else{const l=r.filter(u=>Wb(u)||WO(i,u));this._applyQuote(a,l)}})}_getValue(){const t=this.editor.model.document.selection,e=Qt(t.getSelectedBlocks());return!!(e&&Wb(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,i=Qt(t.getSelectedBlocks());return i?WO(e,i):!1}_removeQuote(t,e){$O(t,e).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd){t.unwrap(i.start.parent);return}if(i.start.isAtStart){const r=t.createPositionBefore(i.start.parent);t.move(i,r);return}i.end.isAtEnd||t.split(i.end);const s=t.createPositionAfter(i.end.parent);t.move(i,s)})}_applyQuote(t,e){const i=[];$O(t,e).reverse().forEach(s=>{let r=Wb(s.start);r||(r=t.createElement("blockQuote"),t.wrap(s,r)),i.push(r)}),i.reverse().reduce((s,r)=>s.nextSibling==r?(t.merge(t.createPositionAfter(s)),s):r)}}function Wb(n){return n.parent.name=="blockQuote"?n.parent:null}function $O(n,t){let e,i=0;const s=[];for(;i<t.length;){const r=t[i],o=t[i+1];e||(e=n.createPositionBefore(r)),(!o||r.nextSibling!=o)&&(s.push(n.createRange(e,n.createPositionAfter(r))),e=null),i++}return s}function WO(n,t){const e=n.checkChild(t.parent,"blockQuote"),i=n.checkChild(["$root","blockQuote"],t);return e&&i}class K5e extends F{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Qp,Lo]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new Z5e(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(o=>{const a=t.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const u=l.position.nodeAfter;if(!u)continue;if(u.is("element","blockQuote")&&u.isEmpty)return o.remove(u),!0;if(u.is("element","blockQuote")&&!e.checkChild(l.position,u))return o.unwrap(u),!0;if(u.is("element")){const h=o.createRangeIn(u);for(const m of h.getItems())if(m.is("element","blockQuote")&&!e.checkChild(o.createPositionBefore(m),m))return o.unwrap(m),!0}}else if(l.type=="remove"){const u=l.position.parent;if(u.is("element","blockQuote")&&u.isEmpty)return o.remove(u),!0}return!1});const i=this.editor.editing.view.document,s=t.model.document.selection,r=t.commands.get("blockQuote");this.listenTo(i,"enter",(o,a)=>{if(!s.isCollapsed||!r.value)return;s.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(o,a)=>{if(a.direction!="backward"||!s.isCollapsed||!r.value)return;const l=s.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}class X5e extends F{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("blockQuote",()=>{const e=this._createButton(Le);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:blockQuote",()=>{const e=this._createButton(Rt);return e.set({role:"menuitemcheckbox"}),e})}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get("blockQuote"),r=new t(e.locale),o=i.t;return r.set({label:o("Block quote"),icon:me.quote,isToggleable:!0}),r.bind("isEnabled").to(s,"isEnabled"),r.bind("isOn").to(s,"value"),this.listenTo(r,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),r}}class J5e extends F{static get requires(){return[K5e,X5e]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Q5e extends Xt(){constructor(){super(...arguments);b(this,"_stack",[])}add(e,i){const s=this._stack,r=s[0];this._insertDescriptor(e);const o=s[0];r!==o&&!vk(r,o)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:i})}remove(e,i){const s=this._stack,r=s[0];this._removeDescriptor(e);const o=s[0];r!==o&&!vk(r,o)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:i})}_insertDescriptor(e){const i=this._stack,s=i.findIndex(o=>o.id===e.id);if(vk(e,i[s]))return;s>-1&&i.splice(s,1);let r=0;for(;i[r]&&eAe(i[r],e);)r++;i.splice(r,0,e)}_removeDescriptor(e){const i=this._stack,s=i.findIndex(r=>r.id===e);s>-1&&i.splice(s,1)}}function vk(n,t){return n&&t&&n.priority==t.priority&&Nv(n.classes)==Nv(t.classes)}function eAe(n,t){return n.priority>t.priority?!0:n.priority<t.priority?!1:Nv(n.classes)>Nv(t.classes)}function Nv(n){return Array.isArray(n)?n.sort().join(","):n}var tAe='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const nAe="ck-widget",qO="ck-widget_selected";function Un(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function al(n,t,e={}){if(!n.is("containerElement"))throw new L("widget-to-widget-wrong-element-type",null,{element:n});return t.setAttribute("contenteditable","false",n),t.addClass(nAe,n),t.setCustomProperty("widget",!0,n),n.getFillerOffset=aAe,t.setCustomProperty("widgetLabel",[],n),e.label&&rAe(n,e.label),e.hasSelectionHandle&&lAe(n,t),SU(n,t),n}function iAe(n,t,e){if(t.classes&&e.addClass(qt(t.classes),n),t.attributes)for(const i in t.attributes)e.setAttribute(i,t.attributes[i],n)}function sAe(n,t,e){if(t.classes&&e.removeClass(qt(t.classes),n),t.attributes)for(const i in t.attributes)e.removeAttribute(i,n)}function SU(n,t,e=iAe,i=sAe){const s=new Q5e;s.on("change:top",(a,l)=>{l.oldDescriptor&&i(n,l.oldDescriptor,l.writer),l.newDescriptor&&e(n,l.newDescriptor,l.writer)});const r=(a,l,u)=>s.add(l,u),o=(a,l,u)=>s.remove(l,u);t.setCustomProperty("addHighlight",r,n),t.setCustomProperty("removeHighlight",o,n)}function rAe(n,t){n.getCustomProperty("widgetLabel").push(t)}function oAe(n){return n.getCustomProperty("widgetLabel").reduce((e,i)=>typeof i=="function"?e?e+". "+i():i():e?e+". "+i:i,"")}function N5(n,t,e={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),t.setAttribute("role","textbox",n),t.setAttribute("tabindex","-1",n),e.label&&t.setAttribute("aria-label",e.label,n),t.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(i,s,r)=>{t.setAttribute("contenteditable",r?"false":"true",n)}),n.on("change:isFocused",(i,s,r)=>{r?t.addClass("ck-editor__nested-editable_focused",n):t.removeClass("ck-editor__nested-editable_focused",n)}),SU(n,t),n}function e0(n,t){const e=n.getSelectedElement();if(e){const i=Fl(n);if(i)return t.createRange(t.createPositionAt(e,i))}return t.schema.findOptimalInsertionRange(n)}function aAe(){return null}function lAe(n,t){const e=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){const s=this.toDomElement(i),r=new vr;return r.set("content",tAe),r.render(),s.appendChild(r.element),s});t.insert(t.createPositionAt(n,0),e),t.addClass(["ck-widget_with-selection-handle"],n)}function L5(n){const t=a=>{const{width:l,paddingLeft:u,paddingRight:h}=a.ownerDocument.defaultView.getComputedStyle(a);return parseFloat(l)-(parseFloat(u)||0)-(parseFloat(h)||0)},e=n.parentElement;if(!e)return 0;let i=t(e);const s=5;let r=0,o=e;for(;isNaN(i);){if(o=o.parentElement,++r>s)return 0;i=t(o)}return i}function cAe(n,t=new Xe(n)){const e=L5(n);return e?t.width/e*100:0}const va="widget-type-around";function Qc(n,t,e){return!!n&&Un(n)&&!e.isInline(t)}function uAe(n){return n.closest(".ck-widget__type-around__button")}function dAe(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function hAe(n,t){const e=n.closest(".ck-widget");return t.mapDomToView(e)}function Fl(n){return n.getAttribute(va)}var fAe='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';const AU=["before","after"],mAe=new DOMParser().parseFromString(fAe,"image/svg+xml").firstChild,GO="ck-widget__type-around_disabled";class gAe extends F{constructor(){super(...arguments);b(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[Qp,Lo]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(s,r,o)=>{i.change(a=>{for(const l of i.document.roots)o?a.removeClass(GO,l):a.addClass(GO,l)}),o||e.model.change(a=>{a.removeSelectionAttribute(va)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const s=this.editor,r=s.editing.view,o=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,i),attributes:o}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,i,s,r){this.listenTo(e,i,(...o)=>{this.isEnabled&&s(...o)},r)}_insertParagraphAccordingToFakeCaretPosition(){const s=this.editor.model.document.selection,r=Fl(s);if(!r)return!1;const o=s.getSelectedElement();return this._insertParagraph(o,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,s=e.locale.t,r={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(o,a,l)=>{const u=l.mapper.toViewElement(a.item);u&&Qc(u,a.item,i)&&(pAe(l.writer,r,u),u.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,s=i.document.selection,r=i.schema,o=e.editing.view;this._listenToIfEnabled(o.document,"arrowKey",(l,u)=>{this._handleArrowKeyPress(l,u)},{context:[Un,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(l,u)=>{u.directChange&&e.model.change(h=>{h.removeSelectionAttribute(va)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const l=s.getSelectedElement();if(l){const u=e.editing.mapper.toViewElement(l);if(Qc(u,l,r))return}e.model.change(u=>{u.removeSelectionAttribute(va)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(l,u,h)=>{const m=h.writer;if(this._currentFakeCaretModelElement){const k=h.mapper.toViewElement(this._currentFakeCaretModelElement);k&&(m.removeClass(AU.map(a),k),this._currentFakeCaretModelElement=null)}const p=u.selection.getSelectedElement();if(!p)return;const v=h.mapper.toViewElement(p);if(!Qc(v,p,r))return;const _=Fl(u.selection);_&&(m.addClass(a(_),v),this._currentFakeCaretModelElement=p)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(l,u,h)=>{h||e.model.change(m=>{m.removeSelectionAttribute(va)})});function a(l){return`ck-widget_type-around_show-fake-caret_${l}`}}_handleArrowKeyPress(e,i){const s=this.editor,r=s.model,o=r.document.selection,a=r.schema,l=s.editing.view,u=i.keyCode,h=Sye(u,s.locale.contentLanguageDirection),m=l.document.selection.getSelectedElement(),p=s.editing.mapper.toModelElement(m);let v;Qc(m,p,a)?v=this._handleArrowKeyPressOnSelectedWidget(h):o.isCollapsed?v=this._handleArrowKeyPressWhenSelectionNextToAWidget(h):i.shiftKey||(v=this._handleArrowKeyPressWhenNonCollapsedSelection(h)),v&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const s=this.editor.model,r=s.document.selection,o=Fl(r);return s.change(a=>{if(o){if(!(o===(e?"after":"before")))return a.removeSelectionAttribute(va),!0}else return a.setSelectionAttribute(va,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,s=i.model,r=s.schema,o=i.plugins.get("Widget"),a=o._getObjectElementNextToSelection(e),l=i.editing.mapper.toViewElement(a);return Qc(l,a,r)?(s.change(u=>{o._setSelectionOverElement(a),u.setSelectionAttribute(va,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,s=i.model,r=s.schema,o=i.editing.mapper,a=s.document.selection,l=e?a.getLastPosition().nodeBefore:a.getFirstPosition().nodeAfter,u=o.toViewElement(l);return Qc(u,l,r)?(s.change(h=>{h.setSelection(l,"on"),h.setSelectionAttribute(va,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,r)=>{const o=uAe(r.domTarget);if(!o)return;const a=dAe(o),l=hAe(o,i.domConverter),u=e.editing.mapper.toModelElement(l);this._insertParagraph(u,a),r.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(r,o)=>{if(r.eventPhase!="atTarget")return;const a=i.getSelectedElement(),l=e.editing.mapper.toViewElement(a),u=e.model.schema;let h;this._insertParagraphAccordingToFakeCaretPosition()?h=!0:Qc(l,a,u)&&(this._insertParagraph(a,o.isSoft?"before":"after"),h=!0),h&&(o.preventDefault(),r.stop())},{context:Un})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",(s,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=i.selection)},{priority:"high"}),Ge.isAndroid?this._listenToIfEnabled(i,"keydown",(s,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(i,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,s=e.model,r=s.schema;this._listenToIfEnabled(i.document,"delete",(o,a)=>{if(o.eventPhase!="atTarget")return;const l=Fl(s.document.selection);if(!l)return;const u=a.direction,h=s.document.selection.getSelectedElement(),m=l==="before",p=u=="forward";if(m===p)e.execute("delete",{selection:s.createSelection(h,"on")});else{const _=r.getNearestSelectionRange(s.createPositionAt(h,l),u);if(_)if(!_.isCollapsed)s.change(k=>{k.setSelection(_),e.execute(p?"deleteForward":"delete")});else{const k=s.createSelection(_.start);if(s.modifySelection(k,{direction:u}),!k.focus.isEqual(_.start))s.change(C=>{C.setSelection(_),e.execute(p?"deleteForward":"delete")});else{const C=wAe(r,_.start.parent);s.deleteContent(s.createSelection(C,"on"),{doNotAutoparagraph:!0})}}}a.preventDefault(),o.stop()},{context:Un})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(r,[o,a])=>{if(a&&!a.is("documentSelection"))return;const l=Fl(s);if(l)return r.stop(),i.change(u=>{const h=s.getSelectedElement(),m=i.createPositionAt(h,l),p=u.createSelection(m),v=i.insertContent(o,p);return u.setSelection(p),v})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,o)=>{const[,a,l={}]=o;if(a&&!a.is("documentSelection"))return;const u=Fl(s);u&&(l.findOptimalPosition=u,o[3]=l)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[o])=>{if(o&&!o.is("documentSelection"))return;Fl(s)&&r.stop()},{priority:"high"})}}function pAe(n,t,e){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return bAe(r,t),vAe(r),r});n.insert(n.createPositionAt(e,"end"),i)}function bAe(n,t){for(const e of AU){const i=new ss({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${e}`],title:t[e],"aria-hidden":"true"},children:[n.ownerDocument.importNode(mAe,!0)]});n.appendChild(i.render())}}function vAe(n){const t=new ss({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(t.render())}function wAe(n,t){let e=t;for(const i of t.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;e=i}return e}function yAe(n){const t=n.model;return(e,i)=>{const s=i.keyCode==mt.arrowup,r=i.keyCode==mt.arrowdown,o=i.shiftKey,a=t.document.selection;if(!s&&!r)return;const l=r;if(o&&kAe(a,l))return;const u=_Ae(n,a,l);if(u){if(u.isCollapsed){if(a.isCollapsed)return;if(o)return}(u.isCollapsed||xAe(n,u,l))&&(t.change(h=>{const m=l?u.end:u.start;if(o){const p=t.createSelection(a.anchor);p.setFocus(m),h.setSelection(p)}else h.setSelection(m)}),e.stop(),i.preventDefault(),i.stopPropagation())}}}function _Ae(n,t,e){const i=n.model;if(e){const s=t.isCollapsed?t.focus:t.getLastPosition(),r=YO(i,s,"forward");if(!r)return null;const o=i.createRange(s,r),a=ZO(i.schema,o,"backward");return a?i.createRange(s,a):null}else{const s=t.isCollapsed?t.focus:t.getFirstPosition(),r=YO(i,s,"backward");if(!r)return null;const o=i.createRange(r,s),a=ZO(i.schema,o,"forward");return a?i.createRange(a,s):null}}function YO(n,t,e){const i=n.schema,s=n.createRangeIn(t.root),r=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of s.getWalker({startPosition:t,direction:e})){if(i.isLimit(a)&&!i.isInline(a))return o;if(l==r&&i.isBlock(a))return null}return null}function ZO(n,t,e){const i=e=="backward"?t.end:t.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:s}of t.getWalker({direction:e}))if(n.checkChild(s,"$text"))return s;return null}function xAe(n,t,e){const i=n.model,s=n.view.domConverter;if(e){const u=i.createSelection(t.start);i.modifySelection(u),!u.focus.isAtEnd&&!t.start.isEqual(u.focus)&&(t=i.createRange(u.focus,t.end))}const r=n.mapper.toViewRange(t),o=s.viewRangeToDom(r),a=Xe.getDomRangeRects(o);let l;for(const u of a){if(l===void 0){l=Math.round(u.bottom);continue}if(Math.round(u.top)>=l)return!1;l=Math.max(l,Math.round(u.bottom))}return!0}function kAe(n,t){return!n.isCollapsed&&n.isBackward==t}class Go extends F{constructor(){super(...arguments);b(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[gAe,Lo]}init(){const e=this.editor,i=e.editing.view,s=i.document,r=e.t;this.editor.editing.downcastDispatcher.on("selection",(o,a,l)=>{const u=l.writer,h=a.selection;if(h.isCollapsed)return;const m=h.getSelectedElement();if(!m)return;const p=e.editing.mapper.toViewElement(m);Un(p)&&l.consumable.consume(h,"selection")&&u.setSelection(u.createRangeOn(p),{fake:!0,label:oAe(p)})}),this.editor.editing.downcastDispatcher.on("selection",(o,a,l)=>{this._clearPreviouslySelectedWidgets(l.writer);const u=l.writer,h=u.document.selection;let m=null;for(const p of h.getRanges())for(const v of p){const _=v.item;Un(_)&&!TAe(_,m)&&(u.addClass(qO,_),this._previouslySelected.add(_),m=_)}},{priority:"low"}),i.addObserver(vy),this.listenTo(s,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(s,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[Un,"$text"]}),this.listenTo(s,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(s,"arrowKey",yAe(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(o,a)=>{this._handleDelete(a.direction=="forward")&&(a.preventDefault(),o.stop())},{context:"$root"}),this.listenTo(s,"tab",(o,a)=>{o.eventPhase=="atTarget"&&(a.shiftKey||this._selectFirstNestedEditable()&&(a.preventDefault(),o.stop()))},{context:Un,priority:"low"}),this.listenTo(s,"tab",(o,a)=>{a.shiftKey&&this._selectAncestorWidget()&&(a.preventDefault(),o.stop())},{priority:"low"}),this.listenTo(s,"keydown",(o,a)=>{a.keystroke==mt.esc&&this._selectAncestorWidget()&&(a.preventDefault(),o.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:r("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:r("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:r("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:r("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:r("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:r("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const s=this.editor,r=s.editing.view,o=r.document;let a=i.target;if(!a)return;if(i.domEvent.detail>=3){this._selectBlockContent(a)&&i.preventDefault();return}if(!Un(a)){const u=CAe(a);if(!u)return;if(Un(u))a=u;else{const h=EAe(r,i);if(h&&Un(h))a=h;else return}}Ge.isAndroid&&i.preventDefault(),o.isFocused||r.focus();const l=s.editing.mapper.toModelElement(a);this._setSelectionOverElement(l)}_selectBlockContent(e){const i=this.editor,s=i.model,r=i.editing.mapper,o=s.schema,a=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),l=SAe(r.toModelElement(a),s.schema);return l?(s.change(u=>{const h=o.isLimit(l)?null:AAe(u.createPositionAfter(l),o),m=u.createPositionAt(l,0),p=h?u.createPositionAt(h,0):u.createPositionAt(l,"end");u.setSelection(u.createRange(m,p))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,i){const s=i.keyCode,r=this.editor.model,o=r.schema,a=r.document.selection,l=a.getSelectedElement(),u=hy(s,this.editor.locale.contentLanguageDirection),h=u=="down"||u=="right",m=u=="up"||u=="down";if(l&&o.isObject(l)){const v=h?a.getLastPosition():a.getFirstPosition(),_=o.getNearestSelectionRange(v,h?"forward":"backward");_&&(r.change(k=>{k.setSelection(_)}),i.preventDefault(),e.stop());return}if(!a.isCollapsed&&!i.shiftKey){const v=a.getFirstPosition(),_=a.getLastPosition(),k=v.nodeAfter,C=_.nodeBefore;(k&&o.isObject(k)||C&&o.isObject(C))&&(r.change(T=>{T.setSelection(h?_:v)}),i.preventDefault(),e.stop());return}if(!a.isCollapsed)return;const p=this._getObjectElementNextToSelection(h);if(p&&o.isObject(p)){if(o.isInline(p)&&m)return;this._setSelectionOverElement(p),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const s=this.editor.model,r=s.schema,o=s.document.selection.getSelectedElement();o&&r.isObject(o)&&(i.preventDefault(),e.stop())}_handleDelete(e){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);if(r)return this.editor.model.change(o=>{let a=s.anchor.parent;for(;a.isEmpty;){const l=a;a=l.parent,o.remove(l)}this._setSelectionOverElement(r)}),!0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,s=i.schema,r=i.document.selection,o=i.createSelection(r);if(i.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(r))return null;const a=e?o.focus.nodeBefore:o.focus.nodeAfter;return a&&s.isObject(a)?a:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(qO,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,s=this.editor.editing.view.document;for(const r of s.selection.getFirstRange().getItems())if(r.is("editableElement")){const o=e.editing.mapper.toModelElement(r);/* istanbul ignore next -- @preserve */if(!o)continue;const a=e.model.createPositionAt(o,0),l=e.model.schema.getNearestSelectionRange(a,"forward");return e.model.change(u=>{u.setSelection(l)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,r=e.editing.view.document.selection.getFirstPosition().parent,a=(r.is("$text")?r.parent:r).findAncestor(Un);if(!a)return!1;const l=i.toModelElement(a);/* istanbul ignore next -- @preserve */return l?(e.model.change(u=>{u.setSelection(l,"on")}),!0):!1}}function CAe(n){let t=n;for(;t;){if(t.is("editableElement")||Un(t))return t;t=t.parent}return null}function EAe(n,t){const e=Tz(t.domEvent);let i=null;if(e?i=n.domConverter.domRangeToView(e):i=n.createRange(n.createPositionAt(t.target,0)),!i)return null;const s=i.start;if(!s.parent)return null;let r=s.parent;return s.parent.is("editableElement")&&(s.isAtEnd&&s.nodeBefore?r=s.nodeBefore:s.isAtStart&&s.nodeAfter&&(r=s.nodeAfter)),r.is("$text")?r.parent:r}function TAe(n,t){return t?Array.from(n.getAncestors()).includes(t):!1}function SAe(n,t){for(const e of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(e,"$text"))return e;if(t.isLimit(e)&&!t.isObject(e))break}return null}function AAe(n,t){const e=new Ra({startPosition:n});for(const{item:i}of e){if(t.isLimit(i)||!i.is("element"))return null;if(t.checkChild(i,"$text"))return i}return null}class Lv extends F{constructor(){super(...arguments);b(this,"_toolbarDefinitions",new Map);b(this,"_balloon")}static get requires(){return[Ki]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{IAe(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:s,getRelatedElement:r,balloonClassName:o="ck-toolbar-container"}){if(!s.length){ht("widget-toolbar-no-items",{toolbarId:e});return}const a=this.editor,l=a.t,u=new dc(a.locale);if(u.ariaLabel=i||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new L("widget-toolbar-duplicated",this,{toolbarId:e});const h={view:u,getRelatedElement:r,balloonClassName:o,itemsConfig:s,initialized:!1};a.ui.addToolbar(u,{isContextual:!0,beforeFocus:()=>{const m=r(a.editing.view.document.selection);m&&this._showToolbar(h,m)},afterBlur:()=>{this._hideToolbar(h)}}),this._toolbarDefinitions.set(e,h)}_updateToolbarsVisibility(){let e=0,i=null,s=null;for(const r of this._toolbarDefinitions.values()){const o=r.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!o)this._isToolbarInBalloon(r)&&this._hideToolbar(r);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(r)&&this._hideToolbar(r);else{const a=o.getAncestors().length;a>e&&(e=a,i=o,s=r)}}s&&this._showToolbar(s,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?KO(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:IU(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const r=s.getRelatedElement(this.editor.editing.view.document.selection);KO(this.editor,r)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function KO(n,t){const e=n.plugins.get("ContextualBalloon"),i=IU(n,t);e.updatePosition(i)}function IU(n,t){const e=n.editing.view,i=ci.defaultPositions;return{target:e.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function IAe(n){const t=n.getSelectedElement();return!!(t&&Un(t))}class RAe extends Wt(){constructor(e){super();b(this,"_referenceCoordinates");b(this,"_options");b(this,"_originalWidth");b(this,"_originalHeight");b(this,"_originalWidthPercents");b(this,"_aspectRatio");this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,i,s){const r=new Xe(i);this.activeHandlePosition=MAe(e),this._referenceCoordinates=PAe(i,DAe(this.activeHandlePosition)),this._originalWidth=r.width,this._originalHeight=r.height,this._aspectRatio=r.width/r.height;const o=s.style.width;o&&o.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(o):this._originalWidthPercents=cAe(s,r)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function PAe(n,t){const e=new Xe(n),i=t.split("-"),s={x:i[1]=="right"?e.right:e.left,y:i[0]=="bottom"?e.bottom:e.top};return s.x+=n.ownerDocument.defaultView.scrollX,s.y+=n.ownerDocument.defaultView.scrollY,s}function OAe(n){return`ck-widget__resizer__handle-${n}`}function MAe(n){const t=["top-left","top-right","bottom-right","bottom-left"];for(const e of t)if(n.classList.contains(OAe(e)))return e}function DAe(n){const t=n.split("-"),e={top:"bottom",bottom:"top",left:"right",right:"left"};return`${e[t[0]]}-${e[t[1]]}`}class VAe extends ye{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",e=>e?`ck-orientation-${e}`:"")],style:{display:t.if("_isVisible","none",e=>!e)}},children:[{text:t.to("_label")}]})}_bindToState(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",(i,s)=>i!==null&&s!==null),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(i,s,r)=>t.unit==="px"?`${i}${s}`:`${r}%`),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",(i,s,r)=>s<50||r<50?"above-center":i)}_dismiss(){this.unbind(),this._isVisible=!1}}class XO extends Wt(){constructor(e){super();b(this,"_state");b(this,"_sizeView");b(this,"_options");b(this,"_viewResizerWrapper",null);b(this,"_initialViewWidth");this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(i,s)=>i&&s),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",i=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),i.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(i=>{i.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(i=>{i.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,i=this._options.viewElement;this._options.editor.editing.view.change(r=>{const o=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(a){const l=this.toDomElement(a);return e._appendHandles(l),e._appendSizeUI(l),l});r.insert(r.createPositionAt(i,"end"),o),r.addClass("ck-widget_with-resizer",i),this._viewResizerWrapper=o,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new RAe(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const i=this._proposeNewSize(e);this._options.editor.editing.view.change(h=>{const m=this._options.unit||"%",p=(m==="%"?i.widthPercents:i.width)+m;h.setStyle("width",p,this._options.viewElement)});const r=this._getHandleHost(),o=new Xe(r),a=Math.round(o.width),l=Math.round(o.height),u=new Xe(r);i.width=Math.round(u.width),i.height=Math.round(u.height),this.redraw(o),this.state.update({...i,handleHostWidth:a,handleHostHeight:l})}commit(){const e=this._options.unit||"%",i=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(i)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const i=this._domResizerWrapper;if(!BAe(i))return;const s=i.parentElement,r=this._getHandleHost(),o=this._viewResizerWrapper,a=[o.getStyle("width"),o.getStyle("height"),o.getStyle("left"),o.getStyle("top")];let l;if(s.isSameNode(r)){const u=e||new Xe(r);l=[u.width+"px",u.height+"px",void 0,void 0]}else l=[r.offsetWidth+"px",r.offsetHeight+"px",r.offsetLeft+"px",r.offsetTop+"px"];$i(a,l)!=="same"&&this._options.editor.editing.view.change(u=>{u.setStyle({width:l[0],height:l[1],left:l[2],top:l[3]},o)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(i=>{i.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const i=this.state,s=LAe(e),r=this._options.isCentered?this._options.isCentered(this):!0,o={x:i._referenceCoordinates.x-(s.x+i.originalWidth),y:s.y-i.originalHeight-i._referenceCoordinates.y};r&&i.activeHandlePosition.endsWith("-right")&&(o.x=s.x-(i._referenceCoordinates.x+i.originalWidth)),r&&(o.x*=2);let a=Math.abs(i.originalWidth+o.x),l=Math.abs(i.originalHeight+o.y);return(a/i.aspectRatio>l?"width":"height")=="width"?l=a/i.aspectRatio:a=l*i.aspectRatio,{width:Math.round(a),height:Math.round(l),widthPercents:Math.min(Math.round(i.originalWidthPercents/i.originalWidth*a*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const i=["top-left","top-right","bottom-right","bottom-left"];for(const s of i)e.appendChild(new ss({tag:"div",attributes:{class:`ck-widget__resizer__handle ${NAe(s)}`}}).render())}_appendSizeUI(e){this._sizeView=new VAe,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function NAe(n){return`ck-widget__resizer__handle-${n}`}function LAe(n){return{x:n.pageX,y:n.pageY}}function BAe(n){return n&&n.ownerDocument&&n.ownerDocument.contains(n)}class wk extends F{constructor(){super(...arguments);b(this,"_resizers",new Map);b(this,"_observer");b(this,"_redrawSelectedResizerThrottled")}static get pluginName(){return"WidgetResize"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.editing,i=Pe.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(vy),this._observer=new(us()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(i,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(i,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Mu(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[r,o]of this._resizers)r.isAttached()||(this._resizers.delete(r),o.destroy())},{priority:"lowest"}),this._observer.listenTo(Pe.window,"resize",this._redrawSelectedResizerThrottled);const s=this.editor.editing.view.document.selection;s.on("change",()=>{const r=s.getSelectedElement(),o=this.getResizerByViewElement(r)||null;o?this.select(o):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const i=new XO(e),s=this.editor.plugins;if(i.attach(),s.has("WidgetToolbarRepository")){const a=s.get("WidgetToolbarRepository");i.on("begin",()=>{a.forceDisabled("resize")},{priority:"lowest"}),i.on("cancel",()=>{a.clearForceDisabled("resize")},{priority:"highest"}),i.on("commit",()=>{a.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,i);const o=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(o)==i&&this.select(i),i}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const i of this._resizers.values())if(i.containsHandle(e))return i}_mouseDownListener(e,i){const s=i.domTarget;XO.isResizeHandle(s)&&(this._activeResizer=this._getResizerByHandle(s)||null,this._activeResizer&&(this._activeResizer.begin(s),e.stop(),i.preventDefault()))}_mouseMoveListener(e,i){this._activeResizer&&this._activeResizer.updateSize(i)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class FAe extends ye{constructor(e,i){super(e);b(this,"focusTracker",new Ct);b(this,"keystrokes",new Vt);b(this,"idInputView");b(this,"buttonView");b(this,"children");b(this,"_validators");b(this,"_focusables",new ei);b(this,"_focusCycler");const s=e.t;this._validators=i,this.idInputView=this._createIdInput(),this.buttonView=this._createButton(s("Insert"),"ck-button-action ck-button-bold"),this.buttonView.type="submit",this.children=this._createViewChildren(),this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const r=["ck","ck-bookmark-view"];this.setTemplate({tag:"form",attributes:{class:r,tabindex:"-1"},children:this.children})}render(){super.render(),qo({view:this}),[this.idInputView,this.buttonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.idInputView.errorText=i,!1}return!0}resetFormStatus(){this.idInputView.errorText=null}_createViewChildren(){const e=this.createCollection(),i=this.t;return e.add(new Yp(this.locale,{label:i("Bookmark")})),e.add(this._createFormContentView()),e}_createFormContentView(){const e=new ye(this.locale),i=this.createCollection(),s=["ck","ck-bookmark-form","ck-responsive-form"];return i.add(this.idInputView),i.add(this.buttonView),e.setTemplate({tag:"div",attributes:{class:s},children:i}),e}_createIdInput(){const e=this.locale.t,i=new _n(this.locale,Wi);return i.label=e("Bookmark name"),i.infoText=e("Enter the bookmark name without spaces."),i}_createButton(e,i){const s=new Le(this.locale);return s.set({label:e,withText:!0}),s.extendTemplate({attributes:{class:i}}),s}get id(){const{element:e}=this.idInputView.fieldView;return e?e.value.trim():null}}class zAe extends ye{constructor(e){super(e);b(this,"focusTracker",new Ct);b(this,"keystrokes",new Vt);b(this,"bookmarkPreviewView");b(this,"removeButtonView");b(this,"editButtonView");b(this,"_focusables",new ei);b(this,"_focusCycler");const i=e.t;this.bookmarkPreviewView=this._createBookmarkPreviewView(),this.removeButtonView=this._createButton(i("Remove bookmark"),me.remove,"remove",this.bookmarkPreviewView),this.editButtonView=this._createButton(i("Edit bookmark"),me.pencil,"edit",this.bookmarkPreviewView),this.set("id",void 0),this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-bookmark-actions","ck-responsive-form"],tabindex:"-1"},children:[this.bookmarkPreviewView,this.editButtonView,this.removeButtonView]})}render(){super.render(),[this.editButtonView,this.removeButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,s,r){const o=new Le(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.delegate("execute").to(this,s),o.labelView.unbind("id"),o.labelView.bind("id").to(o,"ariaLabelledBy",a=>jAe(a)),o.ariaLabelledBy=`${o.ariaLabelledBy} ${r.id}`,o}_createBookmarkPreviewView(){const e=new ks(this.locale);return e.extendTemplate({attributes:{class:["ck","ck-bookmark-actions__preview"]}}),e.bind("text").to(this,"id"),e}}function jAe(n){return n.split(" ")[0]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function RU(n){return!(!n||typeof n!="string"||/\s/.test(n))}class UAe extends je{refresh(){const e=this.editor.model.document.selection,i=this._getPositionToInsertBookmark(e);this.isEnabled=!!i}execute(t){if(!t)return;const{bookmarkId:e}=t;if(!RU(e)){ht("insert-bookmark-command-executed-with-invalid-name");return}const i=this.editor,s=i.model,r=s.document.selection;s.change(o=>{let a=this._getPositionToInsertBookmark(r);if(!s.schema.checkChild(a,"bookmark")){const h=i.execute("insertParagraph",{position:a});if(!h)return;a=h}const u=o.createElement("bookmark",{...Object.fromEntries(r.getAttributes()),bookmarkId:e});s.insertObject(u,a,null,{setSelection:"on"})})}_getPositionToInsertBookmark(t){const e=this.editor.model,i=e.schema,s=t.getFirstRange(),r=s.start;if(yk(r,i))return r;for(const{previousPosition:o,item:a}of s){if(a.is("element")&&i.checkChild(a,"$text")&&yk(a,i))return e.createPositionAt(a,0);if(yk(o,i))return o}return null}}function yk(n,t){return t.checkChild(n,"bookmark")?!0:t.checkChild(n,"paragraph")?t.checkChild("paragraph","bookmark"):!1}class HAe extends je{refresh(){const e=this.editor.model.document.selection,i=JO(e);this.isEnabled=!!i,this.value=i?i.getAttribute("bookmarkId"):void 0}execute(t){if(!t)return;const{bookmarkId:e}=t;if(!RU(e)){ht("update-bookmark-command-executed-with-invalid-name");return}const i=this.editor.model,s=i.document.selection,r=JO(s);r&&i.change(o=>{o.setAttribute("bookmarkId",e,r)})}}function JO(n){const t=n.getSelectedElement();return t&&t.is("element","bookmark")?t:null}class B5 extends F{constructor(){super(...arguments);b(this,"_bookmarkElements",new Map)}static get pluginName(){return"BookmarkEditing"}static get isOfficialPlugin(){return!0}init(){const{editor:e}=this;this._defineSchema(),this._defineConverters(),e.commands.add("insertBookmark",new UAe(e)),e.commands.add("updateBookmark",new HAe(e)),this.listenTo(e.model.document,"change:data",()=>{this._trackBookmarkElements()})}getElementForBookmarkId(e){for(const[i,s]of this._bookmarkElements)if(s==e)return i;return null}_defineSchema(){this.editor.model.schema.register("bookmark",{inheritAllFrom:"$inlineObject",allowAttributes:"bookmarkId",disallowAttributes:["linkHref","htmlA"]})}_defineConverters(){const{editor:e}=this,{conversion:i,t:s}=e;e.data.htmlProcessor.domConverter.registerInlineObjectMatcher(r=>SE(r)),e.editing.view.domConverter.registerInlineObjectMatcher(r=>SE(r,!1)),i.for("dataDowncast").elementToElement({model:{name:"bookmark",attributes:["bookmarkId"]},view:(r,{writer:o})=>o.createEmptyElement("a",{id:r.getAttribute("bookmarkId")})}),i.for("editingDowncast").elementToElement({model:{name:"bookmark",attributes:["bookmarkId"]},view:(r,{writer:o})=>{const a=r.getAttribute("bookmarkId"),l=o.createContainerElement("a",{id:a,class:"ck-bookmark"},[this._createBookmarkUIElement(o)]);return this._bookmarkElements.set(r,a),al(l,o,{label:()=>`${a} ${s("bookmark widget")}`})}}),i.for("upcast").add(r=>r.on("element:a",$Ae(e)))}_createBookmarkUIElement(e){return e.createUIElement("span",{class:"ck-bookmark__icon"},function(i){const s=this.toDomElement(i),r=new vr;return r.set({content:me.bookmarkInline,isColorInherited:!1}),r.render(),s.appendChild(r.element),s})}_trackBookmarkElements(){this._bookmarkElements.forEach((e,i)=>{i.root.rootName==="$graveyard"&&this._bookmarkElements.delete(i)})}}function SE(n,t=!0){if(!(n.name==="a")||t&&!n.isEmpty)return null;const i=n.hasAttribute("id"),s=n.hasAttribute("name"),r=n.hasAttribute("href");return i&&!r?{name:!0,attributes:["id"]}:s&&!r?{name:!0,attributes:["name"]}:null}function $Ae(n){return(t,e,i)=>{const s=e.viewItem,r=SE(s,!1);if(!r||!i.consumable.test(s,r)||!WAe(n)&&!s.isEmpty)return;const a=i.writer,l=s.getAttribute("id"),u=s.getAttribute("name"),h=l||u,m=a.createElement("bookmark",{bookmarkId:h});if(!i.safeInsert(m,e.modelCursor))return;i.consumable.consume(s,r),l===u&&i.consumable.consume(s,{attributes:["name"]}),i.updateConversionResult(m,e);const{modelCursor:p,modelRange:v}=i.convertChildren(s,e.modelCursor);e.modelCursor=p,e.modelRange=a.createRange(e.modelRange.start,v.end)}}function WAe(n){const t=n.config.get("bookmark.enableNonEmptyAnchorConversion");return t!==void 0?t:!0}const go="bookmark-ui";class qAe extends F{constructor(){super(...arguments);b(this,"actionsView",null);b(this,"formView",null);b(this,"_balloon")}static get requires(){return[B5,Ki]}static get pluginName(){return"BookmarkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.editing.view.addObserver(Sj),this._balloon=e.plugins.get(Ki),this._createToolbarBookmarkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:go,view:{classes:["ck-fake-bookmark-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:go,view:(i,{writer:s})=>{if(!i.markerRange.isCollapsed)return null;const r=s.createUIElement("span");return s.addClass(["ck-fake-bookmark-selection","ck-fake-bookmark-selection_collapsed"],r),r}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new zAe(e.locale),s=e.commands.get("updateBookmark"),r=e.commands.get("delete");return i.bind("id").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.removeButtonView.bind("isEnabled").to(r),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"remove",()=>{this._hideUI(),e.execute("delete")}),i.keystrokes.set("Esc",(o,a)=>{this._hideUI(),a()}),i}_createFormView(){const e=this.editor,i=e.locale,s=e.commands.get("insertBookmark"),r=e.commands.get("updateBookmark"),o=[s,r],a=new(vf(FAe))(i,GAe(e));return a.idInputView.fieldView.bind("value").to(r,"value"),a.idInputView.bind("isEnabled").toMany(o,"isEnabled",(...l)=>l.some(u=>u)),a.buttonView.bind("isEnabled").toMany(o,"isEnabled",(...l)=>l.some(u=>u)),this.listenTo(a,"submit",()=>{if(a.isValid()){const l=a.id;this._getSelectedBookmarkElement()?e.execute("updateBookmark",{bookmarkId:l}):e.execute("insertBookmark",{bookmarkId:l}),this._closeFormView()}}),this.listenTo(a.idInputView,"change:errorText",()=>{e.ui.update()}),a.keystrokes.set("Esc",(l,u)=>{this._closeFormView(),u()}),a}_createToolbarBookmarkButton(){const e=this.editor;e.ui.componentFactory.add("bookmark",()=>{const i=this._createButton(Le);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:bookmark",()=>this._createButton(Rt))}_createButton(e){const i=this.editor,s=i.locale,r=new e(s),o=i.commands.get("insertBookmark"),a=i.commands.get("updateBookmark"),l=s.t;return r.set({label:l("Bookmark"),icon:me.bookmark}),this.listenTo(r,"execute",()=>this._showUI(!0)),r.bind("isEnabled").toMany([o,a],"isEnabled",(...u)=>u.some(h=>h)),r.bind("isOn").to(a,"value",u=>!!u),r}_enableBalloonActivators(){const i=this.editor.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedBookmarkElement()&&this._showUI()})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),so({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_updateFormButtonLabel(e){const i=this.editor.locale.t;this.formView.buttonView.label=i(e?"Update":"Insert")}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("updateBookmark");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.idInputView.fieldView.value=i.value||"",this._balloon.visibleView===this.formView&&this.formView.idInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){this.editor.commands.get("updateBookmark").value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.buttonView.focus(),this.formView.idInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedBookmarkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let s=this._getSelectedBookmarkElement(),r=a();this._updateFormButtonLabel(!!s);const o=()=>{const l=this._getSelectedBookmarkElement(),u=a();s&&!l||!s&&u!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),this._updateFormButtonLabel(!!s),s=l,r=u};function a(){return i.selection.focus.getAncestors().reverse().find(l=>l.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model;let s;const r=this._getSelectedBookmarkElement();if(i.markers.has(go)){const o=Array.from(this.editor.editing.mapper.markerNameToElements(go)),a=e.createRange(e.createPositionBefore(o[0]),e.createPositionAfter(o[o.length-1]));s=e.domConverter.viewRangeToDom(a)}else r&&(s=()=>{const o=this.editor.editing.mapper,a=e.domConverter,l=o.toViewElement(r);return a.mapViewToDom(l)});return s&&{target:s}}_getSelectedBookmarkElement(){const i=this.editor.model.document.selection.getSelectedElement();return i&&i.is("element","bookmark")?i:null}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const s=e.document.selection.getFirstRange();if(e.markers.has(go))i.updateMarker(go,{range:s});else if(s.start.isAtEnd){const r=s.start.getLastMatchingPosition(({item:o})=>!e.schema.isContent(o),{boundaries:s});i.addMarker(go,{usingOperation:!1,affectsData:!1,range:i.createRange(r,s.end)})}else i.addMarker(go,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(go)&&e.change(i=>{i.removeMarker(go)})}}function GAe(n){const{t}=n,e=n.plugins.get(B5);return[i=>{if(!i.id)return t("Bookmark must not be empty.")},i=>{if(i.id&&/\s/.test(i.id))return t("Bookmark name cannot contain space characters.")},i=>{const s=n.model.document.selection.getSelectedElement(),r=e.getElementForBookmarkId(i.id);if(s!==r&&r)return t("Bookmark name already exists.")}]}class YAe extends F{static get pluginName(){return"Bookmark"}static get requires(){return[B5,qAe,Go]}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class lp extends Wo{constructor(e){super(e);b(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const i=this.document;this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"});function s(r){return(o,a)=>{a.preventDefault();const l=a.dropRange?[a.dropRange]:null,u=new Ga(i,r);i.fire(u,{dataTransfer:a.dataTransfer,method:o.name,targetRanges:l,target:a.target,domEvent:a.domEvent}),u.stop.called&&a.stopPropagation()}}}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",r={dataTransfer:new Kz(i,{cacheFiles:s})};if(e.type=="drop"||e.type=="dragover"){const o=Tz(e);r.dropRange=o&&this.view.domConverter.domRangeToView(o)}this.fire(e.type,e,r)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZAe(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function KAe(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length==1?" ":e).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const QO=["figcaption","li"],e7=["ol","ul"];function PU(n,t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return`
`;let e="",i=null;for(const s of t.getChildren())e+=XAe(s,i)+PU(n,s),i=s;if(t.is("rawElement")){const s=document.createElement("div");t.render(s,n),e+=OU(s)}return e}function OU(n){let t="";if(n.nodeType===Node.TEXT_NODE)return n.textContent;if(n.tagName==="BR")return`
`;for(const e of n.childNodes)t+=OU(e);return t}function XAe(n,t){return t?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||e7.includes(n.name)&&e7.includes(t.name)?`

`:!n.is("containerElement")&&!t.is("containerElement")?"":QO.includes(n.name)||QO.includes(t.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class mg extends F{constructor(){super(...arguments);b(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,s=r=>r.model.getSelectedContent(r.model.document.selection)){return this.editor.model.change(r=>{const o=r.model.document.selection;r.setSelection(i);const a=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,e),l=s(r),u=this._removeFakeMarkersInsideElement(r,l);for(const[h,m]of Object.entries(a)){u[h]||(u[h]=r.createRangeIn(l));for(const p of m)r.remove(p)}l.markers.clear();for(const[h,m]of Object.entries(u))l.markers.set(h,m);return r.setSelection(o),l})}_pasteMarkersIntoTransformedElement(e,i){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(r=>{const o=this._insertFakeMarkersElements(r,s),a=i(r),l=this._removeFakeMarkersInsideElement(r,a);for(const u of Object.values(o).flat())r.remove(u);for(const[u,h]of Object.entries(l))r.model.markers.has(u)||r.addMarker(u,{usingOperation:!0,affectsData:!0,range:h});return a})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of i)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const r=this._markersToCopy.get(e);this._markersToCopy.set(e,s),i(),r?this._markersToCopy.set(e,r):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!i)return!0;const{allowedActions:r}=s;return r==="all"||r.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,s){const r=this._getCopyableMarkersFromSelection(e,i,s);return this._insertFakeMarkersElements(e,r)}_getCopyableMarkersFromSelection(e,i,s){const r=Array.from(i.getRanges()),o=new Set(r.flatMap(l=>Array.from(e.model.markers.getMarkersIntersectingRange(l)))),a=l=>{if(!this._isMarkerCopyable(l.name,s))return!1;const{copyPartiallySelected:h}=this._getMarkerClipboardConfig(l.name);if(!h){const m=l.getRange();return r.some(p=>p.containsRange(m,!0))}return!0};return Array.from(o).filter(a).map(l=>({name:s==="dragstart"?this._getUniqueMarkerName(l.name):l.name,range:l.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([o,a])=>{if(!this._hasMarkerConfiguration(o))return[{name:o,range:a}];if(this._isMarkerCopyable(o,i)){const l=this._getMarkerClipboardConfig(o),u=s.markers.has(o)&&s.markers.get(o).getRange().root.rootName==="$graveyard";return(l.duplicateOnPaste||u)&&(o=this._getUniqueMarkerName(o)),[{name:o,range:a}]}return[]})}_insertFakeMarkersElements(e,i){const s={},r=i.flatMap(o=>{const{start:a,end:l}=o.range;return[{position:a,marker:o,type:"start"},{position:l,marker:o,type:"end"}]}).sort(({position:o},{position:a})=>o.isBefore(a)?1:-1);for(const{position:o,marker:a,type:l}of r){const u=e.createElement("$marker",{"data-name":a.name,"data-type":l});s[a.name]||(s[a.name]=[]),s[a.name].push(u),e.insert(u,o)}return s}_removeFakeMarkersInsideElement(e,i){const r=this._getAllFakeMarkersFromElement(e,i).reduce((o,a)=>{const l=a.markerElement&&e.createPositionBefore(a.markerElement);let u=o[a.name],h=!1;return u&&u.start&&u.end&&(this._getMarkerClipboardConfig(a.name).duplicateOnPaste?o[this._getUniqueMarkerName(a.name)]=o[a.name]:h=!0,u=null),h||(o[a.name]={...u,[a.type]:l}),a.markerElement&&e.remove(a.markerElement),o},{});return Pwe(r,o=>new ee(o.start||e.createPositionFromPath(i,[0]),o.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const s=Array.from(e.createRangeIn(i)).flatMap(({item:a})=>{if(!a.is("element","$marker"))return[];const l=a.getAttribute("data-name"),u=a.getAttribute("data-type");return[{markerElement:a,name:l,type:u}]}),r=[],o=[];for(const a of s)a.type==="end"&&(s.some(u=>u.name===a.name&&u.type==="start")||r.push({markerElement:null,name:a.name,type:"start"})),a.type==="start"&&(s.some(u=>u.name===a.name&&u.type==="end")||o.unshift({markerElement:null,name:a.name,type:"end"}));return[...r,...s,...o]}_getUniqueMarkerName(e){const i=e.split(":"),s=mi().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${s}`:`${i.join(":")}:${s}`}}class Ts extends F{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[mg]}init(){this.editor.editing.view.addObserver(lp),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,i){const s=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const r=s._copySelectedFragmentWithMarkers(i,e);this.fire("outputTransformation",{dataTransfer:t,content:r,method:i})})}_setupPasteDrop(){const t=this.editor,e=t.model,i=t.editing.view,s=i.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(s,"clipboardInput",(o,a)=>{a.method=="paste"&&!t.model.canEditAt(t.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(o,a)=>{const l=a.dataTransfer;let u;if(a.content)u=a.content;else{let p="";l.getData("text/html")?p=KAe(l.getData("text/html")):l.getData("text/plain")&&(p=ZAe(l.getData("text/plain"))),u=this.editor.data.htmlProcessor.toView(p)}const h=new Ga(this,"inputTransformation"),m=l.getData("application/ckeditor5-editor-id")||null;this.fire(h,{content:u,dataTransfer:l,sourceEditorId:m,targetRanges:a.targetRanges,method:a.method}),h.stop.called&&o.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,a)=>{if(a.content.isEmpty)return;const u=this.editor.data.toModel(a.content,"$clipboardHolder");u.childCount!=0&&(o.stop(),e.change(()=>{this.fire("contentInsertion",{content:u,method:a.method,sourceEditorId:a.sourceEditorId,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,a)=>{a.resultRange=r._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,s=t.editing.view.document,r=(o,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,e.selection,o.name)};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,a)=>{t.model.canEditAt(t.model.document.selection)?r(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const l=t.data.toView(a.content,{isClipboardPipeline:!0});s.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",PU(t.data.htmlProcessor.domConverter,a.content)),a.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),a.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}const _k=xc("px");class JAe extends ye{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",e=>!e)],style:{left:t.to("left",e=>_k(e)),top:t.to("top",e=>_k(e)),width:t.to("width",e=>_k(e))}}})}}class qb extends F{constructor(){super(...arguments);b(this,"removeDropMarkerDelayed",c5(()=>this.removeDropMarker(),40));b(this,"_updateDropMarkerThrottled",Mu(e=>this._updateDropMarker(e),40));b(this,"_reconvertMarkerThrottled",Mu(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0));b(this,"_dropTargetLineView",new JAe);b(this,"_domEmitter",new(us()));b(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,s,r,o,a){this.removeDropMarkerDelayed.cancel();const l=t7(this.editor,e,i,s,r,o,a);/* istanbul ignore next -- @preserve */if(l){if(a&&a.containsRange(l))return this.removeDropMarker();this._updateDropMarkerThrottled(l)}}getFinalDropRange(e,i,s,r,o,a){const l=t7(this.editor,e,i,s,r,o,a);return this.removeDropMarker(),l}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,s=i.model.markers;i.model.change(r=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||r.updateMarker("drop-target",{range:e}):r.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const s=this.toDomElement(i);return s.append("",i.createElement("span"),""),s})}_updateDropTargetLine(e){const i=this.editor.editing,s=e.start.nodeBefore,r=e.start.nodeAfter,o=e.start.parent,a=s?i.mapper.toViewElement(s):null,l=a?i.view.domConverter.mapViewToDom(a):null,u=r?i.mapper.toViewElement(r):null,h=u?i.view.domConverter.mapViewToDom(u):null,m=i.mapper.toViewElement(o);if(!m)return;const p=i.view.domConverter.mapViewToDom(m),v=this._getScrollableRect(m),{scrollX:_,scrollY:k}=Pe.window,C=l?new Xe(l):null,T=h?new Xe(h):null,S=new Xe(p).excludeScrollbarsAndBorders(),I=C?C.bottom:S.top,P=T?T.top:S.bottom,O=Pe.window.getComputedStyle(p),D=I<=P?(I+P)/2:P;if(v.top<D&&D<v.bottom){const N=S.left+parseFloat(O.paddingLeft),j=S.right-parseFloat(O.paddingRight),z=Math.max(N+_,v.left),J=Math.min(j+_,v.right);this._dropTargetLineView.set({isVisible:!0,left:z,top:D+k,width:J-z})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let s;if(this._scrollables.has(i))s=this._scrollables.get(i).domElement;else{const r=this.editor.editing.view.domConverter.mapViewToDom(e);s=e3e(r),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const o=new qp(s,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:s,resizeObserver:o})}return new Xe(s).excludeScrollbarsAndBorders()}}function t7(n,t,e,i,s,r,o){const a=n.model,l=n.editing.mapper;let h=n7(n,t);for(;h;){if(!r){if(a.schema.checkChild(h,"$text")){if(e){const m=e[0].start,p=l.toModelPosition(m);if(!o||Array.from(o.getItems({shallow:!0})).every(_=>a.schema.checkChild(p,_))){if(a.schema.checkChild(p,"$text"))return a.createRange(p);if(m)return Gb(n,n7(n,m.parent),i,s)}}}else if(a.schema.isInline(h))return Gb(n,h,i,s)}if(a.schema.isBlock(h))return Gb(n,h,i,s);if(a.schema.checkChild(h,"$block")){const m=Array.from(h.getChildren()).filter(_=>_.is("element")&&!QAe(n,_));let p=0,v=m.length;if(v==0)return a.createRange(a.createPositionAt(h,"end"));for(;p<v-1;){const _=Math.floor((p+v)/2);MU(n,m[_],i,s)=="before"?v=_:p=_}return Gb(n,m[p],i,s)}h=h.parent}return null}function QAe(n,t){const e=n.editing.mapper,i=n.editing.view.domConverter,s=e.toViewElement(t);if(!s)return!0;const r=i.mapViewToDom(s);return Pe.window.getComputedStyle(r).float!="none"}function Gb(n,t,e,i){const s=n.model;return s.createRange(s.createPositionAt(t,MU(n,t,e,i)))}function MU(n,t,e,i){const s=n.editing.mapper,r=n.editing.view.domConverter,o=s.toViewElement(t),a=r.mapViewToDom(o),l=new Xe(a);return n.model.schema.isInline(t)?e<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function n7(n,t){const e=n.editing.mapper,i=n.editing.view,s=e.toModelElement(t);if(s)return s;const r=i.createPositionBefore(t),o=e.findMappedViewAncestor(r);return e.toModelElement(o)}function e3e(n){let t=n;do{t=t.parentElement;const e=Pe.window.getComputedStyle(t).overflowY;if(e=="auto"||e=="scroll")break}while(t.tagName!="BODY");return t}class t3e extends F{constructor(){super(...arguments);b(this,"_isBlockDragging",!1);b(this,"_domEmitter",new(us()))}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,s,r)=>{r?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),Ge.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const s=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(s,"dragstart",(r,o)=>this._handleBlockDragStart(o)),this._domEmitter.listenTo(Pe.document,"dragover",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(Pe.document,"drop",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(Pe.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&s.setAttribute("draggable","true"),this.on("change:isEnabled",(r,o,a)=>{s.setAttribute("draggable",a?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,s=i.document.selection,r=this.editor.editing.view,o=Array.from(s.getSelectedBlocks()),a=i.createRange(i.createPositionBefore(o[0]),i.createPositionAfter(o[o.length-1]));i.change(l=>l.setSelection(a)),this._isBlockDragging=!0,r.focus(),r.getObserver(lp).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,r=document.elementFromPoint(i,s),o=this.editor.editing.view;!r||!r.closest(".ck-editor__editable")||o.getObserver(lp).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:r,clientX:i,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class n3e extends F{constructor(){super(...arguments);b(this,"_draggedRange");b(this,"_draggingUid");b(this,"_draggableElement");b(this,"_clearDraggableAttributesDelayed",c5(()=>this._clearDraggableAttributes(),40));b(this,"_blockMode",!1);b(this,"_domEmitter",new(us()));b(this,"_previewContainer")}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[Ts,Go,qb,t3e]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(lp),i.addObserver(vy),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,r,o)=>{o?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,r,o)=>{o||this._finalizeDragging(!1)}),Ge.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,s=e.editing.view,r=s.document,o=e.plugins.get(qb);this.listenTo(r,"dragstart",(a,l)=>{if(l.target&&l.target.is("editableElement")){l.preventDefault();return}if(this._prepareDraggedRange(l.target),!this._draggedRange){l.preventDefault();return}this._draggingUid=mi(),l.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",l.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const u=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(l.dataTransfer,u,"dragstart");const{dataTransfer:m,domTarget:p,domEvent:v}=l,{clientX:_}=v;this._updatePreview({dataTransfer:m,domTarget:p,clientX:_}),l.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(a,l)=>{this._finalizeDragging(!l.dataTransfer.isCanceled&&l.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Pe.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(r,"dragleave",()=>{o.removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(a,l)=>{if(!this.isEnabled){l.dataTransfer.dropEffect="none";return}const{clientX:u,clientY:h}=l.domEvent;o.updateDropMarker(l.target,l.targetRanges,u,h,this._blockMode,this._draggedRange),this._draggedRange||(l.dataTransfer.dropEffect="copy"),Ge.isGecko||(l.dataTransfer.effectAllowed=="copy"?l.dataTransfer.dropEffect="copy":["all","copyMove"].includes(l.dataTransfer.effectAllowed)&&(l.dataTransfer.dropEffect="move")),a.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,s=e.editing.view.document,r=e.plugins.get(qb);this.listenTo(s,"clipboardInput",(o,a)=>{if(a.method!="drop")return;const{clientX:l,clientY:u}=a.domEvent,h=r.getFinalDropRange(a.target,a.targetRanges,l,u,this._blockMode,this._draggedRange);if(!h){this._finalizeDragging(!1),o.stop();return}if(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),i7(a.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(h,!0)){this._finalizeDragging(!1),o.stop();return}a.targetRanges=[e.editing.mapper.toViewRange(h)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ts);e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const r=s.targetRanges.map(o=>this.editor.editing.mapper.toModelRange(o));this.editor.model.change(o=>o.setSelection(r))},{priority:"high"}),e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const r=i7(s.dataTransfer)=="move",o=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(o&&r)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,s=i.document;this.listenTo(s,"mousedown",(r,o)=>{if(Ge.isAndroid||!o)return;this._clearDraggableAttributesDelayed.cancel();let a=s7(o.target);if(Ge.isBlink&&!e.isReadOnly&&!a&&!s.selection.isCollapsed){const l=s.selection.getSelectedElement();(!l||!Un(l))&&(a=s.selection.editableElement)}a&&(i.change(l=>{l.setAttribute("draggable","true",a)}),this._draggableElement=e.editing.mapper.toModelElement(a))}),this.listenTo(s,"mouseup",()=>{Ge.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,s=i.model;i.plugins.get(qb).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(o=>{const a=s.createSelection(this._draggedRange);s.deleteContent(a,{doNotAutoparagraph:!0});const l=a.getFirstPosition().parent;l.isEmpty&&!s.schema.checkChild(l,"$text")&&s.schema.checkChild(l,"paragraph")&&o.insertElement("paragraph",l,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,s=i.model,r=s.document.selection,o=e?s7(e):null;if(o){const h=i.editing.mapper.toModelElement(o);this._draggedRange=ns.fromRange(s.createRangeOn(h)),this._blockMode=s.schema.isBlock(h),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;const a=Array.from(r.getSelectedBlocks()),l=r.getFirstRange();if(a.length==0){this._draggedRange=ns.fromRange(l);return}const u=DU(s,a);if(a.length>1)this._draggedRange=ns.fromRange(u),this._blockMode=!0;else if(a.length==1){const h=l.start.isTouching(u.start)&&l.end.isTouching(u.end);this._draggedRange=ns.fromRange(h?u:l),this._blockMode=h}s.change(h=>h.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:s}){const r=this.editor.editing.view,o=r.document.selection.editableElement,a=r.domConverter.mapViewToDom(o),l=Pe.window.getComputedStyle(a);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Ei(Pe.document,"div",{style:"position: fixed; left: -999999px;"}),Pe.document.body.appendChild(this._previewContainer));const u=new Xe(a);if(a.contains(i))return;const h=parseFloat(l.paddingLeft),m=Ei(Pe.document,"div");m.className="ck ck-content",m.style.width=l.width,m.style.paddingLeft=`${u.left-s+h}px`,Ge.isiOS&&(m.style.backgroundColor="white"),r.domConverter.setContentOf(m,e.getData("text/html")),e.setDragImage(m,0,0),this._previewContainer.appendChild(m)}}function i7(n){return Ge.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function s7(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(Un);if(Un(n))return n;const t=n.findAncestor(e=>Un(e)||e.is("editableElement"));return Un(t)?t:null}function DU(n,t){const e=t[0],i=t[t.length-1],s=e.getCommonAncestor(i),r=n.createPositionBefore(e),o=n.createPositionAfter(i);if(s&&s.is("element")&&!n.schema.isLimit(s)){const a=n.createRangeOn(s),l=r.isTouching(a.start),u=o.isTouching(a.end);if(l&&u)return DU(n,[s])}return n.createRange(r,o)}class i3e extends F{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[Ts]}init(){const t=this.editor,e=t.model,i=t.editing.view,s=e.document.selection;i.addObserver(lp),t.plugins.get(Ts).on("contentInsertion",(r,o)=>{s3e(o.content,e)&&e.change(a=>{const l=Array.from(s.getAttributes()).filter(([h])=>e.schema.getAttributeProperties(h).isFormatting);s.isCollapsed||e.deleteContent(s,{doNotAutoparagraph:!0}),l.push(...s.getAttributes());const u=a.createRangeIn(o.content);for(const h of u.getItems())for(const m of l)e.schema.checkAttribute(h,m[0])&&a.setAttribute(m[0],m[1],h)})})}}function s3e(n,t){let e=t.createRangeIn(n);if(n.childCount==1){const i=n.getChild(0);i.is("element")&&t.schema.isBlock(i)&&!t.schema.isObject(i)&&!t.schema.isLimit(i)&&(e=t.createRangeIn(i))}for(const i of e.getItems())if(!t.schema.isInline(i)||Array.from(i.getAttributeKeys()).find(r=>t.schema.getAttributeProperties(r).isFormatting))return!1;return!0}class F5 extends F{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[mg,Ts,n3e,i3e]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bv(n){const t=n.t,e=n.config.get("codeBlock.languages");for(const i of e)i.label==="Plain text"&&(i.label=t("Plain text")),i.class===void 0&&(i.class=`language-${i.language}`);return e}function Fv(n,t,e){const i={};for(const s of n)if(t==="class"){const r=s[t].split(" ").shift();i[r]=s[e]}else i[s[t]]=s[e];return i}function z5(n){return n.data.match(/^(\s*)/)[0]}function r3e(n,t){const e=n.createDocumentFragment(),i=t.split(`
`),s=i.reduce((r,o,a)=>(r.push(o),a<i.length-1&&r.push(n.createElement("br")),r),[]);return n.appendChild(s,e),e}function AE(n){const t=n.document.selection,e=[];if(t.isCollapsed)return[t.anchor];const i=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:s}of i){let r=s.is("$textProxy")?s.textNode:s;const o=r.parent;if(!o.is("element","codeBlock")||r.is("element","softBreak"))continue;for(;r.previousSibling&&!r.previousSibling.is("element","softBreak");)r=r.previousSibling;const a=r.is("$text")?r.startOffset+z5(r).length:r.startOffset,l=n.createPositionAt(o,a);e.every(u=>!u.isEqual(l))&&e.push(l)}return e}function VU(n){const t=Qt(n.getSelectedBlocks());return!!t&&t.is("element","codeBlock")}function r7(n,t){return t.is("rootElement")||n.isLimit(t)?!1:n.checkChild(t.parent,"codeBlock")}function o7(n,t,e,i){const s=Fv(t,"language","label"),r=e.getAttribute("language");if(r in s){const o=s[r];return n(i==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",o)}return n(i==="enter"?"Entering code snippet":"Leaving code snippet")}function NU(n,t){for(n.textNode&&(n=t.createPositionBefore(n.textNode));n.nodeBefore&&!n.nodeBefore.is("element","softBreak");)n=t.createPositionBefore(n.nodeBefore);const e=n.nodeAfter;return e&&e.is("$text")?e:null}class o3e extends je{constructor(e){super(e);b(this,"_lastLanguage");this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor,s=i.model,r=s.document.selection,a=Bv(i)[0],l=Array.from(r.getSelectedBlocks()),u=e.forceValue==null?!this.value:e.forceValue,h=a3e(e,this._lastLanguage,a.language);s.change(m=>{u?this._applyCodeBlock(m,l,h):this._removeCodeBlock(m,l)})}_getValue(){const e=this.editor.model.document.selection,i=Qt(e.getSelectedBlocks());return!!(i&&i.is("element","codeBlock"))?i.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,s=Qt(e.getSelectedBlocks());return s?r7(i,s):!1}_applyCodeBlock(e,i,s){this._lastLanguage=s;const r=this.editor.model.schema,o=i.filter(a=>r7(r,a));for(const a of o)e.rename(a,"codeBlock"),e.setAttribute("language",s,a),r.removeDisallowedAttributes([a],e),Array.from(a.getChildren()).filter(l=>!r.checkChild(a,l)).forEach(l=>e.remove(l));o.reverse().forEach((a,l)=>{const u=o[l+1];a.previousSibling===u&&(e.appendElement("softBreak",u),e.merge(e.createPositionBefore(a)))})}_removeCodeBlock(e,i){const s=i.filter(r=>r.is("element","codeBlock"));for(const r of s){const o=e.createRangeOn(r);for(const a of Array.from(o.getItems()).reverse())if(a.is("element","softBreak")&&a.parent.is("element","codeBlock")){const{position:l}=e.split(e.createPositionBefore(a)),u=l.nodeAfter;e.rename(u,"paragraph"),e.removeAttribute("language",u),e.remove(a)}e.rename(r,"paragraph"),e.removeAttribute("language",r)}}}function a3e(n,t,e){return n.language?n.language:n.usePreviousLanguageChoice&&t?t:e}class l3e extends je{constructor(e){super(e);b(this,"_indentSequence");this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(s=>{const r=AE(i);for(const o of r){const a=s.createText(this._indentSequence);i.insertContent(a,o)}})}_checkEnabled(){return this._indentSequence?VU(this.editor.model.document.selection):!1}}class c3e extends je{constructor(e){super(e);b(this,"_indentSequence");this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(()=>{const s=AE(i);for(const r of s){const o=a7(i,r,this._indentSequence);o&&i.deleteContent(i.createSelection(o))}})}_checkEnabled(){if(!this._indentSequence)return!1;const e=this.editor.model;return VU(e.document.selection)?AE(e).some(i=>a7(e,i,this._indentSequence)):!1}}function a7(n,t,e){const i=NU(t,n);if(!i)return null;const s=z5(i),r=s.lastIndexOf(e);if(r+e.length!==s.length||r===-1)return null;const{parent:o,startOffset:a}=i;return n.createRange(n.createPositionAt(o,a+r),n.createPositionAt(o,a+r+e.length))}function l7(n,t,e=!1){const i=Fv(t,"language","class"),s=Fv(t,"language","label");return(r,o,a)=>{const{writer:l,mapper:u,consumable:h}=a;if(!h.consume(o.item,"insert"))return;const m=o.item.getAttribute("language"),p=u.toViewPosition(n.createPositionBefore(o.item)),v={};e&&(v["data-language"]=s[m],v.spellcheck="false");const _=i[m]?{class:i[m]}:void 0,k=l.createContainerElement("code",_),C=l.createContainerElement("pre",v,k);l.insert(p,C),u.bindElements(o.item,k)}}function u3e(n){return(t,e,i)=>{if(e.item.parent.name!=="codeBlock")return;const{writer:s,mapper:r,consumable:o}=i;if(!o.consume(e.item,"insert"))return;const a=r.toViewPosition(n.createPositionBefore(e.item));s.insert(a,s.createText(`
`))}}function d3e(n,t){const e=Fv(t,"class","language"),i=t[0].language;return(s,r,o)=>{const a=r.viewItem,l=a.parent;if(!l||!l.is("element","pre")||r.modelCursor.findAncestor("codeBlock"))return;const{consumable:u,writer:h}=o;if(!u.test(a,{name:!0}))return;const m=h.createElement("codeBlock"),p=[...a.getClassNames()];p.length||p.push("");for(const v of p){const _=e[v];if(_){h.setAttribute("language",_,m);break}}m.hasAttribute("language")||h.setAttribute("language",i,m),o.convertChildren(a,m),o.safeInsert(m,r.modelCursor)&&(u.consume(a,{name:!0}),o.updateConversionResult(m,r))}}function h3e(){return(n,t,{consumable:e,writer:i})=>{let s=t.modelCursor;if(!e.test(t.viewItem)||!s.findAncestor("codeBlock"))return;e.consume(t.viewItem);const o=t.viewItem.data.split(`
`).map(l=>i.createText(l)),a=o[o.length-1];for(const l of o)if(i.insert(l,s),s=s.getShiftedBy(l.offsetSize),l!==a){const u=i.createElement("softBreak");i.insert(u,s),s=i.createPositionAfter(u)}t.modelRange=i.createRange(t.modelCursor,s),t.modelCursor=s}}function f3e(){return(n,t,{consumable:e})=>{const i=t.viewItem;if(i.findAncestor("pre"))return;const s=Array.from(i.getChildren()),r=s.find(o=>o.is("element","code"));if(r)for(const o of s)o===r||!o.is("$text")||e.consume(o,{name:!0})}}const LU="paragraph";class m3e extends F{static get pluginName(){return"CodeBlockEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[TU]}constructor(t){super(t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const t=this.editor,e=t.model.schema,i=t.model,s=t.editing.view,r=Bv(t);t.commands.add("codeBlock",new o3e(t)),t.commands.add("indentCodeBlock",new l3e(t)),t.commands.add("outdentCodeBlock",new c3e(t)),this.listenTo(s.document,"tab",(o,a)=>{const l=a.shiftKey?"outdentCodeBlock":"indentCodeBlock";t.commands.get(l).isEnabled&&(t.execute(l),a.stopPropagation(),a.preventDefault(),o.stop())},{context:"pre"}),e.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),e.addAttributeCheck((o,a)=>{const l=o.getItem(o.length-2);if(e.getAttributeProperties(a).isFormatting&&l&&l.name=="codeBlock")return!1}),t.editing.downcastDispatcher.on("insert:codeBlock",l7(i,r,!0)),t.data.downcastDispatcher.on("insert:codeBlock",l7(i,r)),t.data.downcastDispatcher.on("insert:softBreak",u3e(i),{priority:"high"}),t.data.upcastDispatcher.on("element:code",d3e(s,r)),t.data.upcastDispatcher.on("text",h3e()),t.data.upcastDispatcher.on("element:pre",f3e(),{priority:"high"}),this.listenTo(t.editing.view.document,"clipboardInput",(o,a)=>{let l=i.createRange(i.document.selection.anchor);if(a.targetRanges&&(l=t.editing.mapper.toModelRange(a.targetRanges[0])),!l.start.parent.is("element","codeBlock"))return;const u=a.dataTransfer.getData("text/plain"),h=new Ys(t.editing.view.document);a.content=r3e(h,u)}),t.plugins.has("ClipboardPipeline")&&t.plugins.get(Ts).on("contentInsertion",(o,a)=>{const l=t.model,u=l.document.selection;u.anchor.parent.is("element","codeBlock")&&l.change(h=>{const m=h.createRangeIn(a.content);for(const p of[...m.getItems()])p.is("node")&&!e.checkChild(u.anchor,p)&&h.remove(p)})}),this.listenTo(i,"getSelectedContent",(o,[a])=>{const l=a.anchor;a.isCollapsed||!l.parent.is("element","codeBlock")||!l.hasSameParentAs(a.focus)||i.change(u=>{const h=o.return;if(l.parent.is("element")&&(h.childCount>1||a.containsEntireContent(l.parent))){const p=u.createElement("codeBlock",l.parent.getAttributes());u.append(h,p);const v=u.createDocumentFragment();u.append(p,v),o.return=v;return}const m=h.getChild(0);e.checkAttribute(m,"code")&&u.setAttribute("code",!0,m)})})}afterInit(){const t=this.editor,e=t.commands,i=e.get("indent"),s=e.get("outdent");i&&i.registerChildCommand(e.get("indentCodeBlock"),{priority:"highest"}),s&&s.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",(r,o)=>{t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!p3e(t,o.isSoft)&&!b3e(t,o.isSoft)&&g3e(t),o.preventDefault(),r.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor,s=Bv(this.editor);let r=null;t.document.selection.on("change:range",()=>{const o=t.document.selection.focus.parent;!e||r===o||!o.is("element")||(r&&r.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(o7(i,s,r,"leave")),o.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(o7(i,s,o,"enter")),r=o)})}}function g3e(n){const t=n.model,e=t.document,i=e.selection.getLastPosition();let s;const r=NU(i,t);r&&r.is("$text")&&(s=z5(r)),n.model.change(o=>{n.execute("shiftEnter"),s&&o.insertText(s,e.selection.anchor)})}function p3e(n,t){const i=n.model.document,s=n.editing.view,r=i.selection.getLastPosition(),o=r.nodeAfter;return t||!i.selection.isCollapsed||!r.isAtStart||!su(o)?!1:(n.model.change(a=>{n.execute("enter");const l=i.selection.anchor.parent.previousSibling;a.rename(l,LU),a.setSelection(l,"in"),n.model.schema.removeDisallowedAttributes([l],a),a.remove(o)}),s.scrollToTheSelection(),!0)}function b3e(n,t){const e=n.model,i=e.document,s=n.editing.view,r=i.selection.getLastPosition(),o=r.nodeBefore;let a;if(t||!i.selection.isCollapsed||!r.isAtEnd||!o||!o.previousSibling)return!1;if(su(o)&&su(o.previousSibling))a=e.createRange(e.createPositionBefore(o.previousSibling),e.createPositionAfter(o));else if(xk(o)&&su(o.previousSibling)&&su(o.previousSibling.previousSibling))a=e.createRange(e.createPositionBefore(o.previousSibling.previousSibling),e.createPositionAfter(o));else if(xk(o)&&su(o.previousSibling)&&xk(o.previousSibling.previousSibling)&&o.previousSibling.previousSibling&&su(o.previousSibling.previousSibling.previousSibling))a=e.createRange(e.createPositionBefore(o.previousSibling.previousSibling.previousSibling),e.createPositionAfter(o));else return!1;return n.model.change(l=>{l.remove(a),n.execute("enter");const u=i.selection.anchor.parent;l.rename(u,LU),n.model.schema.removeDisallowedAttributes([u],l)}),s.scrollToTheSelection(),!0}function xk(n){return n&&n.is("$text")&&!n.data.match(/\S/)}function su(n){return n&&n.is("element","softBreak")}class v3e extends F{static get pluginName(){return"CodeBlockUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=t.ui.componentFactory,s=Bv(t),r=this._getLanguageListItemDefinitions(s),o=t.commands.get("codeBlock");i.add("codeBlock",a=>{const l=Wn(a,Wu),u=l.buttonView,h=e("Insert code block");return u.set({label:h,tooltip:!0,icon:me.codeBlock,isToggleable:!0}),u.bind("isOn").to(o,"value",m=>!!m),u.on("execute",()=>{t.execute("codeBlock",{usePreviousLanguageChoice:!0}),t.editing.view.focus()}),l.on("execute",m=>{t.execute("codeBlock",{language:m.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(o),ro(l,r,{role:"menu",ariaLabel:h}),l}),i.add("menuBar:codeBlock",a=>{const l=new Yi(a);l.buttonView.set({role:"menuitem",label:e("Code block"),icon:me.codeBlock}),l.bind("isEnabled").to(o);const u=new No(a);u.set({ariaLabel:e("Insert code block")});for(const h of r){const m=new Jr(a,l),p=new Rt(a);p.bind(...Object.keys(h.model)).to(h.model),p.set({isToggleable:!0,role:"menuitemcheckbox"}),p.delegate("execute").to(l),p.on("execute",()=>{t.execute("codeBlock",{language:h.model._codeBlockLanguage,forceValue:o.value!=h.model._codeBlockLanguage}),t.editing.view.focus()}),m.children.add(p),u.items.add(m)}return l.panelView.children.add(u),l})}_getLanguageListItemDefinitions(t){const i=this.editor.commands.get("codeBlock"),s=new kn;for(const r of t){const o={type:"button",model:new wr({_codeBlockLanguage:r.language,label:r.label,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(i,"value",a=>a===o.model._codeBlockLanguage),s.add(o)}return s}}class w3e extends F{static get requires(){return[m3e,v3e]}static get pluginName(){return"CodeBlock"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class y3e extends wSe{constructor(e,i){super(e);b(this,"view");b(this,"_toolbarConfig");b(this,"_elementReplacer");this.view=i,this._toolbarConfig=xy(e.config.get("toolbar")),this._elementReplacer=new yz,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,s=this.view,r=i.editing.view,o=s.editable,a=r.document.getRoot();o.name=a.rootName,s.render();const l=o.element;this.setEditableElement(o.name,l),s.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(l),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&this._initMenuBar(s.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.getDomRoot(e.editable.name)&&i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,s=i.document.getRoot(),r=e.sourceElement;let o;const a=e.config.get("placeholder");a&&(o=typeof a=="string"?a:a[this.view.editable.name]),!o&&r&&r.tagName.toLowerCase()==="textarea"&&(o=r.getAttribute("placeholder")),o&&(s.placeholder=o),fy({view:i,element:s,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,i=this.editor.plugins.get("ContextualBalloon");i.on("getPositionOptions",r=>{const o=r.return;if(!o||!e.isSticky||!e.element)return;const a=new Xe(e.element).height,l=typeof o.target=="function"?o.target():o.target,u=typeof o.limiter=="function"?o.limiter():o.limiter;if(l&&u&&new Xe(l).height>=new Xe(u).height-a)return;const h={...o.viewportOffsetConfig},m=(h.top||0)+a;r.return={...o,viewportOffsetConfig:{...h,top:m}}},{priority:"low"});const s=()=>{i.visibleView&&i.updatePosition()};this.listenTo(e,"change:isSticky",s),this.listenTo(this.editor.ui,"change:viewportOffset",s)}_handleScrollToTheSelectionWithStickyPanel(e,i,s){const r=this.view.stickyPanel;if(r.isSticky){const o=new Xe(r.element).height;i.viewportOffset.top+=o}else{const o=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(r,"change:isSticky",o),setTimeout(()=>{this.stopListening(r,"change:isSticky",o)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const s=i.view;s.on("moveTo",(r,o)=>{if(!e.isSticky||s.wasMoved||s.isModal)return;const a=new Xe(e.contentPanelElement);o[1]<a.bottom+rp.defaultOffset&&(o[1]=a.bottom+rp.defaultOffset)},{priority:"high"})},{priority:"low"})}}class _3e extends _Se{constructor(e,i,s={}){super(e);b(this,"stickyPanel");b(this,"toolbar");b(this,"editable");this.stickyPanel=new TSe(e),this.toolbar=new dc(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new BSe(e)),this.editable=new kSe(e,i,void 0,{label:s.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class x3e extends vE(oCe){constructor(e,i={}){if(!x1(e)&&i.initialData!==void 0)throw new L("editor-create-initial-data",null);super(i);b(this,"ui");this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",k3e(e)),x1(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=this.config.get("menuBar"),o=new _3e(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:r.isVisible,label:this.config.get("label")});this.ui=new y3e(this,o),lCe(this)}static get editorName(){return"ClassicEditor"}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(s=>{const r=new this(e,i);s(r.initPlugins().then(()=>r.ui.init(x1(e)?e:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}}function k3e(n){return x1(n)?mye(n):n}function x1(n){return qa(n)}var k1={exports:{}},C3e=k1.exports,c7;function E3e(){return c7||(c7=1,function(n){((t,e)=>{n.exports?n.exports=e():t.fuzzysort=e()})(C3e,t=>{var e=(H,q)=>{if(!H||!q)return M;var Q=_(H);Y(q)||(q=v(q));var se=Q.bitflags;return(se&q._bitflags)!==se?M:C(Q,q)},i=(H,q,Q)=>{if(!H)return Q!=null&&Q.all?k(q,Q):re;var se=_(H),ue=se.bitflags,de=se.containsSpace,ie=m((Q==null?void 0:Q.threshold)||0),Ee=(Q==null?void 0:Q.limit)||we,ke=0,Ze=0,tt=q.length;function Kt(qn){ke<Ee?(Fe.add(qn),++ke):(++Ze,qn._score>Fe.peek()._score&&Fe.replaceTop(qn))}if(Q!=null&&Q.key)for(var Bt=Q.key,rt=0;rt<tt;++rt){var B=q[rt],$=Ae(B,Bt);if($&&(Y($)||($=v($)),(ue&$._bitflags)===ue)){var K=C(se,$);K!==M&&(K._score<ie||(K.obj=B,Kt(K)))}}else if(Q!=null&&Q.keys){var Ie=Q.keys,Te=Ie.length;e:for(var rt=0;rt<tt;++rt){var B=q[rt];{for(var pe=0,Z=0;Z<Te;++Z){var Bt=Ie[Z],$=Ae(B,Bt);if(!$){xe[Z]=oe;continue}Y($)||($=v($)),xe[Z]=$,pe|=$._bitflags}if((ue&pe)!==ue)continue}if(de)for(let Tt=0;Tt<se.spaceSearches.length;Tt++)_e[Tt]=ne;for(var Z=0;Z<Te;++Z){if($=xe[Z],$===oe){be[Z]=oe;continue}if(be[Z]=C(se,$,!1,de),be[Z]===M){be[Z]=oe;continue}if(de)for(let yt=0;yt<se.spaceSearches.length;yt++){if(ae[yt]>-1e3&&_e[yt]>ne){var ge=(_e[yt]+ae[yt])/4;ge>_e[yt]&&(_e[yt]=ge)}ae[yt]>_e[yt]&&(_e[yt]=ae[yt])}}if(de){for(let Tt=0;Tt<se.spaceSearches.length;Tt++)if(_e[Tt]===ne)continue e}else{var Me=!1;for(let Tt=0;Tt<Te;Tt++)if(be[Tt]._score!==ne){Me=!0;break}if(!Me)continue}var nt=new l(Te);for(let Tt=0;Tt<Te;Tt++)nt[Tt]=be[Tt];if(de){var ct=0;for(let Tt=0;Tt<se.spaceSearches.length;Tt++)ct+=_e[Tt]}else{var ct=ne;for(let yt=0;yt<Te;yt++){var K=nt[yt];if(K._score>-1e3&&ct>ne){var ge=(ct+K._score)/4;ge>ct&&(ct=ge)}K._score>ct&&(ct=K._score)}}if(nt.obj=B,nt._score=ct,Q!=null&&Q.scoreFn){if(ct=Q.scoreFn(nt),!ct)continue;ct=m(ct),nt._score=ct}ct<ie||Kt(nt)}}else for(var rt=0;rt<tt;++rt){var $=q[rt];if($&&(Y($)||($=v($)),(ue&$._bitflags)===ue)){var K=C(se,$);K!==M&&(K._score<ie||Kt(K))}}if(ke===0)return re;for(var gi=new Array(ke),rt=ke-1;rt>=0;--rt)gi[rt]=Fe.poll();return gi.total=ke+Ze,gi},s=(H,q="<b>",Q="</b>")=>{for(var se=typeof q=="function"?q:void 0,ue=H.target,de=ue.length,ie=H.indexes,Ee="",ke=0,Ze=0,tt=!1,Kt=[],Bt=0;Bt<de;++Bt){var rt=ue[Bt];if(ie[Ze]===Bt){if(++Ze,tt||(tt=!0,se?(Kt.push(Ee),Ee=""):Ee+=q),Ze===ie.length){se?(Ee+=rt,Kt.push(se(Ee,ke++)),Ee="",Kt.push(ue.substr(Bt+1))):Ee+=rt+Q+ue.substr(Bt+1);break}}else tt&&(tt=!1,se?(Kt.push(se(Ee,ke++)),Ee=""):Ee+=Q);Ee+=rt}return se?Kt:Ee},r=H=>{typeof H=="number"?H=""+H:typeof H!="string"&&(H="");var q=I(H);return u(H,{_targetLower:q._lower,_targetLowerCodes:q.lowerCodes,_bitflags:q.bitflags})},o=()=>{D.clear(),N.clear()};class a{get indexes(){return this._indexes.slice(0,this._indexes.len).sort((q,Q)=>q-Q)}set indexes(q){return this._indexes=q}highlight(q,Q){return s(this,q,Q)}get score(){return h(this._score)}set score(q){this._score=m(q)}}class l extends Array{get score(){return h(this._score)}set score(q){this._score=m(q)}}var u=(H,q)=>{const Q=new a;return Q.target=H,Q.obj=q.obj??M,Q._score=q._score??ne,Q._indexes=q._indexes??[],Q._targetLower=q._targetLower??"",Q._targetLowerCodes=q._targetLowerCodes??M,Q._nextBeginningIndexes=q._nextBeginningIndexes??M,Q._bitflags=q._bitflags??0,Q},h=H=>H===ne?0:H>1?H:Math.E**(((-H+1)**.04307-1)*-2),m=H=>H===0?ne:H>1?H:1-Math.pow(Math.log(H)/-2+1,1/.04307),p=H=>{typeof H=="number"?H=""+H:typeof H!="string"&&(H=""),H=H.trim();var q=I(H),Q=[];if(q.containsSpace){var se=H.split(/\s+/);se=[...new Set(se)];for(var ue=0;ue<se.length;ue++)if(se[ue]!==""){var de=I(se[ue]);Q.push({lowerCodes:de.lowerCodes,_lower:se[ue].toLowerCase(),containsSpace:!1})}}return{lowerCodes:q.lowerCodes,_lower:q._lower,containsSpace:q.containsSpace,bitflags:q.bitflags,spaceSearches:Q}},v=H=>{if(H.length>999)return r(H);var q=D.get(H);return q!==void 0||(q=r(H),D.set(H,q)),q},_=H=>{if(H.length>999)return p(H);var q=N.get(H);return q!==void 0||(q=p(H),N.set(H,q)),q},k=(H,q)=>{var Q=[];Q.total=H.length;var se=(q==null?void 0:q.limit)||we;if(q!=null&&q.key)for(var ue=0;ue<H.length;ue++){var de=H[ue],ie=Ae(de,q.key);if(ie!=M){Y(ie)||(ie=v(ie));var Ee=u(ie.target,{_score:ie._score,obj:de});if(Q.push(Ee),Q.length>=se)return Q}}else if(q!=null&&q.keys)for(var ue=0;ue<H.length;ue++){for(var de=H[ue],ke=new l(q.keys.length),Ze=q.keys.length-1;Ze>=0;--Ze){var ie=Ae(de,q.keys[Ze]);if(!ie){ke[Ze]=oe;continue}Y(ie)||(ie=v(ie)),ie._score=ne,ie._indexes.len=0,ke[Ze]=ie}if(ke.obj=de,ke._score=ne,Q.push(ke),Q.length>=se)return Q}else for(var ue=0;ue<H.length;ue++){var ie=H[ue];if(ie!=M&&(Y(ie)||(ie=v(ie)),ie._score=ne,ie._indexes.len=0,Q.push(ie),Q.length>=se))return Q}return Q},C=(H,q,Q=!1,se=!1)=>{if(Q===!1&&H.containsSpace)return T(H,q,se);for(var ue=H._lower,de=H.lowerCodes,ie=de[0],Ee=q._targetLowerCodes,ke=de.length,Ze=Ee.length,rt=0,tt=0,Kt=0;;){var Bt=ie===Ee[tt];if(Bt){if(j[Kt++]=tt,++rt,rt===ke)break;ie=de[rt]}if(++tt,tt>=Ze)return M}var rt=0,B=!1,$=0,K=q._nextBeginningIndexes;K===M&&(K=q._nextBeginningIndexes=O(q.target)),tt=j[0]===0?0:K[j[0]-1];var Ie=0;if(tt!==Ze)for(;;)if(tt>=Ze){if(rt<=0||(++Ie,Ie>200))break;--rt;var Te=z[--$];tt=K[Te]}else{var Bt=de[rt]===Ee[tt];if(Bt){if(z[$++]=tt,++rt,rt===ke){B=!0;break}++tt}else tt=K[tt]}var pe=ke<=1?-1:q._targetLower.indexOf(ue,j[0]),Z=!!~pe,ge=Z?pe===0||q._nextBeginningIndexes[pe-1]===pe:!1;if(Z&&!ge){for(var Me=0;Me<K.length;Me=K[Me])if(!(Me<=pe)){for(var nt=0;nt<ke&&de[nt]===q._targetLowerCodes[Me+nt];nt++);if(nt===ke){pe=Me,ge=!0;break}}}var ct=Tt=>{for(var yt=0,En=0,pi=1;pi<ke;++pi)Tt[pi]-Tt[pi-1]!==1&&(yt-=Tt[pi],++En);var hs=Tt[ke-1]-Tt[0]-(ke-1);if(yt-=(12+hs)*En,Tt[0]!==0&&(yt-=Tt[0]*Tt[0]*.2),!B)yt*=1e3;else{for(var Gn=1,pi=K[0];pi<Ze;pi=K[pi])++Gn;Gn>24&&(yt*=(Gn-24)*10)}return yt-=(Ze-ke)/2,Z&&(yt/=1+ke*ke*1),ge&&(yt/=1+ke*ke*1),yt-=(Ze-ke)/2,yt};if(B)if(ge){for(var Me=0;Me<ke;++Me)j[Me]=pe+Me;var gi=j,qn=ct(j)}else var gi=z,qn=ct(z);else{if(Z)for(var Me=0;Me<ke;++Me)j[Me]=pe+Me;var gi=j,qn=ct(gi)}q._score=qn;for(var Me=0;Me<ke;++Me)q._indexes[Me]=gi[Me];q._indexes.len=ke;const ds=new a;return ds.target=q.target,ds._score=q._score,ds._indexes=q._indexes,ds},T=(H,q,Q)=>{for(var se=new Set,ue=0,de=M,ie=0,Ee=H.spaceSearches,ke=Ee.length,Ze=0,tt=()=>{for(let ge=Ze-1;ge>=0;ge--)q._nextBeginningIndexes[J[ge*2+0]]=J[ge*2+1]},Kt=!1,Z=0;Z<ke;++Z){ae[Z]=ne;var Bt=Ee[Z];if(de=C(Bt,q),Q){if(de===M)continue;Kt=!0}else if(de===M)return tt(),M;var rt=Z===ke-1;if(!rt){var B=de._indexes,$=!0;for(let Me=0;Me<B.len-1;Me++)if(B[Me+1]-B[Me]!==1){$=!1;break}if($){var K=B[B.len-1]+1,Ie=q._nextBeginningIndexes[K-1];for(let Me=K-1;Me>=0&&Ie===q._nextBeginningIndexes[Me];Me--)q._nextBeginningIndexes[Me]=K,J[Ze*2+0]=Me,J[Ze*2+1]=Ie,Ze++}}ue+=de._score/ke,ae[Z]=de._score/ke,de._indexes[0]<ie&&(ue-=(ie-de._indexes[0])*2),ie=de._indexes[0];for(var Te=0;Te<de._indexes.len;++Te)se.add(de._indexes[Te])}if(Q&&!Kt)return M;tt();var pe=C(H,q,!0);if(pe!==M&&pe._score>ue){if(Q)for(var Z=0;Z<ke;++Z)ae[Z]=pe._score/ke;return pe}Q&&(de=q),de._score=ue;var Z=0;for(let ge of se)de._indexes[Z++]=ge;return de._indexes.len=Z,de},S=H=>H.replace(new RegExp("\\p{Script=Latin}+","gu"),q=>q.normalize("NFD")).replace(/[\u0300-\u036f]/g,""),I=H=>{H=S(H);for(var q=H.length,Q=H.toLowerCase(),se=[],ue=0,de=!1,ie=0;ie<q;++ie){var Ee=se[ie]=Q.charCodeAt(ie);if(Ee===32){de=!0;continue}var ke=Ee>=97&&Ee<=122?Ee-97:Ee>=48&&Ee<=57?26:Ee<=127?30:31;ue|=1<<ke}return{lowerCodes:se,bitflags:ue,containsSpace:de,_lower:Q}},P=H=>{for(var q=H.length,Q=[],se=0,ue=!1,de=!1,ie=0;ie<q;++ie){var Ee=H.charCodeAt(ie),ke=Ee>=65&&Ee<=90,Ze=ke||Ee>=97&&Ee<=122||Ee>=48&&Ee<=57,tt=ke&&!ue||!de||!Ze;ue=ke,de=Ze,tt&&(Q[se++]=ie)}return Q},O=H=>{H=S(H);for(var q=H.length,Q=P(H),se=[],ue=Q[0],de=0,ie=0;ie<q;++ie)ue>ie?se[ie]=ue:(ue=Q[++de],se[ie]=ue===void 0?q:ue);return se},D=new Map,N=new Map,j=[],z=[],J=[],_e=[],ae=[],xe=[],be=[],Ae=(H,q)=>{var Q=H[q];if(Q!==void 0)return Q;if(typeof q=="function")return q(H);var se=q;Array.isArray(q)||(se=q.split("."));for(var ue=se.length,de=-1;H&&++de<ue;)H=H[se[de]];return H},Y=H=>typeof H=="object"&&typeof H._bitflags=="number",we=1/0,ne=-we,re=[];re.total=0;var M=null,oe=r(""),De=H=>{var q=[],Q=0,se={},ue=de=>{for(var ie=0,Ee=q[ie],ke=1;ke<Q;){var Ze=ke+1;ie=ke,Ze<Q&&q[Ze]._score<q[ke]._score&&(ie=Ze),q[ie-1>>1]=q[ie],ke=1+(ie<<1)}for(var tt=ie-1>>1;ie>0&&Ee._score<q[tt]._score;tt=(ie=tt)-1>>1)q[ie]=q[tt];q[ie]=Ee};return se.add=de=>{var ie=Q;q[Q++]=de;for(var Ee=ie-1>>1;ie>0&&de._score<q[Ee]._score;Ee=(ie=Ee)-1>>1)q[ie]=q[Ee];q[ie]=de},se.poll=de=>{if(Q!==0){var ie=q[0];return q[0]=q[--Q],ue(),ie}},se.peek=de=>{if(Q!==0)return q[0]},se.replaceTop=de=>{q[0]=de,ue()},se},Fe=De();return{single:e,go:i,prepare:r,cleanup:o}})}(k1)),k1.exports}var T3e=E3e();const S3e=mc(T3e);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2023, Koala Interactive SAS
 * For licensing, see https://github.com/koala-interactive/is-emoji-supported/blob/master/LICENSE.md
 */function A3e(n){const t=I3e();/* istanbul ignore next -- @preserve */if(!t)return!1;const e=25,i=20,s=Math.floor(e/2);t.font=s+"px Arial, Sans-Serif",t.textBaseline="top",t.canvas.width=i*2,t.canvas.height=e,t.clearRect(0,0,i*2,e),t.fillStyle="#FF0000",t.fillText(n,0,22),t.fillStyle="#0000FF",t.fillText(n,i,22);const r=t.getImageData(0,0,i,e).data,o=r.length;let a=0;for(;a<o&&!r[a+3];a+=4);/* istanbul ignore next -- @preserve */if(a>=o)return!1;const l=i+a/4%i,u=Math.floor(a/4/i),h=t.getImageData(l,u,1,1).data;/* istanbul ignore next -- @preserve */if(r[a]!==h[0]||r[a+2]!==h[2])return!1;/* istanbul ignore next -- @preserve */return!(t.measureText(n).width>=i)}function I3e(){try{return document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{/* istanbul ignore next -- @preserve */return null}}const R3e={0:"default",1:"light",2:"medium-light",3:"medium",4:"medium-dark",5:"dark"},P3e={"":16,"":15.1,"":14,"":13.1,"":12.1,"":11,"":5,"":4,"":3,"":2,"":1,"":.7,"":.6},u7=24,iw=class iw extends F{static get pluginName(){return"EmojiUtils"}static get isOfficialPlugin(){return!0}isEmojiSupported(t,e,i){return t.version<=e?this.hasZwj(t.emoji)?this.isEmojiZwjSupported(t,i):!0:!1}getEmojiSupportedVersionByOs(){for(const[t,e]of Object.entries(P3e))if(iw._isEmojiSupported(t))return e;return 0}hasZwj(t){return t.includes("")}isEmojiZwjSupported(t,e){return this.getNodeWidth(e,t.emoji)<u7*1.8}getNodeWidth(t,e){const i=document.createElement("span");i.textContent=e,t.appendChild(i);const s=i.offsetWidth;return t.removeChild(i),s}createEmojiWidthTestingContainer(){const t=document.createElement("div");return t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-9999px",t.style.whiteSpace="nowrap",t.style.fontSize=u7+"px",t}normalizeEmojiSkinTone(t){const e={...t,skins:{default:t.emoji}};return t.skins&&t.skins.forEach(i=>{const s=R3e[i.tone];e.skins[s]=i.emoji}),e}isEmojiCategoryAllowed(t){return t.group!==2}};b(iw,"_isEmojiSupported",A3e);let IE=iw;const O3e="https://cdn.ckeditor.com/ckeditor5/data/emoji/{version}/en.json",M3e=16,mh=class mh extends F{constructor(e){super(e);b(this,"_items");b(this,"_url");b(this,"_repositoryPromise");e.config.define("emoji",{version:void 0,skinTone:"default",definitionsUrl:void 0,useCustomFont:!1}),this._url=this._getUrl(),this._repositoryPromise=new Promise(i=>{this._repositoryPromiseResolveCallback=i}),this._items=null}static get requires(){return[IE]}static get pluginName(){return"EmojiRepository"}static get isOfficialPlugin(){return!0}async init(){return this._warnAboutCdnUse(),await this._loadAndCacheEmoji(),this._items=this._getItems(),this._items?this._repositoryPromiseResolveCallback(!0):(ht("emoji-repository-empty"),this._repositoryPromiseResolveCallback(!1))}getEmojiByQuery(e){return this._items?e.split(/\s/).filter(Boolean).some(r=>r.length>=2)?S3e.go(e,this._items,{threshold:.6,keys:["emoticon","annotation",r=>e.split(/\s/).filter(Boolean).flatMap(l=>{var u;return(u=r.tags)==null?void 0:u.filter(h=>h.startsWith(l))}).join()]}).map(r=>r.obj):[]:[]}getEmojiCategories(){const e=this._getItems();if(!e)return[];const{t:i}=this.editor.locale,s=[{title:i("Smileys & Expressions"),icon:"",groupId:0},{title:i("Gestures & People"),icon:"",groupId:1},{title:i("Animals & Nature"),icon:"",groupId:3},{title:i("Food & Drinks"),icon:"",groupId:4},{title:i("Travel & Places"),icon:"",groupId:5},{title:i("Activities"),icon:"",groupId:6},{title:i("Objects"),icon:"",groupId:7},{title:i("Symbols"),icon:"",groupId:8},{title:i("Flags"),icon:"",groupId:9}],r=Swe(e,"group");return s.map(o=>({...o,items:r[o.groupId]}))}getSkinTones(){const{t:e}=this.editor.locale;return[{id:"default",icon:"",tooltip:e("Default skin tone")},{id:"light",icon:"",tooltip:e("Light skin tone")},{id:"medium-light",icon:"",tooltip:e("Medium Light skin tone")},{id:"medium",icon:"",tooltip:e("Medium skin tone")},{id:"medium-dark",icon:"",tooltip:e("Medium Dark skin tone")},{id:"dark",icon:"",tooltip:e("Dark skin tone")}]}isReady(){return this._repositoryPromise}_getUrl(){const{definitionsUrl:e,version:i}=this.editor.config.get("emoji");if(!e||e==="cdn"){const s=i||M3e,r=new URL(O3e.replace("{version}",s.toString()));return r.searchParams.set("editorVersion",mz),r}return i&&ht("emoji-repository-redundant-version"),new URL(e)}_warnAboutCdnUse(){const e=this.editor,i=e.config.get("emoji"),s=e.config.get("licenseKey"),r=window[Symbol.for("cke distribution")];s!=="GPL"&&r!=="cloud"&&(i&&i.definitionsUrl||ht("emoji-repository-cdn-use"))}_getItems(){const e=mh._results[this._url.href];return e&&e.length?e:null}async _loadAndCacheEmoji(){if(mh._results[this._url.href])return;const e=await fetch(this._url,{cache:"force-cache"}).then(i=>i.ok?i.json():[]).catch(()=>[]);mh._results[this._url.href]=this._normalizeEmoji(e)}_normalizeEmoji(e){const i=this.editor,s=i.config.get("emoji.useCustomFont"),r=i.plugins.get("EmojiUtils"),o=e.filter(h=>r.isEmojiCategoryAllowed(h));if(s)return o.map(h=>r.normalizeEmojiSkinTone(h));const a=r.getEmojiSupportedVersionByOs(),l=r.createEmojiWidthTestingContainer();document.body.appendChild(l);const u=o.filter(h=>r.isEmojiSupported(h,a,l)).map(h=>r.normalizeEmojiSkinTone(h));return l.remove(),u}};b(mh,"_results",{});let zv=mh;const Xd=":",kk=":__EMOJI_SHOW_ALL:",Ck=":__EMOJI_HINT:";class D3e extends F{constructor(e){super(e);b(this,"_emojiDropdownLimit");b(this,"_skinTone");this.editor.config.define("emoji",{dropdownLimit:6}),this._emojiDropdownLimit=e.config.get("emoji.dropdownLimit"),this._skinTone=e.config.get("emoji.skinTone"),this._setupMentionConfiguration(e)}static get requires(){return[zv,Cy,"Mention"]}static get pluginName(){return"EmojiMention"}static get isOfficialPlugin(){return!0}_setupMentionConfiguration(e){const i=e.config.get("mergeFields.prefix"),s=e.config.get("mention.feeds"),r=i?i[0]===Xd:!1;if(s.filter(u=>!u._isEmojiMarker).some(u=>u.marker===Xd)||r){ht("emoji-config-marker-already-used",{marker:Xd});return}if(s.some(u=>u._isEmojiMarker))return;const l={_isEmojiMarker:!0,marker:Xd,dropdownLimit:this._emojiDropdownLimit,itemRenderer:this._customItemRendererFactory(this.editor.t),feed:this._queryEmojiCallbackFactory()};this.editor.config.set("mention.feeds",[...s,l])}async init(){const e=this.editor;this.emojiPickerPlugin=e.plugins.has("EmojiPicker")?e.plugins.get("EmojiPicker"):null,this.emojiRepositoryPlugin=e.plugins.get("EmojiRepository"),this._isEmojiRepositoryAvailable=await this.emojiRepositoryPlugin.isReady(),this._isEmojiRepositoryAvailable&&e.once("ready",this._overrideMentionExecuteListener.bind(this))}_customItemRendererFactory(e){return i=>{const s=document.createElement("button");s.classList.add("ck"),s.classList.add("ck-button"),s.classList.add("ck-button_with-text"),s.id=`mention-list-item-id${i.id.slice(0,-1)}`,s.type="button",s.tabIndex=-1;const r=document.createElement("span");return r.classList.add("ck"),r.classList.add("ck-button__label"),s.appendChild(r),i.id===Ck?(s.classList.add("ck-list-item-button"),s.classList.add("ck-disabled"),r.textContent=e("Keep on typing to see the emoji.")):i.id===kk?r.textContent=e("Show all emoji..."):r.textContent=`${i.text} ${i.id}`,s}}_overrideMentionExecuteListener(){const e=this.editor;e.commands.get("mention").on("execute",(i,s)=>{const r=s[0];if(r.marker===Xd&&(i.stop(),r.mention.id!==Ck))if(r.mention.id===kk){const o=[...r.range.getItems()].filter(l=>l.is("$textProxy")).map(l=>l.data).reduce((l,u)=>l+u,"");e.model.change(l=>{e.model.deleteContent(l.createSelection(r.range))});const a=this.emojiPickerPlugin;a.showUI(o.slice(1)),setTimeout(()=>{a.emojiPickerView.focus()})}else e.execute("insertText",{text:r.mention.text,range:r.range})},{priority:"high"})}_queryEmojiCallbackFactory(){return e=>{if(e.startsWith(" "))return[];if(e.startsWith(Xd))return[];if(!this._isEmojiRepositoryAvailable)return[];const i=this.emojiRepositoryPlugin.getEmojiByQuery(e).map(r=>{let o=r.skins[this._skinTone]||r.skins.default;return this.emojiPickerPlugin&&(o=r.skins[this.emojiPickerPlugin.skinTone]||r.skins.default),{id:`:${r.annotation}:`,text:o}});if(!this.emojiPickerPlugin)return i.slice(0,this._emojiDropdownLimit);const s={id:e.length>1?kk:Ck};return[...i.slice(0,this._emojiDropdownLimit-1),s]}}}class V3e extends je{refresh(){const e=this.editor.model,i=e.schema,s=e.document.selection;this.isEnabled=i.checkChild(s.getFirstPosition(),"$text")}execute(t=""){this.editor.plugins.get("EmojiPicker").showUI(t)}}class N3e extends ye{constructor(e,{categoryName:i,emojiCategories:s,getEmojiByQuery:r,skinTone:o}){super(e);b(this,"tiles");b(this,"focusTracker");b(this,"keystrokes");b(this,"emojiCategories");b(this,"cachedTiles");b(this,"_getEmojiByQuery");this.set("isEmpty",!0),this.set("categoryName",i),this.set("skinTone",o),this.tiles=this.createCollection(),this.cachedTiles=this.createCollection(),this.focusTracker=new Ct,this.keystrokes=new Vt,this._getEmojiByQuery=r,this.emojiCategories=s;const a=this.bindTemplate;this.setTemplate({tag:"div",children:[{tag:"div",attributes:{role:"grid",class:["ck","ck-emoji__grid"]},children:this.tiles}],attributes:{role:"tabpanel",class:["ck","ck-emoji__tiles",a.if("isEmpty","ck-hidden",l=>l)]}}),wf({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>Pe.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy(),this.focusTracker.destroy()}focus(){const e=this.tiles.first;e&&e.focus()}filter(e){const{matchingItems:i,allItems:s}=e?this._getItemsByQuery(e.source):this._getItemsByCategory();return this._updateGrid(i),this.set("isEmpty",i.length===0),{resultsCount:i.length,totalItemsCount:s.length}}_getItemsByQuery(e){return{matchingItems:this._getEmojiByQuery(e),allItems:this.emojiCategories.flatMap(i=>i.items)}}_getItemsByCategory(){const e=this.emojiCategories.find(s=>s.title===this.categoryName),{items:i}=e;return{matchingItems:i,allItems:i}}_updateGrid(e){[...this.tiles].forEach(i=>{this.focusTracker.remove(i),this.tiles.remove(i)}),e.map(i=>{const s=i.skins[this.skinTone]||i.skins.default;return this.cachedTiles.get(s)||this._createTile(s,i.annotation)}).forEach(i=>{this.tiles.add(i),this.focusTracker.add(i)})}_createTile(e,i){const s=new Le(this.locale);return s.viewUid=e,s.extendTemplate({attributes:{class:["ck-emoji__tile"]}}),s.set({label:e,tooltip:i,withText:!0,ariaLabel:i,ariaLabelledBy:void 0}),s.on("execute",()=>{this.fire("execute",{name:i,emoji:e})}),this.cachedTiles.add(s),s}}class L3e extends ye{constructor(e,{emojiCategories:i,categoryName:s}){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"focusCycler");b(this,"buttonViews");this.buttonViews=this.createCollection(i.map(r=>this._createCategoryButton(r))),this.focusTracker=new Ct,this.keystrokes=new Vt,this.focusCycler=new Cn({focusables:this.buttonViews,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-emoji__categories-list"],role:"tablist"},children:this.buttonViews}),this.on("change:categoryName",(r,o,a,l)=>{const u=this.buttonViews.find(m=>m.tooltip===l);u&&(u.isOn=!1);const h=this.buttonViews.find(m=>m.tooltip===a);h.isOn=!0}),this.set("categoryName",s)}render(){super.render(),this.buttonViews.forEach(e=>{this.focusTracker.add(e)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),this.buttonViews.destroy()}focus(){this.buttonViews.first.focus()}enableCategories(){this.buttonViews.forEach(e=>{e.isEnabled=!0})}disableCategories(){this.buttonViews.forEach(e=>{e.set({class:"",isEnabled:!1,isOn:!1})})}_createCategoryButton(e){const i=new Le,s=i.bindTemplate;return i.extendTemplate({attributes:{"aria-selected":s.to("isOn",r=>r.toString()),class:["ck-emoji__category-item"]}}),i.set({ariaLabel:e.title,label:e.icon,role:"tab",tooltip:e.title,withText:!0,ariaLabelledBy:void 0}),i.on("execute",()=>{this.categoryName=e.title}),i.on("change:isEnabled",()=>{i.isEnabled&&i.tooltip===this.categoryName&&(i.isOn=!0)}),i}}class B3e extends ye{constructor(e,{gridView:i,resultsView:s}){super(e);b(this,"inputView");b(this,"gridView");this.gridView=i;const r=e.t;this.inputView=new ISe(this.locale,{queryView:{label:r("Find an emoji (min. 2 characters)"),creator:Wi},filteredView:this.gridView,infoView:{instance:s}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search"],tabindex:"-1"},children:[this.inputView.queryView]}),this.inputView.delegate("search").to(this)}destroy(){super.destroy(),this.inputView.destroy()}search(e){const i=e?new RegExp(cy(e),"ig"):null,s=this.gridView.filter(i);this.inputView.fire("search",{query:e,...s})}setInputValue(e){e?this.inputView.queryView.fieldView.value=e:this.inputView.queryView.fieldView.reset()}getInputValue(){return this.inputView.queryView.fieldView.element.value}focus(){this.inputView.focus()}}class F3e extends ye{constructor(e,{skinTone:i,skinTones:s}){super(e);b(this,"dropdownView");b(this,"_skinTones");this.set("skinTone",i),this._skinTones=s;const r=e.t,o=r("Select skin tone"),a=Wn(e),l=new kn;for(const{id:u,icon:h,tooltip:m}of this._skinTones){const p={type:"button",model:new wr({value:u,label:h,ariaLabel:m,tooltip:m,tooltipPosition:"e",role:"menuitemradio",withText:!0,ariaLabelledBy:void 0})};p.model.bind("isOn").to(this,"skinTone",v=>v===u),l.add(p)}ro(a,l,{ariaLabel:o,role:"menu"}),a.buttonView.set({label:this._getSkinTone().icon,ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),this.dropdownView=a,this.listenTo(a,"execute",u=>{this.skinTone=u.source.value}),a.buttonView.bind("label").to(this,"skinTone",()=>this._getSkinTone().icon),a.buttonView.bind("ariaLabel").to(this,"skinTone",()=>`${this._getSkinTone().tooltip}, ${o}`),this.setTemplate({tag:"div",attributes:{class:["ck","ck-emoji__skin-tone"]},children:[a]})}focus(){this.dropdownView.buttonView.focus()}_getSkinTone(){return this._skinTones.find(e=>e.id===this.skinTone)}}class z3e extends ye{constructor(e,{emojiCategories:i,getEmojiByQuery:s,skinTone:r,skinTones:o}){super(e);b(this,"items");b(this,"focusTracker");b(this,"keystrokes");b(this,"focusCycler");b(this,"searchView");b(this,"toneView");b(this,"categoriesView");b(this,"gridView");b(this,"infoView");const a=i[0].title;this.gridView=new N3e(e,{categoryName:a,emojiCategories:i,getEmojiByQuery:s,skinTone:r}),this.infoView=new fU,this.searchView=new B3e(e,{gridView:this.gridView,resultsView:this.infoView}),this.categoriesView=new L3e(e,{emojiCategories:i,categoryName:a}),this.toneView=new F3e(e,{skinTone:r,skinTones:o}),this.items=this.createCollection([this.searchView,this.toneView,this.categoriesView,this.gridView,this.infoView]),this.focusTracker=new Ct,this.keystrokes=new Vt,this.focusCycler=new Cn({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[{tag:"div",children:[this.searchView,this.toneView],attributes:{class:["ck","ck-emoji__search"]}},this.categoriesView,this.gridView,{tag:"div",children:[this.infoView],attributes:{class:["ck","ck-search__results"]}}],attributes:{tabindex:"-1",class:["ck","ck-emoji","ck-search"]}}),this._setupEventListeners()}render(){super.render(),this.focusTracker.add(this.searchView.element),this.focusTracker.add(this.toneView.element),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.focusTracker.add(this.infoView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.searchView.focus()}_setupEventListeners(){const e=this.locale.t;this.searchView.on("search",(i,s)=>{s.query?this.categoriesView.disableCategories():this.categoriesView.enableCategories()}),this.searchView.on("search",(i,s)=>{s.query.length===1?this.infoView.set({primaryText:e("Keep on typing to see the emoji."),secondaryText:e("The query must contain at least two characters."),isVisible:!0}):s.resultsCount?this.infoView.set({isVisible:!1}):this.infoView.set({primaryText:e('No emojis were found matching "%0".',s.query),secondaryText:e("Please try a different phrase or check the spelling."),isVisible:!0})}),this.searchView.on("search",()=>{this.fire("update"),this.gridView.element.scrollTo(0,0)}),this.categoriesView.on("change:categoryName",(i,s,r)=>{this.gridView.categoryName=r,this.searchView.search("")}),this.toneView.on("change:skinTone",(i,s,r)=>{this.gridView.skinTone=r,this.searchView.search(this.searchView.getInputValue())})}}const Vl="emoji-picker";class j3e extends F{static get requires(){return[zv,Ki,uc,Cy]}static get pluginName(){return"EmojiPicker"}static get isOfficialPlugin(){return!0}async init(){const t=this.editor;if(this.balloonPlugin=t.plugins.get("ContextualBalloon"),this.emojiRepositoryPlugin=t.plugins.get("EmojiRepository"),!await this.emojiRepositoryPlugin.isReady())return;const e=new V3e(t);t.commands.add("emoji",e),t.ui.componentFactory.add("emoji",()=>{const i=this._createButton(Le,e);return i.set({tooltip:!0}),i}),t.ui.componentFactory.add("menuBar:emoji",()=>this._createButton(Rt,e)),this._setupConversion()}destroy(){super.destroy(),this.emojiPickerView&&this.emojiPickerView.destroy()}get skinTone(){return this.emojiPickerView?this.emojiPickerView.gridView.skinTone:this.editor.config.get("emoji.skinTone")}showUI(t=""){this._showFakeVisualSelection(),this.emojiPickerView||(this.emojiPickerView=this._createEmojiPickerView()),t&&this.emojiPickerView.searchView.setInputValue(t),this.emojiPickerView.searchView.search(t),this.balloonPlugin.hasView(this.emojiPickerView)||this.balloonPlugin.add({view:this.emojiPickerView,position:this._getBalloonPositionData()}),this.emojiPickerView.focus()}_createButton(t,e){const i=new t(this.editor.locale),s=this.editor.locale.t;return i.bind("isEnabled").to(e,"isEnabled"),i.set({label:s("Emoji"),icon:me.emoji,isToggleable:!0}),i.on("execute",()=>{this.showUI()}),i}_createEmojiPickerView(){const t=new z3e(this.editor.locale,{emojiCategories:this.emojiRepositoryPlugin.getEmojiCategories(),skinTone:this.editor.config.get("emoji.skinTone"),skinTones:this.emojiRepositoryPlugin.getSkinTones(),getEmojiByQuery:e=>this.emojiRepositoryPlugin.getEmojiByQuery(e)});return this.listenTo(t.gridView,"execute",(e,i)=>{const s=this.editor,r=i.emoji;this._hideUI(),s.execute("insertText",{text:r})}),this.listenTo(t,"update",()=>{this.balloonPlugin.visibleView===t&&this.balloonPlugin.updatePosition()}),t.keystrokes.set("Esc",(e,i)=>{this._hideUI(),i()}),so({emitter:t,contextElements:[this.balloonPlugin.view.element],callback:()=>this._hideUI(),activator:()=>this.balloonPlugin.visibleView===t}),t}_hideUI(){this.balloonPlugin.remove(this.emojiPickerView),this.emojiPickerView.searchView.setInputValue(""),this.editor.editing.view.focus(),this._hideFakeVisualSelection()}_setupConversion(){const t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:Vl,view:{classes:["ck-fake-emoji-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Vl,view:(e,{writer:i})=>{if(!e.markerRange.isCollapsed)return null;const s=i.createUIElement("span");return i.addClass(["ck-fake-emoji-selection","ck-fake-emoji-selection_collapsed"],s),s}})}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document;return{target:()=>t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{const i=t.document.selection.getFirstRange();if(t.markers.has(Vl))e.updateMarker(Vl,{range:i});else if(i.start.isAtEnd){const s=i.start.getLastMatchingPosition(({item:r})=>!t.schema.isContent(r),{boundaries:i});e.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:e.createRange(s,i.end)})}else e.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Vl)&&t.change(e=>{e.removeMarker(Vl)})}}class U3e extends F{static get requires(){return[D3e,j3e]}static get pluginName(){return"Emoji"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class H3e extends je{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let i=t.schema.getLimitElement(e);if(e.containsEntireContent(i)||!d7(t.schema,i))do if(i=i.parent,!i)return;while(!d7(t.schema,i));t.change(s=>{s.setSelection(i,"in")})}}function d7(n,t){return n.isLimit(t)&&(n.checkChild(t,"$text")||n.checkChild(t,"paragraph"))}const $3e=dy("Ctrl+A");class W3e extends F{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,s=t.editing.view.document;t.commands.add("selectAll",new H3e(t)),this.listenTo(s,"keydown",(r,o)=>{Du(o)===$3e&&(t.execute("selectAll"),o.preventDefault())}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}var q3e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class G3e extends F{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(Le);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Rt))}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get("selectAll"),r=new t(e.locale),o=i.t;return r.set({label:o("Select all"),icon:q3e,keystroke:"Ctrl+A"}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),r}}class Y3e extends F{static get requires(){return[W3e,G3e]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class BU extends je{constructor(e){super(e);b(this,"_stack",[]);b(this,"_createdBatches",new WeakSet);this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,s)=>{s[1]={...s[1]};const r=s[1];r.batchType||(r.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,s){const r=this.editor.model,o=r.document,a=[],l=e.map(h=>h.getTransformedByOperations(s)),u=l.flat();for(const h of l){const m=h.filter(p=>p.root!=o.graveyard).filter(p=>!K3e(p,u));m.length&&(Z3e(m),a.push(m[0]))}a.length&&r.change(h=>{h.setSelection(a,{backward:i})})}_undo(e,i){const s=this.editor.model,r=s.document;this._createdBatches.add(i);const o=e.operations.slice().filter(a=>a.isDocumentOperation);o.reverse();for(const a of o){const l=a.baseVersion+1,u=Array.from(r.history.getOperations(l)),m=Oxe([a.getReversed()],u,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let p of m){const v=p.affectedSelectable;v&&!s.canEditAt(v)&&(p=new fi(p.baseVersion)),i.addOperation(p),s.applyOperation(p),r.history.setOperationAsUndone(a,p)}}}}function Z3e(n){n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const i=n[t-1].getJoined(n[t],!0);i&&(t--,n.splice(t,2,i))}}function K3e(n,t){return t.some(e=>e!==n&&e.containsRange(n,!0))}class X3e extends BU{execute(t=null){const e=t?this._stack.findIndex(r=>r.batch==t):this._stack.length-1,i=this._stack.splice(e,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(i.batch,s);const r=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,r)}),this.fire("revert",i.batch,s),this.refresh()}}class J3e extends BU{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const s=t.batch.operations[t.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(t.selection.ranges,t.selection.isBackward,r),this._undo(t.batch,e)}),this.refresh()}}class Q3e extends F{constructor(){super(...arguments);b(this,"_undoCommand");b(this,"_redoCommand");b(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t;this._undoCommand=new X3e(e),this._redoCommand=new J3e(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,r)=>{const o=r[0];if(!o.isDocumentOperation)return;const a=o.batch,l=this._redoCommand.createdBatches.has(a),u=this._undoCommand.createdBatches.has(a);this._batchRegistry.has(a)||(this._batchRegistry.add(a),a.isUndoable&&(l?this._undoCommand.addBatch(a):u||(this._undoCommand.addBatch(a),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,r,o)=>{this._redoCommand.addBatch(o)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class e4e extends F{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,i=t.t,s=e.uiLanguageDirection=="ltr"?me.undo:me.redo,r=e.uiLanguageDirection=="ltr"?me.redo:me.undo;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",s),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",r)}_addButtonsToFactory(t,e,i,s){const r=this.editor;r.ui.componentFactory.add(t,()=>{const o=this._createButton(Le,t,e,i,s);return o.set({tooltip:!0}),o}),r.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(Rt,t,e,i,s))}_createButton(t,e,i,s,r){const o=this.editor,a=o.locale,l=o.commands.get(e),u=new t(a);return u.set({label:i,icon:r,keystroke:s}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{o.execute(e),o.editing.view.focus()}),u}}class j5 extends F{static get requires(){return[Q3e,e4e]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class t4e extends F{static get requires(){return[fTe,F5,Qp,Y3e,TU,Cy,j5]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class n4e extends ye{constructor(e){super(e);b(this,"children");b(this,"_findInputView");b(this,"_replaceInputView");b(this,"_findButtonView");b(this,"_findPrevButtonView");b(this,"_findNextButtonView");b(this,"_advancedOptionsCollapsibleView");b(this,"_matchCaseSwitchView");b(this,"_wholeWordsOnlySwitchView");b(this,"_replaceButtonView");b(this,"_replaceAllButtonView");b(this,"_inputsDivView");b(this,"_actionButtonsDivView");b(this,"_focusTracker");b(this,"_keystrokes");b(this,"_focusables");b(this,"focusCycler");const i=e.t;this.children=this.createCollection(),this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(s,r)=>s>0&&!r),this._findInputView=this._createInputField(i("Find in text")),this._findPrevButtonView=this._createButton({label:i("Previous result"),class:"ck-button-prev",icon:me.previousArrow,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:i("Next result"),class:"ck-button-next",icon:me.previousArrow,keystroke:"F3",tooltip:!0}),this._replaceInputView=this._createInputField(i("Replace with"),"ck-labeled-field-replace"),this._inputsDivView=this._createInputsDiv(),this._matchCaseSwitchView=this._createMatchCaseSwitch(),this._wholeWordsOnlySwitchView=this._createWholeWordsOnlySwitch(),this._advancedOptionsCollapsibleView=this._createAdvancedOptionsCollapsible(),this._replaceAllButtonView=this._createButton({label:i("Replace all"),class:"ck-button-replaceall",withText:!0}),this._replaceButtonView=this._createButton({label:i("Replace"),class:"ck-button-replace",withText:!0}),this._findButtonView=this._createButton({label:i("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._actionButtonsDivView=this._createActionButtonsDiv(),this._focusTracker=new Ct,this._keystrokes=new Vt,this._focusables=new ei,this.focusCycler=new Cn({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.addMany([this._inputsDivView,this._advancedOptionsCollapsibleView,this._actionButtonsDivView]),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:this.children})}render(){super.render(),qo({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createInputsDiv(){const e=this.locale,i=e.t,s=new ye(e);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:r})=>r),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:r})=>r),this._injectFindResultsCounter(),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:r},o)=>r&&o),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(r,o)=>r||!o?"":i("Tip: Find some text first in order to replace it.")),s.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__inputs"]},children:[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView]}),s}_onFindButtonExecute(){if(!this._textToFind){const e=this.t;this._findInputView.errorText=e("Text to find must not be empty.");return}this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly})}_injectFindResultsCounter(){const e=this.locale,i=e.t,s=this.bindTemplate,r=new ye(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(a,l)=>i("%0 of %1",[a,l])),r.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",s.if("isDirty","ck-hidden")]},children:[{text:s.to("_resultsCounterText")}]});const o=()=>{const a=this._findInputView.fieldView.element;if(!a||!Vo(a))return;const l=new Xe(r.element).width,u=e.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";l?a.style[u]=`calc( 2 * var(--ck-spacing-standard) + ${l}px )`:a.style[u]=""};this.on("change:_resultsCounterText",o,{priority:"low"}),this.on("change:isDirty",o,{priority:"low"}),this._findInputView.template.children[0].children.push(r)}_createAdvancedOptionsCollapsible(){const e=this.locale.t,i=new I5(this.locale,[this._matchCaseSwitchView,this._wholeWordsOnlySwitchView]);return i.set({label:e("Advanced options"),isCollapsed:!0}),i}_createActionButtonsDiv(){const e=new ye(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:i},s)=>i&&s),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:i},s)=>i&&s),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),e.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__actions"]},children:[this._replaceAllButtonView,this._replaceButtonView,this._findButtonView]}),e}_createMatchCaseSwitch(){const e=this.locale.t,i=new Vu(this.locale);return i.set({label:e("Match case"),withText:!0}),i.bind("isOn").to(this,"_matchCase"),i.on("execute",()=>{this._matchCase=!this._matchCase,this.isDirty=!0}),i}_createWholeWordsOnlySwitch(){const e=this.locale.t,i=new Vu(this.locale);return i.set({label:e("Whole words only"),withText:!0}),i.bind("isOn").to(this,"_wholeWordsOnly"),i.on("execute",()=>{this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),i}_initFocusCycling(){[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._advancedOptionsCollapsibleView.buttonView,this._matchCaseSwitchView,this._wholeWordsOnlySwitchView,this._replaceAllButtonView,this._replaceButtonView,this._findButtonView].forEach(i=>{this._focusables.add(i),this._focusTracker.add(i.element)})}_initKeystrokeHandling(){const e=s=>s.stopPropagation(),i=s=>{s.stopPropagation(),s.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",s=>{i(s),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",s=>{i(s),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",s=>{const r=s.target;r===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),i(s)):r===this._replaceInputView.fieldView.element&&!this.isDirty&&(this._replaceButtonView.fire("execute"),i(s))}),this._keystrokes.set("shift+enter",s=>{s.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),i(s))}),this._keystrokes.set("arrowright",e),this._keystrokes.set("arrowleft",e),this._keystrokes.set("arrowup",e),this._keystrokes.set("arrowdown",e)}_createButton(e){const i=new Le(this.locale);return i.set(e),i}_createInputField(e,i){const s=new _n(this.locale,Wi);return s.label=e,s.class=i,s}}var h7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>';class i4e extends F{constructor(e){super(e);b(this,"formView");e.config.define("findAndReplace.uiType","dialog"),this.formView=null}static get requires(){return[uc]}static get pluginName(){return"FindAndReplaceUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.config.get("findAndReplace.uiType")==="dropdown",s=e.commands.get("find"),r=this.editor.t;e.ui.componentFactory.add("findAndReplace",()=>{let o;return i?(o=this._createDropdown(),o.bind("isEnabled").to(s)):o=this._createDialogButtonForToolbar(),e.keystrokes.set("Ctrl+F",(a,l)=>{if(s.isEnabled){if(o instanceof Dv){const u=o.buttonView;u.isOn||u.fire("execute")}else o.isOn?e.plugins.get("Dialog").view.focus():o.fire("execute");l()}}),o}),i||e.ui.componentFactory.add("menuBar:findAndReplace",()=>this._createDialogButtonForMenuBar()),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Find in the document"),keystroke:"CTRL+F"}]})}_createDropdown(){const e=this.editor,i=e.locale.t,s=Wn(e.locale);return s.once("change:isOpen",()=>{this.formView=this._createFormView(),this.formView.children.add(new Yp(e.locale,{label:i("Find and replace")}),0),s.panelView.children.add(this.formView)}),s.on("change:isOpen",(r,o,a)=>{a?this._setupFormView():this.fire("searchReseted")},{priority:"low"}),s.buttonView.set({icon:h7,label:i("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),s}_createDialogButtonForToolbar(){const e=this.editor,i=this._createButton(Le),s=e.plugins.get("Dialog");return i.set({tooltip:!0}),i.bind("isOn").to(s,"id",r=>r==="findAndReplace"),i.on("execute",()=>{i.isOn?s.hide():this._showDialog()}),i}_createDialogButtonForMenuBar(){const e=this._createButton(Rt),i=this.editor.plugins.get("Dialog"),s=this.editor.plugins.get("Dialog");return e.set({role:"menuitemcheckbox",isToggleable:!0}),e.bind("isOn").to(s,"id",r=>r==="findAndReplace"),e.on("execute",()=>{if(i.id==="findAndReplace"){i.hide();return}this._showDialog()}),e}_createButton(e){const i=this.editor,s=i.commands.get("find"),r=new e(i.locale),o=i.locale.t;return r.bind("isEnabled").to(s),r.set({icon:h7,label:o("Find and replace"),keystroke:"CTRL+F"}),r}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.locale.t;this.formView||(this.formView=this._createFormView()),i.show({id:"findAndReplace",title:s("Find and replace"),content:this.formView,position:Ms.EDITOR_TOP_SIDE,onShow:()=>{this._setupFormView()},onHide:()=>{this.fire("searchReseted")}})}_createFormView(){const e=this.editor,i=new(vf(n4e))(e.locale),s=e.commands,o=this.editor.plugins.get("FindAndReplaceEditing").state;i.bind("highlightOffset").to(o,"highlightedOffset"),i.listenTo(o.results,"change",()=>{i.matchCount=o.results.length});const a=s.get("findNext"),l=s.get("findPrevious"),u=s.get("replace"),h=s.get("replaceAll");return i.bind("_areCommandsEnabled").to(a,"isEnabled",l,"isEnabled",u,"isEnabled",h,"isEnabled",(m,p,v,_)=>({findNext:m,findPrevious:p,replace:v,replaceAll:_})),i.delegate("findNext","findPrevious","replace","replaceAll").to(this),i.on("change:isDirty",(m,p,v)=>{v&&this.fire("searchReseted")}),i}_setupFormView(){this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()}}class s4e extends je{constructor(e,i){super(e);b(this,"_state");this.isEnabled=!0,this.affectsData=!1,this._state=i}execute(e,{matchCase:i,wholeWords:s}={}){const{editor:r}=this,{model:o}=r,a=r.plugins.get("FindAndReplaceUtils");let l,u="";typeof e=="string"?l=(...p)=>({results:a.findByTextCallback(e,{matchCase:i,wholeWords:s})(...p),searchText:e}):l=e;const h=l;l=(...p)=>{const v=h(...p);return v&&"searchText"in v&&(u=v.searchText),v};const m=o.document.getRootNames().reduce((p,v)=>a.updateFindResultFromRange(o.createRangeIn(o.document.getRoot(v)),o,l,p),null);return this._state.clear(o),this._state.results.addMany(m),this._state.highlightedResult=m.get(0),this._state.searchText=u,l&&(this._state.lastSearchCallback=l),this._state.matchCase=!!i,this._state.matchWholeWords=!!s,{results:m,findCallback:l}}}class r4e extends Wt(){constructor(t){super(),this.set("results",new kn),this.set("highlightedResult",null),this.set("highlightedOffset",0),this.set("searchText",""),this.set("replaceText",""),this.set("lastSearchCallback",null),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(e,{removed:i,index:s})=>{if(Array.from(i).length){let r=!1;if(t.change(o=>{for(const a of i)this.highlightedResult===a&&(r=!0),t.markers.has(a.marker.name)&&o.removeMarker(a.marker)}),r){const o=s>=this.results.length?0:s;this.highlightedResult=this.results.get(o)}}}),this.on("change:highlightedResult",()=>{this.refreshHighlightOffset(t)})}clear(t){this.searchText="",t.change(e=>{if(this.highlightedResult){const i=this.highlightedResult.marker.name.split(":")[1],s=t.markers.get(`findResultHighlighted:${i}`);s&&e.removeMarker(s)}[...this.results].forEach(({marker:i})=>{e.removeMarker(i)})}),this.results.clear()}refreshHighlightOffset(t){const{highlightedResult:e,results:i}=this;e?this.highlightedOffset=FU(t,[...i]).indexOf(e)+1:this.highlightedOffset=0}}function FU(n,t){const e={before:-1,same:0,after:1,different:1};return n.document.getRootNames().flatMap(i=>t.filter(s=>s.marker.getStart().root.rootName===i).sort((s,r)=>e[s.marker.getStart().compareWith(r.marker.getStart())]))}class zU extends je{constructor(e,i){super(e);b(this,"_state");this.isEnabled=!0,this._state=i,this._isEnabledBasedOnSelection=!1}_replace(e,i){const{model:s}=this.editor,r=i.marker.getRange();s.canEditAt(r)&&s.change(o=>{if(r.root.rootName==="$graveyard"){this._state.results.remove(i);return}let a={};for(const l of r.getItems())if(l.is("$text")||l.is("$textProxy")){a=l.getAttributes();break}s.insertContent(o.createText(e,a),r),this._state.results.has(i)&&this._state.results.remove(i)})}}class o4e extends zU{execute(t,e){const i=Math.max(this._state.highlightedOffset-1,0);if(this._replace(t,e),this._state.results.length){const s=FU(this.editor.model,[...this._state.results]);this._state.highlightedResult=s[i%s.length]}}}class a4e extends zU{execute(t,e){const{editor:i}=this,{model:s}=i,r=i.plugins.get("FindAndReplaceUtils"),o=e instanceof kn?e:s.document.getRootNames().reduce((a,l)=>r.updateFindResultFromRange(s.createRangeIn(s.document.getRoot(l)),s,r.findByTextCallback(e,this._state),a),null);o.length&&s.change(()=>{[...o].forEach(a=>{this._replace(t,a)})})}}class jU extends je{constructor(e,i){super(e);b(this,"_state");this.affectsData=!1,this._state=i,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const e=this._state.results,i=e.getIndex(this._state.highlightedResult),s=i+1>=e.length?0:i+1;this._state.highlightedResult=this._state.results.get(s)}}class l4e extends jU{execute(){const e=this._state.results.getIndex(this._state.highlightedResult),i=e-1<0?this._state.results.length-1:e-1;this._state.highlightedResult=this._state.results.get(i)}}class c4e extends F{static get pluginName(){return"FindAndReplaceUtils"}static get isOfficialPlugin(){return!0}updateFindResultFromRange(t,e,i,s){const r=s||new kn,o=a=>r.find(l=>{const{marker:u}=l,h=u.getRange(),m=a.getRange();return h.isEqual(m)});return e.change(a=>{[...t].forEach(({type:l,item:u})=>{if(l==="elementStart"&&e.schema.checkChild(u,"$text")){let h=i({item:u,text:this.rangeToText(e.createRangeIn(u))});if(!h)return;"results"in h&&(h=h.results),h.forEach(m=>{const p=`findResult:${mi()}`,v=a.addMarker(p,{usingOperation:!1,affectsData:!1,range:a.createRange(a.createPositionAt(u,m.start),a.createPositionAt(u,m.end))}),_=u4e(r,v);o(v)||r.add({id:p,label:m.label,marker:v},_)})}})}),r}rangeToText(t){return Array.from(t.getItems({shallow:!0})).reduce((e,i)=>i.is("$text")||i.is("$textProxy")?e+i.data:`${e}
`,"")}findByTextCallback(t,e){let i="gu";e.matchCase||(i+="i");let s=`(${cy(t)})`;if(e.wholeWords){const a="[^a-zA-Z--]";new RegExp("^"+a).test(t)||(s=`(^|${a}|_)${s}`),new RegExp(a+"$").test(t)||(s=`${s}(?=_|${a}|$)`)}const r=new RegExp(s,i);function o({text:a}){return[...a.matchAll(r)].map(d4e)}return o}}function u4e(n,t){const e=n.find(({marker:i})=>t.getStart().isBefore(i.getStart()));return e?n.getIndex(e):n.length}function d4e(n){const t=n.length-1;let e=n.index;return n.length===3&&(e+=n[1].length),{label:n[t],start:e,end:e+n[t].length}}const h4e="ck-find-result_selected";class f4e extends F{constructor(){super(...arguments);b(this,"state");b(this,"_onDocumentChange",()=>{const e=new Set,i=new Set,s=this.editor.model,{results:r}=this.state,o=s.document.differ.getChanges(),a=s.document.differ.getChangedMarkers();o.forEach(h=>{h.position&&(h.name==="$text"||h.position.nodeAfter&&s.schema.isInline(h.position.nodeAfter)?(e.add(h.position.parent),[...s.markers.getMarkersAtPosition(h.position)].forEach(m=>{i.add(m.name)})):h.type==="insert"&&h.position.nodeAfter&&e.add(h.position.nodeAfter))}),a.forEach(({name:h,data:{newRange:m}})=>{m&&m.start.root.rootName==="$graveyard"&&i.add(h)}),e.forEach(h=>{[...s.markers.getMarkersIntersectingRange(s.createRangeIn(h))].forEach(p=>i.add(p.name))}),i.forEach(h=>{r.has(h)&&(r.get(h)===this.state.highlightedResult&&(this.state.highlightedResult=null),r.remove(h))});const l=[],u=this.editor.plugins.get("FindAndReplaceUtils");e.forEach(h=>{const m=u.updateFindResultFromRange(s.createRangeOn(h),s,this.state.lastSearchCallback,r);l.push(...m)}),a.forEach(h=>{if(h.data.newRange){const m=u.updateFindResultFromRange(h.data.newRange,s,this.state.lastSearchCallback,r);l.push(...m)}}),!this.state.highlightedResult&&l.length?this.state.highlightedResult=l[0]:this.state.refreshHighlightOffset(s)})}static get requires(){return[c4e]}static get pluginName(){return"FindAndReplaceEditing"}static get isOfficialPlugin(){return!0}init(){this.state=new r4e(this.editor.model),this.set("_isSearchActive",!1),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(s,r,o,a)=>{const{model:l}=this.editor;l.change(u=>{if(a){const h=a.marker.name.split(":")[1],m=l.markers.get(`findResultHighlighted:${h}`);m&&u.removeMarker(m)}if(o){const h=o.marker.name.split(":")[1];u.addMarker(`findResultHighlighted:${h}`,{usingOperation:!1,affectsData:!1,range:o.marker.getRange()})}})});/* istanbul ignore next -- @preserve */const i=Es(((s,r,o)=>{if(o){const a=this.editor.editing.view.domConverter,l=this.editor.editing.mapper.toViewRange(o.marker.getRange());Oz({target:a.viewRangeToDom(l),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",i,{priority:"low"}),this.listenTo(this.editor,"destroy",i.cancel),this.on("change:_isSearchActive",(s,r,o)=>{o?this.listenTo(this.editor.model.document,"change:data",this._onDocumentChange):this.stopListening(this.editor.model.document,"change:data",this._onDocumentChange)})}find(e,i){return this._isSearchActive=!0,this.editor.execute("find",e,i),this.state.results}stop(){this.state.clear(this.editor.model),this._isSearchActive=!1}_defineCommands(){this.editor.commands.add("find",new s4e(this.editor,this.state)),this.editor.commands.add("findNext",new jU(this.editor,this.state)),this.editor.commands.add("findPrevious",new l4e(this.editor,this.state)),this.editor.commands.add("replace",new o4e(this.editor,this.state)),this.editor.commands.add("replaceAll",new a4e(this.editor,this.state))}_defineConverters(){const{editor:e}=this;e.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:i})=>{const[,s]=i.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":s}}}}),e.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:i})=>{const[,s]=i.split(":");return{name:"span",classes:[h4e],attributes:{"data-find-result":s}}}})}}class m4e extends F{static get requires(){return[f4e,i4e]}static get pluginName(){return"FindAndReplace"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get("FindAndReplaceUI"),e=this.editor.plugins.get("FindAndReplaceEditing"),i=e.state;t.on("findNext",(s,r)=>{r?(i.searchText=r.searchText,e.find(r.searchText,r)):this.editor.execute("findNext")}),t.on("findPrevious",(s,r)=>{r&&i.searchText!==r.searchText?e.find(r.searchText):this.editor.execute("findPrevious")}),t.on("replace",(s,r)=>{i.searchText!==r.searchText&&e.find(r.searchText);const o=i.highlightedResult;o&&this.editor.execute("replace",r.replaceText,o)}),t.on("replaceAll",(s,r)=>{i.searchText!==r.searchText&&e.find(r.searchText),this.editor.execute("replaceAll",r.replaceText,i.results)}),t.on("searchReseted",()=>{i.clear(this.editor.model),e.stop()})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Ey extends je{constructor(e,i){super(e);b(this,"attributeKey");this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=i.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,r=i.document.selection,o=e.value,a=e.batch,l=u=>{if(r.isCollapsed)o?u.setSelectionAttribute(this.attributeKey,o):u.removeSelectionAttribute(this.attributeKey);else{const h=i.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const m of h)o?u.setAttribute(this.attributeKey,o,m):u.removeAttribute(this.attributeKey,m)}};a?i.enqueueChange(a,u=>{l(u)}):i.change(u=>{l(u)})}}const ws="fontSize",ys="fontFamily",bo="fontColor",xa="fontBackgroundColor";function UU(n,t){const e={model:{key:n,values:[]},view:{},upcastAlso:{}};for(const i of t)e.model.values.push(i.model),e.view[i.model]=i.view,i.upcastAlso&&(e.upcastAlso[i.model]=i.upcastAlso);return e}function HU(n){return t=>p4e(t.getStyle(n))}function $U(n){return(t,{writer:e})=>e.createAttributeElement("span",{style:`${n}:${t}`},{priority:7})}function g4e({dropdownView:n,colors:t,columns:e,removeButtonLabel:i,colorPickerLabel:s,documentColorsLabel:r,documentColorsCount:o,colorPickerViewConfig:a}){const l=n.locale,u=new O5(l,{colors:t,columns:e,removeButtonLabel:i,colorPickerLabel:s,documentColorsLabel:r,documentColorsCount:o,colorPickerViewConfig:a});return n.colorSelectorView=u,n.panelView.children.add(u),u}function p4e(n){return n.replace(/\s/g,"")}class b4e extends Ey{constructor(t){super(t,ys)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function WU(n){return n.map(v4e).filter(t=>t!==void 0)}function v4e(n){if(typeof n=="object")return n;if(n==="default")return{title:"Default",model:void 0};if(typeof n=="string")return w4e(n)}function w4e(n){const t=n.replace(/"|'/g,"").split(","),e=t[0],i=t.map(y4e).join(", ");return{title:e,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}}function y4e(n){return n=n.trim(),n.indexOf(" ")>0&&(n=`'${n}'`),n}class _4e extends F{static get pluginName(){return"FontFamilyEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(ys,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ys}),t.model.schema.setAttributeProperties(ys,{isFormatting:!0,copyOnEnter:!0});const e=WU(t.config.get("fontFamily.options")).filter(s=>s.model),i=UU(ys,e);t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(i),t.commands.add(ys,new b4e(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:ys,view:(e,{writer:i})=>i.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:ys,value:e=>e.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:ys,value:e=>e.getAttribute("face")}})}}var f7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class x4e extends F{static get pluginName(){return"FontFamilyUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=this._getLocalizedOptions(),s=t.commands.get(ys),r=e("Font Family"),o=k4e(i,s);t.ui.componentFactory.add(ys,a=>{const l=Wn(a);return ro(l,o,{role:"menu",ariaLabel:r}),l.buttonView.set({label:r,icon:f7,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),l.bind("isEnabled").to(s),this.listenTo(l,"execute",u=>{t.execute(u.source.commandName,{value:u.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${ys}`,a=>{const l=new Yi(a);l.buttonView.set({label:r,icon:f7}),l.bind("isEnabled").to(s);const u=new No(a);for(const h of o){const m=new Jr(a,l),p=new Rt(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(h.model)).to(h.model),p.delegate("execute").to(l),p.on("execute",()=>{t.execute(h.model.commandName,{value:h.model.commandParam}),t.editing.view.focus()}),m.children.add(p),u.items.add(m)}return l.panelView.children.add(u),l})}_getLocalizedOptions(){const t=this.editor,e=t.t;return WU(t.config.get(ys).options).map(s=>(s.title==="Default"&&(s.title=e("Default")),s))}}function k4e(n,t){const e=new kn;for(const i of n){const s={type:"button",model:new wr({commandName:ys,commandParam:i.model,label:i.title,role:"menuitemradio",withText:!0})};s.model.bind("isOn").to(t,"value",r=>r===i.model?!0:!r||!i.model?!1:r.split(",")[0].replace(/'/g,"").toLowerCase()===i.model.toLowerCase()),i.view&&typeof i.view!="string"&&i.view.styles&&s.model.set("labelStyle",`font-family: ${i.view.styles["font-family"]}`),e.add(s)}return e}class C4e extends F{static get requires(){return[_4e,x4e]}static get pluginName(){return"FontFamily"}static get isOfficialPlugin(){return!0}}class E4e extends Ey{constructor(t){super(t,ws)}}function U5(n){return n.map(t=>T4e(t)).filter(t=>t!==void 0)}const m7={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function T4e(n){if(typeof n=="number"&&(n=String(n)),typeof n=="object"&&I4e(n))return RE(n);const t=A4e(n);if(t)return RE(t);if(n==="default")return{model:void 0,title:"Default"};if(!R4e(n))return S4e(n)}function S4e(n){return typeof n=="string"&&(n={title:n,model:`${parseFloat(n)}px`}),n.view={name:"span",styles:{"font-size":n.model}},RE(n)}function RE(n){return n.view&&typeof n.view!="string"&&!n.view.priority&&(n.view.priority=7),n}function A4e(n){return typeof n=="string"?m7[n]:m7[n.model]}function I4e(n){return n.title&&n.model&&n.view}function R4e(n){let t;if(typeof n=="object")if(n.model)t=parseFloat(n.model);else throw new L("font-size-invalid-definition",null,n);else t=parseFloat(n);return isNaN(t)}const g7=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class P4e extends F{static get pluginName(){return"FontSizeEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(ws,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ws}),t.model.schema.setAttributeProperties(ws,{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),i=U5(this.editor.config.get("fontSize.options")).filter(r=>r.model),s=UU(ws,i);e?(this._prepareAnyValueConverters(s),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(s),t.commands.add(ws,new E4e(t))}_prepareAnyValueConverters(t){const e=this.editor,i=t.model.values.filter(s=>!wy(String(s))&&!Ij(String(s)));if(i.length)throw new L("font-size-invalid-use-of-named-presets",null,{presets:i});e.conversion.for("downcast").attributeToElement({model:ws,view:(s,{writer:r})=>{if(s)return r.createAttributeElement("span",{style:"font-size:"+s},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:ws,value:s=>s.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:ws,value:e=>{const i=e.getAttribute("size"),s=i[0]==="-"||i[0]==="+";let r=parseInt(i,10);s&&(r=3+r);const o=g7.length-1,a=Math.min(Math.max(r,0),o);return g7[a]}}})}}var p7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class O4e extends F{static get pluginName(){return"FontSizeUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=this._getLocalizedOptions(),s=t.commands.get(ws),r=e("Font Size"),o=M4e(i,s);t.ui.componentFactory.add(ws,a=>{const l=Wn(a);return ro(l,o,{role:"menu",ariaLabel:r}),l.buttonView.set({label:r,icon:p7,tooltip:!0}),l.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),l.bind("isEnabled").to(s),this.listenTo(l,"execute",u=>{t.execute(u.source.commandName,{value:u.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${ws}`,a=>{const l=new Yi(a);l.buttonView.set({label:r,icon:p7}),l.bind("isEnabled").to(s);const u=new No(a);for(const h of o){const m=new Jr(a,l),p=new Rt(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(h.model)).to(h.model),p.delegate("execute").to(l),p.on("execute",()=>{t.execute(h.model.commandName,{value:h.model.commandParam}),t.editing.view.focus()}),m.children.add(p),u.items.add(m)}return l.panelView.children.add(u),l})}_getLocalizedOptions(){const t=this.editor,e=t.t,i={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return U5(t.config.get(ws).options).map(r=>{const o=i[r.title];return o&&o!=r.title&&(r=Object.assign({},r,{title:o})),r})}}function M4e(n,t){const e=new kn;for(const i of n){const s={type:"button",model:new wr({commandName:ws,commandParam:i.model,label:i.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};i.view&&typeof i.view!="string"&&(i.view.styles&&s.model.set("labelStyle",`font-size:${i.view.styles["font-size"]}`),i.view.classes&&s.model.set("class",`${s.model.class} ${i.view.classes}`)),s.model.bind("isOn").to(t,"value",r=>r===i.model),e.add(s)}return e}class D4e extends F{static get requires(){return[P4e,O4e]}static get pluginName(){return"FontSize"}static get isOfficialPlugin(){return!0}normalizeSizeOptions(t){return U5(t)}}class V4e extends Ey{constructor(t){super(t,bo)}}class N4e extends F{static get pluginName(){return"FontColorEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(bo,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:bo,value:HU("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:bo,value:e=>e.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:bo,view:$U("color")}),t.commands.add(bo,new V4e(t)),t.model.schema.extend("$text",{allowAttributes:bo}),t.model.schema.setAttributeProperties(bo,{isFormatting:!0,copyOnEnter:!0})}}class qU extends F{constructor(e,{commandName:i,componentName:s,icon:r,dropdownLabel:o}){super(e);b(this,"commandName");b(this,"componentName");b(this,"icon");b(this,"dropdownLabel");b(this,"columns");this.commandName=i,this.componentName=s,this.icon=r,this.dropdownLabel=o,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,i=e.locale,s=i.t,r=e.commands.get(this.commandName),o=e.config.get(this.componentName),a=ap(o.colors),l=op(i,a),u=o.documentColors,h=o.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,m=>{const p=Wn(m);let v=!1;const _=g4e({dropdownView:p,colors:l.map(k=>({label:k.label,color:k.model,options:{hasBorder:k.hasBorder}})),columns:this.columns,removeButtonLabel:s("Remove color"),colorPickerLabel:s("Color picker"),documentColorsLabel:u!==0?s("Document colors"):"",documentColorsCount:u===void 0?this.columns:u,colorPickerViewConfig:h?o.colorPicker||{}:!1});return _.bind("selectedColor").to(r,"value"),p.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),p.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),p.bind("isEnabled").to(r),_.on("execute",(k,C)=>{p.isOpen&&e.execute(this.commandName,{value:C.value,batch:this._undoStepBatch}),C.source!=="colorPicker"&&e.editing.view.focus(),C.source==="colorPickerSaveButton"&&(p.isOpen=!1)}),_.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),_.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(p.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),p.on("change:isOpen",(k,C,T)=>{v||(v=!0,p.colorSelectorView.appendUI()),T&&(u!==0&&_.updateDocumentColors(e.model,this.componentName),_.updateSelectedColors(),_.showColorGridsFragment())}),ky(p,()=>p.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(k=>k.isOn)),p}),e.ui.componentFactory.add(`menuBar:${this.componentName}`,m=>{const p=new Yi(m);p.buttonView.set({label:this.dropdownLabel,icon:this.icon}),p.bind("isEnabled").to(r);let v=!1;const _=new O5(m,{colors:l.map(k=>({label:k.label,color:k.model,options:{hasBorder:k.hasBorder}})),columns:this.columns,removeButtonLabel:s("Remove color"),colorPickerLabel:s("Color picker"),documentColorsLabel:u!==0?s("Document colors"):"",documentColorsCount:u===void 0?this.columns:u,colorPickerViewConfig:!1});return _.bind("selectedColor").to(r,"value"),_.delegate("execute").to(p),_.on("execute",(k,C)=>{e.execute(this.commandName,{value:C.value,batch:this._undoStepBatch}),e.editing.view.focus()}),p.on("change:isOpen",(k,C,T)=>{v||(v=!0,_.appendUI()),T&&(u!==0&&_.updateDocumentColors(e.model,this.componentName),_.updateSelectedColors(),_.showColorGridsFragment())}),p.panelView.children.add(_),p})}}var L4e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class B4e extends qU{constructor(t){const e=t.locale.t;super(t,{commandName:bo,componentName:bo,icon:L4e,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class F4e extends F{static get requires(){return[N4e,B4e]}static get pluginName(){return"FontColor"}static get isOfficialPlugin(){return!0}}class z4e extends Ey{constructor(t){super(t,xa)}}class j4e extends F{static get pluginName(){return"FontBackgroundColorEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(xa,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(E5),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:xa,value:HU("background-color")}}),t.conversion.for("downcast").attributeToElement({model:xa,view:$U("background-color")}),t.commands.add(xa,new z4e(t)),t.model.schema.extend("$text",{allowAttributes:xa}),t.model.schema.setAttributeProperties(xa,{isFormatting:!0,copyOnEnter:!0})}}var U4e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>';class H4e extends qU{constructor(t){const e=t.locale.t;super(t,{commandName:xa,componentName:xa,icon:U4e,dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class $4e extends F{static get requires(){return[j4e,H4e]}static get pluginName(){return"FontBackgroundColor"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class W4e extends je{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document,i=Qt(e.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&b7(i,t.schema)}execute(t={}){const e=this.editor.model,i=e.document,s=t.selection||i.selection;e.canEditAt(s)&&e.change(r=>{const o=s.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&b7(a,e.schema)&&r.rename(a,"paragraph")})}}function b7(n,t){return t.checkChild(n.parent,"paragraph")&&!t.isObject(n)}class q4e extends je{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,i=t.attributes;let s=t.position;return e.canEditAt(s)?e.change(r=>{if(s=this._findPositionToInsertParagraph(s,r),!s)return null;const o=r.createElement("paragraph");return i&&e.schema.setAllowedAttributes(o,i,r),e.insertContent(o,s),r.setSelection(o,"in"),r.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(t,e){const i=this.editor.model;if(i.schema.checkChild(t,"paragraph"))return t;const s=i.schema.findAllowedParent(t,"paragraph");if(!s)return null;const r=t.parent,o=i.schema.checkChild(r,"$text");return r.isEmpty||o&&t.isAtEnd?i.createPositionAfter(r):!r.isEmpty&&o&&t.isAtStart?i.createPositionBefore(r):e.split(t,s).position}}const sw=class sw extends F{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new W4e(t)),t.commands.add("insertParagraph",new q4e(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>!sw.paragraphLikeElements.has(i.name)||i.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}};b(sw,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));let jv=sw;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class G4e extends je{constructor(e,i){super(e);b(this,"modelElements");this.modelElements=i}refresh(){const e=Qt(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>v7(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,s=i.document,r=e.value;i.change(o=>{const a=Array.from(s.selection.getSelectedBlocks()).filter(l=>v7(l,r,i.schema));for(const l of a)l.is("element",r)||o.rename(l,r)})}}function v7(n,t,e){return e.checkChild(n.parent,t)&&!e.isObject(n)}const w7="paragraph";class Y4e extends F{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[jv]}init(){const t=this.editor,e=t.config.get("heading.options"),i=[];for(const s of e)s.model!=="paragraph"&&(t.model.schema.register(s.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(s),i.push(s.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new G4e(t,i))}afterInit(){const t=this.editor,e=t.commands.get("enter"),i=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(s,r)=>{const o=t.model.document.selection.getFirstPosition().parent;i.some(l=>o.is("element",l.model))&&!o.is("element",w7)&&o.childCount===0&&r.writer.rename(o,w7)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Bs.low+1})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Z4e(n){const t=n.t,e={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return n.config.get("heading.options").map(i=>{const s=e[i.title];return s&&s!=i.title&&(i.title=s),i})}class K4e extends F{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=Z4e(t),s=e("Choose heading"),r=e("Heading");t.ui.componentFactory.add("heading",o=>{const a={},l=new kn,u=t.commands.get("heading"),h=t.commands.get("paragraph"),m=[u];for(const v of i){const _={type:"button",model:new wr({label:v.title,class:v.class,role:"menuitemradio",withText:!0})};v.model==="paragraph"?(_.model.bind("isOn").to(h,"value"),_.model.set("commandName","paragraph"),m.push(h)):(_.model.bind("isOn").to(u,"value",k=>k===v.model),_.model.set({commandName:"heading",commandValue:v.model})),l.add(_),a[v.model]=v.title}const p=Wn(o);return ro(p,l,{ariaLabel:r,role:"menu"}),p.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),p.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),p.bind("isEnabled").toMany(m,"isEnabled",(...v)=>v.some(_=>_)),p.buttonView.bind("label").to(u,"value",h,"value",(v,_)=>{const k=_?"paragraph":v;return typeof k=="boolean"||!a[k]?s:a[k]}),p.buttonView.bind("ariaLabel").to(u,"value",h,"value",(v,_)=>{const k=_?"paragraph":v;return typeof k=="boolean"||!a[k]?r:`${a[k]}, ${r}`}),this.listenTo(p,"execute",v=>{const{commandName:_,commandValue:k}=v.source;t.execute(_,k?{value:k}:void 0),t.editing.view.focus()}),p}),t.ui.componentFactory.add("menuBar:heading",o=>{const a=new Yi(o),l=t.commands.get("heading"),u=t.commands.get("paragraph"),h=[l],m=new No(o);a.set({class:"ck-heading-dropdown"}),m.set({ariaLabel:e("Heading"),role:"menu"}),a.buttonView.set({label:e("Heading")}),a.panelView.children.add(m);for(const p of i){const v=new Jr(o,a),_=new Rt(o);v.children.add(_),m.items.add(v),_.set({isToggleable:!0,label:p.title,role:"menuitemradio",class:p.class}),_.delegate("execute").to(a),_.on("execute",()=>{const k=p.model==="paragraph"?"paragraph":"heading";t.execute(k,{value:p.model}),t.editing.view.focus()}),p.model==="paragraph"?(_.bind("isOn").to(u,"value"),h.push(u)):_.bind("isOn").to(l,"value",k=>k===p.model)}return a.bind("isEnabled").toMany(h,"isEnabled",(...p)=>p.some(v=>v)),a})}}class X4e extends F{static get requires(){return[Y4e,K4e]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}const y7=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class J4e extends F{constructor(){super(...arguments);b(this,"_bodyPlaceholder",new Map)}static get pluginName(){return"Title"}static get isOfficialPlugin(){return!0}static get requires(){return["Paragraph"]}init(){const e=this.editor,i=e.model;i.schema.register("title",{isBlock:!0,allowIn:"$root"}),i.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),i.schema.extend("$text",{allowIn:"title-content"}),i.schema.addAttributeCheck(s=>{if(s.endsWith("title-content $text"))return!1}),e.editing.mapper.on("modelToViewPosition",_7(e.editing.view)),e.data.mapper.on("modelToViewPosition",_7(e.editing.view)),e.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),e.conversion.for("downcast").add(s=>s.on("insert:title",(r,o,a)=>{a.consumable.consume(o.item,r.name)})),e.data.upcastDispatcher.on("element:h1",Ek,{priority:"high"}),e.data.upcastDispatcher.on("element:h2",Ek,{priority:"high"}),e.data.upcastDispatcher.on("element:h3",Ek,{priority:"high"}),i.document.registerPostFixer(s=>this._fixTitleContent(s)),i.document.registerPostFixer(s=>this._fixTitleElement(s)),i.document.registerPostFixer(s=>this._fixBodyElement(s)),i.document.registerPostFixer(s=>this._fixExtraParagraph(s)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(e={}){const i=e.rootName?e.rootName:void 0,r=this._getTitleElement(i).getChild(0);return this.editor.data.stringify(r,e)}getBody(e={}){const i=this.editor,s=i.data,r=i.model,o=e.rootName?e.rootName:void 0,a=i.model.document.getRoot(o),l=i.editing.view,u=new b5(l.document),h=r.createRangeIn(a),m=u.createDocumentFragment(),p=r.createPositionAfter(a.getChild(0)),v=r.createRange(p,r.createPositionAt(a,"end")),_=new Map;for(const k of r.markers){const C=v.getIntersection(k.getRange());C&&_.set(k.name,C)}return s.mapper.clearBindings(),s.mapper.bindElements(a,m),s.downcastDispatcher.convert(h,_,u,e),u.remove(u.createRangeOn(m.getChild(0))),i.data.processor.toData(m)}_getTitleElement(e){const i=this.editor.model.document.getRoot(e);for(const s of i.getChildren())if(x7(s))return s}_fixTitleContent(e){let i=!1;for(const s of this.editor.model.document.getRootNames()){const r=this._getTitleElement(s);if(!r||r.maxOffset===1)continue;const o=Array.from(r.getChildren());o.shift();for(const a of o)e.move(e.createRangeOn(a),r,"after"),e.rename(a,"paragraph");i=!0}return i}_fixTitleElement(e){let i=!1;const s=this.editor.model;for(const r of this.editor.model.document.getRoots()){const o=Array.from(r.getChildren()).filter(x7),a=o[0],l=r.getChild(0);if(l.is("element","title")){o.length>1&&(k7(o,e,s),i=!0);continue}if(!a&&!y7.has(l.name)){const u=e.createElement("title");e.insert(u,r),e.insertElement("title-content",u),i=!0;continue}y7.has(l.name)?Q4e(l,e,s):e.move(e.createRangeOn(a),r,0),k7(o,e,s),i=!0}return i}_fixBodyElement(e){let i=!1;for(const s of this.editor.model.document.getRootNames()){const r=this.editor.model.document.getRoot(s);if(r.childCount<2){const o=e.createElement("paragraph");e.insert(o,r,1),this._bodyPlaceholder.set(s,o),i=!0}}return i}_fixExtraParagraph(e){let i=!1;for(const s of this.editor.model.document.getRootNames()){const r=this.editor.model.document.getRoot(s),o=this._bodyPlaceholder.get(s);t6e(o,r)&&(this._bodyPlaceholder.delete(s),e.remove(o),i=!0)}return i}_attachPlaceholders(){const e=this.editor,i=e.t,s=e.editing.view,r=e.sourceElement,o=e.config.get("title.placeholder")||i("Type your title"),a=e.config.get("placeholder")||r&&r.tagName.toLowerCase()==="textarea"&&r.getAttribute("placeholder")||i("Type or paste your content here.");e.editing.downcastDispatcher.on("insert:title-content",(u,h,m)=>{const p=m.mapper.toViewElement(h.item);p.placeholder=o,fy({view:s,element:p,keepOnFocus:!0})});const l=new Map;s.document.registerPostFixer(u=>{let h=!1;for(const m of s.document.roots){if(m.isEmpty)continue;const p=m.getChild(1),v=l.get(m.rootName);p!==v&&(v&&(aE(u,v),u.removeAttribute("data-placeholder",v)),u.setAttribute("data-placeholder",a,p),l.set(m.rootName,p),h=!0),Fz(p,!0)&&m.childCount===2&&p.name==="p"?h=Bz(u,p)?!0:h:h=aE(u,p)?!0:h}return h})}_attachTabPressHandling(){const e=this.editor,i=e.model;e.keystrokes.set("TAB",(s,r)=>{i.change(o=>{const a=i.document.selection,l=Array.from(a.getSelectedBlocks());if(l.length===1&&l[0].is("element","title-content")){const h=a.getFirstPosition().root.getChild(1);o.setSelection(h,0),r()}})}),e.keystrokes.set("SHIFT + TAB",(s,r)=>{i.change(o=>{const a=i.document.selection;if(!a.isCollapsed)return;const l=Qt(a.getSelectedBlocks()),u=a.getFirstPosition(),h=e.model.document.getRoot(u.root.rootName),m=h.getChild(0),p=h.getChild(1);l===p&&u.isAtStart&&(o.setSelection(m.getChild(0),0),r())})})}}function Ek(n,t,e){const i=t.modelCursor,s=t.viewItem;if(!i.isAtStart||!i.parent.is("element","$root")||!e.consumable.consume(s,{name:!0}))return;const r=e.writer,o=r.createElement("title"),a=r.createElement("title-content");r.append(a,o),r.insert(o,i),e.convertChildren(s,a),e.updateConversionResult(o,t)}function _7(n){return(t,e)=>{const i=e.modelPosition.parent;if(!i.is("element","title"))return;const s=i.parent,r=e.mapper.toViewElement(s);e.viewPosition=n.createPositionAt(r,0),t.stop()}}function x7(n){return n.is("element","title")}function Q4e(n,t,e){const i=t.createElement("title");t.insert(i,n,"before"),t.insert(n,i,0),t.rename(n,"title-content"),e.schema.removeDisallowedAttributes([n],t)}function k7(n,t,e){let i=!1;for(const s of n)s.index!==0&&(e6e(s,t,e),i=!0);return i}function e6e(n,t,e){const i=n.getChild(0);if(i.isEmpty){t.remove(n);return}t.move(t.createRangeOn(i),n,"before"),t.rename(i,"paragraph"),t.remove(n),e.schema.removeDisallowedAttributes([i],t)}function t6e(n,t){return!(!n||!n.is("element","paragraph")||n.childCount||t.childCount<=2||t.getChild(t.childCount-1)!==n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class n6e extends je{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("highlight"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"highlight")}execute(t={}){const e=this.editor.model,s=e.document.selection,r=t.value;e.change(o=>{if(s.isCollapsed){const a=s.getFirstPosition();if(s.hasAttribute("highlight")){const l=p=>p.item.hasAttribute("highlight")&&p.item.getAttribute("highlight")===this.value,u=a.getLastMatchingPosition(l,{direction:"backward"}),h=a.getLastMatchingPosition(l),m=o.createRange(u,h);!r||this.value===r?(a.isEqual(h)||o.removeAttribute("highlight",m),o.removeSelectionAttribute("highlight")):(a.isEqual(h)||o.setAttribute("highlight",r,m),o.setSelectionAttribute("highlight",r))}else r&&o.setSelectionAttribute("highlight",r)}else{const a=e.schema.getValidRanges(s.getRanges(),"highlight");for(const l of a)r?o.setAttribute("highlight",r,l):o.removeAttribute("highlight",l)}})}}class i6e extends F{static get pluginName(){return"HighlightEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"highlight"});const e=t.config.get("highlight.options");t.conversion.attributeToElement(s6e(e)),t.commands.add("highlight",new n6e(t))}}function s6e(n){const t={model:{key:"highlight",values:[]},view:{}};for(const e of n)t.model.values.push(e.model),t.view[e.model]={name:"mark",classes:e.class};return t}var r6e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>',o6e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';class a6e extends F{get localizedOptionTitles(){const t=this.editor.t;return{"Yellow marker":t("Yellow marker"),"Green marker":t("Green marker"),"Pink marker":t("Pink marker"),"Blue marker":t("Blue marker"),"Red pen":t("Red pen"),"Green pen":t("Green pen")}}static get pluginName(){return"HighlightUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.config.get("highlight.options");for(const e of t)this._addHighlighterButton(e);this._addRemoveHighlightButton(),this._addDropdown(t),this._addMenuBarButton(t)}_addRemoveHighlightButton(){const t=this.editor.t,e=this.editor.commands.get("highlight");this._addButton("removeHighlight",t("Remove highlight"),me.eraser,null,i=>{i.bind("isEnabled").to(e,"isEnabled")})}_addHighlighterButton(t){const e=this.editor.commands.get("highlight");this._addButton("highlight:"+t.model,t.title,Yb(t.type),t.model,i);function i(s){s.bind("isEnabled").to(e,"isEnabled"),s.bind("isOn").to(e,"value",r=>r===t.model),s.iconView.fillColor=t.color,s.isToggleable=!0}}_addButton(t,e,i,s,r){const o=this.editor;o.ui.componentFactory.add(t,a=>{const l=new Le(a),u=this.localizedOptionTitles[e]?this.localizedOptionTitles[e]:e;return l.set({label:u,icon:i,tooltip:!0}),l.on("execute",()=>{o.execute("highlight",{value:s}),o.editing.view.focus()}),r(l),l})}_addDropdown(t){const e=this.editor,i=e.t,s=e.ui.componentFactory,r=t[0],o=t.reduce((a,l)=>(a[l.model]=l,a),{});s.add("highlight",a=>{const l=e.commands.get("highlight"),u=Wn(a,Wu),h=u.buttonView;h.set({label:i("Highlight"),tooltip:!0,lastExecuted:r.model,commandValue:r.model,isToggleable:!0}),h.bind("icon").to(l,"value",v=>Yb(p(v,"type"))),h.bind("color").to(l,"value",v=>p(v,"color")),h.bind("commandValue").to(l,"value",v=>p(v,"model")),h.bind("isOn").to(l,"value",v=>!!v),h.delegate("execute").to(u);const m=()=>{const v=t.map(_=>{const k=s.create("highlight:"+_.model);return this.listenTo(k,"execute",()=>{u.buttonView.set({lastExecuted:_.model})}),k});return v.push(new R5),v.push(s.create("removeHighlight")),v};u.bind("isEnabled").to(l,"isEnabled"),Xp(u,m,{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:i("Text highlight toolbar")}),l6e(u),h.on("execute",()=>{e.execute("highlight",{value:h.commandValue})}),this.listenTo(u,"execute",()=>{e.editing.view.focus()});function p(v,_){const k=!v||v===h.lastExecuted?h.lastExecuted:v;return o[k][_]}return u})}_addMenuBarButton(t){const e=this.editor,i=e.t,s=e.commands.get("highlight");e.ui.componentFactory.add("menuBar:highlight",r=>{const o=new Yi(r);o.buttonView.set({label:i("Highlight"),icon:Yb("marker")}),o.bind("isEnabled").to(s),o.buttonView.iconView.fillColor="transparent";const a=new No(r);for(const h of t){const m=new Jr(r,o),p=new Rt(r);p.set({label:h.title,icon:Yb(h.type),role:"menuitemradio",isToggleable:!0}),p.iconView.fillColor=h.color,p.delegate("execute").to(o),p.bind("isOn").to(s,"value",v=>v===h.model),p.on("execute",()=>{e.execute("highlight",{value:h.model}),e.editing.view.focus()}),m.children.add(p),a.items.add(m)}a.items.add(new Kp(r));const l=new Jr(r,o),u=new Rt(r);return u.set({label:i("Remove highlight"),icon:me.eraser}),u.delegate("execute").to(o),u.on("execute",()=>{e.execute("highlight",{value:null}),e.editing.view.focus()}),l.children.add(u),a.items.add(l),o.panelView.children.add(a),o})}}function l6e(n){n.buttonView.actionView.iconView.bind("fillColor").to(n.buttonView,"color")}function Yb(n){return n==="marker"?r6e:o6e}class c6e extends F{static get requires(){return[i6e,a6e]}static get pluginName(){return"Highlight"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class u6e extends je{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection;this.isEnabled=d6e(i,e,t)}execute(){const t=this.editor.model;t.change(e=>{const i=e.createElement("horizontalLine");t.insertObject(i,null,null,{setSelection:"after"})})}}function d6e(n,t,e){const i=h6e(n,e);return t.checkChild(i,"horizontalLine")}function h6e(n,t){const i=e0(n,t).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}class f6e extends F{static get pluginName(){return"HorizontalLineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.t,s=t.conversion;e.register("horizontalLine",{inheritAllFrom:"$blockObject"}),s.for("dataDowncast").elementToElement({model:"horizontalLine",view:(r,{writer:o})=>o.createEmptyElement("hr")}),s.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(r,{writer:o})=>{const a=i("Horizontal line"),l=o.createContainerElement("div",null,o.createEmptyElement("hr"));return o.addClass("ck-horizontal-line",l),o.setCustomProperty("hr",!0,l),m6e(l,o,a)}}),s.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),t.commands.add("horizontalLine",new u6e(t))}}function m6e(n,t,e){return t.setCustomProperty("horizontalLine",!0,n),al(n,t,{label:e})}class g6e extends F{static get pluginName(){return"HorizontalLineUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("horizontalLine",()=>{const e=this._createButton(Le);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(Rt))}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get("horizontalLine"),r=new t(e.locale),o=i.t;return r.set({label:o("Horizontal line"),icon:me.horizontalLine}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),r}}class p6e extends F{static get requires(){return[f6e,g6e,Go]}static get pluginName(){return"HorizontalLine"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class b6e extends je{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection,s=C7(i);this.isEnabled=v6e(i,e,t),this.value=s?s.getAttribute("value")||"":null}execute(t){const e=this.editor.model,i=e.document.selection;e.change(s=>{let r;this.value!==null?r=C7(i):(r=s.createElement("rawHtml"),e.insertObject(r,null,null,{setSelection:"on"})),s.setAttribute("value",t,r)})}}function v6e(n,t,e){const i=w6e(n,e);return t.checkChild(i,"rawHtml")}function w6e(n,t){const i=e0(n,t).start.parent;return i.isEmpty&&!i.is("rootElement")?i.parent:i}function C7(n){const t=n.getSelectedElement();return t&&t.is("element","rawHtml")?t:null}class y6e extends F{constructor(e){super(e);b(this,"_widgetButtonViewReferences",new Set);e.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:i=>(ht("html-embed-provide-sanitize-function"),{html:i,hasChanged:!1})})}static get pluginName(){return"HtmlEmbedEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),e.commands.add("htmlEmbed",new b6e(e)),this._setupConversion()}_setupConversion(){const e=this.editor,i=e.t,s=e.editing.view,r=this._widgetButtonViewReferences,o=e.config.get("htmlEmbed");this.editor.editing.view.on("render",()=>{for(const m of r){if(m.element&&m.element.isConnected)return;m.destroy(),r.delete(m)}},{priority:"lowest"}),e.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),e.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(m,{writer:p})=>p.createElement("rawHtml",{value:m.getCustomProperty("$rawContent")})}),e.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(m,{writer:p})=>p.createRawElement("div",{class:"raw-html-embed"},function(v){v.innerHTML=m.getAttribute("value")||""})}),e.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(m,{writer:p})=>{let v,_,k;const C=p.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(I){v=I,a({editor:e,domElement:I,state:_,props:k}),v.addEventListener("mousedown",()=>{if(_.isEditable){const P=e.model;P.document.selection.getSelectedElement()!==m&&P.change(D=>D.setSelection(m,"on"))}},!0)}),T={makeEditable(){_=Object.assign({},_,{isEditable:!0}),a({domElement:v,editor:e,state:_,props:k}),s.change(I=>{I.setAttribute("data-cke-ignore-events","true",C)}),v.querySelector("textarea").focus()},save(I){I!==_.getRawHtmlValue()?(e.execute("htmlEmbed",I),e.editing.view.focus()):this.cancel()},cancel(){_=Object.assign({},_,{isEditable:!1}),a({domElement:v,editor:e,state:_,props:k}),e.editing.view.focus(),s.change(I=>{I.removeAttribute("data-cke-ignore-events",C)})}};_={showPreviews:o.showPreviews,isEditable:!1,getRawHtmlValue:()=>m.getAttribute("value")||""},k={sanitizeHtml:o.sanitizeHtml,textareaPlaceholder:i("Paste raw HTML here..."),onEditClick(){T.makeEditable()},onSaveClick(I){T.save(I)},onCancelClick(){T.cancel()}};const S=p.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":i("HTML snippet"),dir:e.locale.uiLanguageDirection},C);return p.setCustomProperty("rawHtmlApi",T,S),p.setCustomProperty("rawHtml",!0,S),al(S,p,{label:i("HTML snippet"),hasSelectionHandle:!0})}});function a({editor:m,domElement:p,state:v,props:_}){p.textContent="";const k=p.ownerDocument;let C;if(v.isEditable){const S={isDisabled:!1,placeholder:_.textareaPlaceholder};C=u({domDocument:k,state:v,props:S}),p.append(C)}else if(v.showPreviews){const S={sanitizeHtml:_.sanitizeHtml};p.append(h({domDocument:k,state:v,props:S,editor:m}))}else{const S={isDisabled:!0,placeholder:_.textareaPlaceholder};p.append(u({domDocument:k,state:v,props:S}))}const T={onEditClick:_.onEditClick,onSaveClick:()=>{_.onSaveClick(C.value)},onCancelClick:_.onCancelClick};p.prepend(l({editor:m,domDocument:k,state:v,props:T}))}function l({editor:m,domDocument:p,state:v,props:_}){const k=Ei(p,"div",{class:"raw-html-embed__buttons-wrapper"});if(v.isEditable){const C=Tk(m,"save",_.onSaveClick),T=Tk(m,"cancel",_.onCancelClick);k.append(C.element,T.element),r.add(C).add(T)}else{const C=Tk(m,"edit",_.onEditClick);k.append(C.element),r.add(C)}return k}function u({domDocument:m,state:p,props:v}){const _=Ei(m,"textarea",{placeholder:v.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return _.disabled=v.isDisabled,_.value=p.getRawHtmlValue(),_}function h({editor:m,domDocument:p,state:v,props:_}){const k=_.sanitizeHtml(v.getRawHtmlValue()),C=v.getRawHtmlValue().length>0?i("No preview available"):i("Empty snippet content"),T=Ei(p,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},C),S=Ei(p,"div",{class:"raw-html-embed__preview-content",dir:m.locale.contentLanguageDirection}),P=p.createRange().createContextualFragment(k.html);return S.appendChild(P),Ei(p,"div",{class:"raw-html-embed__preview"},[T,S])}}}function Tk(n,t,e){const{t:i}=n.locale,s=new Le(n.locale),r=n.commands.get("htmlEmbed");return s.set({class:`raw-html-embed__${t}-button`,icon:me.pencil,tooltip:!0,tooltipPosition:n.locale.uiLanguageDirection==="rtl"?"e":"w"}),s.render(),t==="edit"?(s.set({icon:me.pencil,label:i("Edit source")}),s.bind("isEnabled").to(r)):t==="save"?(s.set({icon:me.check,label:i("Save changes")}),s.bind("isEnabled").to(r)):s.set({icon:me.cancel,label:i("Cancel")}),s.on("execute",e),s}class _6e extends F{static get pluginName(){return"HtmlEmbedUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,i=t.locale.t;t.ui.componentFactory.add("htmlEmbed",()=>{const s=this._createButton(Le);return s.set({tooltip:!0,label:i("Insert HTML")}),s}),t.ui.componentFactory.add("menuBar:htmlEmbed",()=>{const s=this._createButton(Rt);return s.set({label:i("HTML snippet")}),s})}_createButton(t){const e=this.editor,i=e.commands.get("htmlEmbed"),s=new t(e.locale);return s.set({icon:me.html}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("htmlEmbed"),e.editing.view.focus(),e.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),s}}class x6e extends F{static get requires(){return[y6e,_6e,Go]}static get pluginName(){return"HtmlEmbed"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hc(n,t,e,i){t&&k6e(n,t,i),e&&Ao(n,e,i)}function Ao(n,t,e){if(t.attributes)for(const[i,s]of Object.entries(t.attributes))n.setAttribute(i,s,e);t.styles&&n.setStyle(t.styles,e),t.classes&&n.addClass(t.classes,e)}function k6e(n,t,e){if(t.attributes)for(const[i]of Object.entries(t.attributes))n.removeAttribute(i,e);if(t.styles)for(const i of Object.keys(t.styles))n.removeStyle(i,e);t.classes&&n.removeClass(t.classes,e)}function C6e(n,t){const e=Er(n);let i="attributes";for(i in t)i=="classes"?e[i]=Array.from(new Set([...n[i]||[],...t[i]])):e[i]={...n[i],...t[i]};return e}function Jd(n,t,e,i,s){const r=t.getAttribute(e),o={};for(const a of["attributes","styles","classes"]){if(a!=i){r&&r[a]&&(o[a]=r[a]);continue}if(i=="classes"){const u=new Set(r&&r.classes||[]);s(u),u.size&&(o[a]=Array.from(u));continue}const l=new Map(Object.entries(r&&r[a]||{}));s(l),l.size&&(o[a]=Object.fromEntries(l))}Object.keys(o).length?t.is("documentSelection")?n.setSelectionAttribute(e,o):n.setAttribute(e,o,t):r&&(t.is("documentSelection")?n.removeSelectionAttribute(e):n.removeAttribute(e,t))}function E6e(n){return Dwe(n).replace(/ /g,"")}function mr(n){return`html${E6e(n)}Attributes`}function H5({model:n}){return(t,e)=>e.writer.createElement(n,{htmlContent:t.getCustomProperty("$rawContent")})}function T6e(n,{view:t,isInline:e}){const i=n.t;return(s,{writer:r})=>{const o=i("HTML object"),a=Ty(t,s,r),l=s.getAttribute(mr(t));r.addClass("html-object-embed__content",a),l&&Ao(r,l,a);const u=r.createContainerElement(e?"span":"div",{class:"html-object-embed","data-html-object-embed-label":o},a);return al(u,r,{label:o})}}function Ty(n,t,e){return e.createRawElement(n,null,(i,s)=>{s.setContentOf(i,t.getAttribute("htmlContent"))})}function S6e({view:n,model:t,allowEmpty:e},i){return r=>{r.on(`element:${n}`,(o,a,l)=>{let u=i.processViewAttributes(a.viewItem,l);if(!(!u&&!l.consumable.test(a.viewItem,{name:!0}))){if(u=u||{},l.consumable.consume(a.viewItem,{name:!0}),a.modelRange||(a=Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor))),e&&a.modelRange.isCollapsed&&Object.keys(u).length){const h=l.writer.createElement("htmlEmptyElement");if(!l.safeInsert(h,a.modelCursor))return;const m=l.getSplitParts(h);a.modelRange=l.writer.createRange(a.modelRange.start,l.writer.createPositionAfter(m[m.length-1])),l.updateConversionResult(h,a),s(h,u,l);return}for(const h of a.modelRange.getItems())s(h,u,l)}},{priority:"low"})};function s(r,o,a){if(a.schema.checkAttribute(r,t)){const l=r.getAttribute(t),u=C6e(o,l||{});a.writer.setAttribute(t,u,r)}}}function E7({model:n,view:t},e){return(i,{writer:s,consumable:r})=>{if(!i.hasAttribute(n))return null;const o=s.createContainerElement(t),a=i.getAttribute(n);return r.consume(i,`attribute:${n}`),Ao(s,a,o),o.getFillerOffset=()=>null,e?al(o,s):o}}function A6e({priority:n,view:t}){return(e,i)=>{if(!e)return;const{writer:s}=i,r=s.createAttributeElement(t,null,{priority:n});return Ao(s,e,r),r}}function qh({view:n},t){return e=>{e.on(`element:${n}`,(i,s,r)=>{if(!s.modelRange||s.modelRange.isCollapsed)return;const o=t.processViewAttributes(s.viewItem,r);o&&r.writer.setAttribute(mr(s.viewItem.name),o,s.modelRange)},{priority:"low"})}}function cp({view:n,model:t}){return e=>{e.on(`attribute:${mr(n)}:${t}`,(i,s,r)=>{if(!r.consumable.consume(s.item,i.name))return;const{attributeOldValue:o,attributeNewValue:a}=s,l=r.writer,u=r.mapper.toViewElement(s.item);hc(l,o,a,u)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var T7={block:[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"horizontalLine",view:"hr"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6","$text"],allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowIn:["$root","$container"],allowChildren:["paragraph","htmlP","htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlHr",view:"hr",isEmpty:!0,modelSchema:{inheritAllFrom:"$blockObject"}}],inline:[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref"},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}]};class Gh extends F{constructor(){super(...arguments);b(this,"_definitions",[])}static get pluginName(){return"DataSchema"}static get isOfficialPlugin(){return!0}init(){for(const e of T7.block)this.registerBlockElement(e);for(const e of T7.inline)this.registerInlineElement(e)}registerBlockElement(e){this._definitions.push({...e,isBlock:!0})}registerInlineElement(e){this._definitions.push({...e,isInline:!0})}extendBlockElement(e){this._extendDefinition({...e,isBlock:!0})}extendInlineElement(e){this._extendDefinition({...e,isInline:!0})}getDefinitionsForView(e,i=!1){const s=new Set;for(const r of this._getMatchingViewDefinitions(e)){if(i)for(const o of this._getReferences(r.model))s.add(o);s.add(r)}return s}getDefinitionsForModel(e){return this._definitions.filter(i=>i.model==e)}_getMatchingViewDefinitions(e){return this._definitions.filter(i=>i.view&&I6e(e,i.view))}*_getReferences(e){const i=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],s=this._definitions.filter(r=>r.model==e);for(const{modelSchema:r}of s)if(r)for(const o of i)for(const a of qt(r[o]||[])){const l=this._definitions.filter(u=>u.model==a);for(const u of l)a!==e&&(yield*this._getReferences(u.model),yield u)}}_extendDefinition(e){const i=Array.from(this._definitions.entries()).filter(([,s])=>s.model==e.model);if(i.length==0){this._definitions.push(e);return}for(const[s,r]of i)this._definitions[s]=ywe({},r,e,(o,a)=>Array.isArray(o)?o.concat(a):void 0)}}function I6e(n,t){return typeof n=="string"?n===t:n instanceof RegExp?n.test(t):!1}class Ln extends F{constructor(e){super(e);b(this,"_dataSchema");b(this,"_allowedAttributes");b(this,"_disallowedAttributes");b(this,"_allowedElements");b(this,"_disallowedElements");b(this,"_dataInitialized");b(this,"_coupledAttributes");this._dataSchema=e.plugins.get("DataSchema"),this._allowedAttributes=new ls,this._disallowedAttributes=new ls,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get isOfficialPlugin(){return!0}static get requires(){return[Gh,Go]}loadAllowedConfig(e){for(const i of e){const s=i.name||/[\s\S]+/,r=A7(i);this.allowElement(s),r.forEach(o=>this.allowAttributes(o))}}loadDisallowedConfig(e){for(const i of e){const s=i.name||/[\s\S]+/,r=A7(i);r.length==0?this.disallowElement(s):r.forEach(o=>this.disallowAttributes(o))}}loadAllowedEmptyElementsConfig(e){for(const i of e)this.allowEmptyElement(i)}allowElement(e){for(const i of this._dataSchema.getDefinitionsForView(e,!0))this._addAllowedElement(i),this._coupledAttributes=null}disallowElement(e){for(const i of this._dataSchema.getDefinitionsForView(e,!1))this._disallowedElements.add(i.view)}allowEmptyElement(e){for(const i of this._dataSchema.getDefinitionsForView(e,!0))i.isInline&&this._dataSchema.extendInlineElement({...i,allowEmpty:!0})}allowAttributes(e){this._allowedAttributes.add(e)}disallowAttributes(e){this._disallowedAttributes.add(e)}processViewAttributes(e,i){const{consumable:s}=i;return S7(e,this._disallowedAttributes,s),R6e(e,S7(e,this._allowedAttributes,s))}_addAllowedElement(e){if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&typeof e.appliesToBlock=="string")for(const i of this._dataSchema.getDefinitionsForModel(e.appliesToBlock))i.isBlock&&this._addAllowedElement(i);this._dataInitialized&&this.editor.data.once("set",()=>{this._fireRegisterEvent(e)},{priority:Bs.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",()=>{this._dataInitialized=!0;for(const e of this._allowedElements)this._fireRegisterEvent(e)},{priority:Bs.highest+1})}_registerElementHandlers(){this.on("register",(e,i)=>{const s=this.editor.model.schema;if(i.isObject&&!s.isRegistered(i.model))this._registerObjectElement(i);else if(i.isBlock)this._registerBlockElement(i);else if(i.isInline)this._registerInlineElement(i);else throw new L("data-filter-invalid-definition",null,i);e.stop()},{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const e=this.editor.model,i=e.document.selection;e.document.registerPostFixer(s=>{const r=e.document.differ.getChanges();let o=!1;const a=this._getCoupledAttributesMap();for(const l of r){if(l.type!="attribute"||l.attributeNewValue!==null)continue;const u=a.get(l.attributeKey);if(u)for(const{item:h}of l.range.getWalker())for(const m of u)h.hasAttribute(m)&&(s.removeAttribute(m,h),o=!0)}return o}),this.listenTo(i,"change:attribute",(s,{attributeKeys:r})=>{const o=new Set,a=this._getCoupledAttributesMap();for(const l of r){if(i.hasAttribute(l))continue;const u=a.get(l);if(u)for(const h of u)i.hasAttribute(h)&&o.add(h)}o.size!=0&&e.change(l=>{for(const u of o)l.removeSelectionAttribute(u)})})}_registerAssociatedHtmlAttributesPostFixer(){const e=this.editor.model;e.document.registerPostFixer(i=>{const s=e.document.differ.getChanges();let r=!1;for(const o of s)if(!(o.type!=="insert"||o.name==="$text"))for(const a of o.attributes.keys())!a.startsWith("html")||!a.endsWith("Attributes")||e.schema.checkAttribute(o.name,a)||(i.removeAttribute(a,o.position.nodeAfter),r=!0);return r})}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const e of this._allowedElements)if(e.coupledAttribute&&e.model){const i=this._coupledAttributes.get(e.coupledAttribute);i?i.push(e.model):this._coupledAttributes.set(e.coupledAttribute,[e.model])}return this._coupledAttributes}_fireRegisterEvent(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?`register:${e.view}`:"register",e)}_registerObjectElement(e){const i=this.editor,s=i.model.schema,r=i.conversion,{view:o,model:a}=e;s.register(a,e.modelSchema);/* istanbul ignore next: paranoid check -- @preserve */o&&(s.extend(e.model,{allowAttributes:[mr(o),"htmlContent"]}),i.data.registerRawContentMatcher({name:o}),r.for("upcast").elementToElement({view:o,model:H5(e),converterPriority:Bs.low+2}),r.for("upcast").add(qh(e,this)),r.for("editingDowncast").elementToStructure({model:{name:a,attributes:[mr(o)]},view:T6e(i,e)}),r.for("dataDowncast").elementToElement({model:a,view:(l,{writer:u})=>Ty(o,l,u)}),r.for("dataDowncast").add(cp(e)))}_registerBlockElement(e){const i=this.editor,s=i.model.schema,r=i.conversion,{view:o,model:a}=e;if(!s.isRegistered(e.model)){if(!e.modelSchema||(s.register(e.model,e.modelSchema),!o))return;r.for("upcast").elementToElement({model:a,view:o,converterPriority:Bs.low+2}),r.for("downcast").elementToElement({model:a,view:(l,{writer:u})=>e.isEmpty?u.createEmptyElement(o):u.createContainerElement(o)})}o&&(s.extend(e.model,{allowAttributes:mr(o)}),r.for("upcast").add(qh(e,this)),r.for("downcast").add(cp(e)))}_registerInlineElement(e){const i=this.editor,s=i.model.schema,r=i.conversion,o=e.model;e.appliesToBlock||(s.extend("$text",{allowAttributes:o}),e.attributeProperties&&s.setAttributeProperties(o,e.attributeProperties),r.for("upcast").add(S6e(e,this)),r.for("downcast").attributeToElement({model:o,view:A6e(e)}),e.allowEmpty&&(s.setAttributeProperties(o,{copyFromObject:!1}),s.isRegistered("htmlEmptyElement")||s.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"}),i.data.htmlProcessor.domConverter.registerInlineObjectMatcher(a=>a.name==e.view&&a.isEmpty&&Array.from(a.getAttributeKeys()).length?{name:!0}:null),r.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:E7(e,!0)}),r.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:E7(e)})))}}function S7(n,t,e){const i=t.matchAll(n)||[],s=n.document.stylesProcessor;return i.reduce((r,{match:o})=>{for(const[a,l]of o.attributes||[])if(a=="style"){const u=l,h=s.getRelatedStyles(u).filter(m=>m.split("-").length>u.split("-").length).sort((m,p)=>p.split("-").length-m.split("-").length);for(const m of h)e.consume(n,{styles:[m]})&&r.styles.push(m);e.consume(n,{styles:[u]})&&r.styles.push(u)}else if(a=="class"){const u=l;e.consume(n,{classes:[u]})&&r.classes.push(u)}else e.consume(n,{attributes:[a]})&&r.attributes.push(a);return r},{attributes:[],classes:[],styles:[]})}function R6e(n,{attributes:t,classes:e,styles:i}){return!t.length&&!e.length&&!i.length?null:{...t.length&&{attributes:P6e(n,t)},...i.length&&{styles:O6e(n,i)},...e.length&&{classes:e}}}function P6e(n,t){const e={};for(const i of t){const s=n.getAttribute(i);s!==void 0&&Rz(i)&&(e[i]=s)}return e}function O6e(n,t){const e=new Th(n.document.stylesProcessor);for(const i of t){const s=n.getStyle(i);s!==void 0&&e.set(i,s)}return Object.fromEntries(e.getStylesEntries())}function Sk(n,t){const{name:e}=n,i=n[t];return Lr(i)?Object.entries(i).map(([s,r])=>({name:e,[t]:{[s]:r}})):Array.isArray(i)?i.map(s=>({name:e,[t]:[s]})):[n]}function A7(n){const{name:t,attributes:e,classes:i,styles:s}=n,r=[];return e&&r.push(...Sk({name:t,attributes:e},"attributes")),i&&r.push(...Sk({name:t,classes:i},"classes")),s&&r.push(...Sk({name:t,styles:s},"styles")),r}class M6e extends F{static get requires(){return[Ln]}static get pluginName(){return"CodeBlockElementSupport"}static get isOfficialPlugin(){return!0}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const t=this.editor.plugins.get(Ln);t.on("register:pre",(e,i)=>{if(i.model!=="codeBlock")return;const s=this.editor,r=s.model.schema,o=s.conversion;r.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),o.for("upcast").add(D6e(t)),o.for("downcast").add(V6e()),e.stop()})}}function D6e(n){return t=>{t.on("element:code",(e,i,s)=>{const r=i.viewItem,o=r.parent;if(!o||!o.is("element","pre"))return;a(o,"htmlPreAttributes"),a(r,"htmlContentAttributes");function a(l,u){const h=n.processViewAttributes(l,s);h&&s.writer.setAttribute(u,h,i.modelRange)}},{priority:"low"})}}function V6e(){return n=>{n.on("attribute:htmlPreAttributes:codeBlock",(t,e,i)=>{if(!i.consumable.consume(e.item,t.name))return;const{attributeOldValue:s,attributeNewValue:r}=e,a=i.mapper.toViewElement(e.item).parent;hc(i.writer,s,r,a)}),n.on("attribute:htmlContentAttributes:codeBlock",(t,e,i)=>{if(!i.consumable.consume(e.item,t.name))return;const{attributeOldValue:s,attributeNewValue:r}=e,o=i.mapper.toViewElement(e.item);hc(i.writer,s,r,o)})}}class N6e extends F{static get requires(){return[Ln]}static get pluginName(){return"DualContentModelElementSupport"}static get isOfficialPlugin(){return!0}init(){this.editor.plugins.get(Ln).on("register",(e,i)=>{const s=i,r=this.editor,o=r.model.schema,a=r.conversion;if(!s.paragraphLikeModel||o.isRegistered(s.model)||o.isRegistered(s.paragraphLikeModel))return;const l={model:s.paragraphLikeModel,view:s.view};o.register(s.model,s.modelSchema),o.register(l.model,{inheritAllFrom:"$block"}),a.for("upcast").elementToElement({view:s.view,model:(u,{writer:h})=>this._hasBlockContent(u)?h.createElement(s.model):h.createElement(l.model),converterPriority:Bs.low+.5}),a.for("downcast").elementToElement({view:s.view,model:s.model}),this._addAttributeConversion(s),a.for("downcast").elementToElement({view:l.view,model:l.model}),this._addAttributeConversion(l),e.stop()})}_hasBlockContent(t){const e=this.editor.editing.view,i=e.domConverter.blockElements;for(const s of e.createRangeIn(t).getItems())if(s.is("element")&&i.includes(s.name))return!0;return!1}_addAttributeConversion(t){const e=this.editor,i=e.conversion,s=e.plugins.get(Ln);e.model.schema.extend(t.model,{allowAttributes:mr(t.view)}),i.for("upcast").add(qh(t,s)),i.for("downcast").add(cp(t))}}class L6e extends F{static get requires(){return[Gh,Qp]}static get pluginName(){return"HeadingElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("HeadingEditing"))return;const e=t.config.get("heading.options");this.registerHeadingElements(t,e)}registerHeadingElements(t,e){const i=t.plugins.get(Gh),s=[];for(const r of e)"model"in r&&"view"in r&&(i.registerBlockElement({view:r.view,model:r.model}),s.push(r.model));i.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:s}}),i.extendBlockElement({model:"htmlSummary",modelSchema:{allowChildren:s}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function up(n,t,e){const i=n.createRangeOn(t);for(const{item:s}of i.getWalker())if(s.is("element",e))return s}class B6e extends F{static get requires(){return[Ln]}static get pluginName(){return"ImageElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("ImageInlineEditing")&&!t.plugins.has("ImageBlockEditing"))return;const e=t.model.schema,i=t.conversion,s=t.plugins.get(Ln);s.on("register:figure",()=>{i.for("upcast").add(j6e(s))}),s.on("register:img",(r,o)=>{o.model!=="imageBlock"&&o.model!=="imageInline"||(e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),i.for("upcast").add(F6e(s)),i.for("downcast").add(U6e()),t.plugins.has("LinkImage")&&i.for("upcast").add(z6e(s,t)),r.stop())})}}function F6e(n){return t=>{t.on("element:img",(e,i,s)=>{if(!i.modelRange)return;const r=i.viewItem,o=n.processViewAttributes(r,s);o&&s.writer.setAttribute("htmlImgAttributes",o,i.modelRange)},{priority:"low"})}}function z6e(n,t){const e=t.plugins.get("ImageUtils");return i=>{i.on("element:a",(s,r,o)=>{const a=r.viewItem;if(!e.findViewImgElement(a))return;const u=r.modelCursor.parent;if(!u.is("element","imageBlock"))return;const h=n.processViewAttributes(a,o);h&&o.writer.setAttribute("htmlLinkAttributes",h,u)},{priority:"low"})}}function j6e(n){return t=>{t.on("element:figure",(e,i,s)=>{const r=i.viewItem;if(!i.modelRange||!r.hasClass("image"))return;const o=n.processViewAttributes(r,s);o&&s.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function U6e(){return n=>{t("htmlImgAttributes"),e("img","htmlImgAttributes"),e("figure","htmlFigureAttributes"),e("a","htmlLinkAttributes");function t(i){n.on(`attribute:${i}:imageInline`,(s,r,o)=>{if(!o.consumable.consume(r.item,s.name))return;const{attributeOldValue:a,attributeNewValue:l}=r,u=o.mapper.toViewElement(r.item);hc(o.writer,a,l,u)},{priority:"low"})}function e(i,s){n.on(`attribute:${s}:imageBlock`,(r,o,a)=>{if(!a.consumable.test(o.item,r.name))return;const{attributeOldValue:l,attributeNewValue:u}=o,h=a.mapper.toViewElement(o.item),m=up(a.writer,h,i);m&&(hc(a.writer,l,u,m),a.consumable.consume(o.item,r.name))},{priority:"low"}),i==="a"&&n.on("attribute:linkHref:imageBlock",(r,o,a)=>{if(!a.consumable.consume(o.item,"attribute:htmlLinkAttributes:imageBlock"))return;const l=a.mapper.toViewElement(o.item),u=up(a.writer,l,"a");Ao(a.writer,o.item.getAttribute("htmlLinkAttributes"),u)},{priority:"low"})}}}class H6e extends F{static get requires(){return[Ln]}static get pluginName(){return"MediaEmbedElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("MediaEmbed")||t.config.get("mediaEmbed.previewsInData"))return;const e=t.model.schema,i=t.conversion,s=this.editor.plugins.get(Ln),r=this.editor.plugins.get(Gh),o=t.config.get("mediaEmbed.elementName");r.registerBlockElement({model:"media",view:o}),s.on("register:figure",()=>{i.for("upcast").add(W6e(s))}),s.on(`register:${o}`,(a,l)=>{l.model==="media"&&(e.extend("media",{allowAttributes:[mr(o),"htmlFigureAttributes"]}),i.for("upcast").add($6e(s,o)),i.for("dataDowncast").add(q6e(o)),a.stop())})}}function $6e(n,t){const e=(i,s,r)=>{const o=s.viewItem;a(o,mr(t));function a(l,u){const h=n.processViewAttributes(l,r);h&&r.writer.setAttribute(u,h,s.modelRange)}};return i=>{i.on(`element:${t}`,e,{priority:"low"})}}function W6e(n){return t=>{t.on("element:figure",(e,i,s)=>{const r=i.viewItem;if(!i.modelRange||!r.hasClass("media"))return;const o=n.processViewAttributes(r,s);o&&s.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function q6e(n){return t=>{e(n,mr(n)),e("figure","htmlFigureAttributes");function e(i,s){t.on(`attribute:${s}:media`,(r,o,a)=>{if(!a.consumable.consume(o.item,r.name))return;const{attributeOldValue:l,attributeNewValue:u}=o,h=a.mapper.toViewElement(o.item),m=up(a.writer,h,i);hc(a.writer,l,u,m)})}}}class G6e extends F{static get requires(){return[Ln]}static get pluginName(){return"ScriptElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get(Ln);t.on("register:script",(e,i)=>{const s=this.editor,r=s.model.schema,o=s.conversion;r.register("htmlScript",i.modelSchema),r.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),s.data.registerRawContentMatcher({name:"script"}),o.for("upcast").elementToElement({view:"script",model:H5(i)}),o.for("upcast").add(qh(i,t)),o.for("downcast").elementToElement({model:"htmlScript",view:(a,{writer:l})=>Ty("script",a,l)}),o.for("downcast").add(cp(i)),e.stop()})}}class Y6e extends F{static get requires(){return[Ln]}static get pluginName(){return"TableElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("TableEditing"))return;const e=t.model.schema,i=t.conversion,s=t.plugins.get(Ln),r=t.plugins.get("TableUtils");s.on("register:figure",()=>{i.for("upcast").add(X6e(s))}),s.on("register:table",(o,a)=>{a.model==="table"&&(e.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),i.for("upcast").add(K6e(s)),i.for("downcast").add(J6e()),t.model.document.registerPostFixer(Z6e(t.model,r)),o.stop())})}}function Z6e(n,t){return e=>{const i=n.document.differ.getChanges();let s=!1;for(const r of i){if(r.type!="attribute"||r.attributeKey!="headingRows")continue;const o=r.range.start.nodeAfter,a=o.getAttribute("htmlTheadAttributes"),l=o.getAttribute("htmlTbodyAttributes");a&&!r.attributeNewValue?(e.removeAttribute("htmlTheadAttributes",o),s=!0):l&&r.attributeNewValue==t.getRows(o)&&(e.removeAttribute("htmlTbodyAttributes",o),s=!0)}return s}}function K6e(n){return t=>{t.on("element:table",(e,i,s)=>{if(!i.modelRange)return;const r=i.viewItem;o(r,"htmlTableAttributes");for(const a of r.getChildren())a.is("element","thead")&&o(a,"htmlTheadAttributes"),a.is("element","tbody")&&o(a,"htmlTbodyAttributes");function o(a,l){const u=n.processViewAttributes(a,s);u&&s.writer.setAttribute(l,u,i.modelRange)}},{priority:"low"})}}function X6e(n){return t=>{t.on("element:figure",(e,i,s)=>{const r=i.viewItem;if(!i.modelRange||!r.hasClass("table"))return;const o=n.processViewAttributes(r,s);o&&s.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function J6e(){return n=>{t("table","htmlTableAttributes"),t("figure","htmlFigureAttributes"),t("thead","htmlTheadAttributes"),t("tbody","htmlTbodyAttributes");function t(e,i){n.on(`attribute:${i}:table`,(s,r,o)=>{if(!o.consumable.test(r.item,s.name))return;const a=o.mapper.toViewElement(r.item),l=up(o.writer,a,e);l&&(o.consumable.consume(r.item,s.name),hc(o.writer,r.attributeOldValue,r.attributeNewValue,l))})}}}class Q6e extends F{static get requires(){return[Ln]}static get pluginName(){return"StyleElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get(Ln);t.on("register:style",(e,i)=>{const s=this.editor,r=s.model.schema,o=s.conversion;r.register("htmlStyle",i.modelSchema),r.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),s.data.registerRawContentMatcher({name:"style"}),o.for("upcast").elementToElement({view:"style",model:H5(i)}),o.for("upcast").add(qh(i,t)),o.for("downcast").elementToElement({model:"htmlStyle",view:(a,{writer:l})=>Ty("style",a,l)}),o.for("downcast").add(cp(i)),e.stop()})}}class eIe extends F{static get requires(){return[Ln]}static get pluginName(){return"ListElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("ListEditing"))return;const e=t.model.schema,i=t.conversion,s=t.plugins.get(Ln),r=t.plugins.get("ListEditing"),o=t.plugins.get("ListUtils"),a=["ul","ol","li"];r.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:Ao}),r.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:Ao}),r.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:Ao}),s.on("register",(l,u)=>{if(!a.includes(u.view)||(l.stop(),e.checkAttribute("$block","htmlLiAttributes")))return;const h=a.map(m=>mr(m));e.extend("$listItem",{allowAttributes:h}),i.for("upcast").add(m=>{m.on("element:ul",Ak("htmlUlAttributes",s),{priority:"low"}),m.on("element:ol",Ak("htmlOlAttributes",s),{priority:"low"}),m.on("element:li",Ak("htmlLiAttributes",s),{priority:"low"})})}),r.on("postFixer",(l,{listNodes:u,writer:h})=>{for(const{node:m,previousNodeInList:p}of u)if(p){if(p.getAttribute("listType")==m.getAttribute("listType")){const v=I7(p.getAttribute("listType")),_=p.getAttribute(v);!jh(m.getAttribute(v),_)&&h.model.schema.checkAttribute(m,v)&&(h.setAttribute(v,_,m),l.return=!0)}if(p.getAttribute("listItemId")==m.getAttribute("listItemId")){const v=p.getAttribute("htmlLiAttributes");!jh(m.getAttribute("htmlLiAttributes"),v)&&h.model.schema.checkAttribute(m,"htmlLiAttributes")&&(h.setAttribute("htmlLiAttributes",v,m),l.return=!0)}}}),r.on("postFixer",(l,{listNodes:u,writer:h})=>{for(const{node:m}of u){const p=m.getAttribute("listType");!o.isNumberedListType(p)&&m.getAttribute("htmlOlAttributes")&&(h.removeAttribute("htmlOlAttributes",m),l.return=!0),o.isNumberedListType(p)&&m.getAttribute("htmlUlAttributes")&&(h.removeAttribute("htmlUlAttributes",m),l.return=!0)}})}afterInit(){const t=this.editor;if(!t.commands.get("indentList"))return;const e=t.commands.get("indentList");this.listenTo(e,"afterExecute",(i,s)=>{t.model.change(r=>{for(const o of s){const a=I7(o.getAttribute("listType"));t.model.schema.checkAttribute(o,a)&&r.setAttribute(a,{},o)}})})}}function Ak(n,t){return(e,i,s)=>{const r=i.viewItem;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor));const o=t.processViewAttributes(r,s);for(const a of i.modelRange.getItems({shallow:!0}))a.hasAttribute("listItemId")&&(a.hasAttribute("htmlUlAttributes")||a.hasAttribute("htmlOlAttributes")||s.writer.model.schema.checkAttribute(a,n)&&s.writer.setAttribute(n,o||{},a))}}function I7(n){return n==="numbered"||n=="customNumbered"?"htmlOlAttributes":"htmlUlAttributes"}class tIe extends F{static get requires(){return[Ln]}static get pluginName(){return"HorizontalLineElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(!t.plugins.has("HorizontalLineEditing"))return;const e=t.model.schema,i=t.conversion,s=t.plugins.get(Ln);s.on("register:hr",(r,o)=>{o.model==="horizontalLine"&&(e.extend("horizontalLine",{allowAttributes:["htmlHrAttributes"]}),i.for("upcast").add(qh(o,s)),i.for("downcast").add(nIe()),r.stop())})}}function nIe(){return n=>{n.on("attribute:htmlHrAttributes:horizontalLine",(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const{attributeOldValue:s,attributeNewValue:r}=e,o=i.mapper.toViewElement(e.item),a=up(i.writer,o,"hr");a&&(hc(i.writer,s,r,a),i.consumable.consume(e.item,t.name))},{priority:"low"})}}class iIe extends F{static get requires(){return[Ln,Gh]}static get pluginName(){return"CustomElementSupport"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.plugins.get(Ln),e=this.editor.plugins.get(Gh);t.on("register:$customElement",(i,s)=>{i.stop();const r=this.editor,o=r.model.schema,a=r.conversion,l=r.editing.view.domConverter.unsafeElements,u=r.data.htmlProcessor.domConverter.preElements;o.register(s.model,s.modelSchema),o.extend(s.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),r.data.htmlProcessor.domConverter.registerRawContentMatcher({name:"template"}),a.for("upcast").elementToElement({view:/.*/,model:(h,m)=>{if(h.name=="$comment"||!sIe(h.name)||e.getDefinitionsForView(h.name).size)return null;l.includes(h.name)||l.push(h.name),u.includes(h.name)||u.push(h.name);const p=m.writer.createElement(s.model,{htmlElementName:h.name}),v=t.processViewAttributes(h,m);v&&m.writer.setAttribute("htmlCustomElementAttributes",v,p);let _;if(h.is("element","template")&&h.getCustomProperty("$rawContent"))_=h.getCustomProperty("$rawContent");else{const C=new Ys(h.document).createDocumentFragment(h),T=r.data.htmlProcessor.domConverter.viewToDom(C),S=T.firstChild;for(;S.firstChild;)T.appendChild(S.firstChild);S.remove(),_=r.data.htmlProcessor.htmlWriter.getHtml(T)}m.writer.setAttribute("htmlContent",_,p);for(const{item:k}of r.editing.view.createRangeIn(h))m.consumable.consume(k,{name:!0});return p},converterPriority:"low"}),a.for("editingDowncast").elementToElement({model:{name:s.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(h,{writer:m})=>{const p=h.getAttribute("htmlElementName"),v=m.createRawElement(p);return h.hasAttribute("htmlCustomElementAttributes")&&Ao(m,h.getAttribute("htmlCustomElementAttributes"),v),v}}),a.for("dataDowncast").elementToElement({model:{name:s.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(h,{writer:m})=>{const p=h.getAttribute("htmlElementName"),v=h.getAttribute("htmlContent"),_=m.createRawElement(p,null,(k,C)=>{C.setContentOf(k,v)});return h.hasAttribute("htmlCustomElementAttributes")&&Ao(m,h.getAttribute("htmlCustomElementAttributes"),_),_}})})}}function sIe(n){try{document.createElement(n)}catch{return!1}return!0}class rIe extends F{static get pluginName(){return"GeneralHtmlSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Ln,M6e,N6e,L6e,B6e,H6e,G6e,Y6e,Q6e,eIe,tIe,iIe]}init(){const t=this.editor,e=t.plugins.get(Ln);e.loadAllowedEmptyElementsConfig(t.config.get("htmlSupport.allowEmpty")||[]),e.loadAllowedConfig(t.config.get("htmlSupport.allow")||[]),e.loadDisallowedConfig(t.config.get("htmlSupport.disallow")||[])}getGhsAttributeNameForElement(t){const e=this.editor.plugins.get("DataSchema"),i=Array.from(e.getDefinitionsForView(t,!1)),s=i.find(r=>r.isInline&&!i[0].isObject);return s?s.model:mr(t)}addModelHtmlClass(t,e,i){const s=this.editor.model,r=this.getGhsAttributeNameForElement(t);s.change(o=>{for(const a of Qd(s,i,r))Jd(o,a,r,"classes",l=>{for(const u of qt(e))l.add(u)})})}removeModelHtmlClass(t,e,i){const s=this.editor.model,r=this.getGhsAttributeNameForElement(t);s.change(o=>{for(const a of Qd(s,i,r))Jd(o,a,r,"classes",l=>{for(const u of qt(e))l.delete(u)})})}setModelHtmlAttributes(t,e,i){const s=this.editor.model,r=this.getGhsAttributeNameForElement(t);s.change(o=>{for(const a of Qd(s,i,r))Jd(o,a,r,"attributes",l=>{for(const[u,h]of Object.entries(e))l.set(u,h)})})}removeModelHtmlAttributes(t,e,i){const s=this.editor.model,r=this.getGhsAttributeNameForElement(t);s.change(o=>{for(const a of Qd(s,i,r))Jd(o,a,r,"attributes",l=>{for(const u of qt(e))l.delete(u)})})}setModelHtmlStyles(t,e,i){const s=this.editor.model,r=this.getGhsAttributeNameForElement(t);s.change(o=>{for(const a of Qd(s,i,r))Jd(o,a,r,"styles",l=>{for(const[u,h]of Object.entries(e))l.set(u,h)})})}removeModelHtmlStyles(t,e,i){const s=this.editor.model,r=this.getGhsAttributeNameForElement(t);s.change(o=>{for(const a of Qd(s,i,r))Jd(o,a,r,"styles",l=>{for(const u of qt(e))l.delete(u)})})}}function*Qd(n,t,e){if(t)if(!(Symbol.iterator in t)&&t.is("documentSelection")&&t.isCollapsed)n.schema.checkAttributeInSelection(t,e)&&(yield t);else for(const i of oIe(n,t,e))yield*i.getItems({shallow:!0})}function oIe(n,t,e){return!(Symbol.iterator in t)&&(t.is("node")||t.is("$text")||t.is("$textProxy"))?n.schema.checkAttribute(t,e)?[n.createRangeOn(t)]:[]:n.schema.getValidRanges(n.createSelection(t).getRanges(),e)}class aIe extends F{static get pluginName(){return"HtmlComment"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=new Map;t.data.processor.skipComments=!1,t.model.schema.addAttributeCheck((i,s)=>{if(i.endsWith("$root")&&s.startsWith("$comment"))return!0}),t.conversion.for("upcast").elementToMarker({view:"$comment",model:i=>{const r=`$comment:${mi()}`,o=i.getCustomProperty("$rawContent");return e.set(r,o),r}}),t.conversion.for("dataDowncast").markerToElement({model:"$comment",view:(i,{writer:s})=>{let r;for(const u of this.editor.model.document.getRootNames())if(r=this.editor.model.document.getRoot(u),r.hasAttribute(i.markerName))break;const o=i.markerName,a=r.getAttribute(o),l=s.createUIElement("$comment");return s.setCustomProperty("$rawContent",a,l),l}}),t.model.document.registerPostFixer(i=>{let s=!1;const r=t.model.document.differ.getChangedMarkers().filter(o=>o.name.startsWith("$comment:"));for(const o of r){const{oldRange:a,newRange:l}=o.data;if(!(a&&l&&a.root==l.root)){if(a){const u=a.root;u.hasAttribute(o.name)&&(i.removeAttribute(o.name,u),s=!0)}if(l){const u=l.root;u.rootName=="$graveyard"?(i.removeMarker(o.name),s=!0):u.hasAttribute(o.name)||(i.setAttribute(o.name,e.get(o.name)||"",u),s=!0)}}}return s}),t.data.on("set",()=>{for(const i of t.model.markers.getMarkersGroup("$comment"))this.removeHtmlComment(i.name)},{priority:"high"}),t.model.on("deleteContent",(i,[s])=>{for(const r of s.getRanges()){const o=t.model.schema.getLimitElement(r),a=t.model.createPositionAt(o,0),l=t.model.createPositionAt(o,"end");let u;a.isTouching(r.start)&&l.isTouching(r.end)?u=this.getHtmlCommentsInRange(t.model.createRange(a,l)):u=this.getHtmlCommentsInRange(r,{skipBoundaries:!0});for(const h of u)this.removeHtmlComment(h)}},{priority:"high"})}createHtmlComment(t,e){const i=mi(),r=this.editor.model,o=r.document.getRoot(t.root.rootName),a=`$comment:${i}`;return r.change(l=>{const u=l.createRange(t);return l.addMarker(a,{usingOperation:!0,affectsData:!0,range:u}),l.setAttribute(a,e,o),a})}removeHtmlComment(t){const e=this.editor,i=e.model.markers.get(t);return i?(e.model.change(s=>{s.removeMarker(i)}),!0):!1}getHtmlCommentData(t){const i=this.editor.model.markers.get(t);if(!i)return null;let s="";for(const r of this.editor.model.document.getRoots())if(r.hasAttribute(t)){s=r.getAttribute(t);break}return{content:s,position:i.getStart()}}getHtmlCommentsInRange(t,{skipBoundaries:e=!1}={}){const i=!e;return Array.from(this.editor.model.markers.getMarkersGroup("$comment")).filter(r=>s(r,t)).map(r=>r.name);function s(r,o){const a=r.getRange().start;return(a.isAfter(o.start)||i&&a.isEqual(o.start))&&(a.isBefore(o.end)||i&&a.isEqual(o.end))}}}class lIe extends _5{toView(t){if(!/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4)))return super.toView(t);let e="",i="";t=t.trim().replace(/<\?xml\s[^?]*\?>/i,a=>(i=a,"")),t=t.trim().replace(/^<!DOCTYPE\s[^>]*?>/i,a=>(e=a,""));const s=this._toDom(t),r=this.domConverter.domToView(s,{skipComments:this.skipComments}),o=new Ys(r.document);return o.setCustomProperty("$fullPageDocument",s.ownerDocument.documentElement.outerHTML,r),e&&o.setCustomProperty("$fullPageDocType",e,r),i&&o.setCustomProperty("$fullPageXmlDeclaration",i,r),r}toData(t){let e=super.toData(t);const i=t.getCustomProperty("$fullPageDocument"),s=t.getCustomProperty("$fullPageDocType"),r=t.getCustomProperty("$fullPageXmlDeclaration");return i&&(e=i.replace(/<\/body\s*>/,e+"$&"),s&&(e=s+`
`+e),r&&(e=r+`
`+e)),e}}class cIe extends F{static get pluginName(){return"FullPage"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=["$fullPageDocument","$fullPageDocType","$fullPageXmlDeclaration"];t.data.processor=new lIe(t.data.viewDocument),t.model.schema.extend("$root",{allowAttributes:e}),t.data.on("toModel",(i,[s])=>{const r=t.model.document.getRoot();t.model.change(o=>{for(const a of e){const l=s.getCustomProperty(a);l&&o.setAttribute(a,l,r)}})},{priority:"low"}),t.data.on("toView",(i,[s])=>{if(!s.is("rootElement"))return;const r=s,o=i.return;if(!r.hasAttribute("$fullPageDocument"))return;const a=new Ys(o.document);for(const l of e){const u=r.getAttribute(l);u&&a.setCustomProperty(l,u,o)}},{priority:"low"}),t.data.on("set",()=>{const i=t.model.document.getRoot();t.model.change(s=>{for(const r of e)i.hasAttribute(r)&&s.removeAttribute(r,i)})},{priority:"high"}),t.data.on("get",(i,s)=>{s[0]||(s[0]={}),s[0].trim=!1},{priority:"high"})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uIe(n){return n.createContainerElement("span",{class:"image-inline"},n.createEmptyElement("img"))}function R7(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function GU(n,t){const e=n.plugins.get("ImageUtils"),i=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return r=>e.isInlineImageView(r)?i&&(r.getStyle("display")=="block"||r.findAncestor(e.isBlockImageView)?"imageBlock":"imageInline")!==t?null:s(r):null;function s(r){const o={name:!0};return r.hasAttribute("src")&&(o.attributes=["src"]),o}}function $5(n,t){const e=Qt(t.getSelectedBlocks());return!e||n.isObject(e)||e.isEmpty&&e.name!="listItem"?"imageBlock":"imageInline"}function Uv(n){return n&&n.endsWith("px")?parseInt(n):null}function Hv(n){const t=Uv(n.getStyle("width")),e=Uv(n.getStyle("height"));return!!(t&&e)}const dIe=/^(image|image-inline)$/;class Pi extends F{constructor(){super(...arguments);b(this,"_domEmitter",new(us()))}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,s=null,r={}){const o=this.editor,a=o.model,l=a.document.selection,u=YU(o,i||l,s);e={...Object.fromEntries(l.getAttributes()),...e};for(const h in e)a.schema.checkAttribute(u,h)||delete e[h];return a.change(h=>{const{setImageSizes:m=!0}=r,p=h.createElement(u,e);return a.insertObject(p,i,null,{setSelection:"on",findOptimalPosition:!i&&u!="imageInline"?"auto":void 0}),p.parent?(m&&this.setImageNaturalSizeAttributes(p),p):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(s=>{const r=new Pe.window.Image;this._domEmitter.listenTo(r,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(s.batch,o=>{o.setAttribute("width",r.naturalWidth,e),o.setAttribute("height",r.naturalHeight,e)}),this._domEmitter.stopListening(r,"load")}),r.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let r=i.parent;for(;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:dIe})}isImageAllowed(){const i=this.editor.model.document.selection;return hIe(this.editor,i)&&fIe(i)}toImageWidget(e,i,s){return i.setCustomProperty("image",!0,e),al(e,i,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Un(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(e))if(this.isInlineImageView(s))return s}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function hIe(n,t){if(YU(n,t,null)=="imageBlock"){const i=mIe(t,n.model);if(n.model.schema.checkChild(i,"imageBlock"))return!0}else if(n.model.schema.checkChild(t.focus,"imageInline"))return!0;return!1}function fIe(n){return[...n.focus.getAncestors()].every(t=>!t.is("element","imageBlock"))}function mIe(n,t){const i=e0(n,t).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}function YU(n,t,e){const i=n.model.schema,s=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?e||(s==="inline"?"imageInline":s!=="auto"?"imageBlock":t.is("selection")?$5(i,t):i.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const gIe=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class pIe extends F{constructor(e){super(e);b(this,"_timeoutId");b(this,"_positionToInsert");this._timeoutId=null,this._positionToInsert=null}static get requires(){return[F5,Pi,j5,Lo]}static get pluginName(){return"AutoImage"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const r=i.selection.getFirstRange(),o=si.fromPosition(r.start);o.stickiness="toPrevious";const a=si.fromPosition(r.end);a.stickiness="toNext",i.once("change:data",()=>{this._embedImageBetweenPositions(o,a),o.detach(),a.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Pe.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,i){const s=this.editor,r=new ns(e,i),o=r.getWalker({ignoreElementEnd:!0}),a=Object.fromEntries(s.model.document.selection.getAttributes()),l=this.editor.plugins.get("ImageUtils");let u="";for(const h of o)h.item.is("$textProxy")&&(u+=h.item.data);if(u=u.trim(),!u.match(gIe)){r.detach();return}this._positionToInsert=si.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!s.commands.get("insertImage").isEnabled){r.detach();return}s.model.change(p=>{this._timeoutId=null,p.remove(r),r.detach();let v;this._positionToInsert.root.rootName!=="$graveyard"&&(v=this._positionToInsert.toPosition()),l.insertImage({...a,src:u},v),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get("Delete").requestUndoOnBackspace()},100)}}class bIe extends je{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled&&i.hasAttribute("alt")?this.value=i.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.model,r=i.getClosestSelectedImageElement(s.document.selection);s.change(o=>{o.setAttribute("alt",t.newValue,r)})}}class vIe extends F{static get requires(){return[Pi]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new bIe(this.editor))}}class wIe extends ye{constructor(e){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"labeledInput");b(this,"saveButtonView");b(this,"cancelButtonView");b(this,"_focusables");b(this,"_focusCycler");const i=this.locale.t;this.focusTracker=new Ct,this.keystrokes=new Vt,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),me.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),me.cancel,"ck-button-cancel","cancel"),this._focusables=new ei,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),qo({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,s,r){const o=new Le(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.extendTemplate({attributes:{class:s}}),r&&o.delegate("execute").to(this,r),o}_createLabeledInputView(){const e=this.locale.t,i=new _n(this.locale,Wi);return i.label=e("Text alternative"),i}}function yIe(n){const t=n.plugins.get("ContextualBalloon");if(n.plugins.get("ImageUtils").getClosestSelectedImageWidget(n.editing.view.document.selection)){const i=W5(n);t.updatePosition(i)}}function W5(n){const t=n.editing.view,e=ci.defaultPositions,i=n.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(t.document.selection)),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.viewportStickyNorth]}}class _Ie extends F{constructor(){super(...arguments);b(this,"_balloon");b(this,"_form")}static get requires(){return[Ki]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const r=e.commands.get("imageTextAlternative"),o=new Le(s);return o.set({label:i("Change image text alternative"),icon:me.textAlternative,tooltip:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",a=>!!a),this.listenTo(o,"execute",()=>{this._showForm()}),o})}_createForm(){const e=this.editor,s=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(vf(wIe))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(o,a)=>{this._hideForm(!0),a()}),this.listenTo(e.ui,"update",()=>{r.getClosestSelectedImageWidget(s.selection)?this._isVisible&&yIe(e):this._hideForm(!0)}),so({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:W5(e)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class q5 extends F{static get requires(){return[vIe,_Ie]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function xIe(n){const t=(e,i,s)=>{if(!s.consumable.test(i.viewItem,{name:!0,classes:"image"}))return;const r=n.findViewImgElement(i.viewItem);if(!r||!s.consumable.test(r,{name:!0}))return;s.consumable.consume(i.viewItem,{name:!0,classes:"image"});const o=s.convertItem(r,i.modelCursor),a=Qt(o.modelRange.getItems());if(!a){s.consumable.revert(i.viewItem,{name:!0,classes:"image"});return}s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i)};return e=>{e.on("element:figure",t)}}function ZU(n,t){const e=(i,s,r)=>{if(!r.consumable.consume(s.item,i.name))return;const o=r.writer,a=r.mapper.toViewElement(s.item),l=n.findViewImgElement(a);s.attributeNewValue===null?(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l)):s.attributeNewValue&&(o.setAttribute("srcset",s.attributeNewValue,l),o.setAttribute("sizes","100vw",l))};return i=>{i.on(`attribute:srcset:${t}`,e)}}function $v(n,t,e){const i=(s,r,o)=>{if(!o.consumable.consume(r.item,s.name))return;const a=o.writer,l=o.mapper.toViewElement(r.item),u=n.findViewImgElement(l);a.setAttribute(r.attributeKey,r.attributeNewValue||"",u)};return s=>{s.on(`attribute:${e}:${t}`,i)}}class G5 extends io{observe(t){this.listenTo(t,"load",(e,i)=>{const s=i.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class kIe extends je{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||e==="block"&&ht("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||e==="inline"&&ht("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=qt(t.source),i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());e.forEach((o,a)=>{const l=i.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&s.isImage(l)){const u=this.editor.model.createPositionAfter(l);s.insertImage({...o,...r},u,t.imageType)}else t.breakBlock?s.insertImage({...o,...r},i.getFirstPosition(),t.imageType):s.insertImage({...o,...r},null,t.imageType)})}}class CIe extends je{constructor(t){super(t),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement(),i=this.editor.plugins.get("ImageUtils");this.editor.model.change(s=>{s.setAttribute("src",t.source,e),this.cleanupImage(s,e),i.setImageNaturalSizeAttributes(e)})}cleanupImage(t,e){t.removeAttribute("srcset",e),t.removeAttribute("sizes",e),t.removeAttribute("sources",e),t.removeAttribute("width",e),t.removeAttribute("height",e),t.removeAttribute("alt",e)}}class Y5 extends F{static get requires(){return[Pi]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(G5),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new kIe(t),s=new CIe(t);t.commands.add("insertImage",i),t.commands.add("replaceImageSource",s),t.commands.add("imageInsert",i)}}class KU extends F{static get requires(){return[Pi]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const e=this.editor,i=e.plugins.get("ImageUtils"),s=t==="imageBlock"?"figure":"img";e.conversion.for("upcast").attributeToAttribute({view:{name:s,styles:{width:/.+/}},model:{key:"width",value:o=>Hv(o)?Uv(o.getStyle("width")):null}}).attributeToAttribute({view:{name:s,key:"width"},model:"width"}).attributeToAttribute({view:{name:s,styles:{height:/.+/}},model:{key:"height",value:o=>Hv(o)?Uv(o.getStyle("height")):null}}).attributeToAttribute({view:{name:s,key:"height"},model:"height"}),e.conversion.for("editingDowncast").add(o=>{r(o,"width","width",!0,!0),r(o,"height","height",!0,!0)}),e.conversion.for("dataDowncast").add(o=>{r(o,"width","width",!1),r(o,"height","height",!1)});function r(o,a,l,u,h=!1){o.on(`attribute:${a}:${t}`,(m,p,v)=>{if(!v.consumable.consume(p.item,m.name))return;const _=v.writer,k=v.mapper.toViewElement(p.item),C=i.findViewImgElement(k);p.attributeNewValue!==null?_.setAttribute(l,p.attributeNewValue,C):_.removeAttribute(l,C);const T=p.item.getAttribute("width"),S=p.item.getAttribute("height"),I=T&&S;if(I&&h&&_.setAttribute("loading","lazy",C),p.item.hasAttribute("sources"))return;const P=p.item.hasAttribute("resizedWidth");t==="imageInline"&&!P&&!u||I&&_.setStyle("aspect-ratio",`${T}/${S}`,C)})}}}class XU extends je{constructor(e,i){super(e);b(this,"_modelElementName");this._modelElementName=i}refresh(){const i=this.editor.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=i.isInlineImage(s):this.isEnabled=i.isBlockImage(s)}execute(e={}){const i=this.editor,s=this.editor.model,r=i.plugins.get("ImageUtils"),o=r.getClosestSelectedImageElement(s.document.selection),a=Object.fromEntries(o.getAttributes());return!a.src&&!a.uploadId?null:s.change(l=>{const{setImageSizes:u=!0}=e,h=Array.from(s.markers).filter(v=>v.getRange().containsItem(o)),m=r.insertImage(a,s.createSelection(o,"on"),this._modelElementName,{setImageSizes:u});if(!m)return null;const p=l.createRangeOn(m);for(const v of h){const _=v.getRange(),k=_.root.rootName!="$graveyard"?_.getJoined(p,!0):p;l.updateMarker(v,{range:k})}return{oldElement:o,newElement:m}})}}class JU extends F{static get requires(){return[Pi]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const t=this.editor.model.schema;t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["placeholder"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const t=this.editor,e=t.conversion,i=t.plugins.get("ImageUtils");e.for("editingDowncast").add(s=>{s.on("attribute:placeholder",(r,o,a)=>{if(!a.consumable.test(o.item,r.name)||!o.item.is("element","imageBlock")&&!o.item.is("element","imageInline"))return;a.consumable.consume(o.item,r.name);const l=a.writer,u=a.mapper.toViewElement(o.item),h=i.findViewImgElement(u);o.attributeNewValue?(l.addClass("image_placeholder",h),l.setStyle("background-image",`url(${o.attributeNewValue})`,h),l.setCustomProperty("editingPipeline:doNotReuseOnce",!0,h)):(l.removeClass("image_placeholder",h),l.removeStyle("background-image",h))})})}_setupLoadListener(){const t=this.editor,e=t.model,i=t.editing,s=i.view,r=t.plugins.get("ImageUtils");s.addObserver(G5),this.listenTo(s.document,"imageLoaded",(o,a)=>{const l=s.domConverter.mapDomToView(a.target);if(!l)return;const u=r.getImageWidgetFromImageView(l);if(!u)return;const h=i.mapper.toModelElement(u);!h||!h.hasAttribute("placeholder")||e.enqueueChange({isUndoable:!1},m=>{m.removeAttribute("placeholder",h)})})}}class QU extends F{static get requires(){return[Y5,KU,Pi,JU,Ts]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new XU(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,i=t.conversion,s=t.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:o})=>R7(o)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:o})=>s.toImageWidget(R7(o),o,e("image widget"))}),i.for("downcast").add($v(s,"imageBlock","src")).add($v(s,"imageBlock","alt")).add(ZU(s,"imageBlock")),i.for("upcast").elementToElement({view:GU(t,"imageBlock"),model:(r,{writer:o})=>o.createElement("imageBlock",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)}).add(xIe(s))}_setupClipboardIntegration(){const t=this.editor,e=t.model,i=t.editing.view,s=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let u;if(!l.every(s.isInlineImageView))return;a.targetRanges?u=t.editing.mapper.toModelRange(a.targetRanges[0]):u=e.document.selection.getFirstRange();const h=e.createSelection(u);if($5(e.schema,h)==="imageBlock"){const m=new Ys(i.document),p=l.map(v=>m.createElement("figure",{class:"image"},v));a.content=m.createDocumentFragment(p)}}),this.listenTo(r,"contentInsertion",(o,a)=>{a.method==="paste"&&e.change(l=>{const u=l.createRangeIn(a.content);for(const h of u.getItems())h.is("element","imageBlock")&&s.setImageNaturalSizeAttributes(h)})})}}class EIe extends ye{constructor(e,i=[]){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"_focusables");b(this,"_focusCycler");b(this,"children");this.focusTracker=new Ct,this.keystrokes=new Vt,this._focusables=new ei,this.children=this.createCollection(),this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const s of i)this.children.add(s),this._focusables.add(s),s instanceof I5&&this._focusables.addMany(s.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),qo({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class t0 extends F{constructor(e){super(e);b(this,"dropdownView");b(this,"_integrations",new Map);e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Pi]}init(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=s.isImage(i.getSelectedElement())});const r=a=>this._createToolbarComponent(a),o=a=>this._createMenuBarComponent(a);e.ui.componentFactory.add("insertImage",r),e.ui.componentFactory.add("imageInsert",r),e.ui.componentFactory.add("menuBar:insertImage",o)}registerIntegration({name:e,observable:i,buttonViewCreator:s,formViewCreator:r,menuBarButtonViewCreator:o,requiresForm:a=!1,override:l=!1}){this._integrations.has(e)&&!l&&ht("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:s,menuBarButtonViewCreator:o,formViewCreator:r,requiresForm:a})}_createToolbarComponent(e){const i=this.editor,s=e.t,r=this._prepareIntegrations();if(!r.length)return null;let o;const a=r[0];if(r.length==1){if(!a.requiresForm)return a.buttonViewCreator(!0);o=a.buttonViewCreator(!0)}else{const h=a.buttonViewCreator(!1);o=new Wu(e,h),o.tooltip=!0,o.bind("label").to(this,"isImageSelected",m=>s(m?"Replace image":"Insert image"))}const l=this.dropdownView=Wn(e,o),u=r.map(({observable:h})=>typeof h=="function"?h():h);return l.bind("isEnabled").toMany(u,"isEnabled",(...h)=>h.some(m=>m)),l.once("change:isOpen",()=>{const h=r.flatMap(({formViewCreator:p})=>p(r.length==1)),m=new EIe(i.locale,h);l.panelView.children.add(m)}),l}_createMenuBarComponent(e){const i=e.t,s=this._prepareIntegrations();if(!s.length)return null;const r=s.flatMap(({menuBarButtonViewCreator:l})=>l(s.length==1)),o=new Yi(e),a=new No(e);o.panelView.children.add(a),o.buttonView.set({icon:me.image,label:i("Image")});for(const l of r){const u=new Jr(e,o);u.children.add(l),a.items.add(u),l.delegate("execute").to(o)}return o}_prepareIntegrations(){const i=this.editor.config.get("image.insert.integrations"),s=[];if(!i.length)return ht("image-insert-integrations-not-specified"),s;for(const r of i){if(!this._integrations.has(r)){["upload","assetManager","url"].includes(r)||ht("image-insert-unknown-integration",{item:r});continue}s.push(this._integrations.get(r))}return s.length||ht("image-insert-integrations-not-registered"),s}}class TIe extends F{static get requires(){return[QU,Go,q5,t0]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class SIe extends F{static get requires(){return[Y5,KU,Pi,JU,Ts]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new XU(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,i=t.conversion,s=t.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(r,{writer:o})=>o.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(r,{writer:o})=>s.toImageWidget(uIe(o),o,e("image widget"))}),i.for("downcast").add($v(s,"imageInline","src")).add($v(s,"imageInline","alt")).add(ZU(s,"imageInline")),i.for("upcast").elementToElement({view:GU(t,"imageInline"),model:(r,{writer:o})=>o.createElement("imageInline",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,i=t.editing.view,s=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let u;if(!l.every(s.isBlockImageView))return;a.targetRanges?u=t.editing.mapper.toModelRange(a.targetRanges[0]):u=e.document.selection.getFirstRange();const h=e.createSelection(u);if($5(e.schema,h)==="imageInline"){const m=new Ys(i.document),p=l.map(v=>v.childCount===1?(Array.from(v.getAttributes()).forEach(_=>m.setAttribute(..._,s.findViewImgElement(v))),v.getChild(0)):v);a.content=m.createDocumentFragment(p)}}),this.listenTo(r,"contentInsertion",(o,a)=>{a.method==="paste"&&e.change(l=>{const u=l.createRangeIn(a.content);for(const h of u.getItems())h.is("element","imageInline")&&s.setImageNaturalSizeAttributes(h)})})}}class AIe extends F{static get requires(){return[SIe,Go,q5,t0]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class eH extends F{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[Pi]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),i=t.getFirstPosition().findAncestor("caption");return i&&e.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&e.isBlockImageView(t.parent)?{name:!0}:null}}class IIe extends je{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils"),i=t.plugins.get("ImageUtils");if(!t.plugins.has(QU)){this.isEnabled=!1,this.value=!1;return}const s=t.model.document.selection,r=s.getSelectedElement();if(!r){const o=e.getCaptionFromModelSelection(s);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=i.isImage(r),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(r):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,e)})}_showImageCaption(t,e){const s=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=s.getSelectedElement();const l=r._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=s.getSelectedElement());const u=l||t.createElement("caption");t.append(u,a),e&&t.setSelection(u,"in")}_hideImageCaption(t){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("ImageCaptionEditing"),r=e.plugins.get("ImageCaptionUtils");let o=i.getSelectedElement(),a;o?a=r.getCaptionFromImageModelElement(o):(a=r.getCaptionFromModelSelection(i),o=a.parent),s._saveCaption(o,a),t.setSelection(o,"on"),t.remove(a)}}class RIe extends F{constructor(e){super(e);b(this,"_savedCaptionsMap");this._savedCaptionsMap=new WeakMap}static get requires(){return[Pi,eH]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new IIe(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),o=e.t;e.conversion.for("upcast").elementToElement({view:a=>r.matchImageCaptionViewElement(a),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(a,{writer:l})=>s.isBlockImage(a.parent)?l.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(a,{writer:l})=>{if(!s.isBlockImage(a.parent))return null;const u=l.createEditableElement("figcaption");l.setCustomProperty("imageCaption",!0,u),u.placeholder=o("Enter image caption"),fy({view:i,element:u,keepOnFocus:!0});const h=a.parent.getAttribute("alt"),m=h?o("Caption for image: %0",[h]):o("Caption for the image");return N5(u,l,{label:m})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),r=e.commands.get("imageTypeInline"),o=e.commands.get("imageTypeBlock"),a=l=>{if(!l.return)return;const{oldElement:u,newElement:h}=l.return;/* istanbul ignore if: paranoid check -- @preserve */if(!u)return;if(i.isBlockImage(u)){const p=s.getCaptionFromImageModelElement(u);if(p){this._saveCaption(h,p);return}}const m=this._getSavedCaption(u);m&&this._saveCaption(h,m)};r&&this.listenTo(r,"execute",a,{priority:"low"}),o&&this.listenTo(o,"execute",a,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?yn.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,s=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const o=i.document.differ.getChanges();for(const a of o){if(a.attributeKey!=="alt")continue;const l=a.range.start.nodeAfter;if(s.isBlockImage(l)){const u=r.getCaptionFromImageModelElement(l);if(!u)return;e.editing.reconvertItem(u)}}})}}class PIe extends F{static get requires(){return[eH]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=t.plugins.get("ImageCaptionUtils"),s=t.t;t.ui.componentFactory.add("toggleImageCaption",r=>{const o=t.commands.get("toggleImageCaption"),a=new Le(r);return a.set({icon:me.caption,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>s(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=i.getCaptionFromModelSelection(t.model.document.selection);if(l){const u=t.editing.mapper.toViewElement(l);e.scrollToTheSelection(),e.change(h=>{h.addClass("image__caption_highlighted",u)})}t.editing.view.focus()}),a})}}class OIe extends F{static get requires(){return[RIe,PIe]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function tH(n){const t=n.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function MIe(n){return new Promise((t,e)=>{const i=n.getAttribute("src");fetch(i).then(s=>s.blob()).then(s=>{const r=nH(s,i),a=`image.${r.replace("image/","")}`,l=new File([s],a,{type:r});t(l)}).catch(s=>s&&s.name==="TypeError"?VIe(i).then(t).catch(e):e(s))})}function DIe(n,t){return!n.isInlineImageView(t)||!t.getAttribute("src")?!1:!!t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!t.getAttribute("src").match(/^blob:/g)}function nH(n,t){return n.type?n.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function VIe(n){return NIe(n).then(t=>{const e=nH(t,n),s=`image.${e.replace("image/","")}`;return new File([t],s,{type:e})})}function NIe(n){return new Promise((t,e)=>{const i=Pe.document.createElement("img");i.addEventListener("load",()=>{const s=Pe.document.createElement("canvas");s.width=i.width,s.height=i.height,s.getContext("2d").drawImage(i,0,0),s.toBlob(o=>o?t(o):e())}),i.addEventListener("error",()=>e()),i.src=n})}class LIe extends F{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),t.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),t.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>t.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get("uploadImage"),r=e.config.get("image.upload.types"),o=tH(r),a=new t(e.locale),l=i.t;return a.set({acceptedType:r.map(u=>`image/${u}`).join(","),allowMultipleFiles:!0,label:l("Upload from computer"),icon:me.imageUpload}),a.bind("isEnabled").to(s),a.on("done",(u,h)=>{const m=Array.from(h).filter(p=>o.test(p.type));m.length&&(e.execute("uploadImage",{file:m}),e.editing.view.focus())}),a}_createToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),i=this.editor.commands.get("uploadImage"),s=this._createButton(yO);return s.tooltip=!0,s.bind("label").to(e,"isImageSelected",i,"isAccessAllowed",(r,o)=>t(o?r?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),s}_createDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),i=this._createButton(yO);return i.withText=!0,i.bind("label").to(e,"isImageSelected",s=>t(s?"Replace from computer":"Upload from computer")),i.on("execute",()=>{e.dropdownView.isOpen=!1}),i}_createMenuBarButton(t){const e=this.editor.locale.t,i=this._createButton(mU);switch(i.withText=!0,t){case"standalone":i.label=e("Image from computer");break;case"insertOnly":i.label=e("Image");break;case"insertNested":i.label=e("From computer");break}return i}}class BIe extends F{constructor(e){super(e);b(this,"placeholder");b(this,"uploadStatusChange",(e,i,s)=>{const r=this.editor,o=i.item,a=o.getAttribute("uploadId");if(!s.consumable.consume(i.item,e.name))return;const l=r.plugins.get("ImageUtils"),u=r.plugins.get(Yl),h=a?i.attributeNewValue:null,m=this.placeholder,p=r.editing.mapper.toViewElement(o),v=s.writer;if(h=="reading"){P7(p,v),O7(l,m,p,v);return}if(h=="uploading"){const _=u.loaders.get(a);P7(p,v),_?(M7(p,v),zIe(p,v,_,r.editing.view),WIe(l,p,v,_)):O7(l,m,p,v);return}h=="complete"&&u.loaders.get(a)&&UIe(p,v,r.editing.view),jIe(p,v),M7(p,v),FIe(p,v)});this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function P7(n,t){n.hasClass("ck-appear")||t.addClass("ck-appear",n)}function FIe(n,t){t.removeClass("ck-appear",n)}function O7(n,t,e,i){e.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",e);const s=n.findViewImgElement(e);s.getAttribute("src")!==t&&i.setAttribute("src",t,s),iH(e,"placeholder")||i.insert(i.createPositionAfter(s),$Ie(i))}function M7(n,t){n.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",n),sH(n,t,"placeholder")}function zIe(n,t,e,i){const s=HIe(t);t.insert(t.createPositionAt(n,"end"),s),e.on("change:uploadedPercent",(r,o,a)=>{i.change(l=>{l.setStyle("width",a+"%",s)})})}function jIe(n,t){sH(n,t,"progressBar")}function UIe(n,t,e){const i=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(n,"end"),i),setTimeout(()=>{e.change(s=>s.remove(s.createRangeOn(i)))},3e3)}function HIe(n){const t=n.createUIElement("div",{class:"ck-progress-bar"});return n.setCustomProperty("progressBar",!0,t),t}function $Ie(n){const t=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,t),t}function iH(n,t){for(const e of n.getChildren())if(e.getCustomProperty(t))return e}function sH(n,t,e){const i=iH(n,e);i&&t.remove(t.createRangeOn(i))}function WIe(n,t,e,i){if(i.data){const s=n.findViewImgElement(t);e.setAttribute("src",i.data,s)}}class qIe extends je{constructor(t){super(t),this.set("isAccessAllowed",!0)}refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),i=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(i)}execute(t){const e=qt(t.file),i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());e.forEach((o,a)=>{const l=i.getSelectedElement();if(a&&l&&s.isImage(l)){const u=this.editor.model.createPositionAfter(l);this._uploadImage(o,r,u)}else this._uploadImage(o,r)})}_uploadImage(t,e,i){const s=this.editor,o=s.plugins.get(Yl).createLoader(t),a=s.plugins.get("ImageUtils");o&&a.insertImage({...e,uploadId:o.id},i)}}class GIe extends F{constructor(e){super(e);b(this,"_uploadImageElements");b(this,"_uploadedImages",new Map);e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Yl,PO,Ts,Pi]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.document,s=e.conversion,r=e.plugins.get(Yl),o=e.plugins.get("ImageUtils"),a=e.plugins.get("ClipboardPipeline"),l=tH(e.config.get("image.upload.types")),u=new qIe(e);e.commands.add("uploadImage",u),e.commands.add("imageUpload",u),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(h=>h.on("element:img",(m,p,v)=>{if(!v.consumable.test(p.viewItem,{attributes:["data-ck-upload-id"]}))return;const _=p.viewItem.getAttribute("data-ck-upload-id");if(!_)return;const[k]=Array.from(p.modelRange.getItems({shallow:!0})),C=r.loaders.get(_);k&&(v.writer.setAttribute("uploadId",_,k),v.consumable.consume(p.viewItem,{attributes:["data-ck-upload-id"]}),C&&C.data&&v.writer.setAttribute("uploadStatus",C.status,k))},{priority:"low"})),this.listenTo(e.editing.view.document,"clipboardInput",(h,m)=>{if(YIe(m.dataTransfer))return;const p=Array.from(m.dataTransfer.files).filter(_=>_?l.test(_.type):!1);if(!p.length)return;if(h.stop(),e.model.change(_=>{m.targetRanges&&_.setSelection(m.targetRanges.map(k=>e.editing.mapper.toModelRange(k))),e.execute("uploadImage",{file:p})}),!e.commands.get("uploadImage").isAccessAllowed){const _=e.plugins.get("Notification"),k=e.locale.t;_.showWarning(k("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(a,"inputTransformation",(h,m)=>{const p=Array.from(e.editing.view.createRangeIn(m.content)).map(_=>_.item).filter(_=>DIe(o,_)&&!_.getAttribute("uploadProcessed")).map(_=>({promise:MIe(_),imageElement:_}));if(!p.length)return;const v=new Ys(e.editing.view.document);for(const _ of p){v.setAttribute("uploadProcessed",!0,_.imageElement);const k=r.createLoader(_.promise);k&&(v.setAttribute("src","",_.imageElement),v.setAttribute("uploadId",k.id,_.imageElement))}}),e.editing.view.document.on("dragover",(h,m)=>{m.preventDefault()}),i.on("change",()=>{const h=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),m=new Set;for(const p of h)if(p.type=="insert"&&p.name!="$text"){const v=p.position.nodeAfter,_=p.position.root.rootName=="$graveyard";for(const k of ZIe(e,v)){const C=k.getAttribute("uploadId");if(!C)continue;const T=r.loaders.get(C);if(!T){!_&&this._uploadedImages.has(C)&&e.model.enqueueChange({isUndoable:!1},S=>{S.setAttribute("uploadStatus","complete",k),this.fire("uploadComplete",{data:this._uploadedImages.get(C),imageElement:k})});continue}_?m.has(C)||Array.from(this._uploadImageElements.get(C)).every(I=>I.root.rootName=="$graveyard")&&T.abort():(m.add(C),this._uploadImageElements.has(C)?this._uploadImageElements.get(C).add(k):this._uploadImageElements.set(C,new Set([k])),T.status=="idle"&&this._readAndUpload(T))}}}),this.on("uploadComplete",(h,{imageElement:m,data:p})=>{const v=p.urls?p.urls:p;this.editor.model.change(_=>{_.setAttribute("src",v.default,m),this._parseAndSetSrcsetAttributeOnImage(v,m,_),o.setImageNaturalSizeAttributes(m)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(e){const i=this.editor,s=i.model,r=i.locale.t,o=i.plugins.get(Yl),a=i.plugins.get(PO),l=i.plugins.get("ImageUtils"),u=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},m=>{const p=u.get(e.id);for(const v of p)m.setAttribute("uploadStatus","reading",v)}),e.read().then(()=>{const m=e.upload();i.ui&&i.ui.ariaLiveAnnouncer.announce(r("Uploading image"));for(const p of u.get(e.id)){/* istanbul ignore next -- @preserve */if(Ge.isSafari){const v=i.editing.mapper.toViewElement(p),_=l.findViewImgElement(v);i.editing.view.once("render",()=>{if(!_.parent)return;const k=i.editing.view.domConverter.mapViewToDom(_.parent);if(!k)return;const C=k.style.display;k.style.display="none",k._ckHack=k.offsetHeight,k.style.display=C})}s.enqueueChange({isUndoable:!1},v=>{v.setAttribute("uploadStatus","uploading",p)})}return m}).then(m=>{s.enqueueChange({isUndoable:!1},p=>{for(const v of u.get(e.id))p.setAttribute("uploadStatus","complete",v),this.fire("uploadComplete",{data:m,imageElement:v});i.ui&&i.ui.ariaLiveAnnouncer.announce(r("Image upload complete")),this._uploadedImages.set(e.id,m)}),h()}).catch(m=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(r("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw m;e.status=="error"&&m&&a.showWarning(m,{title:r("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},p=>{for(const v of u.get(e.id))v.root.rootName!=="$graveyard"&&p.remove(v)}),h()});function h(){s.enqueueChange({isUndoable:!1},m=>{for(const p of u.get(e.id))m.removeAttribute("uploadId",p),m.removeAttribute("uploadStatus",p);u.delete(e.id)}),o.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,s){let r=0;const o=Object.keys(e).filter(a=>{const l=parseInt(a,10);if(!isNaN(l))return r=Math.max(r,l),!0}).map(a=>`${e[a]} ${a}w`).join(", ");if(o!=""){const a={srcset:o};!i.hasAttribute("width")&&!i.hasAttribute("height")&&(a.width=r),s.setAttributes(a,i)}}_registerConverters(e){const{conversion:i,plugins:s}=this.editor,r=s.get(Yl),o=s.get(Pi);i.for("dataDowncast").add(a=>{a.on(`attribute:uploadId:${e}`,(l,u,h)=>{if(!h.consumable.test(u.item,l.name))return;const m=r.loaders.get(u.attributeNewValue);if(!m||!m.data)return null;const p=h.mapper.toViewElement(u.item),v=o.findViewImgElement(p);v&&(h.consumable.consume(u.item,l.name),h.writer.setAttribute("data-ck-upload-id",m.id,v))})})}}function YIe(n){return Array.from(n.types).includes("text/html")&&n.getData("text/html")!==""}function ZIe(n,t){const e=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(t)).filter(i=>e.isImage(i.item)).map(i=>i.item)}class rH extends F{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[GIe,LIe,BIe]}}class KIe extends ye{constructor(e){super(e);b(this,"urlInputView");b(this,"keystrokes");this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new Vt,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-url"],tabindex:"-1"},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),qo({view:this}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const e=this.locale,i=e.t,s=new _n(e,Wi);return s.bind("label").to(this,"isImageSelected",r=>i(r?"Update image URL":"Insert image via URL")),s.bind("isEnabled").to(this),s.fieldView.inputMode="url",s.fieldView.placeholder="https://example.com/image.png",s.fieldView.bind("value").to(this,"imageURLInputValue",r=>r||""),s.fieldView.on("input",()=>{this.imageURLInputValue=s.fieldView.element.value.trim()}),s}focus(){this.urlInputView.focus()}}class XIe extends F{constructor(){super(...arguments);b(this,"_imageInsertUI");b(this,"_formView")}static get pluginName(){return"ImageInsertViaUrlUI"}static get isOfficialPlugin(){return!0}static get requires(){return[t0,uc]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",()=>this._createToolbarButton()),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",()=>this._createMenuBarButton("standalone"))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createInsertUrlButton(e){const i=new e(this.editor.locale);return i.icon=me.imageUrl,i.on("execute",()=>{this._showModal()}),i}_createToolbarButton(){const e=this.editor.locale.t,i=this._createInsertUrlButton(Le);return i.tooltip=!0,i.bind("label").to(this._imageInsertUI,"isImageSelected",s=>e(s?"Update image URL":"Insert image via URL")),i}_createDropdownButton(){const e=this.editor.locale.t,i=this._createInsertUrlButton(Le);return i.withText=!0,i.bind("label").to(this._imageInsertUI,"isImageSelected",s=>e(s?"Update image URL":"Insert via URL")),i}_createMenuBarButton(e){const i=this.editor.locale.t,s=this._createInsertUrlButton(Rt);switch(s.withText=!0,e){case"standalone":s.label=i("Image via URL");break;case"insertOnly":s.label=i("Image");break;case"insertNested":s.label=i("Via URL");break}return s}_createInsertUrlView(){const e=this.editor,i=e.locale,s=e.commands.get("replaceImageSource"),r=e.commands.get("insertImage"),o=new KIe(i);return o.bind("isImageSelected").to(this._imageInsertUI),o.bind("isEnabled").toMany([r,s],"isEnabled",(...a)=>a.some(l=>l)),o}_showModal(){const e=this.editor,s=e.locale.t,r=e.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",()=>this._handleSave()));const o=e.commands.get("replaceImageSource");this._formView.imageURLInputValue=o.value||"",r.show({id:"insertImageViaUrl",title:this._imageInsertUI.isImageSelected?s("Update image URL"):s("Insert image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:s("Cancel"),withText:!0,onExecute:()=>r.hide()},{label:s("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}class oH extends F{static get pluginName(){return"ImageInsertViaUrl"}static get isOfficialPlugin(){return!0}static get requires(){return[XIe,t0]}}class JIe extends F{static get pluginName(){return"ImageInsert"}static get isOfficialPlugin(){return!0}static get requires(){return[rH,oH,t0]}}class QIe extends je{refresh(){const t=this.editor,i=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!i,!i||!i.hasAttribute("resizedWidth")?this.value=null:this.value={width:i.getAttribute("resizedWidth"),height:null}}execute(t){const e=this.editor,i=e.model,s=e.plugins.get("ImageUtils"),r=s.getClosestSelectedImageElement(i.document.selection);this.value={width:t.width,height:null},r&&i.change(o=>{o.setAttribute("resizedWidth",t.width,r),o.removeAttribute("resizedHeight",r),s.setImageNaturalSizeAttributes(r)})}}class aH extends F{static get requires(){return[Pi]}static get pluginName(){return"ImageResizeEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,e=new QIe(t);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",e),t.commands.add("imageResize",e)}afterInit(){this._registerSchema()}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(t){const e=this.editor,i=e.plugins.get("ImageUtils");e.conversion.for("downcast").add(s=>s.on(`attribute:resizedWidth:${t}`,(r,o,a)=>{if(!a.consumable.consume(o.item,r.name))return;const l=a.writer,u=a.mapper.toViewElement(o.item);o.attributeNewValue!==null?(l.setStyle("width",o.attributeNewValue,u),l.addClass("image_resized",u)):(l.removeStyle("width",u),l.removeClass("image_resized",u))})),e.conversion.for("dataDowncast").attributeToAttribute({model:{name:t,key:"resizedHeight"},view:s=>({key:"style",value:{height:s}})}),e.conversion.for("editingDowncast").add(s=>s.on(`attribute:resizedHeight:${t}`,(r,o,a)=>{if(!a.consumable.consume(o.item,r.name))return;const l=a.writer,u=a.mapper.toViewElement(o.item),h=t==="imageInline"?i.findViewImgElement(u):u;o.attributeNewValue!==null?l.setStyle("height",o.attributeNewValue,h):l.removeStyle("height",h)})),e.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:s=>Hv(s)?null:s.getStyle("width")}}),e.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:s=>Hv(s)?null:s.getStyle("height")}})}}const Ik={small:me.objectSizeSmall,medium:me.objectSizeMedium,large:me.objectSizeLarge,custom:me.objectSizeCustom,original:me.objectSizeFull};class eRe extends F{constructor(e){super(e);b(this,"_resizeUnit");this._resizeUnit=e.config.get("image.resizeUnit")}static get requires(){return[aH]}static get pluginName(){return"ImageResizeButtons"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.config.get("image.resizeOptions"),s=e.commands.get("resizeImage");this.bind("isEnabled").to(s);for(const r of i)this._registerImageResizeButton(r);this._registerImageResizeDropdown(i)}_registerImageResizeButton(e){const i=this.editor,{name:s,value:r,icon:o}=e;i.ui.componentFactory.add(s,a=>{const l=new Le(a),u=i.commands.get("resizeImage"),h=this._getOptionLabelValue(e,!0);if(!Ik[o])throw new L("imageresizebuttons-missing-icon",i,e);if(l.set({label:h,icon:Ik[o],tooltip:h,isToggleable:!0}),l.bind("isEnabled").to(this),i.plugins.has("ImageCustomResizeUI")&&jm(e)){const m=i.plugins.get("ImageCustomResizeUI");this.listenTo(l,"execute",()=>{m._showForm(this._resizeUnit)})}else{const m=r?r+this._resizeUnit:null;l.bind("isOn").to(u,"value",PE(m)),this.listenTo(l,"execute",()=>{i.execute("resizeImage",{width:m})})}return l})}_registerImageResizeDropdown(e){const i=this.editor,s=i.t,r=e.find(a=>!a.value),o=a=>{const l=i.commands.get("resizeImage"),u=Wn(a,iU),h=u.buttonView,m=s("Resize image");return h.set({tooltip:m,commandValue:r.value,icon:Ik.medium,isToggleable:!0,label:this._getOptionLabelValue(r),withText:!0,class:"ck-resize-image-button",ariaLabel:m,ariaLabelledBy:void 0}),h.bind("label").to(l,"value",p=>p&&p.width?p.width:this._getOptionLabelValue(r)),u.bind("isEnabled").to(this),ro(u,()=>this._getResizeDropdownListItemDefinitions(e,l),{ariaLabel:s("Image resize list"),role:"menu"}),this.listenTo(u,"execute",p=>{"onClick"in p.source?p.source.onClick():(i.execute(p.source.commandName,{width:p.source.commandValue}),i.editing.view.focus())}),u};i.ui.componentFactory.add("resizeImage",o),i.ui.componentFactory.add("imageResize",o)}_getOptionLabelValue(e,i=!1){const s=this.editor.t;return e.label?e.label:i?jm(e)?s("Custom image size"):e.value?s("Resize image to %0",e.value+this._resizeUnit):s("Resize image to the original size"):jm(e)?s("Custom"):e.value?e.value+this._resizeUnit:s("Original")}_getResizeDropdownListItemDefinitions(e,i){const{editor:s}=this,r=new kn,o=e.map(a=>jm(a)?{...a,valueWithUnits:"custom"}:a.value?{...a,valueWithUnits:`${a.value}${this._resizeUnit}`}:{...a,valueWithUnits:null});for(const a of o){let l=null;if(s.plugins.has("ImageCustomResizeUI")&&jm(a)){const u=s.plugins.get("ImageCustomResizeUI");l={type:"button",model:new wr({label:this._getOptionLabelValue(a),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{u._showForm(this._resizeUnit)}})};const h=Cwe(o,"valueWithUnits");l.model.bind("isOn").to(i,"value",tRe(h))}else l={type:"button",model:new wr({commandName:"resizeImage",commandValue:a.valueWithUnits,label:this._getOptionLabelValue(a),role:"menuitemradio",withText:!0,icon:null})},l.model.bind("isOn").to(i,"value",PE(a.valueWithUnits));l.model.bind("isEnabled").to(i,"isEnabled"),r.add(l)}return r}}function jm(n){return n.value==="custom"}function PE(n){return t=>{const e=t;return n===null&&e===n?!0:e!==null&&e.width===n}}function tRe(n){return t=>!n.some(e=>PE(e)(t))}const nRe="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",Rk="image_resized";class iRe extends F{static get requires(){return[wk,Pi]}static get pluginName(){return"ImageResizeHandles"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,e=t.editing.view,i=t.plugins.get("ImageUtils");e.addObserver(G5),this.listenTo(e.document,"imageLoaded",(s,r)=>{if(!r.target.matches(nRe))return;const o=t.editing.view.domConverter,a=o.domToView(r.target),l=i.getImageWidgetFromImageView(a);let u=this.editor.plugins.get(wk).getResizerByViewElement(l);if(u){u.redraw();return}const h=t.editing.mapper,m=h.toModelElement(l);u=t.plugins.get(wk).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:m,viewElement:l,editor:t,getHandleHost(p){return p.querySelector("img")},getResizeHost(){return o.mapViewToDom(h.toViewElement(m))},isCentered(){return m.getAttribute("imageStyle")=="alignCenter"},onCommit(p){e.change(v=>{v.removeClass(Rk,l)}),t.execute("resizeImage",{width:p})}}),u.on("updateSize",()=>{l.hasClass(Rk)||e.change(v=>{v.addClass(Rk,l)});const p=m.name==="imageInline"?a:l;p.getStyle("height")&&e.change(v=>{v.removeStyle("height",p)})}),u.bind("isEnabled").to(this)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lH(n){if(!n)return null;const[,t,e]=n.trim().match(/([.,\d]+)(%|px)$/)||[],i=Number.parseFloat(t);return Number.isNaN(i)?null:{value:i,unit:e}}function cH(n,t,e){return e==="px"?{value:t.value,unit:"px"}:{value:t.value/n*100,unit:"%"}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uH(n){const{editing:t}=n,i=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);if(!i)return null;const s=t.mapper.toViewElement(i),r=t.view.domConverter.mapViewToDom(s);return{model:i,view:s,dom:r}}function sRe(n,t){const e=uH(n);if(!e)return null;const i=lH(e.model.getAttribute("resizedWidth")||null);if(!i)return null;if(i.unit===t)return i;const s=L5(e.dom),r={value:new Xe(e.dom).width};return cH(s,r,t)}class rRe extends ye{constructor(e,i,s){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"unit");b(this,"labeledInput");b(this,"saveButtonView");b(this,"cancelButtonView");b(this,"_focusables");b(this,"_focusCycler");b(this,"_validators");const r=this.locale.t;this.focusTracker=new Ct,this.keystrokes=new Vt,this.unit=i,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),me.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),me.cancel,"ck-button-cancel","cancel"),this._focusables=new ei,this._validators=s,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),qo({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,s,r){const o=new Le(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.extendTemplate({attributes:{class:s}}),r&&o.delegate("execute").to(this,r),o}_createLabeledInputView(){const e=this.locale.t,i=new _n(this.locale,oU);return i.label=e("Resize image (in %0)",this.unit),i.fieldView.set({step:.1}),i}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.labeledInput.errorText=i,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:e}=this.labeledInput.fieldView;return e?e.value:null}get parsedSize(){const{rawSize:e}=this;if(e===null)return null;const i=Number.parseFloat(e);return Number.isNaN(i)?null:i}get sizeWithUnits(){const{parsedSize:e,unit:i}=this;return e===null?null:`${e}${i}`}}function oRe(n,t){const e=uH(n);if(!e)return null;const i=L5(e.dom),s=lH(window.getComputedStyle(e.dom).minWidth)||{value:1},r=Math.max(.1,cH(i,s,t).value);return{unit:t,lower:r,upper:t==="px"?i:100}}class aRe extends F{constructor(){super(...arguments);b(this,"_balloon");b(this,"_form")}static get requires(){return[Ki]}static get pluginName(){return"ImageCustomResizeUI"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(e){const i=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(vf(rRe))(i.locale,e,lRe(i)),this._form.render(),this.listenTo(this._form,"submit",()=>{this._form.isValid()&&(i.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))}),this.listenTo(this._form.labeledInput,"change:errorText",()=>{i.ui.update()}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,r)=>{this._hideForm(!0),r()}),so({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(e){if(this._isVisible)return;this._form||this._createForm(e);const i=this.editor,s=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:W5(i)});const r=sRe(i,e),o=r?r.value.toFixed(1):"",a=oRe(i,e);s.fieldView.value=s.fieldView.element.value=o,a&&Object.assign(s.fieldView,{min:a.lower.toFixed(1),max:Math.ceil(a.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}function lRe(n){const t=n.t;return[e=>{if(e.rawSize.trim()==="")return t("The value must not be empty.");if(e.parsedSize===null)return t("The value should be a plain number.")}]}class cRe extends F{static get requires(){return[aH,iRe,aRe,eRe]}static get pluginName(){return"ImageResize"}static get isOfficialPlugin(){return!0}}class uRe extends je{constructor(e,i){super(e);b(this,"_defaultStyles");b(this,"_styles");this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const r of s.modelElements)this._defaultStyles[r]=s.name;return[s.name,s]}))}refresh(){const s=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!s,this.isEnabled?s.hasAttribute("imageStyle")?this.value=s.getAttribute("imageStyle"):this.value=this._defaultStyles[s.name]:this.value=!1}execute(e={}){const i=this.editor,s=i.model,r=i.plugins.get("ImageUtils");s.change(o=>{const a=e.value,{setImageSizes:l=!0}=e;let u=r.getClosestSelectedImageElement(s.document.selection);a&&this.shouldConvertImageType(a,u)&&(this.editor.execute(r.isBlockImage(u)?"imageTypeInline":"imageTypeBlock",{setImageSizes:l}),u=r.getClosestSelectedImageElement(s.document.selection)),!a||this._styles.get(a).isDefault?o.removeAttribute("imageStyle",u):o.setAttribute("imageStyle",a,u),l&&r.setImageNaturalSizeAttributes(u)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}const C1={get inline(){return{name:"inline",title:"In line",icon:me.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:me.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:me.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:me.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:me.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:me.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:me.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:me.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},dH={full:me.objectFullWidth,left:me.objectBlockLeft,right:me.objectBlockRight,center:me.objectCenter,inlineLeft:me.objectLeft,inlineRight:me.objectRight,inline:me.objectInline},hH=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function dRe(n){return(n.configuredStyles.options||[]).map(i=>mRe(i)).filter(i=>gRe(i,n))}function hRe(n,t){return n&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}}function fRe(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...hH]:[]}function mRe(n){return typeof n=="string"?C1[n]?n={...C1[n]}:n={name:n}:n=pRe(C1[n.name],n),typeof n.icon=="string"&&(n.icon=dH[n.icon]||n.icon),n}function gRe(n,{isBlockPluginLoaded:t,isInlinePluginLoaded:e}){const{modelElements:i,name:s}=n;if(!i||!i.length||!s)return fH({style:n}),!1;{const r=[t?"imageBlock":null,e?"imageInline":null];if(!i.some(o=>r.includes(o)))return ht("image-style-missing-dependency",{style:n,missingPlugins:i.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function pRe(n,t){const e={...t};for(const i in n)Object.prototype.hasOwnProperty.call(t,i)||(e[i]=n[i]);return e}function fH(n){ht("image-style-configuration-definition-invalid",n)}var OE={normalizeStyles:dRe,getDefaultStylesConfiguration:hRe,getDefaultDropdownDefinitions:fRe,warnInvalidStyle:fH,DEFAULT_OPTIONS:C1,DEFAULT_ICONS:dH,DEFAULT_DROPDOWN_DEFINITIONS:hH};function bRe(n){return(t,e,i)=>{if(!i.consumable.consume(e.item,t.name))return;const s=D7(e.attributeNewValue,n),r=D7(e.attributeOldValue,n),o=i.mapper.toViewElement(e.item),a=i.writer;r&&a.removeClass(r.className,o),s&&a.addClass(s.className,o)}}function vRe(n){const t={imageInline:n.filter(e=>!e.isDefault&&e.modelElements.includes("imageInline")),imageBlock:n.filter(e=>!e.isDefault&&e.modelElements.includes("imageBlock"))};return(e,i,s)=>{if(!i.modelRange)return;const r=i.viewItem,o=Qt(i.modelRange.getItems());if(o&&s.schema.checkAttribute(o,"imageStyle"))for(const a of t[o.name])s.consumable.consume(r,{classes:a.className})&&s.writer.setAttribute("imageStyle",a.name,o)}}function D7(n,t){for(const e of t)if(e.name===n)return e}class mH extends F{constructor(){super(...arguments);b(this,"normalizedStyles")}static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Pi]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=OE,s=this.editor,r=s.plugins.has("ImageBlockEditing"),o=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(r,o)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:r,isInlinePluginLoaded:o}),this._setupConversion(r,o),this._setupPostFixer(),s.commands.add("imageStyle",new uRe(s,this.normalizedStyles))}_setupConversion(e,i){const s=this.editor,r=s.model.schema,o=bRe(this.normalizedStyles),a=vRe(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",o),s.data.downcastDispatcher.on("attribute:imageStyle",o),e&&(r.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",a,{priority:"low"})),i&&(r.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",a,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,s=e.plugins.get(Pi),r=new Map(this.normalizedStyles.map(o=>[o.name,o]));i.registerPostFixer(o=>{let a=!1;for(const l of i.differ.getChanges())if(l.type=="insert"||l.type=="attribute"&&l.attributeKey=="imageStyle"){let u=l.type=="insert"?l.position.nodeAfter:l.range.start.nodeAfter;if(u&&u.is("element","paragraph")&&u.childCount>0&&(u=u.getChild(0)),!s.isImage(u))continue;const h=u.getAttribute("imageStyle");if(!h)continue;const m=r.get(h);(!m||!m.modelElements.includes(u.name))&&(o.removeAttribute("imageStyle",u),a=!0)}return a})}}class wRe extends F{static get requires(){return[mH]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],i=t.get("ImageStyleEditing"),s=V7(i.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of s)this._createButton(o);const r=V7([...e.filter(rn),...OE.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const o of r)this._createDropdown(o,s)}_createDropdown(t,e){const i=this.editor.ui.componentFactory;i.add(t.name,s=>{let r;const{defaultItem:o,items:a,title:l}=t,u=a.filter(v=>e.find(({name:_})=>N7(_)===v)).map(v=>{const _=i.create(v);return v===o&&(r=_),_});a.length!==u.length&&OE.warnInvalidStyle({dropdown:t});const h=Wn(s,Wu),m=h.buttonView,p=m.arrowView;return Xp(h,u,{enableActiveItemFocusOnDropdownOpen:!0}),m.set({label:L7(l,r.label),class:null,tooltip:!0}),p.unbind("label"),p.set({label:l}),m.bind("icon").toMany(u,"isOn",(...v)=>{const _=v.findIndex($l);return _<0?r.icon:u[_].icon}),m.bind("label").toMany(u,"isOn",(...v)=>{const _=v.findIndex($l);return L7(l,_<0?r.label:u[_].label)}),m.bind("isOn").toMany(u,"isOn",(...v)=>v.some($l)),m.bind("class").toMany(u,"isOn",(...v)=>v.some($l)?"ck-splitbutton_flatten":void 0),m.on("execute",()=>{u.some(({isOn:v})=>v)?h.isOpen=!h.isOpen:r.fire("execute")}),h.bind("isEnabled").toMany(u,"isEnabled",(...v)=>v.some($l)),this.listenTo(h,"execute",()=>{this.editor.editing.view.focus()}),h})}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(N7(e),i=>{const s=this.editor.commands.get("imageStyle"),r=new Le(i);return r.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(s,"isEnabled"),r.bind("isOn").to(s,"value",o=>o===e),r.on("execute",this._executeCommand.bind(this,e)),r})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function V7(n,t){for(const e of n)t[e.title]&&(e.title=t[e.title]);return n}function N7(n){return`imageStyle:${n}`}function L7(n,t){return(n?n+": ":"")+t}class yRe extends F{static get requires(){return[mH,wRe]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class _Re extends F{static get requires(){return[Lv,Pi]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,i=t.plugins.get(Lv),s=t.plugins.get("ImageUtils");i.register("image",{ariaLabel:e("Image toolbar"),items:xRe(t.config.get("image.toolbar")||[]),getRelatedElement:r=>s.getClosestSelectedImageWidget(r)})}}function xRe(n){return n.map(t=>rn(t)?t.name:t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class kRe extends F{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("indent",new Z8(t)),t.commands.add("outdent",new Z8(t))}}class CRe extends F{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,i=t.t,s=e.uiLanguageDirection=="ltr"?me.indent:me.outdent,r=e.uiLanguageDirection=="ltr"?me.outdent:me.indent;this._defineButton("indent",i("Increase indent"),s),this._defineButton("outdent",i("Decrease indent"),r)}_defineButton(t,e,i){const s=this.editor;s.ui.componentFactory.add(t,()=>{const r=this._createButton(Le,t,e,i);return r.set({tooltip:!0}),r}),s.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(Rt,t,e,i))}_createButton(t,e,i,s){const r=this.editor,o=r.commands.get(e),a=new t(r.locale);return a.set({label:i,icon:s}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{r.execute(e),r.editing.view.focus()}),a}}class ERe extends F{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[kRe,CRe]}}class Zb extends je{constructor(e,i){super(e);b(this,"_indentBehavior");this._indentBehavior=i}refresh(){const i=this.editor.model,s=Qt(i.document.selection.getSelectedBlocks());if(!s||!this._isIndentationChangeAllowed(s)){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(s.getAttribute("blockIndent"))}execute(){const e=this.editor.model,i=this._getBlocksToChange();e.change(s=>{for(const r of i){const o=r.getAttribute("blockIndent"),a=this._indentBehavior.getNextIndent(o);a?s.setAttribute("blockIndent",a,r):s.removeAttribute("blockIndent",r)}})}_getBlocksToChange(){const i=this.editor.model.document.selection;return Array.from(i.getSelectedBlocks()).filter(r=>this._isIndentationChangeAllowed(r))}_isIndentationChangeAllowed(e){const i=this.editor;return i.model.schema.checkAttribute(e,"blockIndent")?!i.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!i.plugins.get("ListUtils").isListItemBlock(e):!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class B7{constructor(t){b(this,"isForward");b(this,"offset");b(this,"unit");this.isForward=t.direction==="forward",this.offset=t.offset,this.unit=t.unit}checkEnabled(t){const e=parseFloat(t||"0");return this.isForward||e>0}getNextIndent(t){const e=parseFloat(t||"0");if(!(!t||t.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const s=this.isForward?this.offset:-this.offset,r=e+s;return r>0?r+this.unit:void 0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class F7{constructor(t){b(this,"isForward");b(this,"classes");this.isForward=t.direction==="forward",this.classes=t.classes}checkEnabled(t){const e=this.classes.indexOf(t);return this.isForward?e<this.classes.length-1:e>=0}getNextIndent(t){const e=this.classes.indexOf(t),i=this.isForward?1:-1;return this.classes[e+i]}}const TRe=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class SRe extends F{constructor(t){super(t),t.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.config.get("indentBlock");e.classes&&e.classes.length?(this._setupConversionUsingClasses(e.classes),t.commands.add("indentBlock",new Zb(t,new F7({direction:"forward",classes:e.classes}))),t.commands.add("outdentBlock",new Zb(t,new F7({direction:"backward",classes:e.classes})))):(t.data.addStyleProcessorRules(Hke),this._setupConversionUsingOffset(),t.commands.add("indentBlock",new Zb(t,new B7({direction:"forward",offset:e.offset,unit:e.unit}))),t.commands.add("outdentBlock",new Zb(t,new B7({direction:"backward",offset:e.offset,unit:e.unit}))))}afterInit(){const t=this.editor,e=t.model.schema,i=t.commands.get("indent"),s=t.commands.get("outdent"),r=t.config.get("heading.options");(r&&r.map(l=>l.model)||TRe).forEach(l=>{e.isRegistered(l)&&e.extend(l,{allowAttributes:"blockIndent"})}),e.setAttributeProperties("blockIndent",{isFormatting:!0}),i.registerChildCommand(t.commands.get("indentBlock")),s.registerChildCommand(t.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const t=this.editor.conversion,i=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:{[i]:/[\s\S]+/}},model:{key:"blockIndent",value:s=>{if(!s.is("element","li"))return s.getStyle(i)}}}),t.for("downcast").attributeToAttribute({model:"blockIndent",view:s=>({key:"style",value:{[i]:s}})})}_setupConversionUsingClasses(t){const e={model:{key:"blockIndent",values:[]},view:{}};for(const i of t)e.model.values.push(i),e.view[i]={key:"class",value:[i]};this.editor.conversion.attributeToAttribute(e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Z5(n,t){return t=t||oE(n),`${n}:${t}`}function ARe(n){const[t,e]=n.split(":");return{languageCode:t,textDirection:e}}class IRe extends je{refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"language")}execute({languageCode:t,textDirection:e}={}){const i=this.editor.model,r=i.document.selection,o=t?Z5(t,e):!1;i.change(a=>{if(r.isCollapsed)o?a.setSelectionAttribute("language",o):a.removeSelectionAttribute("language");else{const l=i.schema.getValidRanges(r.getRanges(),"language");for(const u of l)o?a.setAttribute("language",o,u):a.removeAttribute("language",u)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,i=t.document.selection;if(i.isCollapsed)return i.getAttribute("language")||!1;for(const s of i.getRanges())for(const r of s.getItems())if(e.checkAttribute(r,"language"))return r.getAttribute("language")||!1;return!1}}class RRe extends F{static get pluginName(){return"TextPartLanguageEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"language"}),t.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),t.commands.add("textPartLanguage",new IRe(t))}_defineConverters(){const t=this.editor.conversion;t.for("upcast").elementToAttribute({model:{key:"language",value:e=>{const i=e.getAttribute("lang"),s=e.getAttribute("dir");return Z5(i,s)}},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),t.for("downcast").attributeToElement({model:"language",view:(e,{writer:i},s)=>{if(!e||!s.item.is("$textProxy")&&!s.item.is("documentSelection"))return;const{languageCode:r,textDirection:o}=ARe(e);return i.createAttributeElement("span",{lang:r,dir:o})}})}}class PRe extends F{static get pluginName(){return"TextPartLanguageUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,i=e("Choose language"),s=e("Language");t.ui.componentFactory.add("textPartLanguage",r=>{const{definitions:o,titles:a}=this._getItemMetadata(),l=t.commands.get("textPartLanguage"),u=Wn(r);return ro(u,o,{ariaLabel:s,role:"menu"}),u.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),u.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),u.bind("isEnabled").to(l,"isEnabled"),u.buttonView.bind("label").to(l,"value",h=>h&&a[h]||i),u.buttonView.bind("ariaLabel").to(l,"value",h=>{const m=h&&a[h];return m?`${m}, ${s}`:s}),this.listenTo(u,"execute",h=>{l.execute({languageCode:h.source.languageCode,textDirection:h.source.textDirection}),t.editing.view.focus()}),u}),t.ui.componentFactory.add("menuBar:textPartLanguage",r=>{const{definitions:o}=this._getItemMetadata(),a=t.commands.get("textPartLanguage"),l=new Yi(r);l.buttonView.set({label:s});const u=new No(r);u.set({ariaLabel:e("Language"),role:"menu"});for(const h of o){if(h.type!="button"){u.items.add(new Kp(r));continue}const m=new Jr(r,l),p=new Rt(r);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(h.model)).to(h.model),p.delegate("execute").to(l),m.children.add(p),u.items.add(m)}return l.bind("isEnabled").to(a,"isEnabled"),l.panelView.children.add(u),l.on("execute",h=>{a.execute({languageCode:h.source.languageCode,textDirection:h.source.textDirection}),t.editing.view.focus()}),l})}_getItemMetadata(){const t=this.editor,e=new kn,i={},s=t.commands.get("textPartLanguage"),r=t.config.get("language.textPartLanguage"),o=t.locale.t,a=o("Remove language");e.add({type:"button",model:new wr({label:a,languageCode:!1,withText:!0})}),e.add({type:"separator"});for(const l of r){const u={type:"button",model:new wr({label:l.title,languageCode:l.languageCode,role:"menuitemradio",textDirection:l.textDirection,withText:!0})},h=Z5(l.languageCode,l.textDirection);u.model.bind("isOn").to(s,"value",m=>m===h),e.add(u),i[h]=l.title}return{definitions:e,titles:i}}}class ORe extends F{static get requires(){return[RRe,PRe]}static get pluginName(){return"TextPartLanguage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class MRe{constructor(){b(this,"_definitions",new Set)}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,i,s)=>{if(!s.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||s.schema.isInline(i.item)))return;const r=s.writer,o=r.document.selection;for(const a of this._definitions){const l=r.createAttributeElement("a",a.attributes,{priority:5});a.classes&&r.addClass(a.classes,l);for(const u in a.styles)r.setStyle(u,a.styles[u],l);r.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?r.wrap(o.getFirstRange(),l):r.wrap(s.mapper.toViewRange(i.range),l):r.unwrap(s.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,i,{writer:s,mapper:r})=>{const o=r.toViewElement(i.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));if(a)for(const l of this._definitions){const u=Kr(l.attributes);if(l.callback(i.attributeNewValue)){for(const[h,m]of u)h==="class"?s.addClass(m,a):s.setAttribute(h,m,a);l.classes&&s.addClass(l.classes,a);for(const h in l.styles)s.setStyle(h,l.styles[h],a)}else{for(const[h,m]of u)h==="class"?s.removeClass(m,a):s.removeAttribute(h,a);l.classes&&s.removeClass(l.classes,a);for(const h in l.styles)s.removeStyle(h,a)}}})}}}const DRe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,VRe="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",NRe=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,LRe=/^((\w+:(\/{2,})?)|(\W))/i,BRe=["https?","ftps?","mailto"],Jm="Ctrl+K";function FRe(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function z7(n,{writer:t}){const e=t.createAttributeElement("a",{href:n},{priority:5});return t.setCustomProperty("link",!0,e),e}function gH(n,t=BRe){const e=String(n),i=t.join("|"),s=new RegExp(`${VRe.replace("<protocols>",i)}`,"i");return zRe(e,s)?e:"#"}function zRe(n,t){return!!n.replace(DRe,"").match(t)}function jRe(n,t){const e={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return t.forEach(i=>("label"in i&&e[i.label]&&(i.label=e[i.label]),i)),t}function URe(n){const t=[];if(n)for(const[e,i]of Object.entries(n)){const s=Object.assign({},i,{id:`link${RF(e)}`});t.push(s)}return t}function ME(n,t){return n?t.checkAttribute(n.name,"linkHref"):!1}function HRe(n){return NRe.test(n)}function K5(n,t){const e=HRe(n)?"mailto:":t,i=!!e&&!pH(n);return n&&i?e+n:n}function pH(n){return LRe.test(n)}function bH(n){window.open(n,"_blank","noopener")}function vH(n){const t=n.plugins.has("BookmarkEditing")?n.plugins.get("BookmarkEditing"):null;function e(s){return!!s&&s.startsWith("#")&&!!t&&!!t.getElementForBookmarkId(s.slice(1))}function i(s){const r=s.slice(1),o=t.getElementForBookmarkId(r);n.model.change(a=>{a.setSelection(o,"on")}),n.editing.view.scrollToTheSelection({alignToTop:!0,forceScroll:!0})}return{isScrollableToTarget:e,scrollToTarget:i}}class $Re extends je{constructor(){super(...arguments);b(this,"manualDecorators",new kn);b(this,"automaticDecorators",new MRe)}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement()||Qt(i.getSelectedBlocks());ME(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(e,i={}){const s=this.editor.model,r=s.document.selection,o=[],a=[];for(const l in i)i[l]?o.push(l):a.push(l);s.change(l=>{if(r.isCollapsed){const u=r.getFirstPosition();if(r.hasAttribute("linkHref")){const h=j7(r);let m=Jp(u,"linkHref",r.getAttribute("linkHref"),s);r.getAttribute("linkHref")===h&&(m=this._updateLinkContent(s,l,m,e)),l.setAttribute("linkHref",e,m),o.forEach(p=>{l.setAttribute(p,!0,m)}),a.forEach(p=>{l.removeAttribute(p,m)}),l.setSelection(l.createPositionAfter(m.end.nodeBefore))}else if(e!==""){const h=Kr(r.getAttributes());h.set("linkHref",e),o.forEach(p=>{h.set(p,!0)});const{end:m}=s.insertContent(l.createText(e,h),u);l.setSelection(m)}["linkHref",...o,...a].forEach(h=>{l.removeSelectionAttribute(h)})}else{const u=s.schema.getValidRanges(r.getRanges(),"linkHref"),h=[];for(const p of r.getSelectedBlocks())s.schema.checkAttribute(p,"linkHref")&&h.push(l.createRangeOn(p));const m=h.slice();for(const p of u)this._isRangeToUpdate(p,h)&&m.push(p);for(const p of m){let v=p;if(m.length===1){const _=j7(r);r.getAttribute("linkHref")===_&&(v=this._updateLinkContent(s,l,p,e),l.setSelection(l.createSelection(v)))}l.setAttribute("linkHref",e,v),o.forEach(_=>{l.setAttribute(_,!0,v)}),a.forEach(_=>{l.removeAttribute(_,v)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,s=i.document.selection,r=s.getSelectedElement();return ME(r,i.schema)?r.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,i){for(const s of i)if(s.containsRange(e))return!1;return!0}_updateLinkContent(e,i,s,r){const o=i.createText(r,{linkHref:r});return e.insertContent(o,s)}}function j7(n){if(n.isCollapsed){const t=n.getFirstPosition();return t.textNode&&t.textNode.data}else{const t=Array.from(n.getFirstRange().getItems());if(t.length>1)return null;const e=t[0];return e.is("$text")||e.is("$textProxy")?e.data:null}}class WRe extends je{refresh(){const t=this.editor.model,e=t.document.selection,i=e.getSelectedElement();ME(i,t.schema)?this.isEnabled=t.schema.checkAttribute(i,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,i=e.document.selection,s=t.commands.get("link");e.change(r=>{const o=i.isCollapsed?[Jp(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),e)]:e.schema.getValidRanges(i.getRanges(),"linkHref");for(const a of o)if(r.removeAttribute("linkHref",a),s)for(const l of s.manualDecorators)r.removeAttribute(l.id,a)})}}class qRe extends Wt(){constructor({id:e,label:i,attributes:s,classes:r,styles:o,defaultValue:a}){super();b(this,"id");b(this,"defaultValue");b(this,"label");b(this,"attributes");b(this,"classes");b(this,"styles");this.id=e,this.set("value",void 0),this.defaultValue=a,this.label=i,this.attributes=s,this.classes=r,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const GRe="ck-link_selected",U7="automatic",YRe="manual",ZRe=/^(https?:)?\/\//;class Sy extends F{static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Vv,yU,Ts]}constructor(t){super(t),t.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const t=this.editor,e=this.editor.config.get("link.allowedProtocols");t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:z7}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(r,o)=>z7(gH(r,e),o)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:r=>r.getAttribute("href")}}),t.commands.add("link",new $Re(t)),t.commands.add("unlink",new WRe(t));const i=jRe(t.t,URe(t.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(r=>r.mode===U7)),this._enableManualDecorators(i.filter(r=>r.mode===YRe)),t.plugins.get(Vv).registerAttribute("linkHref"),kU(t,"linkHref","a",GRe),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,s=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:U7,callback:r=>!!r&&ZRe.test(r),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(t),s.length&&e.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,s=e.commands.get("link").manualDecorators;t.forEach(r=>{e.model.schema.extend("$text",{allowAttributes:r.id});const o=new qRe(r);s.add(o),e.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:u},{item:h})=>{if((h.is("selection")||u.isInline(h))&&a){const m=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,m);for(const p in o.styles)l.setStyle(p,o.styles[p],m);return l.setCustomProperty("link",!0,m),m}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const t=this.editor,i=t.editing.view.document,s=vH(t);function r(o){s.isScrollableToTarget(o)?s.scrollToTarget(o):bH(o)}this.listenTo(i,"click",(o,a)=>{if(!(Ge.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let u=a.domTarget;if(u.tagName.toLowerCase()!="a"&&(u=u.closest("a")),!u)return;const h=u.getAttribute("href");h&&(o.stop(),a.preventDefault(),r(h))},{context:"$capture"}),this.listenTo(i,"keydown",(o,a)=>{const u=t.commands.get("link").value;u&&a.keyCode===mt.enter&&a.altKey&&(o.stop(),r(u))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(s,{attributeKeys:r})=>{!r.includes("linkHref")||i.hasAttribute("linkHref")||e.change(o=>{KRe(o,XRe(e.schema))})})}_enableClipboardIntegration(){const t=this.editor,e=t.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(s,r)=>{e.change(o=>{const a=o.createRangeIn(r.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const u=K5(l.getAttribute("linkHref"),i);o.setAttribute("linkHref",u,l)}})})}}function KRe(n,t){n.removeSelectionAttribute("linkHref");for(const e of t)n.removeSelectionAttribute(e)}function XRe(n){return n.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}class JRe extends ye{constructor(e,i,s){super(e);b(this,"focusTracker",new Ct);b(this,"keystrokes",new Vt);b(this,"urlInputView");b(this,"saveButtonView");b(this,"cancelButtonView");b(this,"_manualDecoratorSwitches");b(this,"children");b(this,"_validators");b(this,"_focusables",new ei);b(this,"_focusCycler");const r=e.t;this._validators=s,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),me.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),me.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),qo({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,i=new _n(this.locale,Wi);return i.fieldView.inputMode="url",i.label=e("Link URL"),i}_createButton(e,i,s,r){const o=new Le(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o.extendTemplate({attributes:{class:s}}),r&&o.delegate("execute").to(this,r),o}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const s of e.manualDecorators){const r=new Vu(this.locale);r.set({name:s.id,label:s.label,withText:!0}),r.bind("isOn").toMany([s,e],"value",(o,a)=>a===void 0&&o===void 0?!!s.defaultValue:!!o),r.on("execute",()=>{s.set("value",!r.isOn)}),i.add(r)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const s=new ye;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(r=>({tag:"li",children:[r],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var QRe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class ePe extends ye{constructor(e,i={},s){super(e);b(this,"focusTracker",new Ct);b(this,"keystrokes",new Vt);b(this,"previewButtonView");b(this,"unlinkButtonView");b(this,"editButtonView");b(this,"_focusables",new ei);b(this,"_focusCycler");b(this,"_linkConfig");b(this,"_options");const r=e.t;this._options=s,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(r("Unlink"),QRe,"unlink"),this.editButtonView=this._createButton(r("Edit link"),me.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,s){const r=new Le(this.locale);return r.set({label:e,icon:i,tooltip:!0}),r.delegate("execute").to(this,s),r}_createPreviewButton(){const e=new Le(this.locale),i=this.bindTemplate,s=this.t;return e.set({withText:!0}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",r=>r&&gH(r,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"},on:{click:i.to(r=>{this._options&&this._options.isScrollableToTarget(this.href)?(r.preventDefault(),this._options.scrollToTarget(this.href)):bH(this.href)})}}),e.bind("tooltip").to(this,"href",r=>this._options&&this._options.isScrollableToTarget(r)?s("Scroll to target"):s("Open link in new tab")),e.bind("label").to(this,"href",r=>r||s("This link has no URL")),e.bind("isEnabled").to(this,"href",r=>!!r),e.template.tag="a",e}}var wH='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';const po="link-ui";class yH extends F{constructor(){super(...arguments);b(this,"actionsView",null);b(this,"formView",null);b(this,"_balloon")}static get requires(){return[Ki]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(Sj),this._balloon=e.plugins.get(Ki),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:po,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:po,view:(s,{writer:r})=>{if(!s.markerRange.isCollapsed)return null;const o=r.createUIElement("span");return r.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],o),o}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:Jm},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new ePe(e.locale,e.config.get("link"),vH(e)),s=e.commands.get("link"),r=e.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(o,a)=>{this._hideUI(),a()}),i.keystrokes.set(Jm,(o,a)=>{this._addFormView(),a()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),r=new(vf(JRe))(e.locale,i,tPe(e));return r.urlInputView.fieldView.bind("value").to(i,"value"),r.urlInputView.bind("isEnabled").to(i,"isEnabled"),r.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(r,"submit",()=>{if(r.isValid()){const{value:o}=r.urlInputView.fieldView.element,a=K5(o,s);e.execute("link",a,r.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(r.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(o,a)=>{this._closeFormView(),a()}),r}_createToolbarLinkButton(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const i=this._createButton(Le);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:link",()=>{const i=this._createButton(Rt);return i.set({role:"menuitemcheckbox"}),i})}_createButton(e){const i=this.editor,s=i.locale,r=i.commands.get("link"),o=new e(i.locale),a=s.t;return o.set({label:a("Link"),icon:wH,keystroke:Jm,isToggleable:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",l=>!!l),this.listenTo(o,"execute",()=>this._showUI(!0)),o}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Jm,(s,r)=>{r(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),so({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=i.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let s=this._getSelectedLinkElement(),r=a();const o=()=>{const l=this._getSelectedLinkElement(),u=a();s&&!l||!s&&u!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=l,r=u};function a(){return i.selection.focus.getAncestors().reverse().find(l=>l.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,s=e.document;let r;if(i.markers.has(po)){const o=Array.from(this.editor.editing.mapper.markerNameToElements(po)),a=e.createRange(e.createPositionBefore(o[0]),e.createPositionAfter(o[o.length-1]));r=e.domConverter.viewRangeToDom(a)}else r=()=>{const o=this._getSelectedLinkElement();return o?e.domConverter.mapViewToDom(o):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:r}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&Un(s))return Pk(i.getFirstPosition());{const r=i.getFirstRange().getTrimmed(),o=Pk(r.start),a=Pk(r.end);return!o||o!=a?null:e.createRangeIn(o).getTrimmed().isEqual(r)?o:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const s=e.document.selection.getFirstRange();if(e.markers.has(po))i.updateMarker(po,{range:s});else if(s.start.isAtEnd){const r=s.start.getLastMatchingPosition(({item:o})=>!e.schema.isContent(o),{boundaries:s});i.addMarker(po,{usingOperation:!1,affectsData:!1,range:i.createRange(r,s.end)})}else i.addMarker(po,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(po)&&e.change(i=>{i.removeMarker(po)})}}function Pk(n){return n.getAncestors().find(t=>FRe(t))||null}function tPe(n){const t=n.t,e=n.config.get("link.allowCreatingEmptyLinks");return[i=>{if(!e&&!i.url.length)return t("Link URL must not be empty.")}]}const nPe=4,_H=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),iPe=2;class xH extends F{static get requires(){return[Lo,Sy]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?Jp(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const s=this.editor.model,r=s.document.selection,o=r.getFirstPosition(),a=r.getLastPosition();let l=e.getJoined(this._expandLinkRange(s,o)||e);l&&(l=l.getJoined(this._expandLinkRange(s,a)||e)),l&&(l.start.isBefore(o)||l.end.isAfter(a))&&t.setSelection(l)}_enablePasteLinking(){const t=this.editor,e=t.model,i=e.document.selection,s=t.plugins.get("ClipboardPipeline"),r=t.commands.get("link");s.on("inputTransformation",(o,a)=>{if(!this.isEnabled||!r.isEnabled||i.isCollapsed||a.method!=="paste"||i.rangeCount>1)return;const l=i.getFirstRange(),u=a.dataTransfer.getData("text/plain");if(!u)return;const h=u.match(_H);h&&h[2]===u&&(e.change(m=>{this._selectEntireLinks(m,l),r.execute(u)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new V5(t.model,i=>{let s=i;if(!sPe(s))return;s=s.slice(0,-1),"!.:,;?".includes(s[s.length-1])&&(s=s.slice(0,-1));const r=H7(s);if(r)return{url:r,removedTrailingCharacters:i.length-s.length}});e.on("matched:data",(i,s)=>{const{batch:r,range:o,url:a,removedTrailingCharacters:l}=s;if(!r.isTyping)return;const u=o.end.getShiftedBy(-l),h=u.getShiftedBy(-a.length),m=t.model.createRange(h,u);this._applyAutoLink(a,m)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("enter");i&&i.on("execute",()=>{const s=e.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const r=e.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("shiftEnter");i&&i.on("execute",()=>{const s=e.document.selection.getFirstPosition(),r=e.createRange(e.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:i,range:s}=xU(t,e),r=H7(i);if(r){const o=e.createRange(s.end.getShiftedBy(-r.length),s.end);this._applyAutoLink(r,o)}}_applyAutoLink(t,e){const i=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),r=K5(t,s);!this.isEnabled||!rPe(e,i)||!pH(r)||oPe(e)||this._persistAutoLink(r,e)}_persistAutoLink(t,e){const i=this.editor.model,s=this.editor.plugins.get("Delete");i.enqueueChange(r=>{r.setAttribute("linkHref",t,e),i.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function sPe(n){return n.length>nPe&&n[n.length-1]===" "&&n[n.length-2]!==" "}function H7(n){const t=_H.exec(n);return t?t[iPe]:null}function rPe(n,t){return t.schema.checkAttributeInSelection(t.createSelection(n),"linkHref")}function oPe(n){const t=n.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}class aPe extends F{static get requires(){return[Sy,yH,xH]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}class lPe extends F{static get requires(){return["ImageEditing","ImageUtils",Sy]}static get pluginName(){return"LinkImageEditing"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.model.schema;t.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["linkHref"]}),t.conversion.for("upcast").add(cPe(t)),t.conversion.for("downcast").add(uPe(t)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const t=this.editor,i=t.commands.get("link").automaticDecorators;i.length&&t.conversion.for("downcast").add(i.getDispatcherForLinkedImage())}_enableManualDecorators(){const t=this.editor,e=t.commands.get("link");for(const i of e.manualDecorators)t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:i.id}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:i.id}),t.conversion.for("downcast").add(dPe(i)),t.conversion.for("upcast").add(hPe(t,i))}}function cPe(n){const t=n.plugins.has("ImageInlineEditing"),e=n.plugins.get("ImageUtils");return i=>{i.on("element:a",(s,r,o)=>{const a=r.viewItem,l=e.findViewImgElement(a);if(!l)return;const u=l.findAncestor(v=>e.isBlockImageView(v));if(t&&!u)return;const h={attributes:["href"]};if(!o.consumable.consume(a,h))return;const m=a.getAttribute("href");if(!m)return;let p=r.modelCursor.parent;if(!p.is("element","imageBlock")){const v=o.convertItem(l,r.modelCursor);r.modelRange=v.modelRange,r.modelCursor=v.modelCursor,p=r.modelCursor.nodeBefore}p&&p.is("element","imageBlock")&&o.writer.setAttribute("linkHref",m,p)},{priority:"high"})}}function uPe(n){const t=n.plugins.get("ImageUtils");return e=>{e.on("attribute:linkHref:imageBlock",(i,s,r)=>{if(!r.consumable.consume(s.item,i.name))return;const o=r.mapper.toViewElement(s.item),a=r.writer,l=Array.from(o.getChildren()).find(m=>m.is("element","a")),u=t.findViewImgElement(o),h=u.parent.is("element","picture")?u.parent:u;if(l)s.attributeNewValue?a.setAttribute("href",s.attributeNewValue,l):(a.move(a.createRangeOn(h),a.createPositionAt(o,0)),a.remove(l));else{const m=a.createContainerElement("a",{href:s.attributeNewValue});a.insert(a.createPositionAt(o,0),m),a.move(a.createRangeOn(h),a.createPositionAt(m,0))}},{priority:"high"})}}function dPe(n){return t=>{t.on(`attribute:${n.id}:imageBlock`,(e,i,s)=>{const r=s.mapper.toViewElement(i.item),o=Array.from(r.getChildren()).find(a=>a.is("element","a"));if(o){for(const[a,l]of Kr(n.attributes))s.writer.setAttribute(a,l,o);n.classes&&s.writer.addClass(n.classes,o);for(const a in n.styles)s.writer.setStyle(a,n.styles[a],o)}})}}function hPe(n,t){const e=n.plugins.has("ImageInlineEditing"),i=n.plugins.get("ImageUtils");return s=>{s.on("element:a",(r,o,a)=>{const l=o.viewItem,u=i.findViewImgElement(l);if(!u)return;const h=u.findAncestor(_=>i.isBlockImageView(_));if(e&&!h)return;const p=new ls(t._createPattern()).match(l);if(!p||!a.consumable.consume(l,p.match))return;const v=o.modelCursor.nodeBefore||o.modelCursor.parent;a.writer.setAttribute(t.id,!0,v)},{priority:"high"})}}class fPe extends F{static get requires(){return[Sy,yH,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(i,s)=>{this._isSelectedLinkedImage(t.model.document.selection)&&(s.preventDefault(),i.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("linkImage",i=>{const s=new Le(i),r=t.plugins.get("LinkUI"),o=t.commands.get("link");return s.set({isEnabled:!0,label:e("Link image"),icon:wH,keystroke:Jm,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(o,"isEnabled"),s.bind("isOn").to(o,"value",a=>!!a),this.listenTo(s,"execute",()=>{this._isSelectedLinkedImage(t.model.document.selection)?r._addActionsView():r._showUI(!0)}),s})}_isSelectedLinkedImage(t){const e=t.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(e)&&e.hasAttribute("linkHref")}}class mPe extends F{static get requires(){return[lPe,fPe]}static get pluginName(){return"LinkImage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class yr{constructor(t,e){b(this,"_startElement");b(this,"_referenceIndent");b(this,"_isForward");b(this,"_includeSelf");b(this,"_sameAttributes");b(this,"_sameIndent");b(this,"_lowerIndent");b(this,"_higherIndent");this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=qt(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){const s=new this(t,e)[Symbol.iterator]();return Qt(s)}*[Symbol.iterator](){const t=[];for(const{node:e}of new n0(this._getStartNode(),this._isForward?"forward":"backward")){const i=e.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some(s=>e.getAttribute(s)!==this._startElement.getAttribute(s)))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class n0{constructor(t,e="forward"){b(this,"_node");b(this,"_isForward");b(this,"_previousNodesByIndent",[]);b(this,"_previous",null);b(this,"_previousNodeIndent",null);this._node=t,this._isForward=e==="forward"}[Symbol.iterator](){return this}next(){if(!sn(this._node))return{done:!0,value:void 0};const t=this._node.getAttribute("listIndent");let e=null;if(this._previous){const s=this._previousNodeIndent;t>s?this._previousNodesByIndent[s]=this._previous:t<s?(e=this._previousNodesByIndent[t]||null,this._previousNodesByIndent.length=t):e=this._previous}const i={node:this._node,previous:this._previous,previousNodeInList:e};return this._previous=this._node,this._previousNodeIndent=t,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:i,done:!1}}}class gPe{constructor(t){b(this,"_listHead");this._listHead=t}[Symbol.iterator](){return new n0(this._listHead)}}class Yh{static next(){return mi()}}function sn(n){return!!n&&n.is("element")&&n.hasAttribute("listItemId")}function Zh(n,t={}){return[...fc(n,{...t,direction:"backward"}),...fc(n,{...t,direction:"forward"})]}function fc(n,t={}){const e=t.direction=="forward",i=Array.from(new yr(n,{...t,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?i:i.reverse()}function pPe(n){return Array.from(new yr(n,{direction:"forward",higherIndent:!0}))}function kH(n,t){const e=new yr(n,{sameIndent:!0,sameAttributes:"listType",...t}),i=new yr(n,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(e).reverse(),...i]}function Ka(n){return!yr.first(n,{sameIndent:!0,sameAttributes:"listItemId"})}function $7(n){return!yr.first(n,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function i0(n,t={}){n=qt(n);const e=t.withNested!==!1,i=new Set;for(const s of n)for(const r of Zh(s,{higherIndent:e}))i.add(r);return Yu(i)}function Ay(n){n=qt(n);const t=new Set;for(const e of n)for(const i of kH(e))t.add(i);return Yu(t)}function X5(n,t){const e=fc(n,{direction:"forward"}),i=Yh.next();for(const s of e)t.setAttribute("listItemId",i,s);return e}function DE(n,t,e){const i={};for(const[r,o]of t.getAttributes())r.startsWith("list")&&(i[r]=o);const s=fc(n,{direction:"forward"});for(const r of s)e.setAttributes(i,r);return s}function VE(n,t,{expand:e,indentBy:i=1}={}){n=qt(n);const s=e?i0(n):n;for(const r of s){const o=r.getAttribute("listIndent")+i;o<0?Iy(r,t):t.setAttribute("listIndent",o,r)}return s}function bPe(n,t){n=qt(n);const e=i0(n),i=new Set,s=Math.min(...e.map(o=>o.getAttribute("listIndent"))),r=new Map;for(const o of e)r.set(o,yr.first(o,{lowerIndent:!0}));for(const o of e){if(i.has(o))continue;i.add(o);const a=o.getAttribute("listIndent")-1;if(a<0){Iy(o,t);continue}if(o.getAttribute("listIndent")==s){const l=wPe(o,r.get(o),t);for(const u of l)i.add(u);if(l.length)continue}t.setAttribute("listIndent",a,o)}return Yu(i)}function Iy(n,t){n=qt(n);for(const e of n)e.is("element","listItem")&&t.rename(e,"paragraph");for(const e of n)for(const i of e.getAttributeKeys())i.startsWith("list")&&t.removeAttribute(i,e);return n}function dp(n){if(!n.length)return!1;const t=n[0].getAttribute("listItemId");return t?!n.some(e=>e.getAttribute("listItemId")!=t):!1}function vPe(n,t){const e=[];let i=Number.POSITIVE_INFINITY;for(const{node:s}of new n0(n.nextSibling)){const r=s.getAttribute("listIndent");if(r==0)break;r<i&&(i=r);const o=r-i;t.setAttribute("listIndent",o,s),e.push(s)}return e}function Yu(n){return Array.from(n).filter(t=>t.root.rootName!=="$graveyard").sort((t,e)=>t.index-e.index)}function hp(n){const t=n.document.selection.getSelectedElement();return t&&n.schema.isObject(t)&&n.schema.isBlock(t)?t:null}function Ok(n,t){return t.checkChild(n.parent,"listItem")&&t.checkChild(n,"$text")&&!t.isObject(n)}function Wv(n){return n=="numbered"||n=="customNumbered"}function wPe(n,t,e){return fc(t,{direction:"forward"}).pop().index>n.index?DE(n,t,e):[]}class W7 extends je{constructor(e,i){super(e);b(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=q7(e.document.selection);e.change(s=>{const r=[];dp(i)&&!Ka(i[0])?(this._direction=="forward"&&r.push(...VE(i,s)),r.push(...X5(i[0],s))):this._direction=="forward"?r.push(...VE(i,s,{expand:!0})):r.push(...bPe(i,s));for(const o of r){if(!o.hasAttribute("listType"))continue;const a=yr.first(o,{sameIndent:!0});a&&s.setAttribute("listType",a.getAttribute("listType"),o)}this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Yu(new Set(e)))}_checkEnabled(){let e=q7(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||dp(e)&&!Ka(e[0]))return!0;e=i0(e),i=e[0];const s=yr.first(i,{sameIndent:!0});return s?s.getAttribute("listType")==i.getAttribute("listType"):!1}}function q7(n){const t=Array.from(n.getSelectedBlocks()),e=t.findIndex(i=>!sn(i));return e!=-1&&(t.length=e),t}class Qm extends je{constructor(e,i,s={}){super(e);b(this,"type");b(this,"_listWalkerOptions");this.type=i,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.document,r=hp(i),o=Array.from(s.selection.getSelectedBlocks()).filter(l=>i.schema.checkAttribute(l,"listType")||Ok(l,i.schema)),a=e.forceValue!==void 0?!e.forceValue:this.value;i.change(l=>{if(a){const u=o[o.length-1],h=fc(u,{direction:"forward"}),m=[];h.length>1&&m.push(...X5(h[1],l)),m.push(...Iy(o,l)),m.push(...vPe(u,l)),this._fireAfterExecute(m)}else if((r||s.selection.isCollapsed)&&sn(o[0])){const u=kH(r||o[0],this._listWalkerOptions);for(const h of u)l.setAttributes({...e.additionalAttributes,listType:this.type},h);this._fireAfterExecute(u)}else{const u=[];for(const h of o)if(!h.hasAttribute("listType"))!h.is("element","listItem")&&Ok(h,i.schema)&&l.rename(h,"listItem"),l.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:Yh.next(),listType:this.type},h),u.push(h);else for(const m of i0(h,{withNested:!1}))m.getAttribute("listType")!=this.type&&(l.setAttributes({...e.additionalAttributes,listType:this.type},m),u.push(m));this._fireAfterExecute(u)}})}_fireAfterExecute(e){this.fire("afterExecute",Yu(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const s of i)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,s=e.document.selection,r=Array.from(s.getSelectedBlocks());if(!r.length)return!1;if(this.value)return!0;for(const o of r)if(i.checkAttribute(o,"listType")||Ok(o,i))return!0;return!1}}class G7 extends je{constructor(e,i){super(e);b(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,s=i.document.selection,r=[];i.change(o=>{const{firstElement:a,lastElement:l}=this._getMergeSubjectElements(s,e),u=a.getAttribute("listIndent")||0,h=l.getAttribute("listIndent"),m=l.getAttribute("listItemId");if(u!=h){const p=pPe(l);r.push(...VE([l,...p],o,{indentBy:u-h,expand:u<h}))}if(e){let p=s;s.isCollapsed&&(p=o.createSelection(o.createRange(o.createPositionAt(a,"end"),o.createPositionAt(l,0)))),i.deleteContent(p,{doNotResetEntireContent:s.isCollapsed});const v=p.getLastPosition().parent,_=v.nextSibling;r.push(v),_&&_!==l&&_.getAttribute("listItemId")==m&&r.push(...DE(_,v,o))}else r.push(...DE(l,a,o));this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Yu(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,s=hp(e);if(i.isCollapsed||s){const r=s||i.getFirstPosition().parent;if(!sn(r))return!1;const o=this._direction=="backward"?r.previousSibling:r.nextSibling;if(!o||dp([r,o]))return!1}else{const r=i.getLastPosition(),o=i.getFirstPosition();if(r.parent===o.parent||!sn(r.parent))return!1}return!0}_getMergeSubjectElements(e,i){const s=this.editor.model,r=hp(s);let o,a;if(e.isCollapsed||r){const l=r||e.getFirstPosition().parent,u=Ka(l);this._direction=="backward"?(a=l,u&&!i?o=yr.first(l,{sameIndent:!0,lowerIndent:!0}):o=l.previousSibling):(o=l,a=l.nextSibling)}else o=e.getFirstPosition().parent,a=e.getLastPosition().parent;return{firstElement:o,lastElement:a}}}class Y7 extends je{constructor(e,i){super(e);b(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(i=>{const s=X5(this._getStartBlock(),i);this._fireAfterExecute(s)})}_fireAfterExecute(e){this.fire("afterExecute",Yu(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&sn(i)&&!Ka(i)}_getStartBlock(){const i=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?i:i.nextSibling}}class yPe extends F{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(t){return Ay(t)}isFirstBlockOfListItem(t){return Ka(t)}isListItemBlock(t){return sn(t)}expandListBlocksToCompleteItems(t,e={}){return i0(t,e)}isNumberedListType(t){return Wv(t)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _Pe(n){return n.is("element","ol")||n.is("element","ul")}function NE(n){return n.is("element","li")}function xPe(n){let t=0,e=n.parent;for(;e;){if(NE(e))t++;else{const i=e.previousSibling;i&&NE(i)&&t++}e=e.parent}return t}function kPe(n,t,e,i=EH(e,t)){return n.createAttributeElement(CH(e),null,{priority:2*t/100-100,id:i})}function CPe(n,t,e){return n.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:e})}function CH(n){return n=="numbered"||n=="customNumbered"?"ol":"ul"}function EH(n,t){return`list-${n}-${t}`}function Dr(n,t,e){const i=n.nodeBefore;if(sn(i)){let s=i;for(const{node:r}of new n0(s,"backward"))if(s=r,e.has(s)||(e.add(s),t.has(i)))return;t.add(s)}else{const s=n.nodeAfter;sn(s)&&t.add(s)}}function EPe(n,t){let e=0,i=-1,s=null,r=!1;for(const{node:o}of n){const a=o.getAttribute("listIndent");if(a>e){let l;s===null?(s=a-e,l=e):(s>a&&(s=a),l=a-s),l>i+1&&(l=i+1),t.setAttribute("listIndent",l,o),r=!0,i=l}else s=null,e=a+1,i=a}return r}function TPe(n,t,e){const i=new Set;let s=!1;for(const{node:r}of n){if(i.has(r))continue;let o=r.getAttribute("listType"),a=r.getAttribute("listItemId");if(t.has(a)&&(a=Yh.next()),t.add(a),r.is("element","listItem")){r.getAttribute("listItemId")!=a&&(e.setAttribute("listItemId",a,r),s=!0);continue}for(const l of fc(r,{direction:"forward"}))i.add(l),l.getAttribute("listType")!=o&&(a=Yh.next(),o=l.getAttribute("listType")),l.getAttribute("listItemId")!=a&&(e.setAttribute("listItemId",a,l),s=!0)}return s}function SPe(){return(n,t,e)=>{const{writer:i,schema:s}=e;if(!t.modelRange)return;const r=Array.from(t.modelRange.getItems({shallow:!0})).filter(m=>s.checkAttribute(m,"listItemId"));if(!r.length)return;const o=Yh.next(),a=xPe(t.viewItem);let l=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const u=r[0].getAttribute("listType");u&&(l=u);const h={listItemId:o,listIndent:a,listType:l};for(const m of r)m.hasAttribute("listItemId")||i.setAttributes(h,m);r.length>1&&r[1].getAttribute("listItemId")!=h.listItemId&&e.keepEmptyElement(r[0])}}function APe(n,t,e,i){return()=>{const a=n.document.differ.getChanges(),l=[],u=new Set,h=new Set,m=new Set;for(const p of a)if(p.type=="insert"&&p.name!="$text")Dr(p.position,u,m),p.attributes.has("listItemId")?h.add(p.position.nodeAfter):Dr(p.position.getShiftedBy(p.length),u,m);else if(p.type=="remove"&&p.attributes.has("listItemId"))Dr(p.position,u,m);else if(p.type=="attribute"){const v=p.range.start.nodeAfter;e.includes(p.attributeKey)?(Dr(p.range.start,u,m),p.attributeNewValue===null?(Dr(p.range.start.getShiftedBy(1),u,m),r(v)&&l.push(v)):h.add(v)):sn(v)&&r(v)&&l.push(v)}for(const p of u.values())l.push(...s(p,h));for(const p of new Set(l))t.reconvertItem(p)};function s(a,l){const u=[],h=new Set,m=[];for(const{node:p,previous:v}of new n0(a)){if(h.has(p))continue;const _=p.getAttribute("listIndent");v&&_<v.getAttribute("listIndent")&&(m.length=_+1),m[_]=Object.fromEntries(Array.from(p.getAttributes()).filter(([C])=>e.includes(C)));const k=fc(p,{direction:"forward"});for(const C of k)h.add(C),(r(C,k)||o(C,m,l))&&u.push(C)}return u}function r(a,l){const u=t.mapper.toViewElement(a);if(!u)return!1;if(i.fire("checkElement",{modelElement:a,viewElement:u}))return!0;if(!a.is("element","paragraph")&&!a.is("element","listItem"))return!1;const m=SH(a,e,l);return m&&u.is("element","p")?!0:!!(!m&&u.is("element","span"))}function o(a,l,u){if(u.has(a))return!1;const h=t.mapper.toViewElement(a);let m=l.length-1;for(let p=h.parent;!p.is("editableElement");p=p.parent){const v=NE(p),_=_Pe(p);if(!_&&!v)continue;const k=`checkAttributes:${v?"item":"list"}`;if(i.fire(k,{viewElement:p,modelAttributes:l[m]}))break;if(_&&(m--,m<0))return!1}return!0}}function Z7(n,t,e,{dataPipeline:i}={}){const s=VPe(n);return(r,o,a)=>{const{writer:l,mapper:u,consumable:h}=a,m=o.item;if(!n.includes(o.attributeKey)||!s(m,h))return;const p=RPe(m,u,e);TH(p,l,u),MPe(p,l);const v=OPe(m,p,t,l,{dataPipeline:i});DPe(m,v,t,l)}}function IPe(n){return(t,e,i)=>{const{writer:s,mapper:r}=i,o=t.name.split(":")[1];if(!n.checkAttribute(o,"listItemId"))return;const a=r.toViewPosition(e.position),l=e.position.getShiftedBy(e.length),u=r.toViewPosition(l,{isPhantom:!0}),m=s.createRange(a,u).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */m&&TH(m,s,r)}}function K7(n,{dataPipeline:t}={}){return(e,{writer:i})=>{if(!SH(e,n))return null;if(!t)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}function RPe(n,t,e){const i=e.createRangeOn(n);return t.toViewRange(i).getTrimmed().end.nodeBefore}function PPe(n,t){return(e,i)=>{if(i.modelPosition.offset>0)return;const s=i.modelPosition.parent;if(!sn(s)||!n.some(u=>u.scope=="itemMarker"&&u.canInjectMarkerIntoElement&&u.canInjectMarkerIntoElement(s)))return;const r=i.mapper.toViewElement(s),o=t.createRangeIn(r),a=o.getWalker();let l=o.start;for(const{item:u}of a){if(u.is("element")&&i.mapper.toModelElement(u)||u.is("$textProxy"))break;u.is("element")&&u.getCustomProperty("listItemMarker")&&(l=t.createPositionAfter(u),a.skip(({previousPosition:h})=>!h.isEqual(l)))}i.viewPosition=l}}function TH(n,t,e){for(;n.parent.is("attributeElement")&&n.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(n),n.parent);const i=[];s(t.createPositionBefore(n).getWalker({direction:"backward"})),s(t.createRangeIn(n).getWalker());for(const r of i)t.remove(r);function s(r){for(const{item:o}of r){if(o.is("element")&&e.toModelElement(o))break;o.is("element")&&o.getCustomProperty("listItemMarker")&&i.push(o)}}}function OPe(n,t,e,i,{dataPipeline:s}){let r=i.createRangeOn(t);if(!Ka(n))return r;for(const o of e){if(o.scope!="itemMarker")continue;const a=o.createElement(i,n,{dataPipeline:s});if(!a||(i.setCustomProperty("listItemMarker",!0,a),o.canInjectMarkerIntoElement&&o.canInjectMarkerIntoElement(n)?i.insert(i.createPositionAt(t,0),a):(i.insert(r.start,a),r=i.createRange(i.createPositionBefore(a),i.createPositionAfter(t))),!o.createWrapperElement||!o.canWrapElement))continue;const l=o.createWrapperElement(i,n,{dataPipeline:s});i.setCustomProperty("listItemWrapper",!0,l),o.canWrapElement(n)?r=i.wrap(r,l):(r=i.wrap(i.createRangeOn(a),l),r=i.createRange(r.start,i.createPositionAfter(t)))}return r}function MPe(n,t){let e=n.parent;for(;e.is("attributeElement")&&["ul","ol","li"].includes(e.name);){const i=e.parent;t.unwrap(t.createRangeOn(n),e),e=i}}function DPe(n,t,e,i){if(!n.hasAttribute("listIndent"))return;const s=n.getAttribute("listIndent");let r=n;for(let o=s;o>=0;o--){const a=CPe(i,o,r.getAttribute("listItemId")),l=kPe(i,o,r.getAttribute("listType"));for(const u of e)(u.scope=="list"||u.scope=="item")&&r.hasAttribute(u.attributeName)&&u.setAttributeOnDowncast(i,r.getAttribute(u.attributeName),u.scope=="list"?l:a);if(t=i.wrap(t,a),t=i.wrap(t,l),o==0||(r=yr.first(r,{lowerIndent:!0}),!r))break}}function VPe(n){return(t,e)=>{const i=[];for(const s of n)t.hasAttribute(s)&&i.push(`attribute:${s}`);return i.every(s=>e.test(t,s)!==!1)?(i.forEach(s=>e.consume(t,s)),!0):!1}}function SH(n,t,e=Zh(n)){if(!sn(n))return!1;for(const i of n.getAttributeKeys())if(!(i.startsWith("selection:")||i=="htmlEmptyBlock")&&!t.includes(i))return!1;return e.length<2}const E1=["listType","listIndent","listItemId"];class fp extends F{constructor(e){super(e);b(this,"_downcastStrategies",[]);e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Qp,Lo,yPe,Ts]}init(){const e=this.editor,i=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new L("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:E1}),s?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const r of E1)i.schema.setAttributeProperties(r,{copyOnReplace:!0});e.commands.add("numberedList",new Qm(e,"numbered")),e.commands.add("bulletedList",new Qm(e,"bulleted")),e.commands.add("customNumberedList",new Qm(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new Qm(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new W7(e,"forward")),e.commands.add("outdentList",new W7(e,"backward")),e.commands.add("splitListItemBefore",new Y7(e,"before")),e.commands.add("splitListItemAfter",new Y7(e,"after")),s&&(e.commands.add("mergeListItemBackward",new G7(e,"backward")),e.commands.add("mergeListItemForward",new G7(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const i=this.editor.commands,s=i.get("indent"),r=i.get("outdent");s&&s.registerChildCommand(i.get("indentList"),{priority:"high"}),r&&r.registerChildCommand(i.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...E1,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(r,o)=>{const a=e.model.document.selection;hp(e.model)||e.model.change(()=>{const l=a.getFirstPosition();if(a.isCollapsed&&o.direction=="backward"){if(!l.isAtStart)return;const u=l.parent;if(!sn(u))return;if(!yr.first(u,{sameAttributes:"listType",sameIndent:!0})&&u.getAttribute("listIndent")===0)$7(u)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:X7(e.model,"backward")})}o.preventDefault(),r.stop()}else{if(a.isCollapsed&&!a.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:X7(e.model,"forward")}),o.preventDefault(),r.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,s=e.commands,r=s.get("enter");this.listenTo(e.editing.view.document,"enter",(o,a)=>{const l=i.document,u=l.selection.getFirstPosition().parent;if(l.selection.isCollapsed&&sn(u)&&u.isEmpty&&!a.isSoft){const h=Ka(u),m=$7(u);h&&m?(e.execute("outdentList"),a.preventDefault(),o.stop()):h&&!m?(e.execute("splitListItemAfter"),a.preventDefault(),o.stop()):m&&(e.execute("splitListItemBefore"),a.preventDefault(),o.stop())}},{context:"li"}),this.listenTo(r,"afterExecute",()=>{const o=s.get("splitListItemBefore");if(o.refresh(),!o.isEnabled)return;const l=e.model.document.selection.getLastPosition().parent;Zh(l).length===2&&o.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,s)=>{const r=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(e.execute(r),s.stopPropagation(),s.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,s=this.getListAttributeNames(),r=e.config.get("list.multiBlock"),o=r?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(l,{writer:u})=>u.createElement(o,{listType:""})}).elementToElement({view:"p",model:(l,{writer:u})=>l.parent&&l.parent.is("element","li")?u.createElement(o,{listType:""}):null,converterPriority:"high"}).add(l=>{l.on("element:li",SPe())}),r||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:o,view:K7(s),converterPriority:"high"}).add(l=>{l.on("attribute",Z7(s,this._downcastStrategies,i)),l.on("remove",IPe(i.schema))}),e.conversion.for("dataDowncast").elementToElement({model:o,view:K7(s,{dataPipeline:!0}),converterPriority:"high"}).add(l=>{l.on("attribute",Z7(s,this._downcastStrategies,i,{dataPipeline:!0}))});const a=PPe(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",a),e.data.mapper.on("modelToViewPosition",a),this.listenTo(i.document,"change:data",APe(i,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(l,{viewElement:u,modelAttributes:h})=>{u.id!=h.listItemId&&(l.return=!0,l.stop())}),this.on("checkAttributes:list",(l,{viewElement:u,modelAttributes:h})=>{(u.name!=CH(h.listType)||u.id!=EH(h.listType,h.listIndent))&&(l.return=!0,l.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(s=>NPe(e,s,i,this)),this.on("postFixer",(s,{listNodes:r,writer:o})=>{s.return=EPe(r,o)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:r,writer:o,seenIds:a})=>{s.return=TPe(r,a,o)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",LPe(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(s,r)=>{e.change(o=>{const a=Array.from(r.content.getChildren()),l=a[a.length-1];if(a.length>1&&l.is("element")&&l.isEmpty&&a.slice(0,-1).every(sn)&&o.remove(l),r.method=="copy"||r.method=="cut"){const u=Array.from(r.content.getChildren());dp(u)&&Iy(u,o)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function NPe(n,t,e,i){const s=n.document.differ.getChanges(),r=new Set,o=new Set,a=i.editor.config.get("list.multiBlock");let l=!1;for(const h of s){if(h.type=="insert"&&h.name!="$text"){const m=h.position.nodeAfter;if(!n.schema.checkAttribute(m,"listItemId"))for(const p of Array.from(m.getAttributeKeys()))e.includes(p)&&(t.removeAttribute(p,m),l=!0);Dr(h.position,o,r),h.attributes.has("listItemId")||Dr(h.position.getShiftedBy(h.length),o,r);for(const{item:p,previousPosition:v}of n.createRangeIn(m))sn(p)&&Dr(v,o,r)}else h.type=="remove"?Dr(h.position,o,r):h.type=="attribute"&&e.includes(h.attributeKey)&&(Dr(h.range.start,o,r),h.attributeNewValue===null&&Dr(h.range.start.getShiftedBy(1),o,r));if(!a&&h.type=="attribute"&&E1.includes(h.attributeKey)){const m=h.range.start.nodeAfter;h.attributeNewValue===null&&m&&m.is("element","listItem")?(t.rename(m,"paragraph"),l=!0):h.attributeOldValue===null&&m&&m.is("element")&&m.name!="listItem"&&(t.rename(m,"listItem"),l=!0)}}const u=new Set;for(const h of o.values())l=i.fire("postFixer",{listNodes:new gPe(h),listHead:h,writer:t,seenIds:u})||l;return l}function LPe(n){return(t,[e,i])=>{const s=e.is("documentFragment")?Array.from(e.getChildren()):[e];if(!s.length)return;const o=(i?n.createSelection(i):n.document.selection).getFirstPosition();let a;if(sn(o.parent))a=o.parent;else if(sn(o.nodeBefore)&&sn(o.nodeAfter))a=o.nodeBefore;else return;n.change(l=>{const u=a.getAttribute("listType"),h=a.getAttribute("listIndent"),m=s[0].getAttribute("listIndent")||0,p=Math.max(h-m,0);for(const v of s){const _=sn(v);a.is("element","listItem")&&v.is("element","paragraph")&&l.rename(v,"listItem"),l.setAttributes({listIndent:(_?v.getAttribute("listIndent"):0)+p,listItemId:_?v.getAttribute("listItemId"):Yh.next(),listType:u},v)}})}}function X7(n,t){const e=n.document.selection;if(!e.isCollapsed)return!hp(n);if(t==="forward")return!0;const s=e.getFirstPosition().parent,r=s.previousSibling;return n.schema.isObject(r)?!1:r.isEmpty?!0:dp([s,r])}function LE(n,t,e,i){n.ui.componentFactory.add(t,()=>{const s=J7(Le,n,t,e,i);return s.set({tooltip:!0,isToggleable:!0}),s}),n.ui.componentFactory.add(`menuBar:${t}`,()=>{const s=J7(Rt,n,t,e,i);return s.set({role:"menuitemcheckbox",isToggleable:!0}),s})}function J7(n,t,e,i,s){const r=t.commands.get(e),o=new n(t.locale);return o.set({label:i,icon:s}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),o.on("execute",()=>{t.execute(e),t.editing.view.focus()}),o}class BPe extends F{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||LE(this.editor,"numberedList",t("Numbered List"),me.numberedList),this.editor.ui.componentFactory.has("bulletedList")||LE(this.editor,"bulletedList",t("Bulleted List"),me.bulletedList)}}class FPe extends F{static get requires(){return[fp,BPe]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}class zPe extends je{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute({startIndex:t=1}={}){const e=this.editor.model,i=e.document;let s=Array.from(i.selection.getSelectedBlocks()).filter(r=>sn(r)&&Wv(r.getAttribute("listType")));s=Ay(s),e.change(r=>{for(const o of s)r.setAttribute("listStart",t>=0?t:1,o)})}_getValue(){const e=this.editor.model.document,i=Qt(e.selection.getSelectedBlocks());return i&&sn(i)&&Wv(i.getAttribute("listType"))?i.getAttribute("listStart"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const AH={},IH={},RH={},PH=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:t,listType:e}of PH)AH[n]=e,IH[n]=t,t&&(RH[t]=n);function OH(){return PH.map(n=>n.listStyle)}function J5(n){return AH[n]||null}function MH(n){return RH[n]||null}function BE(n){return IH[n]||null}function jPe(n){switch(n){case"lower-alpha":return"lower-latin";case"upper-alpha":return"upper-latin";default:return n}}class UPe extends je{constructor(e,i,s){super(e);b(this,"defaultType");b(this,"_supportedTypes");this.defaultType=i,this._supportedTypes=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.document;i.change(r=>{this._tryToConvertItemsToList(e);let o=Array.from(s.selection.getSelectedBlocks()).filter(a=>a.hasAttribute("listType"));if(o.length){o=Ay(o);for(const a of o)r.setAttribute("listStyle",e.type||this.defaultType,a)}})}isStyleTypeSupported(e){return this._supportedTypes?this._supportedTypes.includes(e):!0}_getValue(){const e=Qt(this.editor.model.document.selection.getSelectedBlocks());return sn(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,i=e.commands.get("numberedList"),s=e.commands.get("bulletedList");return i.isEnabled||s.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const i=J5(e.type);if(!i)return;const s=this.editor,r=`${i}List`;s.commands.get(r).value||s.execute(r)}}class HPe extends je{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute(t={}){const e=this.editor.model,i=e.document;let s=Array.from(i.selection.getSelectedBlocks()).filter(r=>sn(r)&&r.getAttribute("listType")=="numbered");s=Ay(s),e.change(r=>{for(const o of s)r.setAttribute("listReversed",!!t.reversed,o)})}_getValue(){const e=this.editor.model.document,i=Qt(e.selection.getSelectedBlocks());return sn(i)&&i.getAttribute("listType")=="numbered"?i.getAttribute("listReversed"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Q7(n){return(t,e,i)=>{const{writer:s,schema:r,consumable:o}=i;if(o.test(e.viewItem,n.viewConsumables)===!1)return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor));let a=!1;for(const l of e.modelRange.getItems({shallow:!0}))r.checkAttribute(l,n.attributeName)&&n.appliesToListItem(l)&&(l.hasAttribute(n.attributeName)||(s.setAttribute(n.attributeName,n.getAttributeOnUpcast(e.viewItem),l),a=!0));a&&o.consume(e.viewItem,n.viewConsumables)}}class $Pe extends F{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return OH()}getListTypeFromListStyleType(t){return J5(t)}getListStyleTypeFromTypeAttribute(t){return MH(t)}getTypeAttributeFromListStyleType(t){return BE(t)}}function DH(n){const{startIndex:t,reversed:e,styles:i}=n;return{styles:WPe(i),startIndex:t||!1,reversed:e||!1}}function WPe(n){const t={listTypes:["bulleted","numbered"],useAttribute:!1};return n===!0||(n?Array.isArray(n)||typeof n=="string"?t.listTypes=qt(n):(t.listTypes=n.listTypes?qt(n.listTypes):t.listTypes,t.useAttribute=!!n.useAttribute,n.listStyleTypes&&(t.listStyleTypes=n.listStyleTypes)):t.listTypes=[]),t}const Um="default";class qPe extends F{static get requires(){return[fp,$Pe]}static get pluginName(){return"ListPropertiesEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const t=this.editor,e=t.model,i=t.plugins.get(fp),s=t.config.get("list.properties"),r=GPe(s);for(const o of r)o.addCommand(t),e.schema.extend("$listItem",{allowAttributes:o.attributeName}),i.registerDowncastStrategy({scope:"list",attributeName:o.attributeName,setAttributeOnDowncast(a,l,u){o.setAttributeOnDowncast(a,l,u)}});t.conversion.for("upcast").add(o=>{for(const a of r)o.on("element:ol",Q7(a)),o.on("element:ul",Q7(a))}),i.on("checkAttributes:list",(o,{viewElement:a,modelAttributes:l})=>{for(const u of r)u.getAttributeOnUpcast(a)!=l[u.attributeName]&&(o.return=!0,o.stop())}),this.listenTo(t.commands.get("indentList"),"afterExecute",(o,a)=>{e.change(l=>{for(const u of a)for(const h of r)h.appliesToListItem(u)&&l.setAttribute(h.attributeName,h.defaultValue,u)})}),i.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:u}of a)for(const h of r)h.hasValidAttribute(u)||(h.appliesToListItem(u)?l.setAttribute(h.attributeName,h.defaultValue,u):l.removeAttribute(h.attributeName,u),o.return=!0)}),i.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:u,previousNodeInList:h}of a)if(h&&h.getAttribute("listType")==u.getAttribute("listType"))for(const m of r){const{attributeName:p}=m;if(!m.appliesToListItem(u))continue;const v=h.getAttribute(p);u.getAttribute(p)!=v&&(l.setAttribute(p,v,u),o.return=!0)}})}}function GPe(n){const t=[],e=DH(n);if(n.styles){const i=e.styles.useAttribute;t.push({attributeName:"listStyle",defaultValue:Um,viewConsumables:{styles:"list-style-type"},addCommand(s){let r=OH();i&&(r=r.filter(o=>!!BE(o))),s.commands.add("listStyle",new UPe(s,Um,r))},appliesToListItem(s){return s.getAttribute("listType")=="numbered"||s.getAttribute("listType")=="bulleted"},hasValidAttribute(s){if(!this.appliesToListItem(s))return!s.hasAttribute("listStyle");if(!s.hasAttribute("listStyle"))return!1;const r=s.getAttribute("listStyle");return r==Um?!0:J5(r)==s.getAttribute("listType")},setAttributeOnDowncast(s,r,o){if(r&&r!==Um)if(i){const a=BE(r);if(a){s.setAttribute("type",a,o);return}}else{s.setStyle("list-style-type",r,o);return}s.removeStyle("list-style-type",o),s.removeAttribute("type",o)},getAttributeOnUpcast(s){const r=s.getStyle("list-style-type");if(r)return jPe(r);const o=s.getAttribute("type");return o?MH(o):Um}})}return n.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(i){i.commands.add("listReversed",new HPe(i))},appliesToListItem(i){return i.getAttribute("listType")=="numbered"},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listReversed")},setAttributeOnDowncast(i,s,r){s?i.setAttribute("reversed","reversed",r):i.removeAttribute("reversed",r)},getAttributeOnUpcast(i){return i.hasAttribute("reversed")}}),n.startIndex&&t.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(i){i.commands.add("listStart",new zPe(i))},appliesToListItem(i){return Wv(i.getAttribute("listType"))},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listStart")},setAttributeOnDowncast(i,s,r){s==0||s>1?i.setAttribute("start",s,r):i.removeAttribute("start",r)},getAttributeOnUpcast(i){const s=i.getAttribute("start");return s>=0?s:1}}),t}class VH extends ye{constructor(e,{enabledProperties:i,styleButtonViews:s,styleGridAriaLabel:r}){super(e);b(this,"children");b(this,"stylesView",null);b(this,"additionalPropertiesCollapsibleView",null);b(this,"startIndexFieldView",null);b(this,"reversedSwitchButtonView",null);b(this,"focusTracker",new Ct);b(this,"keystrokes",new Vt);b(this,"focusables",new ei);b(this,"focusCycler");const o=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Cn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),s&&s.length?(this.stylesView=this._createStylesView(s,r),this.children.add(this.stylesView)):o.push("ck-list-properties_without-styles"),(i.startIndex||i.reversed)&&(this._addNumberedListPropertyViews(i),o.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:o},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);wf({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Pe.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,i){const s=new ye(this.locale);return s.children=s.createCollection(),s.children.addMany(e),s.setTemplate({tag:"div",attributes:{"aria-label":i,class:["ck","ck-list-styles-list"]},children:s.children}),s.children.delegate("execute").to(this),s.focus=function(){for(const r of this.children)if(r instanceof Le&&r.isOn){r.focus();return}this.children.first.focus()},s.focusTracker=new Ct,s.keystrokes=new Vt,s.render(),s.keystrokes.listenTo(s.element),s}_addNumberedListPropertyViews(e){const i=this.locale.t,s=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),s.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),s.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new I5(this.locale,s),this.additionalPropertiesCollapsibleView.set({label:i("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(s,"isEnabled",(...r)=>r.some(o=>o)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(r,o,a)=>{a||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(s)}_createStartIndexField(){const e=this.locale.t,i=new _n(this.locale,oU);return i.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),i.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),i.fieldView.on("input",()=>{const s=i.fieldView.element,r=s.valueAsNumber;if(Number.isNaN(r)){i.errorText=e("Invalid start index value.");return}s.checkValidity()?this.fire("listStart",{startIndex:r}):i.errorText=e("Start index must be greater than 0.")}),i}_createReversedSwitchButton(){const e=this.locale.t,i=new Vu(this.locale);return i.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),i.delegate("execute").to(this,"listReversed"),i}}var YPe='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>',ZPe='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',KPe='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>',XPe='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',JPe='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>',QPe='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>',e8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>',t8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>',n8e='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>';class i8e extends F{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=t.config.get("list.properties"),s=DH(i),r=s.styles.listTypes;if(r.includes("bulleted")){const o=[{label:e("Toggle the disc list style"),tooltip:e("Disc"),type:"disc",icon:YPe},{label:e("Toggle the circle list style"),tooltip:e("Circle"),type:"circle",icon:ZPe},{label:e("Toggle the square list style"),tooltip:e("Square"),type:"square",icon:KPe}],a=e("Bulleted List"),l=e("Bulleted list styles toolbar"),u="bulletedList";t.ui.componentFactory.add(u,eM({editor:t,normalizedConfig:s,parentCommandName:u,buttonLabel:a,buttonIcon:me.bulletedList,styleGridAriaLabel:l,styleDefinitions:o})),t.ui.componentFactory.add(`menuBar:${u}`,tM({editor:t,normalizedConfig:s,parentCommandName:u,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}if(r.includes("numbered")||i.startIndex||i.reversed){const o=[{label:e("Toggle the decimal list style"),tooltip:e("Decimal"),type:"decimal",icon:XPe},{label:e("Toggle the decimal with leading zero list style"),tooltip:e("Decimal with leading zero"),type:"decimal-leading-zero",icon:JPe},{label:e("Toggle the lowerroman list style"),tooltip:e("Lowerroman"),type:"lower-roman",icon:QPe},{label:e("Toggle the upperroman list style"),tooltip:e("Upper-roman"),type:"upper-roman",icon:e8e},{label:e("Toggle the lowerlatin list style"),tooltip:e("Lower-latin"),type:"lower-latin",icon:t8e},{label:e("Toggle the upperlatin list style"),tooltip:e("Upper-latin"),type:"upper-latin",icon:n8e}],a=e("Numbered List"),l=e("Numbered list styles toolbar"),u="numberedList";t.ui.componentFactory.add(u,eM({editor:t,normalizedConfig:s,parentCommandName:u,buttonLabel:a,buttonIcon:me.numberedList,styleGridAriaLabel:l,styleDefinitions:o})),r.includes("numbered")&&t.ui.componentFactory.add(`menuBar:${u}`,tM({editor:t,normalizedConfig:s,parentCommandName:u,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}}}function eM({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,buttonIcon:s,styleGridAriaLabel:r,styleDefinitions:o}){const a=n.commands.get(e);return l=>{const u=Wn(l,Wu),h=u.buttonView;return u.bind("isEnabled").to(a),u.class="ck-list-styles-dropdown",h.on("execute",()=>{n.execute(e),n.editing.view.focus()}),h.set({label:i,icon:s,tooltip:!0,isToggleable:!0}),h.bind("isOn").to(a,"value",m=>!!m),u.once("change:isOpen",()=>{const m=s8e({editor:n,normalizedConfig:t,dropdownView:u,parentCommandName:e,styleGridAriaLabel:r,styleDefinitions:o});u.panelView.children.add(m)}),u.on("execute",()=>{n.editing.view.focus()}),u}}function NH({editor:n,listStyleCommand:t,parentCommandName:e}){const i=n.locale,s=n.commands.get(e);return({label:r,type:o,icon:a,tooltip:l})=>{const u=new Le(i);return u.set({label:r,icon:a,tooltip:l}),u.bind("isOn").to(t,"value",h=>h===o),u.on("execute",()=>{s.value?t.value===o?n.execute(e):t.value!==o&&n.execute("listStyle",{type:o}):n.model.change(()=>{n.execute("listStyle",{type:o})})}),u}}function s8e({editor:n,normalizedConfig:t,dropdownView:e,parentCommandName:i,styleDefinitions:s,styleGridAriaLabel:r}){const o=n.locale,a={...t,...i!="numberedList"?{startIndex:!1,reversed:!1}:null},l=i.replace("List","");let u=null;if(t.styles.listTypes.includes(l)){const m=n.commands.get("listStyle"),p=NH({editor:n,parentCommandName:i,listStyleCommand:m}),v=t.styles.listStyleTypes;let _=s;if(v){const C=v[l];C&&(_=s.filter(T=>C.includes(T.type)))}const k=LH(m);u=_.filter(k).map(p)}const h=new VH(o,{styleGridAriaLabel:r,enabledProperties:a,styleButtonViews:u});if(t.styles.listTypes.includes(l)&&ky(e,()=>h.stylesView.children.find(m=>m.isOn)),a.startIndex){const m=n.commands.get("listStart");h.startIndexFieldView.bind("isEnabled").to(m),h.startIndexFieldView.fieldView.bind("value").to(m),h.on("listStart",(p,v)=>n.execute("listStart",v))}if(a.reversed){const m=n.commands.get("listReversed");h.reversedSwitchButtonView.bind("isEnabled").to(m),h.reversedSwitchButtonView.bind("isOn").to(m,"value",p=>!!p),h.on("listReversed",()=>{const p=m.value;n.execute("listReversed",{reversed:!p})})}return h.delegate("execute").to(e),h}function tM({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,styleGridAriaLabel:s,styleDefinitions:r}){return o=>{const a=new Yi(o),l=n.commands.get(e),u=n.commands.get("listStyle"),h=LH(u),m=NH({editor:n,parentCommandName:e,listStyleCommand:u}),p=t.styles.listStyleTypes;let v=r;if(p){const C=l.type,T=p[C];T&&(v=r.filter(S=>T.includes(S.type)))}const _=v.filter(h).map(m),k=new VH(o,{styleGridAriaLabel:s,enabledProperties:{...t,startIndex:!1,reversed:!1},styleButtonViews:_});return k.delegate("execute").to(a),a.buttonView.set({label:i,icon:me[e]}),a.panelView.children.add(k),a.bind("isEnabled").to(l,"isEnabled"),a.on("execute",()=>{n.editing.view.focus()}),a}}function LH(n){return typeof n.isStyleTypeSupported=="function"?t=>n.isStyleTypeSupported(t.type):()=>!0}class r8e extends F{static get requires(){return[qPe,i8e]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}class o8e extends je{constructor(t){super(t),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const t=this._getSelectedItems();this.value=this._getValue(t),this.isEnabled=!!t.length}execute(t={}){this.editor.model.change(e=>{const i=this._getSelectedItems(),s=t.forceValue===void 0?!this._getValue(i):t.forceValue;for(const r of i)s?e.setAttribute("todoListChecked",!0,r):e.removeAttribute("todoListChecked",r)})}_getValue(t){return t.every(e=>e.getAttribute("todoListChecked"))}_getSelectedItems(){const t=this.editor.model,e=t.schema,i=t.document.selection.getFirstRange(),s=i.start.parent,r=[];e.checkAttribute(s,"todoListChecked")&&r.push(...Zh(s));for(const o of i.getItems({shallow:!0}))e.checkAttribute(o,"todoListChecked")&&!r.includes(o)&&r.push(...Zh(o));return r}}class a8e extends Wo{constructor(){super(...arguments);b(this,"domEventType",["change"])}onDomEvent(e){if(e.target){const i=this.view.domConverter.mapDomToView(e.target);i&&i.is("element","input")&&i.getAttribute("type")=="checkbox"&&i.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",e)}}}const l8e=dy("Ctrl+Enter");class c8e extends F{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[fp]}init(){const t=this.editor,e=t.model,i=t.editing,s=t.plugins.get(fp),o=t.config.get("list.multiBlock")?"paragraph":"listItem";t.commands.add("todoList",new Qm(t,"todo")),t.commands.add("checkTodoList",new o8e(t)),i.view.addObserver(a8e),e.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),e.schema.addAttributeCheck(a=>{const l=a.last;if(!l.getAttribute("listItemId")||l.getAttribute("listType")!="todo")return!1},"todoListChecked"),t.conversion.for("upcast").add(a=>{a.on("element:input",d8e()),a.on("element:li",u8e(),{priority:"low"}),a.on("element:label",Mk({name:"label",classes:"todo-list__label"})),a.on("element:label",Mk({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),a.on("element:span",Mk({name:"span",classes:"todo-list__label__description"})),a.on("element:ul",h8e({name:"ul",classes:"todo-list"}))}),t.conversion.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>{if(Kb(a,s.getListAttributeNames()))return l.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),s.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(a,l,u){l=="todo"?a.addClass("todo-list",u):a.removeClass("todo-list",u)}}),s.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(a,l,{dataPipeline:u}){if(l.getAttribute("listType")!="todo")return null;const h=a.createUIElement("input",{type:"checkbox",...l.getAttribute("todoListChecked")?{checked:"checked"}:null,...u?{disabled:"disabled"}:{tabindex:"-1"}});if(u)return h;const m=a.createContainerElement("span",{contenteditable:"false"},h);return m.getFillerOffset=()=>null,m},canWrapElement(a){return Kb(a,s.getListAttributeNames())},createWrapperElement(a,l,{dataPipeline:u}){const h=["todo-list__label"];return Kb(l,s.getListAttributeNames())||h.push("todo-list__label_without-description"),a.createAttributeElement(u?"label":"span",{class:h.join(" ")})}}),s.on("checkElement",(a,{modelElement:l,viewElement:u})=>{const h=Kb(l,s.getListAttributeNames());u.hasClass("todo-list__label__description")!=h&&(a.return=!0,a.stop())}),s.on("checkElement",(a,{modelElement:l,viewElement:u})=>{const h=l.getAttribute("listType")=="todo"&&Ka(l);let m=!1;const p=t.editing.view.createPositionBefore(u).getWalker({direction:"backward"});for(const{item:v}of p){if(v.is("element")&&t.editing.mapper.toModelElement(v))break;v.is("element","input")&&v.getAttribute("type")=="checkbox"&&(m=!0)}m!=h&&(a.return=!0,a.stop())}),s.on("postFixer",(a,{listNodes:l,writer:u})=>{for(const{node:h,previousNodeInList:m}of l){if(!m||m.getAttribute("listItemId")!=h.getAttribute("listItemId"))continue;const p=m.hasAttribute("todoListChecked"),v=h.hasAttribute("todoListChecked");v&&!p?(u.removeAttribute("todoListChecked",h),a.return=!0):!v&&p&&(u.setAttribute("todoListChecked",!0,h),a.return=!0)}}),e.document.registerPostFixer(a=>{const l=e.document.differ.getChanges();let u=!1;for(const h of l)if(h.type=="attribute"&&h.attributeKey=="listType"){const m=h.range.start.nodeAfter;h.attributeOldValue=="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),u=!0)}else if(h.type=="insert"&&h.name!="$text")for(const{item:m}of a.createRangeOn(h.position.nodeAfter))m.is("element")&&m.getAttribute("listType")!="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),u=!0);return u}),this.listenTo(i.view.document,"keydown",(a,l)=>{Du(l)===l8e&&(t.execute("checkTodoList"),a.stop())},{priority:"high"}),this.listenTo(i.view.document,"todoCheckboxChange",(a,l)=>{const u=l.target;if(!u||!u.is("element","input"))return;const h=i.view.createPositionAfter(u),p=i.mapper.toModelPosition(h).parent;p&&sn(p)&&p.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(p)}),this.listenTo(i.view.document,"arrowKey",m8e(e,t.locale),{context:"$text"}),this.listenTo(i.mapper,"viewToModelPosition",(a,l)=>{const u=l.viewPosition.parent,h=u.is("attributeElement","li")&&l.viewPosition.offset==0,m=nM(u)&&l.viewPosition.offset<=1,p=u.is("element","span")&&u.getAttribute("contenteditable")=="false"&&nM(u.parent);if(!h&&!m&&!p)return;const v=l.modelPosition.nodeAfter;v&&v.getAttribute("listType")=="todo"&&(l.modelPosition=e.createPositionAt(v,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(t){const e=this.editor,i=e.model,s=Array.from(i.document.selection.getRanges());i.change(r=>{r.setSelection(t,"end"),e.execute("checkTodoList"),r.setSelection(s)})}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor;let s=null;e&&t.document.selection.on("change:range",()=>{const r=t.document.selection.focus.parent,o=iM(s),a=iM(r);o&&!a?e.ariaLiveAnnouncer.announce(i("Leaving a to-do list")):!o&&a&&e.ariaLiveAnnouncer.announce(i("Entering a to-do list")),s=r})}}function u8e(){return(n,t,e)=>{const{writer:i,schema:s}=e;if(!t.modelRange)return;const r=Array.from(t.modelRange.getItems({shallow:!0})).filter(o=>o.getAttribute("listType")==="todo"&&s.checkAttribute(o,"listItemId")).reduce((o,a)=>{const l=a.getAttribute("listItemId");return o.has(l)||o.set(l,Zh(a)),o},new Map);for(const[,o]of r.entries())if(o.some(a=>a.getAttribute("todoListChecked")))for(const a of o)i.setAttribute("todoListChecked",!0,a)}}function d8e(){return(n,t,e)=>{const i=t.modelCursor,s=i.parent,r=t.viewItem;if(!e.consumable.test(r,{name:!0})||r.getAttribute("type")!="checkbox"||!i.isAtStart||!s.hasAttribute("listType"))return;e.consumable.consume(r,{name:!0});const o=e.writer;o.setAttribute("listType","todo",s),t.viewItem.hasAttribute("checked")&&o.setAttribute("todoListChecked",!0,s),t.modelRange=o.createRange(i)}}function Mk(n){const t=new ls(n);return(e,i,s)=>{const r=t.match(i.viewItem);r&&s.consumable.consume(i.viewItem,r.match)&&Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor))}}function h8e(n){const t=new ls(n);return(e,i,s)=>{const r=t.match(i.viewItem);if(!r)return;const o=r.match;o.name=!1,s.consumable.consume(i.viewItem,o)}}function Kb(n,t){return(n.is("element","paragraph")||n.is("element","listItem"))&&n.getAttribute("listType")=="todo"&&Ka(n)&&f8e(n,t)}function f8e(n,t){for(const e of n.getAttributeKeys())if(!e.startsWith("selection:")&&!t.includes(e))return!1;return!0}function m8e(n,t){return(e,i)=>{const s=hy(i.keyCode,t.contentLanguageDirection),r=n.schema,o=n.document.selection;if(!o.isCollapsed)return;const a=o.getFirstPosition(),l=a.parent;if(s=="right"&&a.isAtEnd){const u=r.getNearestSelectionRange(n.createPositionAfter(l),"forward");if(!u)return;const h=u.start.parent;h&&sn(h)&&h.getAttribute("listType")=="todo"&&(n.change(m=>m.setSelection(u)),i.preventDefault(),i.stopPropagation(),e.stop())}else if(s=="left"&&a.isAtStart&&sn(l)&&l.getAttribute("listType")=="todo"){const u=r.getNearestSelectionRange(n.createPositionBefore(l),"backward");if(!u)return;n.change(h=>h.setSelection(u)),i.preventDefault(),i.stopPropagation(),e.stop()}}}function nM(n){return!!n&&n.is("attributeElement")&&n.hasClass("todo-list__label")}function iM(n){return!n||!n.is("element","paragraph")&&!n.is("element","listItem")?!1:n.getAttribute("listType")=="todo"}class g8e extends F{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;LE(this.editor,"todoList",t("To-do List"),me.todoList)}}class p8e extends F{static get requires(){return[c8e,g8e]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}function BH(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let _f=BH();function b8e(n){_f=n}const v8e=/[&<>"']/,w8e=/[&<>"']/g,y8e=/[<>"']|&(?!#?\w+;)/,_8e=/[<>"']|&(?!#?\w+;)/g,x8e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sM=n=>x8e[n];function Ci(n,t){if(t){if(v8e.test(n))return n.replace(w8e,sM)}else if(y8e.test(n))return n.replace(_8e,sM);return n}const k8e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function FH(n){return n.replace(k8e,(t,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const C8e=/(^|[^\[])\^/g;function dn(n,t){n=n.source||n,t=t||"";const e={replace:(i,s)=>(s=s.source||s,s=s.replace(C8e,"$1"),n=n.replace(i,s),e),getRegex:()=>new RegExp(n,t)};return e}const E8e=/[^\w:]/g,T8e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function rM(n,t,e){if(n){let i;try{i=decodeURIComponent(FH(e)).replace(E8e,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}t&&!T8e.test(e)&&(e=R8e(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Xb={},S8e=/^[^:]+:\/*[^/]*$/,A8e=/^([^:]+:)[\s\S]*$/,I8e=/^([^:]+:\/*[^/]*)[\s\S]*$/;function R8e(n,t){Xb[" "+n]||(S8e.test(n)?Xb[" "+n]=n+"/":Xb[" "+n]=T1(n,"/",!0)),n=Xb[" "+n];const e=n.indexOf(":")===-1;return t.substring(0,2)==="//"?e?t:n.replace(A8e,"$1")+t:t.charAt(0)==="/"?e?t:n.replace(I8e,"$1")+t:n+t}const qv={exec:function(){}};function oo(n){let t=1,e,i;for(;t<arguments.length;t++){e=arguments[t];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n}function oM(n,t){const e=n.replace(/\|/g,(r,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),i=e.split(/ \|/);let s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function T1(n,t,e){const i=n.length;if(i===0)return"";let s=0;for(;s<i;){const r=n.charAt(i-s-1);if(r===t&&!e)s++;else if(r!==t&&e)s++;else break}return n.substr(0,i-s)}function P8e(n,t){if(n.indexOf(t[1])===-1)return-1;const e=n.length;let i=0,s=0;for(;s<e;s++)if(n[s]==="\\")s++;else if(n[s]===t[0])i++;else if(n[s]===t[1]&&(i--,i<0))return s;return-1}function zH(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function aM(n,t){if(t<1)return"";let e="";for(;t>1;)t&1&&(e+=n),t>>=1,n+=n;return e+n}function lM(n,t,e,i){const s=t.href,r=t.title?Ci(t.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:e,href:s,title:r,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,a}else return{type:"image",raw:e,href:s,title:r,text:Ci(o)}}function O8e(n,t){const e=n.match(/^(\s+)(?:```)/);if(e===null)return t;const i=e[1];return t.split(`
`).map(s=>{const r=s.match(/^\s+/);if(r===null)return s;const[o]=r;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}class Q5{constructor(t){this.options=t||_f}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const i=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?i:T1(i,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const i=e[0],s=O8e(i,e[3]||"");return{type:"code",raw:i,lang:e[2]?e[2].trim():e[2],text:s}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let i=e[2].trim();if(/#$/.test(i)){const r=T1(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}const s={type:"heading",raw:e[0],depth:e[1].length,text:i,tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const i=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i,s,r,o,a,l,u,h,m,p,v,_,k=e[1].trim();const C=k.length>1,T={type:"list",raw:"",ordered:C,start:C?+k.slice(0,-1):"",loose:!1,items:[]};k=C?`\\d{1,9}\\${k.slice(-1)}`:`\\${k}`,this.options.pedantic&&(k=C?k:"[*+-]");const S=new RegExp(`^( {0,3}${k})((?: [^\\n]*)?(?:\\n|$))`);for(;t&&(_=!1,!(!(e=S.exec(t))||this.rules.block.hr.test(t)));){if(i=e[0],t=t.substring(i.length),h=e[2].split(`
`,1)[0],m=t.split(`
`,1)[0],this.options.pedantic?(o=2,v=h.trimLeft()):(o=e[2].search(/[^ ]/),o=o>4?1:o,v=h.slice(o),o+=e[1].length),l=!1,!h&&/^ *$/.test(m)&&(i+=m+`
`,t=t.substring(m.length+1),_=!0),!_){const P=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;t&&(p=t.split(`
`,1)[0],h=p,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!P.test(h));){if(h.search(/[^ ]/)>=o||!h.trim())v+=`
`+h.slice(o);else if(!l)v+=`
`+h;else break;!l&&!h.trim()&&(l=!0),i+=p+`
`,t=t.substring(p.length+1)}}T.loose||(u?T.loose=!0:/\n *\n *$/.test(i)&&(u=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(v),s&&(r=s[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),T.items.push({type:"list_item",raw:i,task:!!s,checked:r,loose:!1,text:v}),T.raw+=i}T.items[T.items.length-1].raw=i.trimRight(),T.items[T.items.length-1].text=v.trimRight(),T.raw=T.raw.trimRight();const I=T.items.length;for(a=0;a<I;a++){this.lexer.state.top=!1,T.items[a].tokens=this.lexer.blockTokens(T.items[a].text,[]);const P=T.items[a].tokens.filter(D=>D.type==="space"),O=P.every(D=>{const N=D.raw.split("");let j=0;for(const z of N)if(z===`
`&&(j+=1),j>1)return!0;return!1});!T.loose&&P.length&&O&&(T.loose=!0,T.items[a].loose=!0)}return T}}html(t){const e=this.rules.block.html.exec(t);if(e){const i={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(e[0]):Ci(e[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(t){const e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(t){const e=this.rules.block.table.exec(t);if(e){const i={type:"table",header:oM(e[1]).map(s=>({text:s})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=e[0];let s=i.align.length,r,o,a,l;for(r=0;r<s;r++)/^ *-+: *$/.test(i.align[r])?i.align[r]="right":/^ *:-+: *$/.test(i.align[r])?i.align[r]="center":/^ *:-+ *$/.test(i.align[r])?i.align[r]="left":i.align[r]=null;for(s=i.rows.length,r=0;r<s;r++)i.rows[r]=oM(i.rows[r],i.header.length).map(u=>({text:u}));for(s=i.header.length,o=0;o<s;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(s=i.rows.length,o=0;o<s;o++)for(l=i.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return i}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e){const i={type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const i={type:"paragraph",raw:e[0],text:e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(t){const e=this.rules.block.text.exec(t);if(e){const i={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Ci(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Ci(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const i=e[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=T1(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=P8e(e[2],"()");if(o>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let s=e[2],r="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],r=o[3])}else r=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),lM(e,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let s=(i[2]||i[1]).replace(/\s+/g," ");if(s=e[s.toLowerCase()],!s||!s.href){const r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return lM(i,s,i[0],this.lexer)}}emStrong(t,e,i=""){let s=this.rules.inline.emStrong.lDelim.exec(t);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;const r=s[1]||s[2]||"";if(!r||r&&(i===""||this.rules.inline.punctuation.exec(i))){const o=s[0].length-1;let a,l,u=o,h=0;const m=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,e=e.slice(-1*t.length+o);(s=m.exec(e))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(l=a.length,s[3]||s[4]){u+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){h+=l;continue}if(u-=l,u>0)continue;if(l=Math.min(l,l+u+h),Math.min(o,l)%2){const v=t.slice(1,o+s.index+l);return{type:"em",raw:t.slice(0,o+s.index+l+1),text:v,tokens:this.lexer.inlineTokens(v,[])}}const p=t.slice(2,o+s.index+l-1);return{type:"strong",raw:t.slice(0,o+s.index+l+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let i=e[2].replace(/\n/g," ");const s=/[^ ]/.test(i),r=/^ /.test(i)&&/ $/.test(i);return s&&r&&(i=i.substring(1,i.length-1)),i=Ci(i,!0),{type:"codespan",raw:e[0],text:i}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(t,e){const i=this.rules.inline.autolink.exec(t);if(i){let s,r;return i[2]==="@"?(s=Ci(this.options.mangle?e(i[1]):i[1]),r="mailto:"+s):(s=Ci(i[1]),r=s),{type:"link",raw:i[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(t,e){let i;if(i=this.rules.inline.url.exec(t)){let s,r;if(i[2]==="@")s=Ci(this.options.mangle?e(i[0]):i[0]),r="mailto:"+s;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);s=Ci(i[0]),i[1]==="www."?r="http://"+s:r=s}return{type:"link",raw:i[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t,e){const i=this.rules.inline.text.exec(t);if(i){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Ci(i[0]):i[0]:s=Ci(this.options.smartypants?e(i[0]):i[0]),{type:"text",raw:i[0],text:s}}}}const it={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qv,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};it._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;it._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;it.def=dn(it.def).replace("label",it._label).replace("title",it._title).getRegex();it.bullet=/(?:[*+-]|\d{1,9}[.)])/;it.listItemStart=dn(/^( *)(bull) */).replace("bull",it.bullet).getRegex();it.list=dn(it.list).replace(/bull/g,it.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+it.def.source+")").getRegex();it._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";it._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;it.html=dn(it.html,"i").replace("comment",it._comment).replace("tag",it._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();it.paragraph=dn(it._paragraph).replace("hr",it.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it._tag).getRegex();it.blockquote=dn(it.blockquote).replace("paragraph",it.paragraph).getRegex();it.normal=oo({},it);it.gfm=oo({},it.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});it.gfm.table=dn(it.gfm.table).replace("hr",it.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it._tag).getRegex();it.gfm.paragraph=dn(it._paragraph).replace("hr",it.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",it.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it._tag).getRegex();it.pedantic=oo({},it.normal,{html:dn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",it._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qv,paragraph:dn(it.normal._paragraph).replace("hr",it.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",it.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const He={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qv,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qv,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};He._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";He.punctuation=dn(He.punctuation).replace(/punctuation/g,He._punctuation).getRegex();He.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;He.escapedEmSt=/\\\*|\\_/g;He._comment=dn(it._comment).replace("(?:-->|$)","-->").getRegex();He.emStrong.lDelim=dn(He.emStrong.lDelim).replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimAst=dn(He.emStrong.rDelimAst,"g").replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimUnd=dn(He.emStrong.rDelimUnd,"g").replace(/punct/g,He._punctuation).getRegex();He._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;He._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;He._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;He.autolink=dn(He.autolink).replace("scheme",He._scheme).replace("email",He._email).getRegex();He._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;He.tag=dn(He.tag).replace("comment",He._comment).replace("attribute",He._attribute).getRegex();He._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;He._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;He._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;He.link=dn(He.link).replace("label",He._label).replace("href",He._href).replace("title",He._title).getRegex();He.reflink=dn(He.reflink).replace("label",He._label).replace("ref",it._label).getRegex();He.nolink=dn(He.nolink).replace("ref",it._label).getRegex();He.reflinkSearch=dn(He.reflinkSearch,"g").replace("reflink",He.reflink).replace("nolink",He.nolink).getRegex();He.normal=oo({},He);He.pedantic=oo({},He.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:dn(/^!?\[(label)\]\((.*?)\)/).replace("label",He._label).getRegex(),reflink:dn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",He._label).getRegex()});He.gfm=oo({},He.normal,{escape:dn(He.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});He.gfm.url=dn(He.gfm.url,"i").replace("email",He.gfm._extended_email).getRegex();He.breaks=oo({},He.gfm,{br:dn(He.br).replace("{2,}","*").getRegex(),text:dn(He.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function M8e(n){return n.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function cM(n){let t="",e,i;const s=n.length;for(e=0;e<s;e++)i=n.charCodeAt(e),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t}class Xa{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||_f,this.options.tokenizer=this.options.tokenizer||new Q5,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:it.normal,inline:He.normal};this.options.pedantic?(e.block=it.pedantic,e.inline=He.pedantic):this.options.gfm&&(e.block=it.gfm,this.options.breaks?e.inline=He.breaks:e.inline=He.gfm),this.tokenizer.rules=e}static get rules(){return{block:it,inline:He}}static lex(t,e){return new Xa(e).lex(t)}static lexInline(t,e){return new Xa(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(t,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){this.options.pedantic&&(t=t.replace(/^ +$/gm,""));let i,s,r,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},t,e))?(t=t.substring(i.raw.length),e.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),s=e[e.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),s=e[e.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(r=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let u;this.options.extensions.startBlock.forEach(function(h){u=h.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(r=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){s=e[e.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(i),o=r.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),s=e[e.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(i);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e){this.inlineQueue.push({src:t,tokens:e})}inlineTokens(t,e=[]){let i,s,r,o=t,a,l,u;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+aM("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+aM("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(i=h.call({lexer:this},t,e))?(t=t.substring(i.raw.length),e.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),s=e[e.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):e.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),s=e[e.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):e.push(i);continue}if(i=this.tokenizer.emStrong(t,o,u)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.autolink(t,cM)){t=t.substring(i.raw.length),e.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t,cM))){t=t.substring(i.raw.length),e.push(i);continue}if(r=t,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const m=t.slice(1);let p;this.options.extensions.startInline.forEach(function(v){p=v.call({lexer:this},m),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(r=t.substring(0,h+1))}if(i=this.tokenizer.inlineText(r,M8e)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(u=i.raw.slice(-1)),l=!0,s=e[e.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):e.push(i);continue}if(t){const h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return e}}class eA{constructor(t){this.options=t||_f}code(t,e,i){const s=(e||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(t,s);r!=null&&r!==t&&(i=!0,t=r)}return t=t.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+Ci(s,!0)+'">'+(i?t:Ci(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:Ci(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
`+t+`</blockquote>
`}html(t){return t}heading(t,e,i,s){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+s.slug(i)+'">'+t+"</h"+e+`>
`:"<h"+e+">"+t+"</h"+e+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,e,i){const s=e?"ol":"ul",r=e&&i!==1?' start="'+i+'"':"";return"<"+s+r+`>
`+t+"</"+s+`>
`}listitem(t){return"<li>"+t+`</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return"<p>"+t+`</p>
`}table(t,e){return e&&(e="<tbody>"+e+"</tbody>"),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
`+t+`</tr>
`}tablecell(t,e){const i=e.header?"th":"td";return(e.align?"<"+i+' align="'+e.align+'">':"<"+i+">")+t+"</"+i+`>
`}strong(t){return"<strong>"+t+"</strong>"}em(t){return"<em>"+t+"</em>"}codespan(t){return"<code>"+t+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return"<del>"+t+"</del>"}link(t,e,i){if(t=rM(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let s='<a href="'+Ci(t)+'"';return e&&(s+=' title="'+e+'"'),s+=">"+i+"</a>",s}image(t,e,i){if(t=rM(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let s='<img src="'+t+'" alt="'+i+'"';return e&&(s+=' title="'+e+'"'),s+=this.options.xhtml?"/>":">",s}text(t){return t}}class jH{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,i){return""+i}image(t,e,i){return""+i}br(){return""}}class UH{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let i=t,s=0;if(this.seen.hasOwnProperty(i)){s=this.seen[t];do s++,i=t+"-"+s;while(this.seen.hasOwnProperty(i))}return e||(this.seen[t]=s,this.seen[i]=0),i}slug(t,e={}){const i=this.serialize(t);return this.getNextSafeSlug(i,e.dryrun)}}class Ja{constructor(t){this.options=t||_f,this.options.renderer=this.options.renderer||new eA,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jH,this.slugger=new UH}static parse(t,e){return new Ja(e).parse(t)}static parseInline(t,e){return new Ja(e).parseInline(t)}parse(t,e=!0){let i="",s,r,o,a,l,u,h,m,p,v,_,k,C,T,S,I,P,O,D;const N=t.length;for(s=0;s<N;s++){if(v=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(D=this.options.extensions.renderers[v.type].call({parser:this},v),D!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){i+=D||"";continue}switch(v.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(v.tokens),v.depth,FH(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(m="",h="",a=v.header.length,r=0;r<a;r++)h+=this.renderer.tablecell(this.parseInline(v.header[r].tokens),{header:!0,align:v.align[r]});for(m+=this.renderer.tablerow(h),p="",a=v.rows.length,r=0;r<a;r++){for(u=v.rows[r],h="",l=u.length,o=0;o<l;o++)h+=this.renderer.tablecell(this.parseInline(u[o].tokens),{header:!1,align:v.align[o]});p+=this.renderer.tablerow(h)}i+=this.renderer.table(m,p);continue}case"blockquote":{p=this.parse(v.tokens),i+=this.renderer.blockquote(p);continue}case"list":{for(_=v.ordered,k=v.start,C=v.loose,a=v.items.length,p="",r=0;r<a;r++)S=v.items[r],I=S.checked,P=S.task,T="",S.task&&(O=this.renderer.checkbox(I),C?S.tokens.length>0&&S.tokens[0].type==="paragraph"?(S.tokens[0].text=O+" "+S.tokens[0].text,S.tokens[0].tokens&&S.tokens[0].tokens.length>0&&S.tokens[0].tokens[0].type==="text"&&(S.tokens[0].tokens[0].text=O+" "+S.tokens[0].tokens[0].text)):S.tokens.unshift({type:"text",text:O}):T+=O),T+=this.parse(S.tokens,C),p+=this.renderer.listitem(T,P,I);i+=this.renderer.list(p,_,k);continue}case"html":{i+=this.renderer.html(v.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(p=v.tokens?this.parseInline(v.tokens):v.text;s+1<N&&t[s+1].type==="text";)v=t[++s],p+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);i+=e?this.renderer.paragraph(p):p;continue}default:{const j='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(j);return}else throw new Error(j)}}}return i}parseInline(t,e){e=e||this.renderer;let i="",s,r,o;const a=t.length;for(s=0;s<a;s++){if(r=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(o=this.options.extensions.renderers[r.type].call({parser:this},r),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){i+=o||"";continue}switch(r.type){case"escape":{i+=e.text(r.text);break}case"html":{i+=e.html(r.text);break}case"link":{i+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break}case"image":{i+=e.image(r.href,r.title,r.text);break}case"strong":{i+=e.strong(this.parseInline(r.tokens,e));break}case"em":{i+=e.em(this.parseInline(r.tokens,e));break}case"codespan":{i+=e.codespan(r.text);break}case"br":{i+=e.br();break}case"del":{i+=e.del(this.parseInline(r.tokens,e));break}case"text":{i+=e.text(r.text);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return i}}function at(n,t,e){if(typeof n>"u"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof t=="function"&&(e=t,t=null),t=oo({},at.defaults,t||{}),zH(t),e){const i=t.highlight;let s;try{s=Xa.lex(n,t)}catch(a){return e(a)}const r=function(a){let l;if(!a)try{t.walkTokens&&at.walkTokens(s,t.walkTokens),l=Ja.parse(s,t)}catch(u){a=u}return t.highlight=i,a?e(a):e(null,l)};if(!i||i.length<3||(delete t.highlight,!s.length))return r();let o=0;at.walkTokens(s,function(a){a.type==="code"&&(o++,setTimeout(()=>{i(a.text,a.lang,function(l,u){if(l)return r(l);u!=null&&u!==a.text&&(a.text=u,a.escaped=!0),o--,o===0&&r()})},0))}),o===0&&r();return}try{const i=Xa.lex(n,t);return t.walkTokens&&at.walkTokens(i,t.walkTokens),Ja.parse(i,t)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ci(i.message+"",!0)+"</pre>";throw i}}at.options=at.setOptions=function(n){return oo(at.defaults,n),b8e(at.defaults),at};at.getDefaults=BH;at.defaults=_f;at.use=function(...n){const t=oo({},...n),e=at.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(s=>{if(s.extensions&&(i=!0,s.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const o=e.renderers?e.renderers[r.name]:null;o?e.renderers[r.name]=function(...a){let l=r.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:e.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[r.level]?e[r.level].unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}r.childTokens&&(e.childTokens[r.name]=r.childTokens)})),s.renderer){const r=at.defaults.renderer||new eA;for(const o in s.renderer){const a=r[o];r[o]=(...l)=>{let u=s.renderer[o].apply(r,l);return u===!1&&(u=a.apply(r,l)),u}}t.renderer=r}if(s.tokenizer){const r=at.defaults.tokenizer||new Q5;for(const o in s.tokenizer){const a=r[o];r[o]=(...l)=>{let u=s.tokenizer[o].apply(r,l);return u===!1&&(u=a.apply(r,l)),u}}t.tokenizer=r}if(s.walkTokens){const r=at.defaults.walkTokens;t.walkTokens=function(o){s.walkTokens.call(this,o),r&&r.call(this,o)}}i&&(t.extensions=e),at.setOptions(t)})};at.walkTokens=function(n,t){for(const e of n)switch(t.call(at,e),e.type){case"table":{for(const i of e.header)at.walkTokens(i.tokens,t);for(const i of e.rows)for(const s of i)at.walkTokens(s.tokens,t);break}case"list":{at.walkTokens(e.items,t);break}default:at.defaults.extensions&&at.defaults.extensions.childTokens&&at.defaults.extensions.childTokens[e.type]?at.defaults.extensions.childTokens[e.type].forEach(function(i){at.walkTokens(e[i],t)}):e.tokens&&at.walkTokens(e.tokens,t)}};at.parseInline=function(n,t){if(typeof n>"u"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");t=oo({},at.defaults,t||{}),zH(t);try{const e=Xa.lexInline(n,t);return t.walkTokens&&at.walkTokens(e,t.walkTokens),Ja.parseInline(e,t)}catch(e){if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ci(e.message+"",!0)+"</pre>";throw e}};at.Parser=Ja;at.parser=Ja.parse;at.Renderer=eA;at.TextRenderer=jH;at.Lexer=Xa;at.lexer=Xa.lex;at.Tokenizer=Q5;at.Slugger=UH;at.parse=at;at.options;at.setOptions;at.use;at.walkTokens;at.parseInline;Ja.parse;Xa.lex;function D8e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}return n}function FE(n,t){return Array(t+1).join(n)}function V8e(n){return n.replace(/^\n*/,"")}function N8e(n){for(var t=n.length;t>0&&n[t-1]===`
`;)t--;return n.substring(0,t)}var L8e=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function tA(n){return nA(n,L8e)}var HH=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function $H(n){return nA(n,HH)}function B8e(n){return qH(n,HH)}var WH=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function F8e(n){return nA(n,WH)}function z8e(n){return qH(n,WH)}function nA(n,t){return t.indexOf(n.nodeName)>=0}function qH(n,t){return n.getElementsByTagName&&t.some(function(e){return n.getElementsByTagName(e).length})}var Xi={};Xi.paragraph={filter:"p",replacement:function(n){return`

`+n+`

`}};Xi.lineBreak={filter:"br",replacement:function(n,t,e){return e.br+`
`}};Xi.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,t,e){var i=Number(t.nodeName.charAt(1));if(e.headingStyle==="setext"&&i<3){var s=FE(i===1?"=":"-",n.length);return`

`+n+`
`+s+`

`}else return`

`+FE("#",i)+" "+n+`

`}};Xi.blockquote={filter:"blockquote",replacement:function(n){return n=n.replace(/^\n+|\n+$/g,""),n=n.replace(/^/gm,"> "),`

`+n+`

`}};Xi.list={filter:["ul","ol"],replacement:function(n,t){var e=t.parentNode;return e.nodeName==="LI"&&e.lastElementChild===t?`
`+n:`

`+n+`

`}};Xi.listItem={filter:"li",replacement:function(n,t,e){n=n.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var i=e.bulletListMarker+"   ",s=t.parentNode;if(s.nodeName==="OL"){var r=s.getAttribute("start"),o=Array.prototype.indexOf.call(s.children,t);i=(r?Number(r)+o:o+1)+".  "}return i+n+(t.nextSibling&&!/\n$/.test(n)?`
`:"")}};Xi.indentedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t,e){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Xi.fencedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t,e){for(var i=t.firstChild.getAttribute("class")||"",s=(i.match(/language-(\S+)/)||[null,""])[1],r=t.firstChild.textContent,o=e.fence.charAt(0),a=3,l=new RegExp("^"+o+"{3,}","gm"),u;u=l.exec(r);)u[0].length>=a&&(a=u[0].length+1);var h=FE(o,a);return`

`+h+s+`
`+r.replace(/\n$/,"")+`
`+h+`

`}};Xi.horizontalRule={filter:"hr",replacement:function(n,t,e){return`

`+e.hr+`

`}};Xi.inlineLink={filter:function(n,t){return t.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,t){var e=t.getAttribute("href");e&&(e=e.replace(/([()])/g,"\\$1"));var i=Gv(t.getAttribute("title"));return i&&(i=' "'+i.replace(/"/g,'\\"')+'"'),"["+n+"]("+e+i+")"}};Xi.referenceLink={filter:function(n,t){return t.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,t,e){var i=t.getAttribute("href"),s=Gv(t.getAttribute("title"));s&&(s=' "'+s+'"');var r,o;switch(e.linkReferenceStyle){case"collapsed":r="["+n+"][]",o="["+n+"]: "+i+s;break;case"shortcut":r="["+n+"]",o="["+n+"]: "+i+s;break;default:var a=this.references.length+1;r="["+n+"]["+a+"]",o="["+a+"]: "+i+s}return this.references.push(o),r},references:[],append:function(n){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};Xi.emphasis={filter:["em","i"],replacement:function(n,t,e){return n.trim()?e.emDelimiter+n+e.emDelimiter:""}};Xi.strong={filter:["strong","b"],replacement:function(n,t,e){return n.trim()?e.strongDelimiter+n+e.strongDelimiter:""}};Xi.code={filter:function(n){var t=n.previousSibling||n.nextSibling,e=n.parentNode.nodeName==="PRE"&&!t;return n.nodeName==="CODE"&&!e},replacement:function(n){if(!n)return"";n=n.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(n)?" ":"",e="`",i=n.match(/`+/gm)||[];i.indexOf(e)!==-1;)e=e+"`";return e+t+n+t+e}};Xi.image={filter:"img",replacement:function(n,t){var e=Gv(t.getAttribute("alt")),i=t.getAttribute("src")||"",s=Gv(t.getAttribute("title")),r=s?' "'+s+'"':"";return i?"!["+e+"]("+i+r+")":""}};function Gv(n){return n?n.replace(/(\n+\s*)+/g,`
`):""}function GH(n){this.options=n,this._keep=[],this._remove=[],this.blankRule={replacement:n.blankReplacement},this.keepReplacement=n.keepReplacement,this.defaultRule={replacement:n.defaultReplacement},this.array=[];for(var t in n.rules)this.array.push(n.rules[t])}GH.prototype={add:function(n,t){this.array.unshift(t)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){if(n.isBlank)return this.blankRule;var t;return(t=Dk(this.array,n,this.options))||(t=Dk(this._keep,n,this.options))||(t=Dk(this._remove,n,this.options))?t:this.defaultRule},forEach:function(n){for(var t=0;t<this.array.length;t++)n(this.array[t],t)}};function Dk(n,t,e){for(var i=0;i<n.length;i++){var s=n[i];if(j8e(s,t,e))return s}}function j8e(n,t,e){var i=n.filter;if(typeof i=="string"){if(i===t.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof i=="function"){if(i.call(n,t,e))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function U8e(n){var t=n.element,e=n.isBlock,i=n.isVoid,s=n.isPre||function(m){return m.nodeName==="PRE"};if(!(!t.firstChild||s(t))){for(var r=null,o=!1,a=null,l=uM(a,t,s);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!r||/ $/.test(r.data))&&!o&&u[0]===" "&&(u=u.substr(1)),!u){l=Vk(l);continue}l.data=u,r=l}else if(l.nodeType===1)e(l)||l.nodeName==="BR"?(r&&(r.data=r.data.replace(/ $/,"")),r=null,o=!1):i(l)||s(l)?(r=null,o=!0):r&&(o=!1);else{l=Vk(l);continue}var h=uM(a,l,s);a=l,l=h}r&&(r.data=r.data.replace(/ $/,""),r.data||Vk(r))}}function Vk(n){var t=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),t}function uM(n,t,e){return n&&n.parentNode===t||e(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var iA=typeof window<"u"?window:{};function H8e(){var n=iA.DOMParser,t=!1;try{new n().parseFromString("","text/html")&&(t=!0)}catch{}return t}function $8e(){var n=function(){};return W8e()?n.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:n.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e},n}function W8e(){var n=!1;try{document.implementation.createHTMLDocument("").open()}catch{iA.ActiveXObject&&(n=!0)}return n}var q8e=H8e()?iA.DOMParser:$8e();function G8e(n,t){var e;if(typeof n=="string"){var i=Y8e().parseFromString('<x-turndown id="turndown-root">'+n+"</x-turndown>","text/html");e=i.getElementById("turndown-root")}else e=n.cloneNode(!0);return U8e({element:e,isBlock:tA,isVoid:$H,isPre:t.preformattedCode?Z8e:null}),e}var Nk;function Y8e(){return Nk=Nk||new q8e,Nk}function Z8e(n){return n.nodeName==="PRE"||n.nodeName==="CODE"}function K8e(n,t){return n.isBlock=tA(n),n.isCode=n.nodeName==="CODE"||n.parentNode.isCode,n.isBlank=X8e(n),n.flankingWhitespace=J8e(n,t),n}function X8e(n){return!$H(n)&&!F8e(n)&&/^\s*$/i.test(n.textContent)&&!B8e(n)&&!z8e(n)}function J8e(n,t){if(n.isBlock||t.preformattedCode&&n.isCode)return{leading:"",trailing:""};var e=Q8e(n.textContent);return e.leadingAscii&&dM("left",n,t)&&(e.leading=e.leadingNonAscii),e.trailingAscii&&dM("right",n,t)&&(e.trailing=e.trailingNonAscii),{leading:e.leading,trailing:e.trailing}}function Q8e(n){var t=n.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function dM(n,t,e){var i,s,r;return n==="left"?(i=t.previousSibling,s=/ $/):(i=t.nextSibling,s=/^ /),i&&(i.nodeType===3?r=s.test(i.nodeValue):e.preformattedCode&&i.nodeName==="CODE"?r=!1:i.nodeType===1&&!tA(i)&&(r=s.test(i.textContent))),r}var eOe=Array.prototype.reduce,tOe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Yv(n){if(!(this instanceof Yv))return new Yv(n);var t={rules:Xi,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,i){return i.isBlock?`

`:""},keepReplacement:function(e,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(e,i){return i.isBlock?`

`+e+`

`:e}};this.options=D8e({},t,n),this.rules=new GH(this.options)}Yv.prototype={turndown:function(n){if(!sOe(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var t=YH.call(this,new G8e(n,this.options));return nOe.call(this,t)},use:function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)this.use(n[t]);else if(typeof n=="function")n(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(n,t){return this.rules.add(n,t),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return tOe.reduce(function(t,e){return t.replace(e[0],e[1])},n)}};function YH(n){var t=this;return eOe.call(n.childNodes,function(e,i){i=new K8e(i,t.options);var s="";return i.nodeType===3?s=i.isCode?i.nodeValue:t.escape(i.nodeValue):i.nodeType===1&&(s=iOe.call(t,i)),ZH(e,s)},"")}function nOe(n){var t=this;return this.rules.forEach(function(e){typeof e.append=="function"&&(n=ZH(n,e.append(t.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function iOe(n){var t=this.rules.forNode(n),e=YH.call(this,n),i=n.flankingWhitespace;return(i.leading||i.trailing)&&(e=e.trim()),i.leading+t.replacement(e,n,this.options)+i.trailing}function ZH(n,t){var e=N8e(n),i=V8e(t),s=Math.max(n.length-e.length,t.length-i.length),r=`

`.substring(0,s);return e+r+i}function sOe(n){return n!=null&&(typeof n=="string"||n.nodeType&&(n.nodeType===1||n.nodeType===9||n.nodeType===11))}var hM=/highlight-(?:text|source)-([a-z0-9]+)/;function rOe(n){n.addRule("highlightedCodeBlock",{filter:function(t){var e=t.firstChild;return t.nodeName==="DIV"&&hM.test(t.className)&&e&&e.nodeName==="PRE"},replacement:function(t,e,i){var s=e.className||"",r=(s.match(hM)||[null,""])[1];return`

`+i.fence+r+`
`+e.firstChild.textContent+`
`+i.fence+`

`}})}function oOe(n){n.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var aOe=Array.prototype.indexOf,lOe=Array.prototype.every,Kh={};Kh.tableCell={filter:["th","td"],replacement:function(n,t){return KH(n,t)}};Kh.tableRow={filter:"tr",replacement:function(n,t){var e="",i={left:":--",right:"--:",center:":-:"};if(sA(t))for(var s=0;s<t.childNodes.length;s++){var r="---",o=(t.childNodes[s].getAttribute("align")||"").toLowerCase();o&&(r=i[o]||r),e+=KH(r,t.childNodes[s])}return`
`+n+(e?`
`+e:"")}};Kh.table={filter:function(n){return n.nodeName==="TABLE"&&sA(n.rows[0])},replacement:function(n){return n=n.replace(`

`,`
`),`

`+n+`

`}};Kh.tableSection={filter:["thead","tbody","tfoot"],replacement:function(n){return n}};function sA(n){var t=n.parentNode;return t.nodeName==="THEAD"||t.firstChild===n&&(t.nodeName==="TABLE"||cOe(t))&&lOe.call(n.childNodes,function(e){return e.nodeName==="TH"})}function cOe(n){var t=n.previousSibling;return n.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function KH(n,t){var e=aOe.call(t.parentNode.childNodes,t),i=" ";return e===0&&(i="| "),i+n+" |"}function uOe(n){n.keep(function(e){return e.nodeName==="TABLE"&&!sA(e.rows[0])});for(var t in Kh)n.addRule(t,Kh[t])}function dOe(n){n.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}})}function hOe(n){n.use([rOe,oOe,uOe,dOe])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class fOe{constructor(){b(this,"_parser");b(this,"_options",{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1});at.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...t){return Object.getPrototypeOf(this).checkbox.call(this,...t).trimRight()},code(...t){return Object.getPrototypeOf(this).code.call(this,...t).replace(`
</code>`,"</code>")}}}),this._parser=at}parse(t){return this._parser.parse(t,this._options)}}const mOe=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");class gOe extends Yv{escape(t){const e=super.escape;function i(o){return o=e(o),o=o.replace(/</g,"\\<"),o}let s="",r=0;for(const o of this._matchAutolink(t)){const a=o.index;a>r&&(s+=i(t.substring(r,a)));const l=o[0];s+=l,r=a+l.length}return r<t.length&&(s+=i(t.substring(r,t.length))),s}*_matchAutolink(t){for(const e of t.matchAll(mOe)){const i=e[0],s=this._autolinkFindEnd(i);yield Object.assign([i.substring(0,s)],{index:e.index})}}_autolinkFindEnd(t){let e=t.length;for(;e>0;){const i=t[e-1];if(`?!.,:*_~'"`.includes(i))e--;else if(i==")"){let s=0;for(let r=0;r<e;r++)t[r]=="("?s++:t[r]==")"&&s--;if(s<0)e--;else break}else break}return e}}class pOe{constructor(){b(this,"_parser");this._parser=this._createParser()}parse(t){return this._parser.turndown(t)}keep(t){this._parser.keep(t)}_createParser(){const t=new gOe({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});return t.use([hOe,this._todoList]),t}_todoList(t){t.addRule("taskListItems",{filter(e){return e.type==="checkbox"&&(e.parentNode.nodeName==="LI"||e.parentNode.parentNode.nodeName==="LI")},replacement(e,i){return(i.checked?"[x]":"[ ]")+" "}})}}class XH{constructor(t){b(this,"_htmlDP");b(this,"_markdown2html");b(this,"_html2markdown");this._htmlDP=new _5(t),this._markdown2html=new fOe,this._html2markdown=new pOe}keepHtml(t){this._html2markdown.keep([t])}toView(t){const e=this._markdown2html.parse(t);return this._htmlDP.toView(e)}toData(t){const e=this._htmlDP.toData(t);return this._html2markdown.parse(e)}registerRawContentMatcher(t){this._htmlDP.registerRawContentMatcher(t)}useFillerType(){}}class bOe extends F{constructor(t){super(t),t.data.processor=new XH(t.data.viewDocument)}static get pluginName(){return"Markdown"}static get isOfficialPlugin(){return!0}}const vOe=["SPAN","BR","PRE","CODE"];class wOe extends F{constructor(e){super(e);b(this,"_gfmDataProcessor");this._gfmDataProcessor=new XH(e.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get isOfficialPlugin(){return!0}static get requires(){return[Ts]}init(){const e=this.editor,s=e.editing.view.document,r=e.plugins.get("ClipboardPipeline");let o=!1;this.listenTo(s,"keydown",(a,l)=>{o=l.shiftKey}),this.listenTo(r,"inputTransformation",(a,l)=>{if(o)return;const u=l.dataTransfer.getData("text/html");if(!u){const m=l.dataTransfer.getData("text/plain");l.content=this._gfmDataProcessor.toView(m);return}const h=this._parseMarkdownFromHtml(u);h&&(l.content=this._gfmDataProcessor.toView(h))})}_parseMarkdownFromHtml(e){const i=this._removeOsSpecificTags(e);if(!this._containsOnlyAllowedFirstLevelTags(i))return null;const s=this._removeFirstLevelWrapperTagsAndBrs(i);return this._containsAnyRemainingHtmlTags(s)?null:this._replaceHtmlReservedEntitiesWithCharacters(s)}_removeOsSpecificTags(e){return e.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(e){const i=new DOMParser,{body:s}=i.parseFromString(e,"text/html");return Array.from(s.children).map(o=>o.tagName).every(o=>vOe.includes(o))}_removeFirstLevelWrapperTagsAndBrs(e){const i=new DOMParser,{body:s}=i.parseFromString(e,"text/html"),r=s.querySelectorAll("br");for(const a of r)a.replaceWith(`
`);const o=s.querySelectorAll(":scope > *");for(const a of o){const l=a.cloneNode(!0);a.replaceWith(...l.childNodes)}return s.innerHTML}_containsAnyRemainingHtmlTags(e){return e.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(e){return e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fM(n,t){const e=(i,s,r)=>{if(!r.consumable.consume(s.item,i.name))return;const o=s.attributeNewValue,a=r.writer,l=r.mapper.toViewElement(s.item),u=[...l.getChildren()].find(m=>m.getCustomProperty("media-content"));a.remove(u);const h=n.getMediaViewElement(a,o,t);a.insert(a.createPositionAt(l,0),h)};return i=>{i.on("attribute:url:media",e)}}function yOe(n,t,e){return t.setCustomProperty("media",!0,n),al(n,t,{label:e})}function mM(n,t,e,i){return n.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(n,e,i),n.createSlot()])}function gM(n){const t=n.getSelectedElement();return t&&t.is("element","media")?t:null}function JH(n,t,e,i){n.change(s=>{const r=s.createElement("media",{url:t});n.insertObject(r,e,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}class _Oe extends je{refresh(){const t=this.editor.model,e=t.document.selection,i=gM(e);this.value=i?i.getAttribute("url"):void 0,this.isEnabled=kOe(e)||xOe(e,t)}execute(t){const e=this.editor.model,i=e.document.selection,s=gM(i);s?e.change(r=>{r.setAttribute("url",t,s)}):JH(e,t,i,!0)}}function xOe(n,t){let i=e0(n,t).start.parent;return i.isEmpty&&!t.schema.isLimit(i)&&(i=i.parent),t.schema.checkChild(i,"media")}function kOe(n){const t=n.getSelectedElement();return!!t&&t.name==="media"}var COe='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>';const EOe="0 0 64 42";class TOe{constructor(t,e){b(this,"locale");b(this,"providerDefinitions");const i=e.providers,s=e.extraProviders||[],r=new Set(e.removeProviders),o=i.concat(s).filter(a=>{const l=a.name;return l?!r.has(l):(ht("media-embed-no-provider-name",{provider:a}),!1)});this.locale=t,this.providerDefinitions=o}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,i){return this._getMedia(e).getViewElement(t,i)}_getMedia(t){if(!t)return new pM(this.locale);t=t.trim();for(const e of this.providerDefinitions){const i=e.html,s=qt(e.url);for(const r of s){const o=this._getUrlMatches(t,r);if(o)return new pM(this.locale,t,o,i)}}return null}_getUrlMatches(t,e){let i=t.match(e);if(i)return i;let s=t.replace(/^https?:\/\//,"");return i=s.match(e),i||(s=s.replace(/^www\./,""),i=s.match(e),i)?i:null}}class pM{constructor(t,e,i,s){b(this,"url");b(this,"_locale");b(this,"_match");b(this,"_previewRenderer");this.url=this._getValidUrl(e),this._locale=t,this._match=i,this._previewRenderer=s}getViewElement(t,e){const i={};let s;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),e.renderForEditingView&&(i.class="ck-media__wrapper");const r=this._getPreviewHtml(e);s=t.createRawElement("div",i,(o,a)=>{a.setContentOf(o,r)})}else this.url&&(i.url=this.url),s=t.createEmptyElement(e.elementName,i);return t.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new vr,e=this._locale.t;return t.content=COe,t.viewBox=EOe,new ss({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}class Zv extends F{constructor(e){super(e);b(this,"registry");e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const s=i[1],r=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${r?`?start=${r}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new TOe(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.schema,s=e.t,r=e.conversion,o=e.config.get("mediaEmbed.previewsInData"),a=e.config.get("mediaEmbed.elementName"),l=this.registry;e.commands.add("mediaEmbed",new _Oe(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),r.for("dataDowncast").elementToStructure({model:"media",view:(u,{writer:h})=>{const m=u.getAttribute("url");return mM(h,l,m,{elementName:a,renderMediaPreview:!!m&&o})}}),r.for("dataDowncast").add(fM(l,{elementName:a,renderMediaPreview:o})),r.for("editingDowncast").elementToStructure({model:"media",view:(u,{writer:h})=>{const m=u.getAttribute("url"),p=mM(h,l,m,{elementName:a,renderForEditingView:!0});return yOe(p,h,s("media widget"))}}),r.for("editingDowncast").add(fM(l,{elementName:a,renderForEditingView:!0})),r.for("upcast").elementToElement({view:u=>["oembed",a].includes(u.name)&&u.getAttribute("url")?{name:!0}:null,model:(u,{writer:h})=>{const m=u.getAttribute("url");return l.hasMedia(m)?h.createElement("media",{url:m}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(u,{writer:h})=>{const m=u.getAttribute("data-oembed-url");return l.hasMedia(m)?h.createElement("media",{url:m}):null}}).add(u=>{const h=(m,p,v)=>{if(!v.consumable.consume(p.viewItem,{name:!0,classes:"media"}))return;const{modelRange:_,modelCursor:k}=v.convertChildren(p.viewItem,p.modelCursor);p.modelRange=_,p.modelCursor=k,Qt(_.getItems())||v.consumable.revert(p.viewItem,{name:!0,classes:"media"})};u.on("element:figure",h)})}}const SOe=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class AOe extends F{constructor(e){super(e);b(this,"_timeoutId");b(this,"_positionToInsert");this._timeoutId=null,this._positionToInsert=null}static get requires(){return[F5,Lo,j5]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const o=i.selection.getFirstRange(),a=si.fromPosition(o.start);a.stickiness="toPrevious";const l=si.fromPosition(o.end);l.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(a,l),a.detach(),l.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Pe.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const s=this.editor,r=s.plugins.get(Zv).registry,o=new ns(e,i),a=o.getWalker({ignoreElementEnd:!0});let l="";for(const h of a)h.item.is("$textProxy")&&(l+=h.item.data);if(l=l.trim(),!l.match(SOe)){o.detach();return}if(!r.hasMedia(l)){o.detach();return}if(!s.commands.get("mediaEmbed").isEnabled){o.detach();return}this._positionToInsert=si.fromPosition(e),this._timeoutId=Pe.window.setTimeout(()=>{s.model.change(h=>{this._timeoutId=null,h.remove(o),o.detach();let m=null;this._positionToInsert.root.rootName!=="$graveyard"&&(m=this._positionToInsert),JH(s.model,l,m,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(Lo).requestUndoOnBackspace()},100)}}class IOe extends ye{constructor(e,i){super(i);b(this,"focusTracker");b(this,"keystrokes");b(this,"urlInputView");b(this,"_validators");b(this,"_urlInputViewInfoDefault");b(this,"_urlInputViewInfoTip");this.focusTracker=new Ct,this.keystrokes=new Vt,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),qo({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new _n(this.locale,Wi),s=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.inputMode="url",s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}}var ROe='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>';class POe extends F{constructor(){super(...arguments);b(this,"_formView")}static get requires(){return[Zv,uc]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("mediaEmbed",()=>{const i=this.editor.locale.t,s=this._createDialogButton(Le);return s.tooltip=!0,s.label=i("Insert media"),s}),e.ui.componentFactory.add("menuBar:mediaEmbed",()=>{const i=this.editor.locale.t,s=this._createDialogButton(Rt);return s.label=i("Media"),s})}_createDialogButton(e){const i=this.editor,s=new e(i.locale),r=i.commands.get("mediaEmbed"),o=this.editor.plugins.get("Dialog");return s.icon=ROe,s.bind("isEnabled").to(r,"isEnabled"),s.on("execute",()=>{o.id==="mediaEmbed"?o.hide():this._showDialog()}),s}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.commands.get("mediaEmbed"),r=e.locale.t;if(!this._formView){const o=e.plugins.get(Zv).registry;this._formView=new(vf(IOe))(OOe(e.t,o),e.locale),this._formView.on("submit",()=>this._handleSubmitForm())}i.show({id:"mediaEmbed",title:r("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=s.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:r("Cancel"),withText:!0,onExecute:()=>i.hide()},{label:r("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const e=this.editor,i=e.plugins.get("Dialog");this._formView.isValid()&&(e.execute("mediaEmbed",this._formView.url),i.hide(),e.editing.view.focus())}}function OOe(n,t){return[e=>{if(!e.url.length)return n("The URL must not be empty.")},e=>{if(!t.hasMedia(e.url))return n("This media URL is not supported.")}]}class MOe extends F{static get requires(){return[Zv,POe,AOe,Go]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const bM={"(":")","[":"]","{":"}"};class DOe extends je{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"mention")}execute(t){const e=this.editor.model,s=e.document.selection,r=typeof t.mention=="string"?{id:t.mention}:t.mention,o=r.id,a=t.range||s.getFirstRange();if(!e.canEditAt(a))return;const l=t.text||o,u=QH({_text:l,id:o},r);if(!o.startsWith(t.marker))throw new L("mentioncommand-incorrect-id",this);e.change(h=>{const m=Kr(s.getAttributes()),p=new Map(m.entries());p.set("mention",u);const v=e.insertContent(h.createText(l,p),a),_=v.start.nodeBefore,k=v.end.nodeAfter,C=k&&k.is("$text")&&k.data.startsWith(" ");let T=!1;if(_&&k&&_.is("$text")&&k.is("$text")){const S=_.data.slice(-1),I=S in bM,P=I&&k.data.startsWith(bM[S]);T=I&&P}!T&&!C&&e.insertContent(h.createText(" ",m),a.start.getShiftedBy(l.length))})}}class VOe extends F{static get pluginName(){return"MentionEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model,i=e.document;e.schema.extend("$text",{allowAttributes:"mention"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",attributes:"data-mention",classes:"mention"},model:{key:"mention",value:s=>e$(s)}}),t.conversion.for("downcast").attributeToElement({model:"mention",view:LOe}),t.conversion.for("downcast").add(NOe),i.registerPostFixer(s=>zOe(s,i,e.schema)),i.registerPostFixer(s=>jOe(s,i)),i.registerPostFixer(s=>BOe(s,i)),t.commands.add("mention",new DOe(t))}}function QH(n,t){return Object.assign({uid:mi()},n,t||{})}function e$(n,t){const e=n.getAttribute("data-mention"),i=n.getChild(0);if(!i)return;const s={id:e,_text:i.data};return QH(s,t)}function NOe(n){n.on("attribute:mention",(t,e,i)=>{const s=e.attributeNewValue;if(!e.item.is("$textProxy")||!s)return;const r=e.range.start;(r.textNode||r.nodeAfter).data!=s._text&&i.consumable.consume(e.item,t.name)},{priority:"highest"})}function LOe(n,{writer:t}){if(!n)return;const e={class:"mention","data-mention":n.id},i={id:n.uid,priority:20};return t.createAttributeElement("span",e,i)}function BOe(n,t){const e=t.selection,i=e.focus;return e.isCollapsed&&e.hasAttribute("mention")&&FOe(i)?(n.removeSelectionAttribute("mention"),!0):!1}function FOe(n){const t=n.isAtStart;return n.nodeBefore&&n.nodeBefore.is("$text")||t}function zOe(n,t,e){const i=t.differ.getChanges();let s=!1;for(const r of i){if(r.type=="attribute")continue;const o=r.position;if(r.name=="$text"){const a=o.textNode&&o.textNode.nextSibling;s=eu(o.textNode,n)||s,s=eu(a,n)||s,s=eu(o.nodeBefore,n)||s,s=eu(o.nodeAfter,n)||s}if(r.name!="$text"&&r.type=="insert"){const a=o.nodeAfter;for(const l of n.createRangeIn(a).getItems())s=eu(l,n)||s}if(r.type=="insert"&&e.isInline(r.name)){const a=o.nodeAfter&&o.nodeAfter.nextSibling;s=eu(o.nodeBefore,n)||s,s=eu(a,n)||s}}return s}function jOe(n,t){const e=t.differ.getChanges();let i=!1;for(const s of e)if(s.type==="attribute"&&s.attributeKey!="mention"){const r=s.range.start.nodeBefore,o=s.range.end.nodeAfter;for(const a of[r,o])t$(a)&&a.getAttribute(s.attributeKey)!=s.attributeNewValue&&(n.setAttribute(s.attributeKey,s.attributeNewValue,a),i=!0)}return i}function t$(n){if(!n||!(n.is("$text")||n.is("$textProxy"))||!n.hasAttribute("mention"))return!1;const t=n.data,i=n.getAttribute("mention")._text;return t!=i}function eu(n,t){return t$(n)?(t.removeAttribute("mention",n),!0):!1}class UOe extends _y{constructor(e){super(e);b(this,"selected");b(this,"position");this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected,i=this.items.getIndex(e);this.select(i+1)}selectPrevious(){const e=this.selected,i=this.items.getIndex(e);this.select(i-1)}select(e){let i=0;e>0&&e<this.items.length?i=e:e<0&&(i=this.items.length-1);const s=this.items.get(i);this.selected!==s&&(this.selected&&this.selected.removeHighlight(),s.highlight(),this.selected=s,this._isItemVisibleInScrolledArea(s)||(this.element.scrollTop=s.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(e){return new Xe(this.element).contains(new Xe(e.element))}}class HOe extends ye{constructor(e,i){super(e);b(this,"domElement");this.template=void 0,this.domElement=i,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(s,r,o)=>{o?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}focus(){this.domElement.focus()}}class $Oe extends Za{constructor(){super(...arguments);b(this,"item");b(this,"marker")}highlight(){const e=this.children.first;e.isOn=!0}removeHighlight(){const e=this.children.first;e.isOn=!1}}const Jb=3,WOe=[mt.arrowup,mt.arrowdown,mt.esc],qOe=[mt.enter,mt.tab];class GOe extends F{constructor(e){super(e);b(this,"_mentionsView");b(this,"_mentionsConfigurations");b(this,"_balloon");b(this,"_items",new kn);b(this,"_lastRequested");b(this,"_requestFeedDebounced");this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=Es(this._requestFeed,100),e.config.define("mention",{feeds:[]})}static get pluginName(){return"MentionUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Ki]}init(){const e=this.editor,i=e.config.get("mention.commitKeys")||qOe,s=WOe.concat(i);this._balloon=e.plugins.get(Ki),e.editing.view.document.on("keydown",(a,l)=>{o(l.keyCode)&&this._isUIVisible&&(l.preventDefault(),a.stop(),l.keyCode==mt.arrowdown&&this._mentionsView.selectNext(),l.keyCode==mt.arrowup&&this._mentionsView.selectPrevious(),i.includes(l.keyCode)&&this._mentionsView.executeSelected(),l.keyCode==mt.esc&&this._hideUIAndRemoveMarker())},{priority:"highest"}),so({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const r=e.config.get("mention.feeds");for(const a of r){const{feed:l,marker:u,dropdownLimit:h}=a;if(!e7e(u))throw new L("mentionconfig-incorrect-marker",null,{marker:u});const m=typeof l=="function"?l.bind(this.editor):XOe(l),p=a.itemRenderer,v={marker:u,feedCallback:m,itemRenderer:p,dropdownLimit:h};this._mentionsConfigurations.set(u,v)}this._setupTextWatcher(r),this.listenTo(e,"change:isReadOnly",()=>{this._hideUIAndRemoveMarker()}),this.on("requestFeed:response",(a,l)=>this._handleFeedResponse(l)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker());function o(a){return s.includes(a)}}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale,i=new UOe(e);return i.items.bindTo(this._items).using(s=>{const{item:r,marker:o}=s,{dropdownLimit:a}=this._mentionsConfigurations.get(o),l=a||this.editor.config.get("mention.dropdownLimit")||10;if(i.items.length>=l)return null;const u=new $Oe(e),h=this._renderItem(r,o);return h.delegate("execute").to(u),u.children.add(h),u.item=r,u.marker=o,u.on("execute",()=>{i.fire("execute",{item:r,marker:o})}),u}),i.on("execute",(s,r)=>{const o=this.editor,a=o.model,l=r.item,u=r.marker,h=o.model.markers.get("mention"),m=a.createPositionAt(a.document.selection.focus),p=a.createPositionAt(h.getStart()),v=a.createRange(p,m);this._hideUIAndRemoveMarker(),o.execute("mention",{mention:l,text:l.text,marker:u,range:v}),o.editing.view.focus()}),i}_getItemRenderer(e){const{itemRenderer:i}=this._mentionsConfigurations.get(e);return i}_requestFeed(e,i){this._lastRequested=i;const{feedCallback:s}=this._mentionsConfigurations.get(e),r=s(i);if(!(r instanceof Promise)){this.fire("requestFeed:response",{feed:r,marker:e,feedText:i});return}r.then(a=>{this._lastRequested==i?this.fire("requestFeed:response",{feed:a,marker:e,feedText:i}):this.fire("requestFeed:discarded",{feed:a,marker:e,feedText:i})}).catch(a=>{this.fire("requestFeed:error",{error:a}),ht("mention-feed-callback-error",{marker:e})})}_setupTextWatcher(e){const i=this.editor,s=e.map(a=>({...a,pattern:i$(a.marker,a.minimumCharacters||0)})),r=new V5(i.model,ZOe(s));r.on("matched",(a,l)=>{const u=n$(s,l.text),m=i.model.document.selection.focus,p=i.model.createPositionAt(m.parent,u.position);if(JOe(m)||QOe(p)){this._hideUIAndRemoveMarker();return}const v=KOe(u,l.text),_=u.marker.length+v.length,k=m.getShiftedBy(-_),C=m.getShiftedBy(-v.length),T=i.model.createRange(k,C);if(Lk(i)){const S=i.model.markers.get("mention");i.model.change(I=>{I.updateMarker(S,{range:T})})}else i.model.change(S=>{S.addMarker("mention",{range:T,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(u.marker,v)}),r.on("unmatched",()=>{this._hideUIAndRemoveMarker()});const o=i.commands.get("mention");return r.bind("isEnabled").to(o),r}_handleFeedResponse(e){const{feed:i,marker:s}=e;if(!Lk(this.editor))return;this._items.clear();for(const o of i){const a=typeof o!="object"?{id:o,text:o}:o;this._items.add({item:a,marker:s})}const r=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(r):this._hideUIAndRemoveMarker()}_showOrUpdateUI(e){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),Lk(this.editor)&&this.editor.model.change(e=>e.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(e,i){const s=this.editor;let r,o=e.id;const a=this._getItemRenderer(i);if(a){const l=a(e);typeof l!="string"?r=new HOe(s.locale,l):o=l}if(!r){const l=new Le(s.locale);l.label=o,l.withText=!0,r=l}return r}_getBalloonPanelPositionData(e,i){const s=this.editor,r=s.editing,o=r.view.domConverter,a=r.mapper,l=s.locale.uiLanguageDirection;return{target:()=>{let u=e.getRange();u.start.root.rootName=="$graveyard"&&(u=s.model.document.selection.getFirstRange());const h=a.toViewRange(u);return Xe.getDomRangeRects(o.viewRangeToDom(h)).pop()},limiter:()=>{const u=this.editor.editing.view,m=u.document.selection.editableElement;return m?u.domConverter.mapViewToDom(m.root):null},positions:YOe(i,l)}}}function YOe(n,t){const e={caret_se:i=>({top:i.bottom+Jb,left:i.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(i,s)=>({top:i.top-s.height-Jb,left:i.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(i,s)=>({top:i.bottom+Jb,left:i.right-s.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(i,s)=>({top:i.top-s.height-Jb,left:i.right-s.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(e,n)?[e[n]]:t!=="rtl"?[e.caret_se,e.caret_sw,e.caret_ne,e.caret_nw]:[e.caret_sw,e.caret_se,e.caret_nw,e.caret_ne]}function n$(n,t){let e;for(const i of n){const s=t.lastIndexOf(i.marker);s>0&&!t.substring(s-1).match(i.pattern)||(!e||s>=e.position)&&(e={marker:i.marker,position:s,minimumCharacters:i.minimumCharacters,pattern:i.pattern})}return e}function i$(n,t){const e=t==0?"*":`{${t},}`,i=Ge.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`,s=".";n=n.replace(/[.*+?^${}()\-|[\]\\]/g,"\\$&");const r=`(?:^|[ ${i}])(${n})(${s}${e})$`;return new RegExp(r,"u")}function ZOe(n){return e=>{const i=n$(n,e);if(!i)return!1;let s=0;i.position!==0&&(s=i.position-1);const r=e.substring(s);return i.pattern.test(r)}}function KOe(n,t){let e=0;n.position!==0&&(e=n.position-1);const i=i$(n.marker,0);return t.substring(e).match(i)[2]}function XOe(n){return t=>n.filter(i=>(typeof i=="string"?i:String(i.id)).toLowerCase().includes(t.toLowerCase()))}function JOe(n){const t=n.textNode&&n.textNode.hasAttribute("mention"),e=n.nodeBefore;return t||e&&e.is("$text")&&e.hasAttribute("mention")}function QOe(n){const t=n.nodeAfter;return t&&t.is("$text")&&t.hasAttribute("mention")}function e7e(n){return!!n}function Lk(n){return n.model.markers.has("mention")}class t7e extends F{toMentionAttribute(t,e){return e$(t,e)}static get pluginName(){return"Mention"}static get isOfficialPlugin(){return!0}static get requires(){return[VOe,GOe]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class n7e extends je{refresh(){const t=this.editor.model,e=t.schema,i=t.document.selection;this.isEnabled=i7e(i,e,t)}execute(){const t=this.editor.model;t.change(e=>{const i=e.createElement("pageBreak");t.insertObject(i,null,null,{setSelection:"after"})})}}function i7e(n,t,e){const i=s7e(n,e);return t.checkChild(i,"pageBreak")}function s7e(n,t){const i=e0(n,t).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}class r7e extends F{static get pluginName(){return"PageBreakEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.t,s=t.conversion;e.register("pageBreak",{inheritAllFrom:"$blockObject"}),s.for("dataDowncast").elementToStructure({model:"pageBreak",view:(r,{writer:o})=>o.createContainerElement("div",{class:"page-break",style:"page-break-after: always"},o.createContainerElement("span",{style:"display: none"}))}),s.for("editingDowncast").elementToStructure({model:"pageBreak",view:(r,{writer:o})=>{const a=i("Page break"),l=o.createContainerElement("div"),u=o.createRawElement("span",{class:"page-break__label"},function(h){h.innerText=i("Page break")});return o.addClass("page-break",l),o.insert(o.createPositionAt(l,0),u),o7e(l,o,a)}}),s.for("upcast").elementToElement({view:r=>{const o=r.getStyle("page-break-before")=="always",a=r.getStyle("page-break-after")=="always";if(!o&&!a)return null;if(r.childCount==1){const l=r.getChild(0);if(!l.is("element","span")||l.getStyle("display")!="none")return null}else if(r.childCount>1)return null;return{name:!0}},model:"pageBreak",converterPriority:"high"}),t.commands.add("pageBreak",new n7e(t))}}function o7e(n,t,e){return t.setCustomProperty("pageBreak",!0,n),al(n,t,{label:e})}var a7e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z"/><path d="M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z"/><path d="M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z"/></svg>';class l7e extends F{static get pluginName(){return"PageBreakUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("pageBreak",()=>{const e=this._createButton(Le);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:pageBreak",()=>this._createButton(Rt))}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get("pageBreak"),r=new t(e.locale),o=i.t;return r.set({label:o("Page break"),icon:a7e}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("pageBreak"),e.editing.view.focus()}),r}}class c7e extends F{static get requires(){return[r7e,l7e,Go]}static get pluginName(){return"PageBreak"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function u7e(n,t){const e=[];for(const i of t.createRangeIn(n)){const s=i.item;s.is("element","a")&&!s.hasAttribute("href")&&(s.hasAttribute("id")||s.hasAttribute("name"))&&e.push(s)}for(const i of e){const s=i.parent.getChildIndex(i)+1,r=i.getChildren();t.insertChild(s,r,i.parent)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function d7e(n){const t=parseFloat(n);return n.endsWith("pt")?ah(t*96/72):n.endsWith("pc")?ah(t*12*96/72):n.endsWith("in")?ah(t*96):n.endsWith("cm")?ah(t*96/2.54):n.endsWith("mm")?ah(t/10*96/2.54):n}function vM(n){return n!==void 0&&n.endsWith("px")}function ah(n){return n.toFixed(2).replace(/\.?0+$/,"")+"px"}function h7e(n,t,e){if(!n.childCount)return;const i=new Ys(n.document),s=m7e(n,i);if(!s.length)return;const r={},o=[];for(const a of s)if(a.indent!==void 0){g7e(a)||(o.length=0);const l=`${a.id}:${a.indent}`,u=Math.min(a.indent-1,o.length);if(u<o.length&&o[u].id!==a.id&&(o.length=u),u<o.length-1)o.length=u+1;else{const m=p7e(a,t);if(u>o.length-1||o[u].listElement.name!=m.type){u==0&&m.type=="ol"&&a.id!==void 0&&r[l]&&(m.startIndex=r[l]);const p=y7e(m,i,e);if(vM(a.marginLeft)&&(u==0||vM(o[u-1].marginLeft))){let v=a.marginLeft;u>0&&(v=ah(parseFloat(v)-parseFloat(o[u-1].marginLeft))),i.setStyle("padding-left",v,p)}if(o.length==0){const v=a.element.parent,_=v.getChildIndex(a.element)+1;i.insertChild(_,p,v)}else{const v=o[u-1].listItemElements;i.appendChild(p,v[v.length-1])}o[u]={...a,listElement:p,listItemElements:[]},u==0&&a.id!==void 0&&(r[l]=m.startIndex||1)}}const h=a.element.name=="li"?a.element:i.createElement("li");i.appendChild(h,o[u].listElement),o[u].listItemElements.push(h),u==0&&a.id!==void 0&&r[l]++,a.element!=h&&i.appendChild(a.element,h),x7e(a.element,i),i.removeStyle("text-indent",a.element),i.removeStyle("margin-left",a.element)}else{const l=o.find(u=>u.marginLeft==a.marginLeft);if(l){const u=l.listItemElements;i.appendChild(a.element,u[u.length-1]),i.removeStyle("margin-left",a.element)}else o.length=0}}function f7e(n,t){for(const e of t.createRangeIn(n)){const i=e.item;if(i.is("element","li")){const s=i.getChild(0);s&&s.is("element","p")&&t.unwrapElement(s)}}}function m7e(n,t){const e=t.createRangeIn(n),i=[],s=new Set;for(const r of e.getItems()){if(!r.is("element")||!r.name.match(/^(p|h\d+|li|div)$/))continue;let o=k7e(r);if(o!==void 0&&parseFloat(o)==0&&!Array.from(r.getClassNames()).find(a=>a.startsWith("MsoList"))&&(o=void 0),r.hasStyle("mso-list")||o!==void 0&&s.has(o)){const a=_7e(r);i.push({element:r,id:a.id,order:a.order,indent:a.indent,marginLeft:o}),o!==void 0&&s.add(o)}else s.clear()}return i}function g7e(n){const t=n.element.previousSibling;return wM(t||n.element.parent)}function wM(n){return n.is("element","ol")||n.is("element","ul")}function p7e(n,t){const e=new RegExp(`@list l${n.id}:level${n.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,s=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,r=new RegExp(`@list\\s+l${n.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),o=new RegExp(`@list l${n.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=r.exec(t),l=o.exec(t),u=a&&!l,h=e.exec(t);let m="decimal",p="ol",v=null;if(h&&h[1]){const _=i.exec(h[1]);if(_&&_[1]&&(m=_[1].trim(),p=m!=="bullet"&&m!=="image"?"ol":"ul"),m==="bullet"){const k=b7e(n.element);k&&(m=k)}else{const k=s.exec(h[1]);k&&k[1]&&(v=parseInt(k[1]))}u&&(p="ol")}return{type:p,startIndex:v,style:w7e(m),isLegalStyleList:u}}function b7e(n){if(n.name=="li"&&n.parent.name=="ul"&&n.parent.hasAttribute("type"))return n.parent.getAttribute("type");const t=v7e(n);if(!t)return null;const e=t._data;return e==="o"?"circle":e===""?"disc":e===""?"square":null}function v7e(n){if(n.getChild(0).is("$text"))return null;for(const t of n.getChildren()){if(!t.is("element","span"))continue;const e=t.getChild(0);if(e)return e.is("$text")?e:e.getChild(0)}/* istanbul ignore next -- @preserve */return null}function w7e(n){if(n.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(n){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return n;default:return null}}function y7e(n,t,e){const i=t.createElement(n.type);return n.style&&t.setStyle("list-style-type",n.style,i),n.startIndex&&n.startIndex>1&&t.setAttribute("start",n.startIndex,i),n.isLegalStyleList&&e&&t.addClass("legal-list",i),i}function _7e(n){const t=n.getStyle("mso-list");if(t===void 0)return{};const e=t.match(/(^|\s{1,100})l(\d+)/i),i=t.match(/\s{0,100}lfo(\d+)/i),s=t.match(/\s{0,100}level(\d+)/i);return e&&i&&s?{id:e[2],order:i[1],indent:parseInt(s[1])}:{indent:1}}function x7e(n,t){const e=new ls({name:"span",styles:{"mso-list":"Ignore"}}),i=t.createRangeIn(n);for(const s of i)s.type==="elementStart"&&e.match(s.item)&&t.remove(s.item)}function k7e(n){const t=n.getStyle("margin-left");return t===void 0||t.endsWith("px")?t:d7e(t)}function C7e(n,t){if(!n.childCount)return;const e=new Ys(n.document),i=T7e(n,e);S7e(i,n,e),I7e(i,n,e),A7e(n,e);const s=R7e(n,e);s.length&&O7e(s,P7e(t),e)}function E7e(n){return btoa(n.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}function T7e(n,t){const e=t.createRangeIn(n),i=new ls({name:/v:(.+)/}),s=[];for(const r of e){if(r.type!="elementStart")continue;const o=r.item,a=o.previousSibling,l=a&&a.is("element")?a.name:null,u=["Chart"],h=i.match(o),m=o.getAttribute("o:gfxdata"),p=l==="v:shapetype",v=m&&u.some(_=>o.getAttribute("id").includes(_));h&&m&&!p&&!v&&s.push(r.item.getAttribute("id"))}return s}function S7e(n,t,e){const i=e.createRangeIn(t),s=new ls({name:"img"}),r=[];for(const o of i)if(o.item.is("element")&&s.match(o.item)){const a=o.item,l=a.getAttribute("v:shapes")?a.getAttribute("v:shapes").split(" "):[];l.length&&l.every(u=>n.indexOf(u)>-1)?r.push(a):a.getAttribute("src")||r.push(a)}for(const o of r)e.remove(o)}function A7e(n,t){const e=t.createRangeIn(n),i=new ls({name:/v:(.+)/}),s=[];for(const r of e)r.type=="elementStart"&&i.match(r.item)&&s.push(r.item);for(const r of s)t.remove(r)}function I7e(n,t,e){const i=e.createRangeIn(t),s=[];for(const a of i)if(a.type=="elementStart"&&a.item.is("element","v:shape")){const l=a.item.getAttribute("id");if(n.includes(l))continue;r(a.item.parent.getChildren(),l)||s.push(a.item)}for(const a of s){const l={src:o(a)};a.hasAttribute("alt")&&(l.alt=a.getAttribute("alt"));const u=e.createElement("img",l);e.insertChild(a.index+1,u,a.parent)}function r(a,l){for(const u of a){/* istanbul ignore else -- @preserve */if(u.is("element")&&(u.name=="img"&&u.getAttribute("v:shapes")==l||r(u.getChildren(),l)))return!0}return!1}function o(a){for(const l of a.getChildren()){/* istanbul ignore else -- @preserve */if(l.is("element")&&l.getAttribute("src"))return l.getAttribute("src")}}}function R7e(n,t){const e=t.createRangeIn(n),i=new ls({name:"img"}),s=[];for(const r of e)r.item.is("element")&&i.match(r.item)&&r.item.getAttribute("src").startsWith("file://")&&s.push(r.item);return s}function P7e(n){if(!n)return[];const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,e=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),i=n.match(e),s=[];if(i)for(const r of i){let o=!1;r.includes("\\pngblip")?o="image/png":r.includes("\\jpegblip")&&(o="image/jpeg"),o&&s.push({hex:r.replace(t,"").replace(/[^\da-fA-F]/g,""),type:o})}return s}function O7e(n,t,e){if(n.length===t.length)for(let i=0;i<n.length;i++){const s=`data:${t[i].type};base64,${E7e(t[i].hex)}`;e.setAttribute("src",s,n[i])}}function M7e(n){const t=[],e=new Ys(n.document);for(const{item:i}of e.createRangeIn(n))if(i.is("element")){for(const s of i.getClassNames())/\bmso/gi.exec(s)&&e.removeClass(s,i);for(const s of i.getStyleNames())/\bmso/gi.exec(s)&&e.removeStyle(s,i);(i.is("element","w:sdt")||i.is("element","w:sdtpr")&&i.isEmpty||i.is("element","o:p")&&i.isEmpty)&&t.push(i)}for(const i of t){const s=i.parent,r=s.getChildIndex(i);e.insertChild(r,i.getChildren(),s),e.remove(i)}}const D7e=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,V7e=/xmlns:o="urn:schemas-microsoft-com/i;class N7e{constructor(t,e=!1){b(this,"document");b(this,"hasMultiLevelListPlugin");this.document=t,this.hasMultiLevelListPlugin=e}isActive(t){return D7e.test(t)||V7e.test(t)}execute(t){const e=new Ys(this.document),{body:i,stylesString:s}=t._parsedData;u7e(i,e),h7e(i,s,this.hasMultiLevelListPlugin),C7e(i,t.dataTransfer.getData("text/rtf")),M7e(i),t.content=i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function L7e(n,t){for(const e of n.getChildren())if(e.is("element","b")&&e.getStyle("font-weight")==="normal"){const i=n.getChildIndex(e);t.remove(e),t.insertChild(i,e.getChildren(),n)}}function B7e(n,t){const e=new gy(t.document.stylesProcessor),i=new by(e,{renderingMode:"data"}),s=i.blockElements,r=i.inlineObjectElements,o=[];for(const a of t.createRangeIn(n)){const l=a.item;if(l.is("element","br")){const u=yM(l,"forward",t,{blockElements:s,inlineObjectElements:r}),h=yM(l,"backward",t,{blockElements:s,inlineObjectElements:r}),m=_M(u,s);(_M(h,s)||m)&&o.push(l)}}for(const a of o)a.hasClass("Apple-interchange-newline")?t.remove(a):t.replace(a,t.createElement("p"))}function yM(n,t,e,{blockElements:i,inlineObjectElements:s}){let r=e.createPositionAt(n,t=="forward"?"after":"before");return r=r.getLastMatchingPosition(({item:o})=>o.is("element")&&!i.includes(o.name)&&!s.includes(o.name),{direction:t}),t=="forward"?r.nodeAfter:r.nodeBefore}function _M(n,t){return!!n&&n.is("element")&&t.includes(n.name)}const F7e=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class z7e{constructor(t){b(this,"document");this.document=t}isActive(t){return F7e.test(t)}execute(t){const e=new Ys(this.document),{body:i}=t._parsedData;L7e(i,e),f7e(i,e),B7e(i,e),t.content=i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function j7e(n,t){for(const e of n.getChildren())e.is("element","table")&&e.hasAttribute("xmlns")&&t.removeAttribute("xmlns",e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function U7e(n,t){for(const e of n.getChildren())if(e.is("element","google-sheets-html-origin")){const i=n.getChildIndex(e);t.remove(e),t.insertChild(i,e.getChildren(),n)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function H7e(n,t){for(const e of n.getChildren())e.is("element","table")&&e.getStyle("width")==="0px"&&t.removeStyle("width",e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $7e(n,t){for(const e of Array.from(n.getChildren()))e.is("element","style")&&t.remove(e)}const W7e=/<google-sheets-html-origin/i;class q7e{constructor(t){b(this,"document");this.document=t}isActive(t){return W7e.test(t)}execute(t){const e=new Ys(this.document),{body:i}=t._parsedData;U7e(i,e),j7e(i,e),H7e(i,e),$7e(i,e),t.content=i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function G7e(n){return xM(xM(n)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function Y7e(n){n.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t,i=e.innerText.length||0;e.innerText=Array(i+1).join(" ").substr(0,i)})}function xM(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length===1?" ":Array(e.length+1).join(" ").substr(0,e.length))}function Z7e(n,t){const e=new DOMParser;n=n.replace(/<!--\[if gte vml 1]>/g,""),n=n.replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,"");const i=G7e(J7e(n)),s=e.parseFromString(i,"text/html");Y7e(s);const r=s.body.innerHTML,o=K7e(s,t),a=X7e(s);return{body:o,bodyString:r,styles:a.styles,stylesString:a.stylesString}}function K7e(n,t){const e=new gy(t),i=new by(e,{renderingMode:"data"}),s=n.createDocumentFragment(),r=n.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);return i.domToView(s,{skipComments:!0})}function X7e(n){const t=[],e=[],i=Array.from(n.getElementsByTagName("style"));for(const s of i)s.sheet&&s.sheet.cssRules&&s.sheet.cssRules.length&&(t.push(s.sheet),e.push(s.innerHTML));return{styles:t,stylesString:e.join(" ")}}function J7e(n){const t="</body>",e="</html>",i=n.indexOf(t);if(i<0)return n;const s=n.indexOf(e,i+t.length);return n.substring(0,i+t.length)+(s>=0?n.substring(s):"")}class Q7e extends F{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[Ts]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),i=t.editing.view.document,s=[],r=this.editor.plugins.has("MultiLevelList");s.push(new N7e(i,r)),s.push(new z7e(i)),s.push(new q7e(i)),e.on("inputTransformation",(o,a)=>{if(a._isTransformedWithPasteFromOffice||t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const u=a.dataTransfer.getData("text/html"),h=s.find(m=>m.isActive(u));h&&(a._parsedData||(a._parsedData=Z7e(u,i.stylesProcessor)),h.execute(a),a._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var eMe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';const Qb="removeFormat";class tMe extends F{static get pluginName(){return"RemoveFormatUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add(Qb,()=>{const e=this._createButton(Le);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add(`menuBar:${Qb}`,()=>this._createButton(Rt))}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get(Qb),r=new t(e.locale),o=i.t;return r.set({label:o("Remove Format"),icon:eMe}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute(Qb),e.editing.view.focus()}),r}}class nMe extends je{refresh(){const t=this.editor.model;this.isEnabled=!!Qt(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change(i=>{for(const s of this._getFormattingItems(t.document.selection,e))if(s.is("selection"))for(const r of this._getFormattingAttributes(s,e))i.removeSelectionAttribute(r);else{const r=i.createRangeOn(s);for(const o of this._getFormattingAttributes(s,e))i.removeAttribute(o,r)}})}*_getFormattingItems(t,e){const i=s=>!!Qt(this._getFormattingAttributes(s,e));for(const s of t.getRanges())for(const r of s.getItems())!e.isBlock(r)&&i(r)&&(yield r);for(const s of t.getSelectedBlocks())i(s)&&(yield s);i(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[i]of t.getAttributes()){const s=e.getAttributeProperties(i);s&&s.isFormatting&&(yield i)}}}class iMe extends F{static get pluginName(){return"RemoveFormatEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("removeFormat",new nMe(t))}}class sMe extends F{static get requires(){return[iMe,tMe]}static get pluginName(){return"RemoveFormat"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class rMe extends je{constructor(t){super(t),this.affectsData=!1,this.value=!1}execute(){const t="ck-show-blocks",e=this.editor.editing.view;e.change(i=>{for(const s of e.document.roots)s.hasClass(t)?(i.removeClass(t,s),this.value=!1):(i.addClass(t,s),this.value=!0)})}}class oMe extends F{static get pluginName(){return"ShowBlocksEditing"}static get isOfficialPlugin(){return!0}init(){const{editor:t}=this;t.commands.add("showBlocks",new rMe(t))}}var aMe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m6.395 9.196 2.545-.007V6.498a.598.598 0 0 1 .598-.598h.299a.598.598 0 0 1 .598.598v6.877a.598.598 0 0 1-.598.598h-.299a.598.598 0 0 1-.598-.598v-2.691l-2.545.007v2.691a.598.598 0 0 1-.598.598h-.299a.598.598 0 0 1-.598-.598V6.505a.598.598 0 0 1 .598-.598h.299a.598.598 0 0 1 .598.598v2.691Z"/><path d="M15.094 13.417V6.462a.562.562 0 0 0-.562-.562h-.782a1 1 0 0 0-.39.08l-1.017.43a.562.562 0 0 0-.343.517v.197c0 .4.406.67.775.519l.819-.337v6.111c0 .31.251.562.561.562h.377c.31 0 .562-.251.562-.562Z"/><path d="M0 15.417v1.5h1.5v-1.5H0Z"/><path d="M18.5 15.417v1.5H20v-1.5h-1.5Z"/><path d="M18.5 12.333v1.5H20v-1.5h-1.5Z"/><path d="M18.5 9.25v1.5H20v-1.5h-1.5Z"/><path d="M18.5 6.167v1.5H20v-1.5h-1.5Z"/><path d="M0 18.5v.5a1 1 0 0 0 1 1h.5v-1.5H0Z"/><path d="M3.083 18.5V20h1.5v-1.5h-1.5Z"/><path d="M6.167 18.5V20h1.5v-1.5h-1.5Z"/><path d="M9.25 18.5V20h1.5v-1.5h-1.5Z"/><path d="M12.333 18.5V20h1.5v-1.5h-1.5Z"/><path d="M15.417 18.5V20h1.5v-1.5h-1.5Z"/><path d="M18.5 18.5V20h.5a1 1 0 0 0 1-1v-.5h-1.5Z"/><path clip-rule="evenodd" d="M0 1a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v3.583h-1.5V1.5h-17v12.333H0V1Z"/></svg>';class lMe extends F{static get pluginName(){return"ShowBlocksUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("showBlocks",()=>{const e=this._createButton(Le);return e.set({tooltip:!0,icon:aMe}),e}),t.ui.componentFactory.add("menuBar:showBlocks",()=>this._createButton(Rt))}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get("showBlocks"),r=new t(i),o=i.t;return r.set({label:o("Show blocks"),isToggleable:!0,role:"menuitemcheckbox"}),r.bind("isEnabled").to(s),r.bind("isOn").to(s,"value",s,"isEnabled",(a,l)=>a&&l),this.listenTo(r,"execute",()=>{e.execute("showBlocks"),e.editing.view.focus()}),r}}class cMe extends F{static get pluginName(){return"ShowBlocks"}static get isOfficialPlugin(){return!0}static get requires(){return[oMe,lMe]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uMe(n){const t=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],e=t.map(o=>o.name).join("|"),i=n.replace(new RegExp(`</?(${e})( .*?)?>`,"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`);let s=0,r=!1;return i.filter(o=>o.length).map(o=>(r=fMe(o,r),dMe(o,t)?Bk(o,s++):hMe(o,t)?Bk(o,--s):r==="middle"||r==="last"?o:Bk(o,s))).join(`
`)}function dMe(n,t){return t.some(e=>!(e.isVoid||!new RegExp(`<${e.name}( .*?)?>`).test(n)))}function hMe(n,t){return t.some(e=>new RegExp(`</${e.name}>`).test(n))}function Bk(n,t,e="    "){return`${e.repeat(Math.max(0,t))}${n}`}function fMe(n,t){return new RegExp("<pre( .*?)?>").test(n)?"first":new RegExp("</pre>").test(n)?"last":t==="first"||t==="middle"?"middle":!1}const e1="SourceEditingMode";class mMe extends F{constructor(e){super(e);b(this,"_elementReplacer");b(this,"_replacedRoots");b(this,"_dataFromRoots");this.set("isSourceEditingMode",!1),this._elementReplacer=new yz,this._replacedRoots=new Map,this._dataFromRoots=new Map,e.config.define("sourceEditing.allowCollaborationFeatures",!1)}static get pluginName(){return"SourceEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Hh]}init(){this._checkCompatibility();const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("sourceEditing",()=>{const s=this._createButton(Le);return s.set({label:i("Source"),icon:me.source,tooltip:!0,class:"ck-source-editing-button"}),s}),e.ui.componentFactory.add("menuBar:sourceEditing",()=>{const s=this._createButton(Rt);return s.set({label:i("Show source"),role:"menuitemcheckbox"}),s}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(s,r,o)=>{o?(this._hideVisibleDialog(),this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(s,r,o)=>this._handleReadOnlyMode(!o)),this.listenTo(e,"change:isReadOnly",(s,r,o)=>this._handleReadOnlyMode(o))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}updateEditorData(){const e=this.editor,i={};for(const[s,r]of this._replacedRoots){const o=this._dataFromRoots.get(s),a=r.dataset.value;o!==a&&(i[s]=a,this._dataFromRoots.set(s,a))}Object.keys(i).length&&e.data.set(i,{batchType:{isUndoable:!0},suppressErrorInCollaboration:!0})}_checkCompatibility(){const e=this.editor,i=e.config.get("sourceEditing.allowCollaborationFeatures");if(!i&&e.plugins.has("RealTimeCollaborativeEditing"))throw new L("source-editing-incompatible-with-real-time-collaboration",null);!i&&["CommentsEditing","TrackChangesEditing","RevisionHistory"].some(r=>e.plugins.has(r))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}_showSourceEditing(){const e=this.editor,i=e.editing.view,s=e.model;s.change(r=>{r.setSelection(null),r.removeSelectionAttribute(s.document.selection.getAttributeKeys())});for(const[r,o]of i.domRoots){const a=gMe(e.data.get({rootName:r})),l=Ei(o.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),u=Ei(o.ownerDocument,"div",{class:"ck-source-editing-area","data-value":a},[l]);l.value=a,l.setSelectionRange(0,0),l.addEventListener("input",()=>{u.dataset.value=l.value,e.ui.update()}),i.change(h=>{const m=i.document.getRoot(r);h.addClass("ck-hidden",m)}),e.ui.setEditableElement("sourceEditing:"+r,l),this._replacedRoots.set(r,u),this._elementReplacer.replace(o,u),this._dataFromRoots.set(r,a)}this._focusSourceEditing()}_hideSourceEditing(){const i=this.editor.editing.view;this.updateEditorData(),i.change(s=>{for(const[r]of this._replacedRoots)s.removeClass("ck-hidden",i.document.getRoot(r))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),i.focus()}_focusSourceEditing(){const e=this.editor,[i]=this._replacedRoots.values(),s=i.querySelector("textarea");e.editing.view.document.isFocused=!1,s.focus()}_disableCommands(){const e=this.editor;for(const i of e.commands.commands())i.forceDisabled(e1);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").forceDisabled(e1)}_enableCommands(){const e=this.editor;for(const i of e.commands.commands())i.clearForceDisabled(e1);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").clearForceDisabled(e1)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,i]of this._replacedRoots)i.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const i=this.editor.ui.view.editable;return i&&!i.hasExternalElement}_hideVisibleDialog(){if(this.editor.plugins.has("Dialog")){const e=this.editor.plugins.get("Dialog");e.isOpen&&e.hide()}}_createButton(e){const i=this.editor,s=new e(i.locale);return s.set({withText:!0,isToggleable:!0}),s.bind("isOn").to(this,"isSourceEditingMode"),s.bind("isEnabled").to(this,"isEnabled",i,"isReadOnly",i.plugins.get(Hh),"hasAny",(r,o,a)=>!(!r||o||a)),this.listenTo(s,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),s}}function gMe(n){return pMe(n)?uMe(n):n}function pMe(n){return n.startsWith("<")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class bMe extends ye{constructor(e){super(e);b(this,"tiles");b(this,"focusTracker");b(this,"keystrokes");this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new Ct,this.keystrokes=new Vt,wf({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>Pe.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,i){const s=new Le(this.locale);return s.set({label:e,withText:!0,class:"ck-character-grid__tile"}),s.extendTemplate({attributes:{title:i},on:{mouseover:s.bindTemplate.to("mouseover"),focus:s.bindTemplate.to("focus")}}),s.on("mouseover",()=>{this.fire("tileHover",{name:i,character:e})}),s.on("focus",()=>{this.fire("tileFocus",{name:i,character:e})}),s.on("execute",()=>{this.fire("execute",{name:i,character:e})}),s}render(){super.render();for(const e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",(e,{added:i,removed:s})=>{if(i.length>0)for(const r of i)this.focusTracker.add(r.element);if(s.length>0)for(const r of s)this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class vMe extends ye{constructor(t){super(t);const e=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",wMe),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:e.to("name",i=>i||"")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:e.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function wMe(n){return n===null?"":"U+"+("0000"+n.codePointAt(0).toString(16)).slice(-4)}class yMe extends ye{constructor(e,i,s,r){super(e);b(this,"items");b(this,"focusTracker");b(this,"keystrokes");b(this,"_focusCycler");b(this,"categoriesView");b(this,"gridView");b(this,"infoView");this.categoriesView=i,this.gridView=s,this.infoView=r,this.items=this.createCollection(),this.focusTracker=new Ct,this.keystrokes=new Vt,this._focusCycler=new Cn({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}var _Me='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>';class xMe extends ye{constructor(e,i){super(e);b(this,"_groupNames");b(this,"_dropdownView");this.set("currentGroupName",Array.from(i.entries())[0][0]),this._groupNames=i,this._dropdownView=new _n(e,P5),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const e=new kn;for(const[r,o]of this._groupNames){const a={type:"button",model:new wr({name:r,label:o,role:"menuitemradio",withText:!0})};a.model.bind("isOn").to(this,"currentGroupName",l=>l===r),e.add(a)}const i=this.locale.t,s=i("Category");this._dropdownView.set({label:s,isEmpty:!1}),this._dropdownView.fieldView.panelPosition=this.locale.uiLanguageDirection==="rtl"?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:s,ariaLabel:s,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",r=>this._groupNames.get(r)),this._dropdownView.fieldView.on("execute",({source:r})=>{this.currentGroupName=r.name}),ro(this._dropdownView.fieldView,e,{ariaLabel:s,role:"menu"})}}const Fk="All";class kMe extends F{constructor(e){super(e);b(this,"_characters");b(this,"_groups");b(this,"_allSpecialCharactersGroupLabel");const i=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=i("All")}static get requires(){return[Cy,uc]}static get pluginName(){return"SpecialCharacters"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("specialCharacters",()=>{const i=this._createDialogButton(Le);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:specialCharacters",()=>this._createDialogButton(Rt))}addItems(e,i,s={label:e}){if(e===Fk)throw new L("special-character-invalid-group-name",null);const r=this._getGroup(e,s.label);for(const o of i)r.items.add(o.title),this._characters.set(o.title,o.character)}getGroups(){const e=Array.from(this._groups.keys()),i=this.editor.config.get("specialCharacters.order")||[],s=i.find(r=>!e.includes(r));if(s)throw new L("special-character-invalid-order-group-name",null,{invalidGroup:s});return new Set([...i,...e])}getCharactersForGroup(e){if(e===Fk)return new Set(this._characters.keys());const i=this._groups.get(e);if(i)return i.items}getCharacter(e){return this._characters.get(e)}_getGroup(e,i){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:i}),this._groups.get(e)}_updateGrid(e,i){i.tiles.clear();const s=this.getCharactersForGroup(e);for(const r of s){const o=this.getCharacter(r);i.tiles.add(i.createTile(o,r))}}_createDropdownPanelContent(e){const i=Array.from(this.getGroups()).map(l=>[l,this._groups.get(l).label]),s=new Map([[Fk,this._allSpecialCharactersGroupLabel],...i]),r=new xMe(e,s),o=new bMe(e),a=new vMe(e);return o.on("tileHover",(l,u)=>{a.set(u)}),o.on("tileFocus",(l,u)=>{a.set(u)}),r.on("change:currentGroupName",(l,u,h)=>{this._updateGrid(h,o)}),this._updateGrid(r.currentGroupName,o),{categoriesView:r,gridView:o,infoView:a}}_createDialogButton(e){const i=this.editor,s=i.locale,r=new e(i.locale),o=i.commands.get("insertText"),a=s.t,l=this.editor.plugins.get("Dialog");return r.set({label:a("Special characters"),icon:_Me,isToggleable:!0}),r.bind("isOn").to(l,"id",u=>u==="specialCharacters"),r.bind("isEnabled").to(o,"isEnabled"),r.on("execute",()=>{if(l.id==="specialCharacters"){l.hide();return}this._showDialog()}),r}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.locale,r=s.t,{categoriesView:o,gridView:a,infoView:l}=this._createDropdownPanelContent(s),u=new yMe(s,o,a,l);a.on("execute",(h,m)=>{e.execute("insertText",{text:m.character})}),i.show({id:"specialCharacters",title:r("Special characters"),className:"ck-special-characters",content:u,position:Ms.EDITOR_TOP_SIDE})}}class s$ extends F{static get pluginName(){return"SpecialCharactersArrows"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Arrows",[{title:e("leftwards simple arrow"),character:""},{title:e("rightwards simple arrow"),character:""},{title:e("upwards simple arrow"),character:""},{title:e("downwards simple arrow"),character:""},{title:e("leftwards double arrow"),character:""},{title:e("rightwards double arrow"),character:""},{title:e("upwards double arrow"),character:""},{title:e("downwards double arrow"),character:""},{title:e("leftwards dashed arrow"),character:""},{title:e("rightwards dashed arrow"),character:""},{title:e("upwards dashed arrow"),character:""},{title:e("downwards dashed arrow"),character:""},{title:e("leftwards arrow to bar"),character:""},{title:e("rightwards arrow to bar"),character:""},{title:e("upwards arrow to bar"),character:""},{title:e("downwards arrow to bar"),character:""},{title:e("up down arrow with base"),character:""},{title:e("back with leftwards arrow above"),character:""},{title:e("end with leftwards arrow above"),character:""},{title:e("on with exclamation mark with left right arrow above"),character:""},{title:e("soon with rightwards arrow above"),character:""},{title:e("top with upwards arrow above"),character:""}],{label:e("Arrows")})}}class r$ extends F{static get pluginName(){return"SpecialCharactersText"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Text",[{character:"",title:e("Single left-pointing angle quotation mark")},{character:"",title:e("Single right-pointing angle quotation mark")},{character:"",title:e("Left-pointing double angle quotation mark")},{character:"",title:e("Right-pointing double angle quotation mark")},{character:"",title:e("Left single quotation mark")},{character:"",title:e("Right single quotation mark")},{character:"",title:e("Left double quotation mark")},{character:"",title:e("Right double quotation mark")},{character:"",title:e("Single low-9 quotation mark")},{character:"",title:e("Double low-9 quotation mark")},{character:"",title:e("Inverted exclamation mark")},{character:"",title:e("Inverted question mark")},{character:"",title:e("Two dot leader")},{character:"",title:e("Horizontal ellipsis")},{character:"",title:e("Double dagger")},{character:"",title:e("Per mille sign")},{character:"",title:e("Per ten thousand sign")},{character:"",title:e("Double exclamation mark")},{character:"",title:e("Question exclamation mark")},{character:"",title:e("Exclamation question mark")},{character:"",title:e("Double question mark")},{character:"",title:e("Copyright sign")},{character:"",title:e("Registered sign")},{character:"",title:e("Trade mark sign")},{character:"",title:e("Section sign")},{character:"",title:e("Paragraph sign")},{character:"",title:e("Reversed paragraph sign")}],{label:e("Text")})}}class o$ extends F{static get pluginName(){return"SpecialCharactersMathematical"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:e("Less-than sign")},{character:">",title:e("Greater-than sign")},{character:"",title:e("Less-than or equal to")},{character:"",title:e("Greater-than or equal to")},{character:"",title:e("En dash")},{character:"",title:e("Em dash")},{character:"",title:e("Macron")},{character:"",title:e("Overline")},{character:"",title:e("Degree sign")},{character:"",title:e("Minus sign")},{character:"",title:e("Plus-minus sign")},{character:"",title:e("Division sign")},{character:"",title:e("Fraction slash")},{character:"",title:e("Multiplication sign")},{character:"",title:e("Latin small letter f with hook")},{character:"",title:e("Integral")},{character:"",title:e("N-ary summation")},{character:"",title:e("Infinity")},{character:"",title:e("Square root")},{character:"",title:e("Tilde operator")},{character:"",title:e("Approximately equal to")},{character:"",title:e("Almost equal to")},{character:"",title:e("Not equal to")},{character:"",title:e("Identical to")},{character:"",title:e("Element of")},{character:"",title:e("Not an element of")},{character:"",title:e("Contains as member")},{character:"",title:e("N-ary product")},{character:"",title:e("Logical and")},{character:"",title:e("Logical or")},{character:"",title:e("Not sign")},{character:"",title:e("Intersection")},{character:"",title:e("Union")},{character:"",title:e("Partial differential")},{character:"",title:e("For all")},{character:"",title:e("There exists")},{character:"",title:e("Empty set")},{character:"",title:e("Nabla")},{character:"",title:e("Asterisk operator")},{character:"",title:e("Proportional to")},{character:"",title:e("Angle")},{character:"",title:e("Vulgar fraction one quarter")},{character:"",title:e("Vulgar fraction one half")},{character:"",title:e("Vulgar fraction three quarters")}],{label:e("Mathematical")})}}class a$ extends F{static get pluginName(){return"SpecialCharactersLatin"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Latin",[{character:"",title:e("Latin capital letter a with macron")},{character:"",title:e("Latin small letter a with macron")},{character:"",title:e("Latin capital letter a with breve")},{character:"",title:e("Latin small letter a with breve")},{character:"",title:e("Latin capital letter a with ogonek")},{character:"",title:e("Latin small letter a with ogonek")},{character:"",title:e("Latin capital letter c with acute")},{character:"",title:e("Latin small letter c with acute")},{character:"",title:e("Latin capital letter c with circumflex")},{character:"",title:e("Latin small letter c with circumflex")},{character:"",title:e("Latin capital letter c with dot above")},{character:"",title:e("Latin small letter c with dot above")},{character:"",title:e("Latin capital letter c with caron")},{character:"",title:e("Latin small letter c with caron")},{character:"",title:e("Latin capital letter d with caron")},{character:"",title:e("Latin small letter d with caron")},{character:"",title:e("Latin capital letter d with stroke")},{character:"",title:e("Latin small letter d with stroke")},{character:"",title:e("Latin capital letter e with macron")},{character:"",title:e("Latin small letter e with macron")},{character:"",title:e("Latin capital letter e with breve")},{character:"",title:e("Latin small letter e with breve")},{character:"",title:e("Latin capital letter e with dot above")},{character:"",title:e("Latin small letter e with dot above")},{character:"",title:e("Latin capital letter e with ogonek")},{character:"",title:e("Latin small letter e with ogonek")},{character:"",title:e("Latin capital letter e with caron")},{character:"",title:e("Latin small letter e with caron")},{character:"",title:e("Latin capital letter g with circumflex")},{character:"",title:e("Latin small letter g with circumflex")},{character:"",title:e("Latin capital letter g with breve")},{character:"",title:e("Latin small letter g with breve")},{character:"",title:e("Latin capital letter g with dot above")},{character:"",title:e("Latin small letter g with dot above")},{character:"",title:e("Latin capital letter g with cedilla")},{character:"",title:e("Latin small letter g with cedilla")},{character:"",title:e("Latin capital letter h with circumflex")},{character:"",title:e("Latin small letter h with circumflex")},{character:"",title:e("Latin capital letter h with stroke")},{character:"",title:e("Latin small letter h with stroke")},{character:"",title:e("Latin capital letter i with tilde")},{character:"",title:e("Latin small letter i with tilde")},{character:"",title:e("Latin capital letter i with macron")},{character:"",title:e("Latin small letter i with macron")},{character:"",title:e("Latin capital letter i with breve")},{character:"",title:e("Latin small letter i with breve")},{character:"",title:e("Latin capital letter i with ogonek")},{character:"",title:e("Latin small letter i with ogonek")},{character:"",title:e("Latin capital letter i with dot above")},{character:"",title:e("Latin small letter dotless i")},{character:"",title:e("Latin capital ligature ij")},{character:"",title:e("Latin small ligature ij")},{character:"",title:e("Latin capital letter j with circumflex")},{character:"",title:e("Latin small letter j with circumflex")},{character:"",title:e("Latin capital letter k with cedilla")},{character:"",title:e("Latin small letter k with cedilla")},{character:"",title:e("Latin small letter kra")},{character:"",title:e("Latin capital letter l with acute")},{character:"",title:e("Latin small letter l with acute")},{character:"",title:e("Latin capital letter l with cedilla")},{character:"",title:e("Latin small letter l with cedilla")},{character:"",title:e("Latin capital letter l with caron")},{character:"",title:e("Latin small letter l with caron")},{character:"",title:e("Latin capital letter l with middle dot")},{character:"",title:e("Latin small letter l with middle dot")},{character:"",title:e("Latin capital letter l with stroke")},{character:"",title:e("Latin small letter l with stroke")},{character:"",title:e("Latin capital letter n with acute")},{character:"",title:e("Latin small letter n with acute")},{character:"",title:e("Latin capital letter n with cedilla")},{character:"",title:e("Latin small letter n with cedilla")},{character:"",title:e("Latin capital letter n with caron")},{character:"",title:e("Latin small letter n with caron")},{character:"",title:e("Latin small letter n preceded by apostrophe")},{character:"",title:e("Latin capital letter eng")},{character:"",title:e("Latin small letter eng")},{character:"",title:e("Latin capital letter o with macron")},{character:"",title:e("Latin small letter o with macron")},{character:"",title:e("Latin capital letter o with breve")},{character:"",title:e("Latin small letter o with breve")},{character:"",title:e("Latin capital letter o with double acute")},{character:"",title:e("Latin small letter o with double acute")},{character:"",title:e("Latin capital ligature oe")},{character:"",title:e("Latin small ligature oe")},{character:"",title:e("Latin capital letter r with acute")},{character:"",title:e("Latin small letter r with acute")},{character:"",title:e("Latin capital letter r with cedilla")},{character:"",title:e("Latin small letter r with cedilla")},{character:"",title:e("Latin capital letter r with caron")},{character:"",title:e("Latin small letter r with caron")},{character:"",title:e("Latin capital letter s with acute")},{character:"",title:e("Latin small letter s with acute")},{character:"",title:e("Latin capital letter s with circumflex")},{character:"",title:e("Latin small letter s with circumflex")},{character:"",title:e("Latin capital letter s with cedilla")},{character:"",title:e("Latin small letter s with cedilla")},{character:"",title:e("Latin capital letter s with caron")},{character:"",title:e("Latin small letter s with caron")},{character:"",title:e("Latin capital letter t with cedilla")},{character:"",title:e("Latin small letter t with cedilla")},{character:"",title:e("Latin capital letter t with caron")},{character:"",title:e("Latin small letter t with caron")},{character:"",title:e("Latin capital letter t with stroke")},{character:"",title:e("Latin small letter t with stroke")},{character:"",title:e("Latin capital letter u with tilde")},{character:"",title:e("Latin small letter u with tilde")},{character:"",title:e("Latin capital letter u with macron")},{character:"",title:e("Latin small letter u with macron")},{character:"",title:e("Latin capital letter u with breve")},{character:"",title:e("Latin small letter u with breve")},{character:"",title:e("Latin capital letter u with ring above")},{character:"",title:e("Latin small letter u with ring above")},{character:"",title:e("Latin capital letter u with double acute")},{character:"",title:e("Latin small letter u with double acute")},{character:"",title:e("Latin capital letter u with ogonek")},{character:"",title:e("Latin small letter u with ogonek")},{character:"",title:e("Latin capital letter w with circumflex")},{character:"",title:e("Latin small letter w with circumflex")},{character:"",title:e("Latin capital letter y with circumflex")},{character:"",title:e("Latin small letter y with circumflex")},{character:"",title:e("Latin capital letter y with diaeresis")},{character:"",title:e("Latin capital letter z with acute")},{character:"",title:e("Latin small letter z with acute")},{character:"",title:e("Latin capital letter z with dot above")},{character:"",title:e("Latin small letter z with dot above")},{character:"",title:e("Latin capital letter z with caron")},{character:"",title:e("Latin small letter z with caron")},{character:"",title:e("Latin small letter long s")}],{label:e("Latin")})}}class l$ extends F{static get pluginName(){return"SpecialCharactersCurrency"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:e("Dollar sign")},{character:"",title:e("Euro sign")},{character:"",title:e("Yen sign")},{character:"",title:e("Pound sign")},{character:"",title:e("Cent sign")},{character:"",title:e("Euro-currency sign")},{character:"",title:e("Colon sign")},{character:"",title:e("Cruzeiro sign")},{character:"",title:e("French franc sign")},{character:"",title:e("Lira sign")},{character:"",title:e("Currency sign")},{character:"",title:e("Bitcoin sign")},{character:"",title:e("Mill sign")},{character:"",title:e("Naira sign")},{character:"",title:e("Peseta sign")},{character:"",title:e("Rupee sign")},{character:"",title:e("Won sign")},{character:"",title:e("New sheqel sign")},{character:"",title:e("Dong sign")},{character:"",title:e("Kip sign")},{character:"",title:e("Tugrik sign")},{character:"",title:e("Drachma sign")},{character:"",title:e("German penny sign")},{character:"",title:e("Peso sign")},{character:"",title:e("Guarani sign")},{character:"",title:e("Austral sign")},{character:"",title:e("Hryvnia sign")},{character:"",title:e("Cedi sign")},{character:"",title:e("Livre tournois sign")},{character:"",title:e("Spesmilo sign")},{character:"",title:e("Tenge sign")},{character:"",title:e("Indian rupee sign")},{character:"",title:e("Turkish lira sign")},{character:"",title:e("Nordic mark sign")},{character:"",title:e("Manat sign")},{character:"",title:e("Ruble sign")}],{label:e("Currency")})}}class CMe extends F{static get pluginName(){return"SpecialCharactersEssentials"}static get isOfficialPlugin(){return!0}static get requires(){return[l$,r$,o$,s$,a$]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class EMe extends Le{constructor(e,i){super(e);b(this,"styleDefinition");b(this,"previewView");this.styleDefinition=i,this.previewView=this._createPreview(),this.set({label:i.name,class:"ck-style-grid__button",withText:!0}),this.extendTemplate({attributes:{role:"option"}}),this.children.add(this.previewView,0)}_createPreview(){const e=new ye(this.locale);return e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all-excluded","ck-style-grid__button__preview","ck-content"],"aria-hidden":"true"},children:[this.styleDefinition.previewTemplate]}),e}}class TMe extends ye{constructor(e,i){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"children");this.focusTracker=new Ct,this.keystrokes=new Vt,this.set("activeStyles",[]),this.set("enabledStyles",[]),this.children=this.createCollection(),this.children.delegate("execute").to(this);for(const s of i){const r=new EMe(e,s);this.children.add(r)}this.on("change:activeStyles",()=>{for(const s of this.children)s.isOn=this.activeStyles.includes(s.styleDefinition.name)}),this.on("change:enabledStyles",()=>{for(const s of this.children)s.isEnabled=this.enabledStyles.includes(s.styleDefinition.name)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-grid"],role:"listbox"},children:this.children})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element);wf({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.children,numberOfColumns:3,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection}),this.keystrokes.listenTo(this.element)}focus(){this.children.first.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class kM extends ye{constructor(e,i,s){super(e);b(this,"gridView");b(this,"labelView");this.labelView=new ks(e),this.labelView.text=i,this.gridView=new TMe(e,s),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel__style-group"],role:"group","aria-labelledby":this.labelView.id},children:[this.labelView,this.gridView]})}}class SMe extends ye{constructor(e,i){super(e);b(this,"focusTracker");b(this,"keystrokes");b(this,"children");b(this,"blockStylesGroupView");b(this,"inlineStylesGroupView");b(this,"_focusables");b(this,"_focusCycler");const s=e.t;this.focusTracker=new Ct,this.keystrokes=new Vt,this.children=this.createCollection(),this.blockStylesGroupView=new kM(e,s("Block styles"),i.block),this.inlineStylesGroupView=new kM(e,s("Text styles"),i.inline),this.set("activeStyles",[]),this.set("enabledStyles",[]),this._focusables=new ei,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["shift + tab"],focusNext:["tab"]}}),i.block.length&&this.children.add(this.blockStylesGroupView),i.inline.length&&this.children.add(this.inlineStylesGroupView),this.blockStylesGroupView.gridView.delegate("execute").to(this),this.inlineStylesGroupView.gridView.delegate("execute").to(this),this.blockStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.inlineStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel"]},children:this.children})}render(){super.render(),this._focusables.add(this.blockStylesGroupView.gridView),this._focusables.add(this.inlineStylesGroupView.gridView),this.focusTracker.add(this.blockStylesGroupView.gridView.element),this.focusTracker.add(this.inlineStylesGroupView.gridView.element),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}const AMe=["caption","colgroup","dd","dt","figcaption","legend","li","optgroup","option","rp","rt","summary","tbody","td","tfoot","th","thead","tr"];class Qa extends F{constructor(e){super(e);b(this,"_htmlSupport");this.decorate("isStyleEnabledForBlock"),this.decorate("isStyleActiveForBlock"),this.decorate("getAffectedBlocks"),this.decorate("isStyleEnabledForInlineSelection"),this.decorate("isStyleActiveForInlineSelection"),this.decorate("getAffectedInlineSelectable"),this.decorate("getStylePreview"),this.decorate("configureGHSDataFilter")}static get pluginName(){return"StyleUtils"}static get isOfficialPlugin(){return!0}init(){this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport")}normalizeConfig(e,i=[]){const s={block:[],inline:[]};for(const r of i){const o=[],a=[];for(const u of e.getDefinitionsForView(r.element)){const h="appliesToBlock"in u?u.appliesToBlock:!1;if(u.isBlock||h){if(typeof h=="string")o.push(h);else if(u.isBlock){const m=u;o.push(u.model),m.paragraphLikeModel&&o.push(m.paragraphLikeModel)}}else a.push(u.model)}const l=this.getStylePreview(r,[{text:"AaBbCcDdEeFfGgHhIiJj"}]);o.length?s.block.push({...r,previewTemplate:l,modelElements:o,isBlock:!0}):s.inline.push({...r,previewTemplate:l,ghsAttributes:a})}return s}isStyleEnabledForBlock(e,i){const s=this.editor.model,r=this._htmlSupport.getGhsAttributeNameForElement(e.element);return s.schema.checkAttribute(i,r)?e.modelElements.includes(i.name):!1}isStyleActiveForBlock(e,i){const s=this._htmlSupport.getGhsAttributeNameForElement(e.element),r=i.getAttribute(s);return this.hasAllClasses(r,e.classes)}getAffectedBlocks(e,i){return e.modelElements.includes(i.name)?[i]:null}isStyleEnabledForInlineSelection(e,i){const s=this.editor.model;for(const r of e.ghsAttributes)if(s.schema.checkAttributeInSelection(i,r))return!0;return!1}isStyleActiveForInlineSelection(e,i){for(const s of e.ghsAttributes){const r=this._getValueFromFirstAllowedNode(i,s);if(this.hasAllClasses(r,e.classes))return!0}return!1}getAffectedInlineSelectable(e,i){return i}getStylePreview(e,i){const{element:s,classes:r}=e;return{tag:RMe(s)?s:"div",attributes:{class:r},children:i}}hasAllClasses(e,i){return rn(e)&&IMe(e)&&i.every(s=>e.classes.includes(s))}configureGHSDataFilter({block:e,inline:i}){const s=this.editor.plugins.get("DataFilter");s.loadAllowedConfig(e.map(CM)),s.loadAllowedConfig(i.map(CM))}_getValueFromFirstAllowedNode(e,i){const r=this.editor.model.schema;if(e.isCollapsed)return e.getAttribute(i);for(const o of e.getRanges())for(const a of o.getItems())if(r.checkAttribute(a,i))return a.getAttribute(i);return null}}function IMe(n){return!!n.classes&&Array.isArray(n.classes)}function RMe(n){return!AMe.includes(n)}function CM({element:n,classes:t}){return{name:n,classes:t}}class PMe extends F{static get pluginName(){return"StyleUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Qa]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),i=t.plugins.get("StyleUtils"),s=t.config.get("style.definitions"),r=i.normalizeConfig(e,s);t.ui.componentFactory.add("style",o=>{const a=o.t,l=Wn(o),u=t.commands.get("style");return l.once("change:isOpen",()=>{const h=new SMe(o,r);l.panelView.children.add(h),h.delegate("execute").to(l),h.bind("activeStyles").to(u,"value"),h.bind("enabledStyles").to(u,"enabledStyles")}),l.bind("isEnabled").to(u),l.buttonView.withText=!0,l.buttonView.bind("label").to(u,"value",h=>h.length>1?a("Multiple styles"):h.length===1?h[0]:a("Styles")),l.bind("class").to(u,"value",h=>{const m=["ck-style-dropdown"];return h.length>1&&m.push("ck-style-dropdown_multiple-active"),m.join(" ")}),l.on("execute",h=>{t.execute("style",{styleName:h.source.styleDefinition.name}),t.editing.view.focus()}),l})}}class OMe extends je{constructor(e,i){super(e);b(this,"_styleDefinitions");b(this,"_styleUtils");this.set("value",[]),this.set("enabledStyles",[]),this._styleDefinitions=i,this._styleUtils=this.editor.plugins.get(Qa)}refresh(){const e=this.editor.model,i=e.document.selection,s=new Set,r=new Set;for(const a of this._styleDefinitions.inline)this._styleUtils.isStyleEnabledForInlineSelection(a,i)&&r.add(a.name),this._styleUtils.isStyleActiveForInlineSelection(a,i)&&s.add(a.name);const o=Qt(i.getSelectedBlocks())||i.getFirstPosition().parent;if(o){const a=o.getAncestors({includeSelf:!0,parentFirst:!0});for(const l of a){if(l.is("rootElement"))break;for(const u of this._styleDefinitions.block)this._styleUtils.isStyleEnabledForBlock(u,l)&&(r.add(u.name),this._styleUtils.isStyleActiveForBlock(u,l)&&s.add(u.name));if(e.schema.isObject(l))break}}this.enabledStyles=Array.from(r).sort(),this.isEnabled=this.enabledStyles.length>0,this.value=this.isEnabled?Array.from(s).sort():[]}execute({styleName:e,forceValue:i}){if(!this.enabledStyles.includes(e)){ht("style-command-executed-with-incorrect-style-name");return}const s=this.editor.model,r=s.document.selection,o=this.editor.plugins.get("GeneralHtmlSupport"),a=[...this._styleDefinitions.inline,...this._styleDefinitions.block],l=a.filter(({name:m})=>this.value.includes(m)),u=a.find(({name:m})=>m==e),h=i===void 0?!this.value.includes(u.name):i;s.change(()=>{let m;DMe(u)?m=this._findAffectedBlocks(VMe(r),u):m=[this._styleUtils.getAffectedInlineSelectable(u,r)];for(const p of m)h?o.addModelHtmlClass(u.element,u.classes,p):o.removeModelHtmlClass(u.element,MMe(l,u),p)})}_findAffectedBlocks(e,i){const s=new Set;for(const r of e){const o=r.getAncestors({includeSelf:!0,parentFirst:!0});for(const a of o){if(a.is("rootElement"))break;const l=this._styleUtils.getAffectedBlocks(i,a);if(l){for(const u of l)s.add(u);break}}}return s}}function MMe(n,t){return n.reduce((e,i)=>i.name===t.name?e:e.filter(s=>!i.classes.includes(s)),t.classes)}function DMe(n){return"isBlock"in n}function VMe(n){const t=Array.from(n.getSelectedBlocks());return t.length?t:[n.getFirstPosition().parent]}class NMe extends F{constructor(){super(...arguments);b(this,"_listUtils");b(this,"_styleUtils");b(this,"_htmlSupport")}static get pluginName(){return"ListStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Qa,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("ListEditing")&&(this._styleUtils=e.plugins.get(Qa),this._listUtils=this.editor.plugins.get("ListUtils"),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(i,[s,r])=>{this._isStyleEnabledForBlock(s,r)&&(i.return=!0,i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForBlock",(i,[s,r])=>{this._isStyleActiveForBlock(s,r)&&(i.return=!0,i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(i,[s,r])=>{const o=this._getAffectedBlocks(s,r);o&&(i.return=o,i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getStylePreview",(i,[s,r])=>{const o=this._getStylePreview(s,r);o&&(i.return=o,i.stop())},{priority:"high"}))}_isStyleEnabledForBlock(e,i){const s=this.editor.model;if(!["ol","ul","li"].includes(e.element)||!this._listUtils.isListItemBlock(i))return!1;const r=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(e.element=="ol"||e.element=="ul"){if(!s.schema.checkAttribute(i,r))return!1;const a=this._listUtils.isNumberedListType(i.getAttribute("listType"))?"ol":"ul";return e.element==a}else return s.schema.checkAttribute(i,r)}_isStyleActiveForBlock(e,i){const s=this._htmlSupport.getGhsAttributeNameForElement(e.element),r=i.getAttribute(s);return this._styleUtils.hasAllClasses(r,e.classes)}_getAffectedBlocks(e,i){return this._isStyleEnabledForBlock(e,i)?e.element=="li"?this._listUtils.expandListBlocksToCompleteItems(i,{withNested:!1}):this._listUtils.expandListBlocksToCompleteList(i):null}_getStylePreview(e,i){const{element:s,classes:r}=e;return s=="ol"||s=="ul"?{tag:s,attributes:{class:r},children:[{tag:"li",children:i}]}:s=="li"?{tag:"ol",children:[{tag:s,attributes:{class:r},children:i}]}:null}}class LMe extends F{constructor(){super(...arguments);b(this,"_tableUtils");b(this,"_styleUtils")}static get pluginName(){return"TableStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Qa]}init(){const e=this.editor;e.plugins.has("TableEditing")&&(this._styleUtils=e.plugins.get(Qa),this._tableUtils=this.editor.plugins.get("TableUtils"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(i,[s,r])=>{this._isApplicable(s,r)&&(i.return=this._isStyleEnabledForBlock(s,r),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(i,[s,r])=>{this._isApplicable(s,r)&&(i.return=this._getAffectedBlocks(s,r),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"configureGHSDataFilter",(i,[{block:s}])=>{this.editor.plugins.get("DataFilter").loadAllowedConfig(s.filter(o=>o.element=="figcaption").map(o=>({name:"caption",classes:o.classes})))}))}_isApplicable(e,i){return["td","th"].includes(e.element)?i.name=="tableCell":["thead","tbody"].includes(e.element)?i.name=="table":!1}_isStyleEnabledForBlock(e,i){if(["td","th"].includes(e.element)){const s=this._tableUtils.getCellLocation(i),o=i.parent.parent,a=o.getAttribute("headingRows")||0,l=o.getAttribute("headingColumns")||0,u=s.row<a||s.column<l;return e.element=="th"?u:!u}if(["thead","tbody"].includes(e.element)){const s=i.getAttribute("headingRows")||0;return e.element=="thead"?s>0:s<this._tableUtils.getRows(i)}/* istanbul ignore next -- @preserve */return!1}_getAffectedBlocks(e,i){return this._isStyleEnabledForBlock(e,i)?[i]:null}}class BMe extends F{constructor(){super(...arguments);b(this,"_styleUtils");b(this,"_htmlSupport")}static get pluginName(){return"LinkStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[Qa,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("LinkEditing")&&(this._styleUtils=e.plugins.get(Qa),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForInlineSelection",(i,[s,r])=>{s.element=="a"&&(i.return=this._isStyleEnabled(s,r),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForInlineSelection",(i,[s,r])=>{s.element=="a"&&(i.return=this._isStyleActive(s,r),i.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedInlineSelectable",(i,[s,r])=>{if(s.element!="a")return;const o=this._getAffectedSelectable(s,r);o&&(i.return=o,i.stop())},{priority:"high"}))}_isStyleEnabled(e,i){const s=this.editor.model;if(i.isCollapsed)return i.hasAttribute("linkHref");for(const r of i.getRanges())for(const o of r.getItems())if((o.is("$textProxy")||s.schema.isInline(o))&&o.hasAttribute("linkHref"))return!0;return!1}_isStyleActive(e,i){const s=this.editor.model,r=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(i.isCollapsed){if(i.hasAttribute("linkHref")){const o=i.getAttribute(r);if(this._styleUtils.hasAllClasses(o,e.classes))return!0}return!1}for(const o of i.getRanges())for(const a of o.getItems())if((a.is("$textProxy")||s.schema.isInline(a))&&a.hasAttribute("linkHref")){const l=a.getAttribute(r);return this._styleUtils.hasAllClasses(l,e.classes)}return!1}_getAffectedSelectable(e,i){const s=this.editor.model;if(i.isCollapsed){const o=i.getAttribute("linkHref");return Jp(i.getFirstPosition(),"linkHref",o,s)}const r=[];for(const o of i.getRanges()){const a=s.createRange(EM(o.start,"linkHref",!0,s),EM(o.end,"linkHref",!1,s));for(const l of a.getItems())(l.is("$textProxy")||s.schema.isInline(l))&&l.hasAttribute("linkHref")&&r.push(this.editor.model.createRangeOn(l))}return FMe(r)}}function EM(n,t,e,i){const s=n.textNode||(e?n.nodeAfter:n.nodeBefore);if(!s||!s.hasAttribute(t))return n;const r=s.getAttribute(t);return EE(n,t,r,e,i)}function FMe(n){for(let t=1;t<n.length;t++){const e=n[t-1].getJoined(n[t]);e&&n.splice(--t,2,e)}return n}class zMe extends F{static get pluginName(){return"StyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["GeneralHtmlSupport",Qa,NMe,LMe,BMe]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),i=t.plugins.get("StyleUtils"),s=t.config.get("style.definitions"),r=i.normalizeConfig(e,s);t.commands.add("style",new OMe(t,r)),i.configureGHSDataFilter(r)}}class jMe extends F{static get pluginName(){return"Style"}static get isOfficialPlugin(){return!0}static get requires(){return[zMe,PMe]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rA(n,t){const{modelAttribute:e,styleName:i,viewElement:s,defaultValue:r,reduceBoxSides:o=!1,shouldUpcast:a=()=>!0}=t;n.for("upcast").attributeToAttribute({view:{name:s,styles:{[i]:/[\s\S]+/}},model:{key:e,value:l=>{if(!a(l))return;const u=l.getNormalizedStyle(i),h=o?A1(u):u;if(r!==h)return h}}})}function zE(n,t,e,i){n.for("upcast").add(s=>s.on("element:"+t,(r,o,a)=>{if(!o.modelRange)return;const l=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(v=>o.viewItem.hasStyle(v));if(!l.length)return;const u={styles:l};if(!a.consumable.test(o.viewItem,u))return;const h=[...o.modelRange.getItems({shallow:!0})].pop();a.consumable.consume(o.viewItem,u);const m={style:o.viewItem.getNormalizedStyle("border-style"),color:o.viewItem.getNormalizedStyle("border-color"),width:o.viewItem.getNormalizedStyle("border-width")},p={style:A1(m.style),color:A1(m.color),width:A1(m.width)};p.style!==i.style&&a.writer.setAttribute(e.style,p.style,h),p.color!==i.color&&a.writer.setAttribute(e.color,p.color,h),p.width!==i.width&&a.writer.setAttribute(e.width,p.width,h)}))}function gg(n,t){const{modelElement:e,modelAttribute:i,styleName:s}=t;n.for("downcast").attributeToAttribute({model:{name:e,key:i},view:r=>({key:"style",value:{[s]:r}})})}function S1(n,t){const{modelAttribute:e,styleName:i}=t;n.for("downcast").add(s=>s.on(`attribute:${e}:table`,(r,o,a)=>{const{item:l,attributeNewValue:u}=o,{mapper:h,writer:m}=a;if(!a.consumable.consume(o.item,r.name))return;const p=[...h.toViewElement(l).getChildren()].find(v=>v.is("element","table"));u?m.setStyle(i,u,p):m.removeStyle(i,p)}))}function A1(n){if(!n)return;const t=["top","right","bottom","left"];if(!t.every(r=>n[r]))return n;const i=n.top;return t.every(r=>n[r]===i)?i:n}function jn(n,t,e,i,s=1){t!=null&&s!==void 0&&s!==null&&t>s?i.setAttribute(n,t,e):i.removeAttribute(n,e)}function Zu(n,t,e={}){const i=n.createElement("tableCell",e);return n.insertElement("paragraph",i),n.insert(i,t),i}function jE(n,t){const e=t.parent.parent,i=parseInt(e.getAttribute("headingColumns")||"0"),{column:s}=n.getCellLocation(t);return!!i&&s<i}function I1(n,t,e){const{modelAttribute:i}=e;n.extend("tableCell",{allowAttributes:[i]}),rA(t,{viewElement:/^(td|th)$/,...e}),gg(t,{modelElement:"tableCell",...e})}function gu(n){const t=n.getSelectedElement();return t&&t.is("element","table")?t:n.getFirstPosition().findAncestor("table")}function UMe(){return n=>{n.on("element:figure",(t,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const s=WMe(e.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(e.viewItem,{name:!0,classes:"table"});const r=i.convertItem(s,e.modelCursor),o=Qt(r.modelRange.getItems());if(!o){i.consumable.revert(e.viewItem,{name:!0,classes:"table"});return}i.convertChildren(e.viewItem,i.writer.createPositionAt(o,"end")),i.updateConversionResult(o,e)})}}function HMe(){return n=>{n.on("element:table",(t,e,i)=>{const s=e.viewItem;if(!i.consumable.test(s,{name:!0}))return;const{rows:r,headingRows:o,headingColumns:a}=qMe(s),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const u=i.writer.createElement("table",l);if(i.safeInsert(u,e.modelCursor)){if(i.consumable.consume(s,{name:!0}),r.forEach(h=>i.convertItem(h,i.writer.createPositionAt(u,"end"))),i.convertChildren(s,i.writer.createPositionAt(u,"end")),u.isEmpty){const h=i.writer.createElement("tableRow");i.writer.insert(h,i.writer.createPositionAt(u,"end")),Zu(i.writer,i.writer.createPositionAt(h,"end"))}i.updateConversionResult(u,e)}})}}function $Me(){return n=>{n.on("element:tr",(t,e)=>{e.viewItem.isEmpty&&e.modelCursor.index==0&&t.stop()},{priority:"high"})}}function TM(n){return t=>{t.on(`element:${n}`,(e,i,{writer:s})=>{if(!i.modelRange)return;const r=i.modelRange.start.nodeAfter,o=s.createPositionAt(r,0);if(i.viewItem.isEmpty){s.insertElement("paragraph",o);return}const a=Array.from(r.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=s.createElement("paragraph");s.insert(l,s.createPositionAt(r,0));for(const u of a)s.move(s.createRangeOn(u),s.createPositionAt(l,"end"))}},{priority:"low"})}}function WMe(n){for(const t of n.getChildren())if(t.is("element","table"))return t}function qMe(n){let t=0,e;const i=[],s=[];let r;for(const o of Array.from(n.getChildren())){if(o.name!=="tbody"&&o.name!=="thead"&&o.name!=="tfoot")continue;o.name==="thead"&&!r&&(r=o);const a=Array.from(o.getChildren()).filter(u=>u.is("element","tr"));let l=null;for(const u of a){const h=Array.from(u.getChildren()).filter(m=>m.is("element","td")||m.is("element","th"));if(r&&o===r||o.name==="tbody"&&h.length>0&&(l===null||h.length===l)&&h.every(m=>m.is("element","th")))t++,i.push(u);else{s.push(u);const m=GMe(u);(!e||m<e)&&(e=m)}l=Math.max(l||0,h.length)}}return{headingRows:t,headingColumns:e||0,rows:[...i,...s]}}function GMe(n){let t=0,e=0;const i=Array.from(n.getChildren()).filter(s=>s.name==="th"||s.name==="td");for(;e<i.length&&i[e].name==="th";){const s=i[e],r=parseInt(s.getAttribute("colspan")||"1");t=t+r,e++}return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Yt{constructor(t,e={}){b(this,"_table");b(this,"_startRow");b(this,"_endRow");b(this,"_startColumn");b(this,"_endColumn");b(this,"_includeAllSlots");b(this,"_skipRows");b(this,"_row");b(this,"_rowIndex");b(this,"_column");b(this,"_cellIndex");b(this,"_spannedCells");b(this,"_nextCellAtColumn");b(this,"_jumpedToStartRow",!1);this._table=t,this._startRow=e.row!==void 0?e.row:e.startRow||0,this._endRow=e.row!==void 0?e.row:e.endRow,this._startColumn=e.column!==void 0?e.column:e.startColumn||0,this._endColumn=e.column!==void 0?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(i.cell,i.row,i.column));else{const s=t.getChild(this._cellIndex);if(!s)return this._advanceToNextRow();const r=parseInt(s.getAttribute("colspan")||"1"),o=parseInt(s.getAttribute("rowspan")||"1");(r>1||o>1)&&this._recordSpans(s,o,r),this._shouldSkipSlot()||(e=this._formatOutValue(s)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,e=this._row,i=this._column){return{done:!1,value:new YMe(this,t,e,i)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,i=this._column<this._startColumn,s=this._endColumn!==void 0&&this._column>this._endColumn;return t||e||i||s}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,i){const s={cell:t,row:this._row,column:this._column};for(let r=this._row;r<this._row+e;r++)for(let o=this._column;o<this._column+i;o++)(r!=this._row||o!=this._column)&&this._markSpannedCell(r,o,s)}_markSpannedCell(t,e,i){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let e=this._startRow;!this._jumpedToStartRow;e--)t===this._getRowLength(e)&&(this._row=e,this._rowIndex=e,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}}class YMe{constructor(t,e,i,s){b(this,"cell");b(this,"row");b(this,"column");b(this,"cellAnchorRow");b(this,"cellAnchorColumn");b(this,"_cellIndex");b(this,"_rowIndex");b(this,"_table");this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=i,this.cellAnchorColumn=s,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function SM(n,t){return(e,{writer:i})=>{const s=e.getAttribute("headingRows")||0,r=i.createContainerElement("table",null,[]),o=i.createContainerElement("figure",{class:"table"},r);s>0&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("thead",null,i.createSlot(a=>a.is("element","tableRow")&&a.index<s))),s<n.getRows(e)&&i.insert(i.createPositionAt(r,"end"),i.createContainerElement("tbody",null,i.createSlot(a=>a.is("element","tableRow")&&a.index>=s)));for(const{positionOffset:a,filter:l}of t.additionalSlots)i.insert(i.createPositionAt(r,a),i.createSlot(l));return i.insert(i.createPositionAt(r,"after"),i.createSlot(a=>a.is("element","tableRow")?!1:!t.additionalSlots.some(({filter:l})=>l(a)))),t.asWidget?KMe(o,i):o}}function ZMe(){return(n,{writer:t})=>n.isEmpty?t.createEmptyElement("tr"):t.createContainerElement("tr")}function AM(n={}){return(t,{writer:e})=>{const i=t.parent,s=i.parent,r=s.getChildIndex(i),o=new Yt(s,{row:r}),a=s.getAttribute("headingRows")||0,l=s.getAttribute("headingColumns")||0;let u=null;for(const h of o)if(h.cell==t){const p=h.row<a||h.column<l?"th":"td";u=n.asWidget?N5(e.createEditableElement(p),e):e.createContainerElement(p);break}return u}}function IM(n={}){return(t,{writer:e})=>{if(!t.parent.is("element","tableCell")||!c$(t))return null;if(n.asWidget)return e.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=e.createContainerElement("p");return e.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function c$(n){return n.parent.childCount==1&&!XMe(n)}function KMe(n,t){return t.setCustomProperty("table",!0,n),al(n,t,{hasSelectionHandle:!0})}function XMe(n){for(const t of n.getAttributeKeys())if(!(t.startsWith("selection:")||t=="htmlEmptyBlock"))return!0;return!1}class JMe extends je{refresh(){const t=this.editor.model,e=t.document.selection,i=t.schema;this.isEnabled=QMe(e,i)}execute(t={}){const e=this.editor,i=e.model,s=e.plugins.get("TableUtils"),r=e.config.get("table.defaultHeadings.rows"),o=e.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&r&&(t.headingRows=r),t.headingColumns===void 0&&o&&(t.headingColumns=o),i.change(a=>{const l=s.createTable(a,t);i.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function QMe(n,t){const e=n.getFirstPosition().parent,i=e===e.root?e:e.parent;return t.checkChild(i,"table")}class RM extends je{constructor(e,i={}){super(e);b(this,"order");this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=s}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),r=this.order==="above",o=s.getSelectionAffectedTableCells(i),a=s.getRowIndexes(o),l=r?a.first:a.last,u=o[0].findAncestor("table");s.insertRows(u,{at:r?l:l+1,copyStructureFromAbove:!r})}}class PM extends je{constructor(e,i={}){super(e);b(this,"order");this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=s}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),r=this.order==="left",o=s.getSelectionAffectedTableCells(i),a=s.getColumnIndexes(o),l=r?a.first:a.last,u=o[0].findAncestor("table");s.insertColumns(u,{columns:1,at:r?l:l+1})}}class OM extends je{constructor(e,i={}){super(e);b(this,"direction");this.direction=i.direction||"horizontally"}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function u$(n,t,e){const{startRow:i,startColumn:s,endRow:r,endColumn:o}=t,a=e.createElement("table"),l=r-i+1;for(let h=0;h<l;h++)e.insertElement("tableRow",a,"end");const u=[...new Yt(n,{startRow:i,endRow:r,startColumn:s,endColumn:o,includeAllSlots:!0})];for(const{row:h,column:m,cell:p,isAnchor:v,cellAnchorRow:_,cellAnchorColumn:k}of u){const C=h-i,T=a.getChild(C);if(!v)(_<i||k<s)&&Zu(e,e.createPositionAt(T,"end"));else{const S=e.cloneElement(p);e.append(S,T),g$(S,h,m,r,o,e)}}return eDe(a,n,i,s,e),a}function d$(n,t,e=0){const i=[],s=new Yt(n,{startRow:e,endRow:t-1});for(const r of s){const{row:o,cellHeight:a}=r,l=o+a-1;o<t&&t<=l&&i.push(r)}return i}function h$(n,t,e){const i=n.parent,s=i.parent,r=i.index,o=parseInt(n.getAttribute("rowspan")),a=t-r,l={},u=o-a;u>1&&(l.rowspan=u);const h=parseInt(n.getAttribute("colspan")||"1");h>1&&(l.colspan=h);const m=r,p=m+a,v=[...new Yt(s,{startRow:m,endRow:p,includeAllSlots:!0})];let _=null,k;for(const C of v){const{row:T,column:S,cell:I}=C;I===n&&k===void 0&&(k=S),k!==void 0&&k===S&&T===p&&(_=Zu(e,C.getPositionBefore(),l))}return jn("rowspan",a,n,e),_}function f$(n,t){const e=[],i=new Yt(n);for(const s of i){const{column:r,cellWidth:o}=s,a=r+o-1;r<t&&t<=a&&e.push(s)}return e}function m$(n,t,e,i){const s=parseInt(n.getAttribute("colspan")),r=e-t,o={},a=s-r;a>1&&(o.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const u=Zu(i,i.createPositionAfter(n),o);return jn("colspan",r,n,i),u}function g$(n,t,e,i,s,r){const o=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(e+o-1>s){const h=s-e+1;jn("colspan",h,n,r,1)}if(t+a-1>i){const h=i-t+1;jn("rowspan",h,n,r,1)}}function eDe(n,t,e,i,s){const r=parseInt(t.getAttribute("headingRows")||"0");if(r>0){const a=r-e;jn("headingRows",a,n,s,0)}const o=parseInt(t.getAttribute("headingColumns")||"0");if(o>0){const a=o-i;jn("headingColumns",a,n,s,0)}}function UE(n,t){const e=t.getColumns(n),i=new Array(e).fill(0);for(const{column:r}of new Yt(n))i[r]++;const s=i.reduce((r,o,a)=>o?r:[...r,a],[]);if(s.length>0){const r=s[s.length-1];return t.removeColumns(n,{at:r}),!0}return!1}function HE(n,t){const e=[],i=t.getRows(n);for(let s=0;s<i;s++)n.getChild(s).isEmpty&&e.push(s);if(e.length>0){const s=e[e.length-1];return t.removeRows(n,{at:s}),!0}return!1}function oA(n,t){UE(n,t)||HE(n,t)}function p$(n,t){const e=Array.from(new Yt(n,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(e.every(({cellHeight:r})=>r===1))return t.lastRow;const s=e[0].cellHeight-1;return t.lastRow+s}function b$(n,t){const e=Array.from(new Yt(n,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(e.every(({cellWidth:r})=>r===1))return t.lastColumn;const s=e[0].cellWidth-1;return t.lastColumn+s}class t1 extends je{constructor(e,i){super(e);b(this,"direction");b(this,"isHorizontal");this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,r=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],o=this.value,a=this.direction;e.change(l=>{const u=a=="right"||a=="down",h=u?r:o,m=u?o:r,p=m.parent;iDe(m,h,l);const v=this.isHorizontal?"colspan":"rowspan",_=parseInt(r.getAttribute(v)||"1"),k=parseInt(o.getAttribute(v)||"1");l.setAttribute(v,_+k,h),l.setSelection(l.createRangeIn(h));const C=this.editor.plugins.get("TableUtils"),T=p.findAncestor("table");oA(T,C)})}_getMergeableCell(){const i=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),r=s.getTableCellsContainingSelection(i.selection)[0];if(!r)return;const o=this.isHorizontal?tDe(r,this.direction,s):nDe(r,this.direction,s);if(!o)return;const a=this.isHorizontal?"rowspan":"colspan",l=parseInt(r.getAttribute(a)||"1");if(parseInt(o.getAttribute(a)||"1")===l)return o}}function tDe(n,t,e){const s=n.parent.parent,r=t=="right"?n.nextSibling:n.previousSibling,o=(s.getAttribute("headingColumns")||0)>0;if(!r)return;const a=t=="right"?n:r,l=t=="right"?r:n,{column:u}=e.getCellLocation(a),{column:h}=e.getCellLocation(l),m=parseInt(a.getAttribute("colspan")||"1"),p=jE(e,a),v=jE(e,l);return o&&p!=v?void 0:u+m===h?r:void 0}function nDe(n,t,e){const i=n.parent,s=i.parent,r=s.getChildIndex(i);if(t=="down"&&r===e.getRows(s)-1||t=="up"&&r===0)return null;const o=parseInt(n.getAttribute("rowspan")||"1"),a=s.getAttribute("headingRows")||0,l=t=="down"&&r+o===a,u=t=="up"&&r===a;if(a&&(l||u))return null;const h=parseInt(n.getAttribute("rowspan")||"1"),m=t=="down"?r+h:r,p=[...new Yt(s,{endRow:m})],_=p.find(C=>C.cell===n).column,k=p.find(({row:C,cellHeight:T,column:S})=>S!==_?!1:t=="down"?C===m:m===C+T);return k&&k.cell?k.cell:null}function iDe(n,t,e){MM(n)||(MM(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(n),e.createPositionAt(t,"end"))),e.remove(n)}function MM(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class sDe extends je{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),i=e[0];if(i){const s=i.findAncestor("table"),o=t.getRows(s)-1,a=t.getRowIndexes(e),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),s=e.getRowIndexes(i),r=i[0],o=r.findAncestor("table"),a=e.getCellLocation(r).column;t.change(l=>{const u=s.last-s.first+1;e.removeRows(o,{at:s.first,rows:u});const h=rDe(o,s.first,a,e.getRows(o));l.setSelection(l.createPositionAt(h,0))})}}function rDe(n,t,e,i){const s=n.getChild(Math.min(t,i-1));let r=s.getChild(0),o=0;for(const a of s.getChildren()){if(o>e)return r;r=a,o+=parseInt(a.getAttribute("colspan")||"1")}return r}class oDe extends je{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),i=e[0];if(i){const s=i.findAncestor("table"),r=t.getColumns(s),{first:o,last:a}=t.getColumnIndexes(e);this.isEnabled=a-o<r-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,i]=lDe(this.editor.model.document.selection,t),s=e.parent.parent,r=[...new Yt(s)],o={first:r.find(l=>l.cell===e).column,last:r.find(l=>l.cell===i).column},a=aDe(r,e,i,o);this.editor.model.change(l=>{const u=o.last-o.first+1;t.removeColumns(s,{at:o.first,columns:u}),l.setSelection(l.createPositionAt(a,0))})}}function aDe(n,t,e,i){return parseInt(e.getAttribute("colspan")||"1")>1?e:t.previousSibling||e.nextSibling?e.nextSibling||t.previousSibling:i.first?n.reverse().find(({column:r})=>r<i.first).cell:n.reverse().find(({column:r})=>r>i.last).cell}function lDe(n,t){const e=t.getSelectionAffectedTableCells(n),i=e[0],s=e.pop(),r=[i,s];return i.isBefore(s)?r:r.reverse()}class cDe extends je{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,i=t.getSelectionAffectedTableCells(e.document.selection),s=i.length>0;this.isEnabled=s,this.value=s&&i.every(r=>this._isInHeading(r,r.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),r=s[0].findAncestor("table"),{first:o,last:a}=e.getRowIndexes(s),l=this.value?o:a+1,u=r.getAttribute("headingRows")||0;i.change(h=>{if(l){const m=l>u?u:0,p=d$(r,l,m);for(const{cell:v}of p)h$(v,l,h)}jn("headingRows",l,r,h,0)})}_isInHeading(t,e){const i=parseInt(e.getAttribute("headingRows")||"0");return!!i&&t.parent.index<i}}class uDe extends je{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),s=i.length>0;this.isEnabled=s,this.value=s&&i.every(r=>jE(e,r))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),r=s[0].findAncestor("table"),{first:o,last:a}=e.getColumnIndexes(s),l=this.value?o:a+1;i.change(u=>{if(l){const h=f$(r,l);for(const{cell:m,column:p}of h)m$(m,p,l,u)}jn("headingColumns",l,r,u,0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const dDe=5,$E=40,hDe=2;function fDe(n){const t=new Set;for(const e of n.document.differ.getChanges()){let i=null;switch(e.type){case"insert":i=["table","tableRow","tableCell"].includes(e.name)?e.position:null;break;case"remove":i=["tableRow","tableCell"].includes(e.name)?e.position:null;break;case"attribute":e.range.start.nodeAfter&&(i=["table","tableRow","tableCell"].includes(e.range.start.nodeAfter.name)?e.range.start:null);break}if(!i)continue;const s=i.nodeAfter&&i.nodeAfter.is("element","table")?i.nodeAfter:i.findAncestor("table");for(const r of n.createRangeOn(s).getItems())r.is("element","table")&&s0(r)&&t.add(r)}return t}function mDe(n,t){return $E*100/v$(n,t)}function v$(n,t){const e=DM(n,"tbody",t)||DM(n,"thead",t),i=t.editing.view.domConverter.mapViewToDom(e);return WE(i)}function DM(n,t,e){return[...[...e.editing.mapper.toViewElement(n).getChildren()].find(r=>r.is("element","table")).getChildren()].find(r=>r.is("element",t))}function WE(n){const t=Pe.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth):parseFloat(t.width)}function gDe(n,t){const e=t.getCellLocation(n).column,i=n.getAttribute("colspan")||1;return{leftEdge:e,rightEdge:e+i-1}}function xs(n){const t=Math.pow(10,hDe),e=typeof n=="number"?n:parseFloat(n);return Math.round(e*t)/t}function pDe(n,t,e){return n<=t?xs(t):n>=e?xs(e):xs(n)}function bDe(n,t){return Array(n).fill(t)}function mp(n){return n.map(t=>typeof t=="number"?t:parseFloat(t)).filter(t=>!Number.isNaN(t)).reduce((t,e)=>t+e,0)}function aA(n){const t=n.map(s=>s==="auto"?s:parseFloat(s.replace("%","")));let e=vDe(t);const i=mp(e);return i!==100&&(e=e.map(s=>xs(s*100/i)).map((s,r,o)=>{if(!(r===o.length-1))return s;const l=mp(o);return xs(s+100-l)})),e.map(s=>s+"%")}function vDe(n){const t=n.filter(s=>s==="auto").length;if(t===0)return n.map(s=>xs(s));const e=mp(n),i=Math.max((100-e)/t,dDe);return n.map(s=>s==="auto"?i:s).map(s=>xs(s))}function wDe(n){const t=Pe.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseInt(t.width):parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderWidth)}function w$(n,t,e,i){for(let s=0;s<Math.max(e.length,n.length);s++){const r=n[s],o=e[s];o?r?i.setAttribute("columnWidth",o,r):i.appendElement("tableColumn",{columnWidth:o},t):i.remove(r)}}function s0(n){if(n.is("element","tableColumnGroup"))return n;const t=n.getChildren();return Array.from(t).find(e=>e.is("element","tableColumnGroup"))}function r0(n){const t=s0(n);return t?Array.from(t.getChildren()):[]}function yDe(n){return r0(n).map(t=>t.getAttribute("columnWidth"))}function _De(n,t){return r0(n).reduce((i,s)=>{const r=s.getAttribute("columnWidth"),o=s.getAttribute("colSpan");if(!o)return i.push(r),i;for(let a=0;a<o;a++)i.push(r);return t.removeAttribute("colSpan",s),i},[])}class Ti extends F{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,i=e.parent,s=i.getChildIndex(e),r=new Yt(i,{row:s});for(const{cell:o,row:a,column:l}of r)if(o===t)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(t,e){const i=t.createElement("table"),s=e.rows||2,r=e.columns||2;return zk(t,i,0,s,r),e.headingRows&&jn("headingRows",Math.min(e.headingRows,s),i,t,0),e.headingColumns&&jn("headingColumns",Math.min(e.headingColumns,r),i,t,0),i}insertRows(t,e={}){const i=this.editor.model,s=e.at||0,r=e.rows||1,o=e.copyStructureFromAbove!==void 0,a=e.copyStructureFromAbove?s-1:s,l=this.getRows(t),u=this.getColumns(t);if(s>l)throw new L("tableutils-insertrows-insert-out-of-range",this,{options:e});i.change(h=>{const m=t.getAttribute("headingRows")||0;if(m>s&&jn("headingRows",m+r,t,h,0),!o&&(s===0||s===l)){zk(h,t,s,r,u);return}const p=o?Math.max(s,a):s,v=new Yt(t,{endRow:p}),_=new Array(u).fill(1);for(const{row:k,column:C,cellHeight:T,cellWidth:S,cell:I}of v){const P=k+T-1,O=k<s&&s<=P,D=k<=a&&a<=P;O?(h.setAttribute("rowspan",T+r,I),_[C]=-S):o&&D&&(_[C]=S)}for(let k=0;k<r;k++){const C=h.createElement("tableRow");h.insert(C,t,s);for(let T=0;T<_.length;T++){const S=_[T],I=h.createPositionAt(C,"end");S>0&&Zu(h,I,S>1?{colspan:S}:void 0),T+=Math.abs(S)-1}}})}insertColumns(t,e={}){const i=this.editor.model,s=e.at||0,r=e.columns||1;i.change(o=>{const a=t.getAttribute("headingColumns");s<a&&o.setAttribute("headingColumns",a+r,t);const l=this.getColumns(t);if(s===0||l===s){for(const h of t.getChildren())h.is("element","tableRow")&&lh(r,o,o.createPositionAt(h,s?"end":0));return}const u=new Yt(t,{column:s,includeAllSlots:!0});for(const h of u){const{row:m,cell:p,cellAnchorColumn:v,cellAnchorRow:_,cellWidth:k,cellHeight:C}=h;if(v<s){o.setAttribute("colspan",k+r,p);const T=_+C-1;for(let S=m;S<=T;S++)u.skipRow(S)}else lh(r,o,h.getPositionBefore())}})}removeRows(t,e){const i=this.editor.model,s=e.rows||1,r=this.getRows(t),o=e.at,a=o+s-1;if(a>r-1)throw new L("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});i.change(l=>{const u={first:o,last:a},{cellsToMove:h,cellsToTrim:m}=CDe(t,u);if(h.size){const p=a+1;EDe(t,p,h,l)}for(let p=a;p>=o;p--)l.remove(t.getChild(p));for(const{rowspan:p,cell:v}of m)jn("rowspan",p,v,l);kDe(t,u,l),UE(t,this)||HE(t,this)})}removeColumns(t,e){const i=this.editor.model,s=e.at,r=e.columns||1,o=e.at+r-1;i.change(a=>{xDe(t,{first:s,last:o},a);const l=r0(t);for(let u=o;u>=s;u--){for(const{cell:h,column:m,cellWidth:p}of[...new Yt(t)])m<=u&&p>1&&m+p>u?jn("colspan",p-1,h,a):m===u&&a.remove(h);if(l[u]){const h=u===0?l[1]:l[u-1],m=parseFloat(l[u].getAttribute("columnWidth")),p=parseFloat(h.getAttribute("columnWidth"));a.remove(l[u]),a.setAttribute("columnWidth",m+p+"%",h)}}HE(t,this)||UE(t,this)})}splitCellVertically(t,e=2){const i=this.editor.model,r=t.parent.parent,o=parseInt(t.getAttribute("rowspan")||"1"),a=parseInt(t.getAttribute("colspan")||"1");i.change(l=>{if(a>1){const{newCellsSpan:u,updatedSpan:h}=VM(a,e);jn("colspan",h,t,l);const m={};u>1&&(m.colspan=u),o>1&&(m.rowspan=o);const p=a>e?e-1:a-1;lh(p,l,l.createPositionAfter(t),m)}if(a<e){const u=e-a,h=[...new Yt(r)],{column:m}=h.find(({cell:k})=>k===t),p=h.filter(({cell:k,cellWidth:C,column:T})=>{const S=k!==t&&T===m,I=T<m&&T+C>m;return S||I});for(const{cell:k,cellWidth:C}of p)l.setAttribute("colspan",C+u,k);const v={};o>1&&(v.rowspan=o),lh(u,l,l.createPositionAfter(t),v);const _=r.getAttribute("headingColumns")||0;_>m&&jn("headingColumns",_+u,r,l)}})}splitCellHorizontally(t,e=2){const i=this.editor.model,s=t.parent,r=s.parent,o=r.getChildIndex(s),a=parseInt(t.getAttribute("rowspan")||"1"),l=parseInt(t.getAttribute("colspan")||"1");i.change(u=>{if(a>1){const h=[...new Yt(r,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:m,updatedSpan:p}=VM(a,e);jn("rowspan",p,t,u);const{column:v}=h.find(({cell:C})=>C===t),_={};m>1&&(_.rowspan=m),l>1&&(_.colspan=l);let k=0;for(const C of h){const{column:T,row:S}=C,I=S>=o+p,P=T===v;k>=m&&P&&(k=0),I&&P&&(k||lh(1,u,C.getPositionBefore(),_),k++)}}if(a<e){const h=e-a,m=[...new Yt(r,{startRow:0,endRow:o})];for(const{cell:_,cellHeight:k,row:C}of m)if(_!==t&&C+k>o){const T=k+h;u.setAttribute("rowspan",T,_)}const p={};l>1&&(p.colspan=l),zk(u,r,o+1,h,1,p);const v=r.getAttribute("headingRows")||0;v>o&&jn("headingRows",v+h,r,u)}})}getColumns(t){return[...t.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,s)=>{const r=parseInt(s.getAttribute("colspan")||"1");return i+r},0)}getRows(t){return Array.from(t.getChildren()).reduce((e,i)=>i.is("element","tableRow")?e+1:e,0)}createTableWalker(t,e={}){return new Yt(t,e)}getSelectedTableCells(t){const e=[];for(const i of this.sortRanges(t.getRanges())){const s=i.getContainedElement();s&&s.is("element","tableCell")&&e.push(s)}return e}getTableCellsContainingSelection(t){const e=[];for(const i of t.getRanges()){const s=i.start.findAncestor("tableCell");s&&e.push(s)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(i=>i.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),s=[...new Yt(e)].filter(r=>t.includes(r.cell)).map(r=>r.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,i=new Set;let s=0;for(const o of t){const{row:a,column:l}=this.getCellLocation(o),u=parseInt(o.getAttribute("rowspan"))||1,h=parseInt(o.getAttribute("colspan"))||1;e.add(a),i.add(l),u>1&&e.add(a+u-1),h>1&&i.add(l+h-1),s+=u*h}return SDe(e,i)==s}sortRanges(t){return Array.from(t).sort(TDe)}_getFirstLastIndexesObject(t){const e=t.sort((r,o)=>r-o),i=e[0],s=e[e.length-1];return{first:i,last:s}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),i=this.getRowIndexes(t),s=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,s))return!1;const r=this.getColumnIndexes(t),o=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,o)}_areIndexesInSameSection({first:t,last:e},i){const s=t<i,r=e<i;return s===r}}function zk(n,t,e,i,s,r={}){for(let o=0;o<i;o++){const a=n.createElement("tableRow");n.insert(a,t,e),lh(s,n,n.createPositionAt(a,"end"),r)}}function lh(n,t,e,i={}){for(let s=0;s<n;s++)Zu(t,e,i)}function VM(n,t){if(n<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(n/t),i=n-e*t+e;return{newCellsSpan:e,updatedSpan:i}}function xDe(n,t,e){const i=n.getAttribute("headingColumns")||0;if(i&&t.first<i){const s=Math.min(i-1,t.last)-t.first+1;e.setAttribute("headingColumns",i-s,n)}}function kDe(n,{first:t,last:e},i){const s=n.getAttribute("headingRows")||0;if(t<s){const r=e<s?s-(e-t+1):t;jn("headingRows",r,n,i,0)}}function CDe(n,{first:t,last:e}){const i=new Map,s=[];for(const{row:r,column:o,cellHeight:a,cell:l}of new Yt(n,{endRow:e})){const u=r+a-1;if(r>=t&&r<=e&&u>e){const p=e-r+1,v=a-p;i.set(o,{cell:l,rowspan:v})}if(r<t&&u>=t){let p;u>=e?p=e-t+1:p=u-t+1,s.push({cell:l,rowspan:a-p})}}return{cellsToMove:i,cellsToTrim:s}}function EDe(n,t,e,i){const r=[...new Yt(n,{includeAllSlots:!0,row:t})],o=n.getChild(t);let a;for(const{column:l,cell:u,isAnchor:h}of r)if(e.has(l)){const{cell:m,rowspan:p}=e.get(l),v=a?i.createPositionAfter(a):i.createPositionAt(o,0);i.move(i.createRangeOn(m),v),jn("rowspan",p,m,i),a=m}else h&&(a=u)}function TDe(n,t){const e=n.start,i=t.start;return e.isBefore(i)?-1:1}function SDe(n,t){const e=Array.from(n.values()),i=Array.from(t.values()),s=Math.max(...e),r=Math.min(...e),o=Math.max(...i),a=Math.min(...i);return(s-r+1)*(o-a+1)}class ADe extends je{refresh(){const t=this.editor.plugins.get(Ti),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(Ti);t.change(i=>{const s=e.getSelectedTableCells(t.document.selection),r=s.shift(),{mergeWidth:o,mergeHeight:a}=RDe(r,s,e);jn("colspan",o,r,i),jn("rowspan",a,r,i);for(const u of s)IDe(u,r,i);const l=r.findAncestor("table");oA(l,e),i.setSelection(r,"in")})}}function IDe(n,t,e){NM(n)||(NM(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(n),e.createPositionAt(t,"end"))),e.remove(n)}function NM(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function RDe(n,t,e){let i=0,s=0;for(const u of t){const{row:h,column:m}=e.getCellLocation(u);i=LM(u,m,i,"colspan"),s=LM(u,h,s,"rowspan")}const{row:r,column:o}=e.getCellLocation(n),a=i-o,l=s-r;return{mergeWidth:a,mergeHeight:l}}function LM(n,t,e,i){const s=parseInt(n.getAttribute(i)||"1");return Math.max(e,t+s)}class PDe extends je{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(t.document.selection),s=e.getRowIndexes(i),r=i[0].findAncestor("table"),o=[];for(let a=s.first;a<=s.last;a++)for(const l of r.getChild(a).getChildren())o.push(t.createRangeOn(l));t.change(a=>{a.setSelection(o)})}}class ODe extends je{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,i=t.getSelectionAffectedTableCells(e.document.selection),s=i[0],r=i.pop(),o=s.findAncestor("table"),a=t.getCellLocation(s),l=t.getCellLocation(r),u=Math.min(a.column,l.column),h=Math.max(a.column,l.column),m=[];for(const p of new Yt(o,{startColumn:u,endColumn:h}))m.push(e.createRangeOn(p.cell));e.change(p=>{p.setSelection(m)})}}function MDe(n){n.document.registerPostFixer(t=>DDe(t,n))}function DDe(n,t){const e=t.document.differ.getChanges();let i=!1;const s=new Set;for(const r of e){let o=null;r.type=="insert"&&r.name=="table"&&(o=r.position.nodeAfter),(r.type=="insert"||r.type=="remove")&&(r.name=="tableRow"||r.name=="tableCell")&&(o=r.position.findAncestor("table")),FDe(r)&&(o=r.range.start.findAncestor("table")),o&&!s.has(o)&&(i=VDe(o,n)||i,i=NDe(o,n)||i,s.add(o))}return i}function VDe(n,t){let e=!1;const i=LDe(n);if(i.length){e=!0;for(const s of i)jn("rowspan",s.rowspan,s.cell,t,1)}return e}function NDe(n,t){let e=!1;const i=BDe(n),s=[];for(const[l,u]of i.entries())!u&&n.getChild(l).is("element","tableRow")&&s.push(l);if(s.length){e=!0;for(const l of s.reverse())t.remove(n.getChild(l)),i.splice(l,1)}const r=i.filter((l,u)=>n.getChild(u).is("element","tableRow")),o=r[0];if(!r.every(l=>l===o)){const l=r.reduce((u,h)=>h>u?h:u,0);for(const[u,h]of r.entries()){const m=l-h;if(m){for(let p=0;p<m;p++)Zu(t,t.createPositionAt(n.getChild(u),"end"));e=!0}}}return e}function LDe(n){const t=parseInt(n.getAttribute("headingRows")||"0"),e=Array.from(n.getChildren()).reduce((s,r)=>r.is("element","tableRow")?s+1:s,0),i=[];for(const{row:s,cell:r,cellHeight:o}of new Yt(n)){if(o<2)continue;const l=s<t?t:e;if(s+o>l){const u=l-s;i.push({cell:r,rowspan:u})}}return i}function BDe(n){const t=new Array(n.childCount).fill(0);for(const{rowIndex:e}of new Yt(n,{includeAllSlots:!0}))t[e]++;return t}function FDe(n){if(n.type!=="attribute")return!1;const t=n.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zDe(n){n.document.registerPostFixer(t=>jDe(t,n))}function jDe(n,t){const e=t.document.differ.getChanges();let i=!1;for(const s of e)s.type=="insert"&&s.name=="table"&&(i=UDe(s.position.nodeAfter,n)||i),s.type=="insert"&&s.name=="tableRow"&&(i=y$(s.position.nodeAfter,n)||i),s.type=="insert"&&s.name=="tableCell"&&(i=qE(s.position.nodeAfter,n)||i),(s.type=="remove"||s.type=="insert")&&HDe(s)&&(i=qE(s.position.parent,n)||i);return i}function UDe(n,t){let e=!1;for(const i of n.getChildren())i.is("element","tableRow")&&(e=y$(i,t)||e);return e}function y$(n,t){let e=!1;for(const i of n.getChildren())e=qE(i,t)||e;return e}function qE(n,t){if(n.childCount==0)return t.insertElement("paragraph",n),!0;const e=Array.from(n.getChildren()).filter(i=>i.is("$text"));for(const i of e)t.wrap(t.createRangeOn(i),"paragraph");return!!e.length}function HDe(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}function $De(n,t){const e=n.document.differ;for(const i of e.getChanges()){let s,r=!1;if(i.type=="attribute"){const u=i.range.start.nodeAfter;if(!u||!u.is("element","table")||i.attributeKey!="headingRows"&&i.attributeKey!="headingColumns")continue;s=u,r=i.attributeKey=="headingRows"}else(i.name=="tableRow"||i.name=="tableCell")&&(s=i.position.findAncestor("table"),r=i.name=="tableRow");if(!s)continue;const o=s.getAttribute("headingRows")||0,a=s.getAttribute("headingColumns")||0,l=new Yt(s);for(const u of l){const m=u.row<o||u.column<a?"th":"td",p=t.mapper.toViewElement(u.cell);p&&p.is("element")&&p.name!=m&&t.reconvertItem(r?u.cell.parent:u.cell)}}}function WDe(n,t){const e=n.document.differ,i=new Set;for(const s of e.getChanges()){const r=s.type=="attribute"?s.range.start.parent:s.position.parent;r.is("element","tableCell")&&i.add(r)}for(const s of i.values()){const r=Array.from(s.getChildren()).filter(o=>qDe(o,t.mapper));for(const o of r)t.reconvertItem(o)}}function qDe(n,t){if(!n.is("element","paragraph"))return!1;const e=t.toViewElement(n);return e?c$(n)!==e.is("element","span"):!1}class o0 extends F{constructor(e){super(e);b(this,"_additionalSlots");this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ti]}init(){const e=this.editor,i=e.model,s=i.schema,r=e.conversion,o=e.plugins.get(Ti);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add(UMe()),r.for("upcast").add(HMe()),r.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SM(o,{asWidget:!0,additionalSlots:this._additionalSlots})}),r.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SM(o,{additionalSlots:this._additionalSlots})}),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add($Me()),r.for("downcast").elementToElement({model:"tableRow",view:ZMe()}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(TM("td")),r.for("upcast").add(TM("th")),r.for("editingDowncast").elementToElement({model:"tableCell",view:AM({asWidget:!0})}),r.for("dataDowncast").elementToElement({model:"tableCell",view:AM()}),r.for("editingDowncast").elementToElement({model:"paragraph",view:IM({asWidget:!0}),converterPriority:"high"}),r.for("dataDowncast").elementToElement({model:"paragraph",view:IM(),converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:BM("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:BM("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new JMe(e)),e.commands.add("insertTableRowAbove",new RM(e,{order:"above"})),e.commands.add("insertTableRowBelow",new RM(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new PM(e,{order:"left"})),e.commands.add("insertTableColumnRight",new PM(e,{order:"right"})),e.commands.add("removeTableRow",new sDe(e)),e.commands.add("removeTableColumn",new oDe(e)),e.commands.add("splitTableCellVertically",new OM(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new OM(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new ADe(e)),e.commands.add("mergeTableCellRight",new t1(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new t1(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new t1(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new t1(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new uDe(e)),e.commands.add("setTableRowHeader",new cDe(e)),e.commands.add("selectTableRow",new PDe(e)),e.commands.add("selectTableColumn",new ODe(e)),MDe(i),zDe(i),this.listenTo(i.document,"change:data",()=>{$De(i,e.editing),WDe(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function BM(n){return t=>{const e=parseInt(t.getAttribute(n));return Number.isNaN(e)||e<=0?null:e}}class FM extends ye{constructor(e){super(e);b(this,"items");b(this,"keystrokes");b(this,"focusTracker");const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Vt,this.focusTracker=new Ct,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,r)=>`${r}  ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,r)=>{const{row:o,column:a}=r.target.dataset;this.items.get((parseInt(o,10)-1)*10+(parseInt(a,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,r,o)=>{if(!o)return;const{row:a,column:l}=o.dataset;this.set({rows:parseInt(a),columns:parseInt(l)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),wf({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((s,r)=>{const o=Math.floor(r/10),a=r%10,l=o<e&&a<i;s.set("isOn",l)})}_createGridButton(e,i,s,r){const o=new Le(e);return o.set({label:r,class:"ck-insert-table-dropdown-grid-box"}),o.extendTemplate({attributes:{"data-row":i,"data-column":s}}),o}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const s=Math.floor(i/10),r=i%10,o=`${s+1}  ${r+1}`;e.push(this._createGridButton(this.locale,s+1,r+1,o))}return this.createCollection(e)}}var GDe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',YDe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',ZDe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class KDe extends F{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t,s=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",r=>{const o=t.commands.get("insertTable"),a=Wn(r);a.bind("isEnabled").to(o),a.buttonView.set({icon:me.table,label:e("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new FM(r),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{t.execute("insertTable",{rows:l.rows,columns:l.columns}),t.editing.view.focus()}))}),a}),t.ui.componentFactory.add("menuBar:insertTable",r=>{const o=t.commands.get("insertTable"),a=new Yi(r),l=new FM(r);return l.delegate("execute").to(a),a.on("change:isOpen",(u,h,m)=>{m||l.reset()}),l.on("execute",()=>{t.execute("insertTable",{rows:l.rows,columns:l.columns}),t.editing.view.focus()}),a.buttonView.set({label:e("Table"),icon:me.table}),a.panelView.children.add(l),a.bind("isEnabled").to(o),a}),t.ui.componentFactory.add("tableColumn",r=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),GDe,o,r)}),t.ui.componentFactory.add("tableRow",r=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),YDe,o,r)}),t.ui.componentFactory.add("mergeTableCells",r=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),ZDe,o,r)})}_prepareDropdown(t,e,i,s){const r=this.editor,o=Wn(s),a=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:t,icon:e,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(u=>u)),this.listenTo(o,"execute",l=>{r.execute(l.source.commandName),l.source instanceof Vu||r.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(t,e,i,s){const r=this.editor,o=Wn(s,Wu),a="mergeTableCells",l=r.commands.get(a),u=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...u],"isEnabled",(...h)=>h.some(m=>m)),this.listenTo(o.buttonView,"execute",()=>{r.execute(a),r.editing.view.focus()}),this.listenTo(o,"execute",h=>{r.execute(h.source.commandName),r.editing.view.focus()}),o}_fillDropdownWithListOptions(t,e){const i=this.editor,s=[],r=new kn;for(const o of e)XDe(o,i,s,r);return ro(t,r),s}}function XDe(n,t,e,i){if(n.type==="button"||n.type==="switchbutton"){const s=n.model=new wr(n.model),{commandName:r,bindIsOn:o}=n.model,a=t.commands.get(r);e.push(a),s.set({commandName:r}),s.bind("isEnabled").to(a),o&&s.bind("isOn").to(a,"value"),s.set({withText:!0})}i.add(n)}class pu extends F{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[Ti,Ti]}init(){const t=this.editor,e=t.model,i=t.editing.view;this.listenTo(e,"deleteContent",(s,r)=>this._handleDeleteContent(s,r),{priority:"high"}),this.listenTo(i.document,"insertText",(s,r)=>this._handleInsertTextEvent(s,r),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(Ti),e=this.editor.model.document.selection,i=t.getSelectedTableCells(e);return i.length==0?null:i}getSelectionAsFragment(){const t=this.editor.plugins.get(Ti),e=this.getSelectedTableCells();return e?this.editor.model.change(i=>{const s=i.createDocumentFragment(),{first:r,last:o}=t.getColumnIndexes(e),{first:a,last:l}=t.getRowIndexes(e),u=e[0].findAncestor("table");let h=l,m=o;if(t.isSelectionRectangular(e)){const _={firstColumn:r,lastColumn:o,firstRow:a,lastRow:l};h=p$(u,_),m=b$(u,_)}const v=u$(u,{startRow:a,startColumn:r,endRow:h,endColumn:m},i);return i.insert(v,s,0),s}):null}setCellSelection(t,e){const i=this._getCellsToSelect(t,e);this.editor.model.change(s=>{s.setSelection(i.cells.map(r=>s.createRangeOn(r)),{backward:i.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const t=this.editor.model.document.selection,i=Qt(t.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(s=>s.on("selection",(r,o,a)=>{const l=a.writer;i(l);const u=this.getSelectedTableCells();if(!u)return;for(const m of u){const p=a.mapper.toViewElement(m);l.addClass("ck-editor__editable_selected",p),e.add(p)}const h=a.mapper.toViewElement(u[u.length-1]);l.setSelection(h,0)},{priority:"lowest"}));function i(s){for(const r of e)s.removeClass("ck-editor__editable_selected",r);e.clear()}}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(i=>{const s=i.createPositionAt(e[0],0),r=t.model.schema.getNearestSelectionRange(s);i.setSelection(r)})}})}_handleDeleteContent(t,e){const i=this.editor.plugins.get(Ti),s=e[0],r=e[1],o=this.editor.model,a=!r||r.direction=="backward",l=i.getSelectedTableCells(s);l.length&&(t.stop(),o.change(u=>{const h=l[a?l.length-1:0];o.change(p=>{for(const v of l)o.deleteContent(p.createSelection(v,"in"))});const m=o.schema.getNearestSelectionRange(u.createPositionAt(h,0));s.is("documentSelection")?u.setSelection(m):s.setTo(m)}))}_handleInsertTextEvent(t,e){const i=this.editor,s=this.getSelectedTableCells();if(!s)return;const r=i.editing.view,o=i.editing.mapper,a=s.map(l=>r.createRangeOn(o.toViewElement(l)));e.selection=r.createSelection(a)}_getCellsToSelect(t,e){const i=this.editor.plugins.get("TableUtils"),s=i.getCellLocation(t),r=i.getCellLocation(e),o=Math.min(s.row,r.row),a=Math.max(s.row,r.row),l=Math.min(s.column,r.column),u=Math.max(s.column,r.column),h=new Array(a-o+1).fill(null).map(()=>[]),m={startRow:o,endRow:a,startColumn:l,endColumn:u};for(const{row:_,cell:k}of new Yt(t.findAncestor("table"),m))h[_-o].push(k);const p=r.row<s.row,v=r.column<s.column;return p&&h.reverse(),v&&h.forEach(_=>_.reverse()),{cells:h.flat(),backward:p||v}}}class JDe extends F{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[mg,Ts,pu,Ti]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(i,s)=>this._onCopyCut(i,s)),this.listenTo(e,"cut",(i,s)=>this._onCopyCut(i,s)),this.listenTo(t.model,"insertContent",(i,[s,r])=>this._onInsertContent(i,s,r),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const i=this.editor.editing.view,s=this.editor.plugins.get(pu),r=this.editor.plugins.get(mg);s.getSelectedTableCells()&&(t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)||(e.preventDefault(),t.stop(),this.editor.model.enqueueChange({isUndoable:t.name==="cut"},()=>{const o=r._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,()=>s.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:this.editor.data.toView(o),method:t.name})})))}_onInsertContent(t,e,i){if(i&&!i.is("documentSelection"))return;const s=this.editor.model,r=this.editor.plugins.get(Ti),o=this.editor.plugins.get(mg),a=this.getTableIfOnlyTableInContent(e,s);if(!a)return;const l=r.getSelectionAffectedTableCells(s.document.selection);if(!l.length){oA(a,r);return}t.stop(),e.is("documentFragment")?o._pasteMarkersIntoTransformedElement(e.markers,u=>this._replaceSelectedCells(a,l,u)):this.editor.model.change(u=>{this._replaceSelectedCells(a,l,u)})}_replaceSelectedCells(t,e,i){const s=this.editor.plugins.get(Ti),r={width:s.getColumns(t),height:s.getRows(t)},o=QDe(e,r,i,s),a=o.lastRow-o.firstRow+1,l=o.lastColumn-o.firstColumn+1,u={startRow:0,startColumn:0,endRow:Math.min(a,r.height)-1,endColumn:Math.min(l,r.width)-1};t=u$(t,u,i);const h=e[0].findAncestor("table"),m=this._replaceSelectedCellsWithPasted(t,r,h,o,i);if(this.editor.plugins.get("TableSelection").isEnabled){const p=s.sortRanges(m.map(v=>i.createRangeOn(v)));i.setSelection(p)}else i.setSelection(m[0],0);return h}_replaceSelectedCellsWithPasted(t,e,i,s,r){const{width:o,height:a}=e,l=tVe(t,o,a),u=[...new Yt(i,{startRow:s.firstRow,endRow:s.lastRow,startColumn:s.firstColumn,endColumn:s.lastColumn,includeAllSlots:!0})],h=[];let m;for(const C of u){const{row:T,column:S}=C;S===s.firstColumn&&(m=C.getPositionBefore());const I=T-s.firstRow,P=S-s.firstColumn,O=l[I%a][P%o],D=O?r.cloneElement(O):null,N=this._replaceTableSlotCell(C,D,m,r);N&&(g$(N,T,S,s.lastRow,s.lastColumn,r),h.push(N),m=r.createPositionAfter(N))}const p=parseInt(i.getAttribute("headingRows")||"0"),v=parseInt(i.getAttribute("headingColumns")||"0"),_=s.firstRow<p&&p<=s.lastRow,k=s.firstColumn<v&&v<=s.lastColumn;if(_){const C={first:s.firstColumn,last:s.lastColumn},T=GE(i,p,C,r,s.firstRow);h.push(...T)}if(k){const C={first:s.firstRow,last:s.lastRow},T=YE(i,v,C,r);h.push(...T)}return h}_replaceTableSlotCell(t,e,i,s){const{cell:r,isAnchor:o}=t;return o&&s.remove(r),e?(s.insert(e,i),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const i=e.createRangeIn(t);for(const s of i.getItems())if(s.is("element","table")){const r=e.createRange(i.start,e.createPositionBefore(s));if(e.hasContent(r,{ignoreWhitespaces:!0}))return null;const o=e.createRange(e.createPositionAfter(s),i.end);return e.hasContent(o,{ignoreWhitespaces:!0})?null:s}return null}}function QDe(n,t,e,i){const s=n[0].findAncestor("table"),r=i.getColumnIndexes(n),o=i.getRowIndexes(n),a={firstColumn:r.first,lastColumn:r.last,firstRow:o.first,lastRow:o.last},l=n.length===1;return l&&(a.lastRow+=t.height-1,a.lastColumn+=t.width-1,eVe(s,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(n)?nVe(s,a,e):(a.lastRow=p$(s,a),a.lastColumn=b$(s,a)),a}function eVe(n,t,e,i){const s=i.getColumns(n),r=i.getRows(n);e>s&&i.insertColumns(n,{at:s,columns:e-s}),t>r&&i.insertRows(n,{at:r,rows:t-r})}function tVe(n,t,e){const i=new Array(e).fill(null).map(()=>new Array(t).fill(null));for(const{column:s,row:r,cell:o}of new Yt(n))i[r][s]=o;return i}function nVe(n,t,e){const{firstRow:i,lastRow:s,firstColumn:r,lastColumn:o}=t,a={first:i,last:s},l={first:r,last:o};YE(n,r,a,e),YE(n,o+1,a,e),GE(n,i,l,e),GE(n,s+1,l,e,i)}function GE(n,t,e,i,s=0){return t<1?void 0:d$(n,t,s).filter(({column:a,cellWidth:l})=>_$(a,l,e)).map(({cell:a})=>h$(a,t,i))}function YE(n,t,e,i){return t<1?void 0:f$(n,t).filter(({row:o,cellHeight:a})=>_$(o,a,e)).map(({cell:o,column:a})=>m$(o,a,t,i))}function _$(n,t,e){const i=n+t-1,{first:s,last:r}=e,o=n>=s&&n<=r,a=n<s&&i>=s;return o||a}class iVe extends F{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[pu,Ti]}init(){const t=this.editor,i=t.editing.view.document,s=t.t;this.listenTo(i,"arrowKey",(...r)=>this._onArrowKey(...r),{context:"table"}),this.listenTo(i,"tab",(...r)=>this._handleTabOnSelectedTable(...r),{context:"figure"}),this.listenTo(i,"tab",(...r)=>this._handleTab(...r),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:s("Keystrokes that can be used in a table cell"),keystrokes:[{label:s("Move the selection to the next cell"),keystroke:"Tab"},{label:s("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:s("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:s("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(t,e){const i=this.editor,r=i.model.document.selection.getSelectedElement();!r||!r.is("element","table")||(e.preventDefault(),e.stopPropagation(),t.stop(),i.model.change(o=>{o.setSelection(o.createRangeIn(r.getChild(0).getChild(0)))}))}_handleTab(t,e){const i=this.editor,s=this.editor.plugins.get(Ti),r=this.editor.plugins.get("TableSelection"),o=i.model.document.selection,a=!e.shiftKey;let l=s.getTableCellsContainingSelection(o)[0];if(l||(l=r.getFocusCell()),!l)return;e.preventDefault(),e.stopPropagation(),t.stop();const u=l.parent,h=u.parent,m=h.getChildIndex(u),p=u.getChildIndex(l),v=p===0;if(!a&&v&&m===0){i.model.change(T=>{T.setSelection(T.createRangeOn(h))});return}const _=p===u.childCount-1,k=m===s.getRows(h)-1;if(a&&k&&_&&(i.execute("insertTableRowBelow"),m===s.getRows(h)-1)){i.model.change(T=>{T.setSelection(T.createRangeOn(h))});return}let C;if(a&&_)C=h.getChild(m+1).getChild(0);else if(!a&&v){const T=h.getChild(m-1);C=T.getChild(T.childCount-1)}else C=u.getChild(p+(a?1:-1));i.model.change(T=>{T.setSelection(T.createRangeIn(C))})}_onArrowKey(t,e){const i=this.editor,s=e.keyCode,r=hy(s,i.locale.contentLanguageDirection);this._handleArrowKeys(r,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const i=this.editor.plugins.get(Ti),s=this.editor.plugins.get("TableSelection"),r=this.editor.model,o=r.document.selection,a=["right","down"].includes(t),l=i.getSelectedTableCells(o);if(l.length){let h;return e?h=s.getFocusCell():h=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(h,t,e),!0}const u=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!u)return!1;if(!o.isCollapsed)if(e){if(o.isBackward==a&&!o.containsEntireContent(u))return!1}else{const h=o.getSelectedElement();if(!h||!r.schema.isObject(h))return!1}return this._isSelectionAtCellEdge(o,u,a)?(this._navigateFromCellInDirection(u,t,e),!0):!1}_isSelectionAtCellEdge(t,e,i){const s=this.editor.model,r=this.editor.model.schema,o=i?t.getLastPosition():t.getFirstPosition();if(!r.getLimitElement(o).is("element","tableCell"))return s.createPositionAt(e,i?"end":0).isTouching(o);const a=s.createSelection(o);return s.modifySelection(a,{direction:i?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(t,e,i=!1){const s=this.editor.model,r=t.findAncestor("table"),o=[...new Yt(r,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],u=o.find(({cell:S})=>S==t);let{row:h,column:m}=u;switch(e){case"left":m--;break;case"up":h--;break;case"right":m+=u.cellWidth;break;case"down":h+=u.cellHeight;break}const p=h<0||h>a,v=m<0&&h<=0,_=m>l&&h>=a;if(p||v||_){s.change(S=>{S.setSelection(S.createRangeOn(r))});return}m<0?(m=i?0:l,h--):m>l&&(m=i?l:0,h++);const k=o.find(S=>S.row==h&&S.column==m).cell,C=["right","down"].includes(e),T=this.editor.plugins.get("TableSelection");if(i&&T.isEnabled){const S=T.getAnchorCell()||t;T.setCellSelection(S,k)}else{const S=s.createPositionAt(k,C?0:"end");s.change(I=>{I.setSelection(S)})}}}class x$ extends Wo{constructor(){super(...arguments);b(this,"domEventType",["mousemove","mouseleave"])}onDomEvent(e){this.fire(e.type,e)}}class sVe extends F{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[pu,Ti]}init(){this.editor.editing.view.addObserver(x$),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(Ti);let i=!1;const s=t.plugins.get(pu);this.listenTo(t.editing.view.document,"mousedown",(r,o)=>{const a=t.model.document.selection;if(!this.isEnabled||!s.isEnabled||!o.domEvent.shiftKey)return;const l=s.getAnchorCell()||e.getTableCellsContainingSelection(a)[0];if(!l)return;const u=this._getModelTableCellFromDomEvent(o);u&&zM(l,u)&&(i=!0,s.setCellSelection(l,u),o.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(t.editing.view.document,"selectionChange",r=>{i&&r.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,i,s=!1,r=!1;const o=t.plugins.get(pu);this.listenTo(t.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(l))}),this.listenTo(t.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!e)return;const u=this._getModelTableCellFromDomEvent(l);u&&zM(e,u)&&(i=u,!s&&i!=e&&(s=!0)),s&&(r=!0,o.setCellSelection(e,i),l.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{s=!1,r=!1,e=null,i=null}),this.listenTo(t.editing.view.document,"selectionChange",a=>{r&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,i=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function zM(n,t){return n.parent.parent==t.parent.parent}class rVe extends F{static get requires(){return[o0,KDe,pu,sVe,iVe,JDe,Go]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function k$(n){const t=C$(n);return t||Ry(n)}function C$(n){const t=n.getSelectedElement();return t&&E$(t)?t:null}function Ry(n){const t=n.getFirstPosition();if(!t)return null;let e=t.parent;for(;e;){if(e.is("element")&&E$(e))return e;e=e.parent}return null}function E$(n){return!!n.getCustomProperty("table")&&Un(n)}class oVe extends F{static get requires(){return[Lv]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,i=t.plugins.get(Lv),s=t.config.get("table.contentToolbar"),r=t.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:Ry}),r&&i.register("table",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:C$})}}class aVe extends ye{constructor(e,i){super(e);b(this,"options");b(this,"focusTracker");b(this,"focusCycler");b(this,"_focusables");b(this,"dropdownView");b(this,"inputView");b(this,"keystrokes");b(this,"_stillTyping");this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=i,this.focusTracker=new Ct,this._focusables=new ei,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new Vt,this._stillTyping=!1,this.focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(s,r,o)=>this._setInputValue(o))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(e=>{this.focusTracker.add(e.element),this._focusables.add(e)}),this.keystrokes.listenTo(this.element)}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const e=this.locale,i=e.t,s=this.bindTemplate,r=this._createColorSelector(e),o=Wn(e),a=new ye;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:s.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",s.if("value","ck-hidden",l=>l!="")]}}]}),o.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),o.buttonView.children.add(a),o.buttonView.label=i("Color picker"),o.buttonView.tooltip=!0,o.panelPosition=e.uiLanguageDirection==="rtl"?"se":"sw",o.panelView.children.add(r),o.bind("isEnabled").to(this,"isReadOnly",l=>!l),o.on("change:isOpen",(l,u,h)=>{h&&(r.updateSelectedColors(),r.showColorGridsFragment())}),o}_createInputTextView(){const e=this.locale,i=new nU(e);return i.extendTemplate({on:{blur:i.bindTemplate.to("blur")}}),i.value=this.value,i.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(i),i.on("input",()=>{const s=i.element.value,r=this.options.colorDefinitions.find(o=>s===o.label);this._stillTyping=!0,this.value=r&&r.color||s}),i.on("blur",()=>{this._stillTyping=!1,this._setInputValue(i.element.value)}),i.delegate("input").to(this),i}_createColorSelector(e){const i=e.t,s=this.options.defaultColorValue||"",r=i(s?"Restore default":"Remove color"),o=new O5(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:r,colorPickerLabel:i("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig===!1?!1:{...this.options.colorPickerConfig,hideInput:!0}});o.appendUI(),o.on("execute",(l,u)=>{if(u.source==="colorPickerSaveButton"){this.dropdownView.isOpen=!1;return}this.value=u.value||s,this.fire("input"),u.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)});let a=this.value;return o.on("colorPicker:cancel",()=>{this.value=a,this.fire("input"),this.dropdownView.isOpen=!1}),o.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{a=this.value}),o.bind("selectedColor").to(this,"value"),o}_setInputValue(e){if(!this._stillTyping){const i=jM(e),s=this.options.colorDefinitions.find(r=>i===jM(r.color));s?this.inputView.value=s.label:this.inputView.value=e||""}}}function jM(n){return n.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const lA=n=>n==="";function cA(n){return{none:n("None"),solid:n("Solid"),dotted:n("Dotted"),dashed:n("Dashed"),double:n("Double"),groove:n("Groove"),ridge:n("Ridge"),inset:n("Inset"),outset:n("Outset")}}function T$(n){return n('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function S$(n){return n('The value is invalid. Try "10px" or "2em" or simply "2".')}function Kv(n){return n=n.trim().toLowerCase(),lA(n)||Aj(n)}function pg(n){return n=n.trim(),lA(n)||R$(n)||wy(n)||Ij(n)}function A$(n){return n=n.trim(),lA(n)||R$(n)||wy(n)}function I$(n,t){const e=new kn,i=cA(n.t);for(const s in i){const r={type:"button",model:new wr({_borderStyleValue:s,label:i[s],role:"menuitemradio",withText:!0})};s==="none"?r.model.bind("isOn").to(n,"borderStyle",o=>t==="none"?!o:o===s):r.model.bind("isOn").to(n,"borderStyle",o=>o===s),e.add(r)}return e}function ZE(n){const{view:t,icons:e,toolbar:i,labels:s,propertyName:r,nameToValue:o,defaultValue:a}=n;for(const l in s){const u=new Le(t.locale);u.set({role:"radio",isToggleable:!0,label:s[l],icon:e[l],tooltip:s[l]});const h=o?o(l):l;u.bind("isOn").to(t,r,m=>{let p=m;return m===""&&a&&(p=a),h===p}),u.on("execute",()=>{t[r]=h}),i.items.add(u)}}const Xv=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function Jv(n){return(t,e,i)=>{const s=new aVe(t.locale,{colorDefinitions:lVe(n.colorConfig),columns:n.columns,defaultColorValue:n.defaultColorValue,colorPickerConfig:n.colorPickerConfig});return s.inputView.set({id:e,ariaDescribedById:i}),s.bind("isReadOnly").to(t,"isEnabled",r=>!r),s.bind("hasError").to(t,"errorText",r=>!!r),s.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused").to(s),s}}function R$(n){const t=parseFloat(n);return!Number.isNaN(t)&&n===String(t)}function lVe(n){return n.map(t=>({color:t.model,label:t.label,options:{hasBorder:t.hasBorder}}))}class Ds extends ye{constructor(e,i={}){super(e);b(this,"children");const s=this.bindTemplate;this.set("class",i.class||null),this.children=this.createCollection(),i.children&&i.children.forEach(r=>this.children.add(r)),this.set("_role",null),this.set("_ariaLabelledBy",null),i.labelView&&this.set({_role:"group",_ariaLabelledBy:i.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",s.to("class")],role:s.to("_role"),"aria-labelledby":s.to("_ariaLabelledBy")},children:this.children})}}class cVe extends ye{constructor(e,i){super(e);b(this,"options");b(this,"focusTracker");b(this,"keystrokes");b(this,"children");b(this,"borderStyleDropdown");b(this,"borderWidthInput");b(this,"borderColorInput");b(this,"backgroundInput");b(this,"paddingInput");b(this,"widthInput");b(this,"heightInput");b(this,"horizontalAlignmentToolbar");b(this,"verticalAlignmentToolbar");b(this,"saveButtonView");b(this,"cancelButtonView");b(this,"_focusables");b(this,"_focusCycler");this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=i;const{borderStyleDropdown:s,borderWidthInput:r,borderColorInput:o,borderRowLabel:a}=this._createBorderFields(),{backgroundRowLabel:l,backgroundInput:u}=this._createBackgroundFields(),{widthInput:h,operatorLabel:m,heightInput:p,dimensionsLabel:v}=this._createDimensionFields(),{horizontalAlignmentToolbar:_,verticalAlignmentToolbar:k,alignmentLabel:C}=this._createAlignmentFields();this.focusTracker=new Ct,this.keystrokes=new Vt,this.children=this.createCollection(),this.borderStyleDropdown=s,this.borderWidthInput=r,this.borderColorInput=o,this.backgroundInput=u,this.paddingInput=this._createPaddingField(),this.widthInput=h,this.heightInput=p,this.horizontalAlignmentToolbar=_,this.verticalAlignmentToolbar=k;const{saveButtonView:T,cancelButtonView:S}=this._createActionButtons();this.saveButtonView=T,this.cancelButtonView=S,this._focusables=new ei,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Yp(e,{label:this.t("Cell properties")})),this.children.add(new Ds(e,{labelView:a,children:[a,s,o,r],class:"ck-table-form__border-row"})),this.children.add(new Ds(e,{labelView:l,children:[l,u],class:"ck-table-form__background-row"})),this.children.add(new Ds(e,{children:[new Ds(e,{labelView:v,children:[v,h,m,p],class:"ck-table-form__dimensions-row"}),new Ds(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Ds(e,{labelView:C,children:[C,_,k],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Ds(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),qo({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,i={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},s=Jv({colorConfig:this.options.borderColors,columns:5,defaultColorValue:i.color,colorPickerConfig:this.options.colorPickerConfig}),r=this.locale,o=this.t,a=o("Style"),l=new ks(r);l.text=o("Border");const u=cA(o),h=new _n(r,P5);h.set({label:a,class:"ck-table-form__border-style"}),h.fieldView.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),h.fieldView.buttonView.bind("label").to(this,"borderStyle",v=>u[v||"none"]),h.fieldView.on("execute",v=>{this.borderStyle=v.source._borderStyleValue}),h.bind("isEmpty").to(this,"borderStyle",v=>!v),ro(h.fieldView,I$(this,i.style),{role:"menu",ariaLabel:a});const m=new _n(r,Wi);m.set({label:o("Width"),class:"ck-table-form__border-width"}),m.fieldView.bind("value").to(this,"borderWidth"),m.bind("isEnabled").to(this,"borderStyle",n1),m.fieldView.on("input",()=>{this.borderWidth=m.fieldView.element.value});const p=new _n(r,s);return p.set({label:o("Color"),class:"ck-table-form__border-color"}),p.fieldView.bind("value").to(this,"borderColor"),p.bind("isEnabled").to(this,"borderStyle",n1),p.fieldView.on("input",()=>{this.borderColor=p.fieldView.value}),this.on("change:borderStyle",(v,_,k,C)=>{n1(k)||(this.borderColor="",this.borderWidth=""),n1(C)||(this.borderColor=i.color,this.borderWidth=i.width)}),{borderRowLabel:l,borderStyleDropdown:h,borderColorInput:p,borderWidthInput:m}}_createBackgroundFields(){const e=this.locale,i=this.t,s=new ks(e);s.text=i("Background");const r=Jv({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),o=new _n(e,r);return o.set({label:i("Color"),class:"ck-table-cell-properties-form__background"}),o.fieldView.bind("value").to(this,"backgroundColor"),o.fieldView.on("input",()=>{this.backgroundColor=o.fieldView.value}),{backgroundRowLabel:s,backgroundInput:o}}_createDimensionFields(){const e=this.locale,i=this.t,s=new ks(e);s.text=i("Dimensions");const r=new _n(e,Wi);r.set({label:i("Width"),class:"ck-table-form__dimensions-row__width"}),r.fieldView.bind("value").to(this,"width"),r.fieldView.on("input",()=>{this.width=r.fieldView.element.value});const o=new ye(e);o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const a=new _n(e,Wi);return a.set({label:i("Height"),class:"ck-table-form__dimensions-row__height"}),a.fieldView.bind("value").to(this,"height"),a.fieldView.on("input",()=>{this.height=a.fieldView.element.value}),{dimensionsLabel:s,widthInput:r,operatorLabel:o,heightInput:a}}_createPaddingField(){const e=this.locale,i=this.t,s=new _n(e,Wi);return s.set({label:i("Padding"),class:"ck-table-cell-properties-form__padding"}),s.fieldView.bind("value").to(this,"padding"),s.fieldView.on("input",()=>{this.padding=s.fieldView.element.value}),s}_createAlignmentFields(){const e=this.locale,i=this.t,s=new ks(e),r={left:me.alignLeft,center:me.alignCenter,right:me.alignRight,justify:me.alignJustify,top:me.alignTop,middle:me.alignMiddle,bottom:me.alignBottom};s.text=i("Table cell text alignment");const o=new dc(e),a=e.contentLanguageDirection==="rtl";o.set({isCompact:!0,role:"radiogroup",ariaLabel:i("Horizontal text alignment toolbar")}),ZE({view:this,icons:r,toolbar:o,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:u=>{if(a){if(u==="left")return"right";if(u==="right")return"left"}return u},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const l=new dc(e);return l.set({isCompact:!0,role:"radiogroup",ariaLabel:i("Vertical text alignment toolbar")}),ZE({view:this,icons:r,toolbar:l,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:o,verticalAlignmentToolbar:l,alignmentLabel:s}}_createActionButtons(){const e=this.locale,i=this.t,s=new Le(e),r=new Le(e),o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return s.set({label:i("Save"),icon:me.check,class:"ck-button-save",type:"submit",withText:!0}),s.bind("isEnabled").toMany(o,"errorText",(...a)=>a.every(l=>!l)),r.set({label:i("Cancel"),icon:me.cancel,class:"ck-button-cancel",withText:!0}),r.delegate("execute").to(this,"cancel"),{saveButtonView:s,cancelButtonView:r}}get _horizontalAlignmentLabels(){const e=this.locale,i=this.t,s=i("Align cell text to the left"),r=i("Align cell text to the center"),o=i("Align cell text to the right"),a=i("Justify cell text");return e.uiLanguageDirection==="rtl"?{right:o,center:r,left:s,justify:a}:{left:s,center:r,right:o,justify:a}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function n1(n){return n!=="none"}const KE=[ci.defaultPositions.northArrowSouth,ci.defaultPositions.northArrowSouthWest,ci.defaultPositions.northArrowSouthEast,ci.defaultPositions.southArrowNorth,ci.defaultPositions.southArrowNorthWest,ci.defaultPositions.southArrowNorthEast,ci.defaultPositions.viewportStickyNorth];function P$(n,t){const e=n.plugins.get("ContextualBalloon"),i=n.editing.view.document.selection;let s;t==="cell"?Ry(i)&&(s=M$(n)):k$(i)&&(s=O$(n)),s&&e.updatePosition(s)}function O$(n){const t=n.model.document.selection,e=gu(t),i=n.editing.mapper.toViewElement(e);return{target:n.editing.view.domConverter.mapViewToDom(i),positions:KE}}function M$(n){const t=n.editing.mapper,e=n.editing.view.domConverter,i=n.model.document.selection;if(i.rangeCount>1)return{target:()=>uVe(i.getRanges(),n),positions:KE};const s=D$(i.getFirstPosition()),r=t.toViewElement(s);return{target:e.mapViewToDom(r),positions:KE}}function D$(n){return n.nodeAfter&&n.nodeAfter.is("element","tableCell")?n.nodeAfter:n.findAncestor("tableCell")}function uVe(n,t){const e=t.editing.mapper,i=t.editing.view.domConverter,s=Array.from(n).map(r=>{const o=D$(r.start),a=e.toViewElement(o);return new Xe(i.mapViewToDom(a))});return Xe.getBoundingRect(s)}var dVe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>';function Ku(n){if(!n||!rn(n))return n;const{top:t,right:e,bottom:i,left:s}=n;if(t==e&&e==i&&i==s)return t}function Xu(n,t){const e=parseFloat(n);return Number.isNaN(e)||String(e)!==String(n)?n:`${e}${t}`}function V$(n,t={}){const e={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...n};return t.includeAlignmentProperty&&!e.alignment&&(e.alignment="center"),t.includePaddingProperty&&!e.padding&&(e.padding=""),t.includeVerticalAlignmentProperty&&!e.verticalAlignment&&(e.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!e.horizontalAlignment&&(e.horizontalAlignment=t.isRightToLeftContent?"right":"left"),e}function N$(n,t){return V$({borderStyle:"double",borderColor:"hsl(0, 0%, 70%)",borderWidth:"1px",...n},t)}function uA(n,t){return V$({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...n},t)}const hVe=500,UM={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class fVe extends F{constructor(e){super(e);b(this,"_defaultTableCellProperties");b(this,"_balloon");b(this,"view");b(this,"_undoStepBatch");b(this,"_isReady");e.config.define("table.tableCellProperties",{borderColors:Xv,backgroundColors:Xv})}static get requires(){return[Ki]}static get pluginName(){return"TableCellPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t;this._defaultTableCellProperties=uA(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._balloon=e.plugins.get(Ki),this.view=null,this._isReady=!1,e.ui.componentFactory.add("tableCellProperties",s=>{const r=new Le(s);r.set({label:i("Cell properties"),icon:dVe,tooltip:!0}),this.listenTo(r,"execute",()=>this._showView());const o=Object.values(UM).map(a=>e.commands.get(a));return r.bind("isEnabled").toMany(o,"isEnabled",(...a)=>a.some(l=>l)),r})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,i=e.config.get("table.tableCellProperties"),s=ap(i.borderColors),r=op(e.locale,s),o=ap(i.backgroundColors),a=op(e.locale,o),l=i.colorPicker!==!1,u=new cVe(e.locale,{borderColors:r,backgroundColors:a,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:l?i.colorPicker||{}:!1}),h=e.t;u.render(),this.listenTo(u,"submit",()=>{this._hideView()}),this.listenTo(u,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),u.keystrokes.set("Esc",(v,_)=>{this._hideView(),_()}),so({emitter:u,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=T$(h),p=S$(h);return u.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),u.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:u.borderColorInput,commandName:"tableCellBorderColor",errorText:m,validator:Kv})),u.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:u.borderWidthInput,commandName:"tableCellBorderWidth",errorText:p,validator:A$})),u.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:u.paddingInput,commandName:"tableCellPadding",errorText:p,validator:pg})),u.on("change:width",this._getValidatedPropertyChangeCallback({viewField:u.widthInput,commandName:"tableCellWidth",errorText:p,validator:pg})),u.on("change:height",this._getValidatedPropertyChangeCallback({viewField:u.heightInput,commandName:"tableCellHeight",errorText:p,validator:pg})),u.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:u.backgroundInput,commandName:"tableCellBackgroundColor",errorText:m,validator:Kv})),u.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),u.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),u}_fillViewFormFromCommandValues(){const e=this.editor.commands,i=e.get("tableCellBorderStyle");Object.entries(UM).map(([s,r])=>{const o=this._defaultTableCellProperties[s]||"";return[s,e.get(r).value||o]}).forEach(([s,r])=>{(s==="borderColor"||s==="borderWidth")&&i.value==="none"||this.view.set(s,r)}),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:M$(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,i=e.editing.view.document;Ry(i.selection)?this._isViewVisible&&P$(e,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(i,s,r)=>{this._isReady&&this.editor.execute(e,{value:r,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:i,viewField:s,validator:r,errorText:o}=e,a=Es(()=>{s.errorText=o},hVe);return(l,u,h)=>{a.cancel(),this._isReady&&(r(h)?(this.editor.execute(i,{value:h,batch:this._undoStepBatch}),s.errorText=null):a())}}}class ll extends je{constructor(e,i,s){super(e);b(this,"attributeName");b(this,"_defaultValue");this.attributeName=i,this._defaultValue=s}refresh(){const e=this.editor,s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!s.length,this.value=this._getSingleValue(s)}execute(e={}){const{value:i,batch:s}=e,r=this.editor.model,a=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r.document.selection),l=this._getValueToSet(i);r.enqueueChange(s,u=>{l?a.forEach(h=>u.setAttribute(this.attributeName,l,h)):a.forEach(h=>u.removeAttribute(this.attributeName,h))})}_getAttribute(e){if(!e)return;const i=e.getAttribute(this.attributeName);if(i!==this._defaultValue)return i}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const i=this._getAttribute(e[0]);return e.every(r=>this._getAttribute(r)===i)?i:void 0}}class mVe extends ll{constructor(t,e){super(t,"tableCellWidth",e)}_getValueToSet(t){if(t=Xu(t,"px"),t!==this._defaultValue)return t}}class L$ extends F{static get pluginName(){return"TableCellWidthEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[o0]}init(){const t=this.editor,e=uA(t.config.get("table.tableCellProperties.defaultProperties"));I1(t.model.schema,t.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:e.width}),t.commands.add("tableCellWidth",new mVe(t,e.width))}}class gVe extends ll{constructor(t,e){super(t,"tableCellPadding",e)}_getAttribute(t){if(!t)return;const e=Ku(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Xu(t,"px");if(e!==this._defaultValue)return e}}class pVe extends ll{constructor(t,e){super(t,"tableCellHeight",e)}_getValueToSet(t){const e=Xu(t,"px");if(e!==this._defaultValue)return e}}class bVe extends ll{constructor(t,e){super(t,"tableCellBackgroundColor",e)}}class vVe extends ll{constructor(t,e){super(t,"tableCellVerticalAlignment",e)}}class wVe extends ll{constructor(t,e){super(t,"tableCellHorizontalAlignment",e)}}class yVe extends ll{constructor(t,e){super(t,"tableCellBorderStyle",e)}_getAttribute(t){if(!t)return;const e=Ku(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class _Ve extends ll{constructor(t,e){super(t,"tableCellBorderColor",e)}_getAttribute(t){if(!t)return;const e=Ku(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class xVe extends ll{constructor(t,e){super(t,"tableCellBorderWidth",e)}_getAttribute(t){if(!t)return;const e=Ku(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Xu(t,"px");if(e!==this._defaultValue)return e}}const HM=/^(top|middle|bottom)$/,$M=/^(left|center|right|justify)$/;class kVe extends F{static get pluginName(){return"TableCellPropertiesEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[o0,L$]}init(){const t=this.editor,e=t.model.schema,i=t.conversion;t.config.define("table.tableCellProperties.defaultProperties",{});const s=uA(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:t.locale.contentLanguageDirection==="rtl"});t.data.addStyleProcessorRules(Pj),CVe(e,i,{color:s.borderColor,style:s.borderStyle,width:s.borderWidth}),t.commands.add("tableCellBorderStyle",new yVe(t,s.borderStyle)),t.commands.add("tableCellBorderColor",new _Ve(t,s.borderColor)),t.commands.add("tableCellBorderWidth",new xVe(t,s.borderWidth)),I1(e,i,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:s.height}),t.commands.add("tableCellHeight",new pVe(t,s.height)),t.data.addStyleProcessorRules($ke),I1(e,i,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:s.padding}),t.commands.add("tableCellPadding",new gVe(t,s.padding)),t.data.addStyleProcessorRules(E5),I1(e,i,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:s.backgroundColor}),t.commands.add("tableCellBackgroundColor",new bVe(t,s.backgroundColor)),EVe(e,i,s.horizontalAlignment),t.commands.add("tableCellHorizontalAlignment",new wVe(t,s.horizontalAlignment)),TVe(e,i,s.verticalAlignment),t.commands.add("tableCellVerticalAlignment",new vVe(t,s.verticalAlignment))}}function CVe(n,t,e){const i={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};n.extend("tableCell",{allowAttributes:Object.values(i)}),zE(t,"td",i,e),zE(t,"th",i,e),gg(t,{modelElement:"tableCell",modelAttribute:i.style,styleName:"border-style"}),gg(t,{modelElement:"tableCell",modelAttribute:i.color,styleName:"border-color"}),gg(t,{modelElement:"tableCell",modelAttribute:i.width,styleName:"border-width"})}function EVe(n,t,e){n.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:i=>({key:"style",value:{"text-align":i}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":$M}},model:{key:"tableCellHorizontalAlignment",value:i=>{const s=i.getStyle("text-align");return s===e?null:s}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:$M}},model:{key:"tableCellHorizontalAlignment",value:i=>{const s=i.getAttribute("align");return s===e?null:s}}})}function TVe(n,t,e){n.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:i=>({key:"style",value:{"vertical-align":i}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":HM}},model:{key:"tableCellVerticalAlignment",value:i=>{const s=i.getStyle("vertical-align");return s===e?null:s}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:HM}},model:{key:"tableCellVerticalAlignment",value:i=>{const s=i.getAttribute("valign");return s===e?null:s}}})}class SVe extends F{static get pluginName(){return"TableCellProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[kVe,fVe]}}class Ju extends je{constructor(e,i,s){super(e);b(this,"attributeName");b(this,"_defaultValue");this.attributeName=i,this._defaultValue=s}refresh(){const i=this.editor.model.document.selection,s=gu(i);this.isEnabled=!!s,this.value=this._getValue(s)}execute(e={}){const i=this.editor.model,s=i.document.selection,{value:r,batch:o}=e,a=gu(s),l=this._getValueToSet(r);i.enqueueChange(o,u=>{l?u.setAttribute(this.attributeName,l,a):u.removeAttribute(this.attributeName,a)})}_getValue(e){if(!e)return;const i=e.getAttribute(this.attributeName);if(i!==this._defaultValue)return i}_getValueToSet(e){if(e!==this._defaultValue)return e}}class AVe extends Ju{constructor(t,e){super(t,"tableBackgroundColor",e)}}class IVe extends Ju{constructor(t,e){super(t,"tableBorderColor",e)}_getValue(t){if(!t)return;const e=Ku(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class RVe extends Ju{constructor(t,e){super(t,"tableBorderStyle",e)}_getValue(t){if(!t)return;const e=Ku(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class PVe extends Ju{constructor(t,e){super(t,"tableBorderWidth",e)}_getValue(t){if(!t)return;const e=Ku(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Xu(t,"px");if(e!==this._defaultValue)return e}}class OVe extends Ju{constructor(t,e){super(t,"tableWidth",e)}_getValueToSet(t){if(t=Xu(t,"px"),t!==this._defaultValue)return t}}class MVe extends Ju{constructor(t,e){super(t,"tableHeight",e)}_getValueToSet(t){if(t=Xu(t,"px"),t!==this._defaultValue)return t}}class DVe extends Ju{constructor(t,e){super(t,"tableAlignment",e)}}const VVe=/^(left|center|right)$/,NVe=/^(left|none|right)$/;class LVe extends F{static get pluginName(){return"TablePropertiesEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[o0]}init(){const t=this.editor,e=t.model.schema,i=t.conversion;t.config.define("table.tableProperties.defaultProperties",{});const s=N$(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});t.data.addStyleProcessorRules(Pj),BVe(e,i,{color:s.borderColor,style:s.borderStyle,width:s.borderWidth}),t.commands.add("tableBorderColor",new IVe(t,s.borderColor)),t.commands.add("tableBorderStyle",new RVe(t,s.borderStyle)),t.commands.add("tableBorderWidth",new PVe(t,s.borderWidth)),FVe(e,i,s.alignment),t.commands.add("tableAlignment",new DVe(t,s.alignment)),WM(e,i,{modelAttribute:"tableWidth",styleName:"width",defaultValue:s.width}),t.commands.add("tableWidth",new OVe(t,s.width)),WM(e,i,{modelAttribute:"tableHeight",styleName:"height",defaultValue:s.height}),t.commands.add("tableHeight",new MVe(t,s.height)),t.data.addStyleProcessorRules(E5),zVe(e,i,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:s.backgroundColor}),t.commands.add("tableBackgroundColor",new AVe(t,s.backgroundColor))}}function BVe(n,t,e){const i={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};n.extend("table",{allowAttributes:Object.values(i)}),zE(t,"table",i,e),S1(t,{modelAttribute:i.color,styleName:"border-color"}),S1(t,{modelAttribute:i.style,styleName:"border-style"}),S1(t,{modelAttribute:i.width,styleName:"border-width"})}function FVe(n,t,e){n.extend("table",{allowAttributes:["tableAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:i=>({key:"style",value:{float:i==="center"?"none":i}}),converterPriority:"high"}),t.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:NVe}},model:{key:"tableAlignment",value:i=>{let s=i.getStyle("float");return s==="none"&&(s="center"),s===e?null:s}}}).attributeToAttribute({view:{attributes:{align:VVe}},model:{name:"table",key:"tableAlignment",value:i=>{const s=i.getAttribute("align");return s===e?null:s}}})}function zVe(n,t,e){const{modelAttribute:i}=e;n.extend("table",{allowAttributes:[i]}),rA(t,{viewElement:"table",...e}),S1(t,e)}function WM(n,t,e){const{modelAttribute:i}=e;n.extend("table",{allowAttributes:[i]}),rA(t,{viewElement:/^(table|figure)$/,shouldUpcast:s=>!(s.name=="table"&&s.parent.name=="figure"),...e}),gg(t,{modelElement:"table",...e})}class jVe extends ye{constructor(e,i){super(e);b(this,"options");b(this,"focusTracker");b(this,"keystrokes");b(this,"children");b(this,"borderStyleDropdown");b(this,"borderWidthInput");b(this,"borderColorInput");b(this,"backgroundInput");b(this,"widthInput");b(this,"heightInput");b(this,"alignmentToolbar");b(this,"saveButtonView");b(this,"cancelButtonView");b(this,"_focusables");b(this,"_focusCycler");this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=i;const{borderStyleDropdown:s,borderWidthInput:r,borderColorInput:o,borderRowLabel:a}=this._createBorderFields(),{backgroundRowLabel:l,backgroundInput:u}=this._createBackgroundFields(),{widthInput:h,operatorLabel:m,heightInput:p,dimensionsLabel:v}=this._createDimensionFields(),{alignmentToolbar:_,alignmentLabel:k}=this._createAlignmentFields();this.focusTracker=new Ct,this.keystrokes=new Vt,this.children=this.createCollection(),this.borderStyleDropdown=s,this.borderWidthInput=r,this.borderColorInput=o,this.backgroundInput=u,this.widthInput=h,this.heightInput=p,this.alignmentToolbar=_;const{saveButtonView:C,cancelButtonView:T}=this._createActionButtons();this.saveButtonView=C,this.cancelButtonView=T,this._focusables=new ei,this._focusCycler=new Cn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Yp(e,{label:this.t("Table properties")})),this.children.add(new Ds(e,{labelView:a,children:[a,s,o,r],class:"ck-table-form__border-row"})),this.children.add(new Ds(e,{labelView:l,children:[l,u],class:"ck-table-form__background-row"})),this.children.add(new Ds(e,{children:[new Ds(e,{labelView:v,children:[v,h,m,p],class:"ck-table-form__dimensions-row"}),new Ds(e,{labelView:k,children:[k,_],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Ds(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),qo({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,i={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},s=Jv({colorConfig:this.options.borderColors,columns:5,defaultColorValue:i.color,colorPickerConfig:this.options.colorPickerConfig}),r=this.locale,o=this.t,a=o("Style"),l=new ks(r);l.text=o("Border");const u=cA(o),h=new _n(r,P5);h.set({label:a,class:"ck-table-form__border-style"}),h.fieldView.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),h.fieldView.buttonView.bind("label").to(this,"borderStyle",v=>u[v||"none"]),h.fieldView.on("execute",v=>{this.borderStyle=v.source._borderStyleValue}),h.bind("isEmpty").to(this,"borderStyle",v=>!v),ro(h.fieldView,I$(this,i.style),{role:"menu",ariaLabel:a});const m=new _n(r,Wi);m.set({label:o("Width"),class:"ck-table-form__border-width"}),m.fieldView.bind("value").to(this,"borderWidth"),m.bind("isEnabled").to(this,"borderStyle",i1),m.fieldView.on("input",()=>{this.borderWidth=m.fieldView.element.value});const p=new _n(r,s);return p.set({label:o("Color"),class:"ck-table-form__border-color"}),p.fieldView.bind("value").to(this,"borderColor"),p.bind("isEnabled").to(this,"borderStyle",i1),p.fieldView.on("input",()=>{this.borderColor=p.fieldView.value}),this.on("change:borderStyle",(v,_,k,C)=>{i1(k)||(this.borderColor="",this.borderWidth=""),i1(C)||(this.borderColor=i.color,this.borderWidth=i.width)}),{borderRowLabel:l,borderStyleDropdown:h,borderColorInput:p,borderWidthInput:m}}_createBackgroundFields(){const e=this.locale,i=this.t,s=new ks(e);s.text=i("Background");const r=Jv({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),o=new _n(e,r);return o.set({label:i("Color"),class:"ck-table-properties-form__background"}),o.fieldView.bind("value").to(this,"backgroundColor"),o.fieldView.on("input",()=>{this.backgroundColor=o.fieldView.value}),{backgroundRowLabel:s,backgroundInput:o}}_createDimensionFields(){const e=this.locale,i=this.t,s=new ks(e);s.text=i("Dimensions");const r=new _n(e,Wi);r.set({label:i("Width"),class:"ck-table-form__dimensions-row__width"}),r.fieldView.bind("value").to(this,"width"),r.fieldView.on("input",()=>{this.width=r.fieldView.element.value});const o=new ye(e);o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const a=new _n(e,Wi);return a.set({label:i("Height"),class:"ck-table-form__dimensions-row__height"}),a.fieldView.bind("value").to(this,"height"),a.fieldView.on("input",()=>{this.height=a.fieldView.element.value}),{dimensionsLabel:s,widthInput:r,operatorLabel:o,heightInput:a}}_createAlignmentFields(){const e=this.locale,i=this.t,s=new ks(e);s.text=i("Alignment");const r=new dc(e);return r.set({role:"radiogroup",isCompact:!0,ariaLabel:i("Table alignment toolbar")}),ZE({view:this,icons:{left:me.objectLeft,center:me.objectCenter,right:me.objectRight},toolbar:r,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:s,alignmentToolbar:r}}_createActionButtons(){const e=this.locale,i=this.t,s=new Le(e),r=new Le(e),o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return s.set({label:i("Save"),icon:me.check,class:"ck-button-save",type:"submit",withText:!0}),s.bind("isEnabled").toMany(o,"errorText",(...a)=>a.every(l=>!l)),r.set({label:i("Cancel"),icon:me.cancel,class:"ck-button-cancel",withText:!0}),r.delegate("execute").to(this,"cancel"),{saveButtonView:s,cancelButtonView:r}}get _alignmentLabels(){const e=this.locale,i=this.t,s=i("Align table to the left"),r=i("Center table"),o=i("Align table to the right");return e.uiLanguageDirection==="rtl"?{right:o,center:r,left:s}:{left:s,center:r,right:o}}}function i1(n){return n!=="none"}var UVe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>';const HVe=500,qM={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class $Ve extends F{constructor(e){super(e);b(this,"_defaultTableProperties");b(this,"_balloon");b(this,"view",null);b(this,"_undoStepBatch");b(this,"_isReady");e.config.define("table.tableProperties",{borderColors:Xv,backgroundColors:Xv})}static get requires(){return[Ki]}static get pluginName(){return"TablePropertiesUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t;this._defaultTableProperties=N$(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=e.plugins.get(Ki),e.ui.componentFactory.add("tableProperties",s=>{const r=new Le(s);r.set({label:i("Table properties"),icon:UVe,tooltip:!0}),this.listenTo(r,"execute",()=>this._showView());const o=Object.values(qM).map(a=>e.commands.get(a));return r.bind("isEnabled").toMany(o,"isEnabled",(...a)=>a.some(l=>l)),r})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,i=e.config.get("table.tableProperties"),s=ap(i.borderColors),r=op(e.locale,s),o=ap(i.backgroundColors),a=op(e.locale,o),l=i.colorPicker!==!1,u=new jVe(e.locale,{borderColors:r,backgroundColors:a,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:l?i.colorPicker||{}:!1}),h=e.t;u.render(),this.listenTo(u,"submit",()=>{this._hideView()}),this.listenTo(u,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),u.keystrokes.set("Esc",(v,_)=>{this._hideView(),_()}),so({emitter:u,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=T$(h),p=S$(h);return u.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),u.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:u.borderColorInput,commandName:"tableBorderColor",errorText:m,validator:Kv})),u.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:u.borderWidthInput,commandName:"tableBorderWidth",errorText:p,validator:A$})),u.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:u.backgroundInput,commandName:"tableBackgroundColor",errorText:m,validator:Kv})),u.on("change:width",this._getValidatedPropertyChangeCallback({viewField:u.widthInput,commandName:"tableWidth",errorText:p,validator:pg})),u.on("change:height",this._getValidatedPropertyChangeCallback({viewField:u.heightInput,commandName:"tableHeight",errorText:p,validator:pg})),u.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),u}_fillViewFormFromCommandValues(){const e=this.editor.commands,i=e.get("tableBorderStyle");Object.entries(qM).map(([s,r])=>{const o=s,a=this._defaultTableProperties[o]||"";return[o,e.get(r).value||a]}).forEach(([s,r])=>{(s==="borderColor"||s==="borderWidth")&&i.value==="none"||this.view.set(s,r)}),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:O$(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,i=e.editing.view.document;k$(i.selection)?this._isViewVisible&&P$(e,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(i,s,r)=>{this._isReady&&this.editor.execute(e,{value:r,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:i,viewField:s,validator:r,errorText:o}=e,a=Es(()=>{s.errorText=o},HVe);return(l,u,h)=>{a.cancel(),this._isReady&&(r(h)?(this.editor.execute(i,{value:h,batch:this._undoStepBatch}),s.errorText=null):a())}}}class WVe extends F{static get pluginName(){return"TableProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[LVe,$Ve]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qVe(n){n.document.registerPostFixer(t=>GVe(t,n))}function GVe(n,t){const e=t.document.differ.getChanges();let i=!1;for(const s of e){if(s.type!="insert")continue;const r=s.position.parent;if(r.is("element","table")||s.name=="table"){const o=s.name=="table"?s.position.nodeAfter:r,a=Array.from(o.getChildren()).filter(u=>u.is("element","caption")),l=a.shift();if(!l)continue;for(const u of a)n.move(n.createRangeIn(u),l,"end"),n.remove(u);l.nextSibling&&(n.move(n.createRangeOn(l),o,"end"),i=!0),i=!!a.length||i}}return i}function GM(n){return!!n&&n.is("element","table")}function XE(n){for(const t of n.getChildren())if(t.is("element","caption"))return t;return null}function YVe(n){const t=gu(n);return t?XE(t):null}function ZVe(n){const t=n.parent;return n.name=="figcaption"&&t&&t.is("element","figure")&&t.hasClass("table")?{name:!0}:n.name=="caption"&&t&&t.is("element","table")?{name:!0}:null}class KVe extends je{refresh(){const t=this.editor,e=gu(t.model.document.selection);this.isEnabled=!!e,this.isEnabled?this.value=!!XE(e):this.value=!1}execute({focusCaptionOnShow:t=!1}={}){this.editor.model.change(e=>{this.value?this._hideTableCaption(e):this._showTableCaption(e,t)})}_showTableCaption(t,e){const i=this.editor.model,s=gu(i.document.selection),a=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(s)||t.createElement("caption");i.insertContent(a,s,"end"),e&&t.setSelection(a,"in")}_hideTableCaption(t){const e=this.editor.model,i=gu(e.document.selection),s=this.editor.plugins.get("TableCaptionEditing"),r=XE(i);s._saveCaption(i,r),e.deleteContent(t.createSelection(r,"on"))}}class XVe extends F{constructor(e){super(e);b(this,"_savedCaptionsMap");this._savedCaptionsMap=new WeakMap}static get pluginName(){return"TableCaptionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model.schema,s=e.editing.view,r=e.t;i.isRegistered("caption")?i.extend("caption",{allowIn:"table"}):i.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new KVe(this.editor)),e.conversion.for("upcast").elementToElement({view:ZVe,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>GM(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!GM(o.parent))return null;const l=a.createEditableElement("figcaption");return a.setCustomProperty("tableCaption",!0,l),l.placeholder=r("Enter table caption"),fy({view:s,element:l,keepOnFocus:!0}),N5(l,a)}}),qVe(e.model)}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?yn.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}}class JVe extends F{static get pluginName(){return"TableCaptionUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=t.t;t.ui.componentFactory.add("toggleTableCaption",s=>{const r=t.commands.get("toggleTableCaption"),o=new Le(s);return o.set({icon:me.caption,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),o.bind("label").to(r,"value",a=>i(a?"Toggle caption off":"Toggle caption on")),this.listenTo(o,"execute",()=>{if(t.execute("toggleTableCaption",{focusCaptionOnShow:!0}),r.value){const a=YVe(t.model.document.selection),l=t.editing.mapper.toViewElement(a);if(!l)return;e.scrollToTheSelection(),e.change(u=>{u.addClass("table__caption_highlighted",l)})}t.editing.view.focus()}),o})}}class QVe extends F{static get pluginName(){return"TableCaption"}static get isOfficialPlugin(){return!0}static get requires(){return[XVe,JVe]}}class e9e extends je{refresh(){this.isEnabled=!0}execute(t={}){const{model:e,plugins:i}=this.editor;let{table:s=e.document.selection.getSelectedElement(),columnWidths:r,tableWidth:o}=t;r&&(r=Array.isArray(r)?r:r.split(",")),e.change(a=>{o?a.setAttribute("tableWidth",o,s):a.removeAttribute("tableWidth",s);const l=i.get("TableColumnResizeEditing").getColumnGroupElement(s);if(!r&&!l)return;if(!r)return a.remove(l);const u=aA(r);if(l)Array.from(l.getChildren()).forEach((h,m)=>a.setAttribute("columnWidth",u[m],h));else{const h=a.createElement("tableColumnGroup");u.forEach(m=>a.appendElement("tableColumn",{columnWidth:m},h)),a.append(h,s)}})}}function t9e(n){return t=>t.on("element:colgroup",(e,i,s)=>{const r=i.modelCursor.findAncestor("table"),o=s0(r);if(!o)return;const a=r0(o),l=n.getColumns(r);let u=_De(o,s.writer);u=Array.from({length:l},(h,m)=>u[m]||"auto"),(u.length!=a.length||u.includes("auto"))&&w$(a,o,aA(u),s.writer)},{priority:"low"})}function n9e(){return n=>n.on("insert:table",(t,e,i)=>{const s=i.writer,r=e.item,o=i.mapper.toViewElement(r),a=o.is("element","table")?o:Array.from(o.getChildren()).find(u=>u.is("element","table"));s0(r)?s.addClass("ck-table-resized",a):s.removeClass("ck-table-resized",a)},{priority:"low"})}class i9e extends F{constructor(e){super(e);b(this,"_isResizingActive");b(this,"_resizingData");b(this,"_domEmitter");b(this,"_tableUtilsPlugin");this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(us()),this._tableUtilsPlugin=e.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(i,s,r)=>{const o=r?"removeClass":"addClass";e.editing.view.change(a=>{for(const l of e.editing.view.document.roots)a[o]("ck-column-resize_disabled",e.editing.view.document.getRoot(l.rootName))})})}static get requires(){return[o0,Ti]}static get pluginName(){return"TableColumnResizeEditing"}static get isOfficialPlugin(){return!0}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const e=this.editor,i=e.plugins.get("TableColumnResize");e.plugins.get("TableEditing").registerAdditionalSlot({filter:o=>o.is("element","tableColumnGroup"),positionOffset:0});const r=new e9e(e);e.commands.add("resizeTableWidth",r),e.commands.add("resizeColumnWidths",r),this.bind("_isResizingAllowed").to(e,"isReadOnly",i,"isEnabled",r,"isEnabled",(o,a,l)=>!o&&a&&l)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(e){return s0(e)}getTableColumnElements(e){return r0(e)}getTableColumnsWidths(e){return yDe(e)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const i=this.editor.model;i.document.registerPostFixer(o=>{let a=!1;for(const l of fDe(i)){const u=this.getColumnGroupElement(l),h=this.getTableColumnElements(u),m=this.getTableColumnsWidths(u);let p=aA(m);p=s(p,l,this),!jh(m,p)&&(w$(h,u,p,o),a=!0)}return a});function s(o,a,l){const u=l._tableUtilsPlugin.getColumns(a);if(u-o.length===0)return o;const m=o.map(v=>Number(v.replace("%",""))),p=r(l.editor.model.document.differ,a);for(const v of p){const _=u-m.length;if(_===0)continue;const k=_>0,C=l._tableUtilsPlugin.getCellLocation(v).column;if(k){const T=mDe(a,l.editor),S=bDe(_,T);m.splice(C,0,...S)}else{const T=m.splice(C,Math.abs(_));m[C]+=mp(T)}}return m.map(v=>v+"%")}function r(o,a){const l=new Set;for(const u of o.getChanges())if(u.type=="insert"&&u.position.nodeAfter&&u.position.nodeAfter.name=="tableCell"&&u.position.nodeAfter.getAncestors().includes(a))l.add(u.position.nodeAfter);else if(u.type=="remove"){const h=u.position.nodeBefore||u.position.nodeAfter;h.name=="tableCell"&&h.getAncestors().includes(a)&&l.add(h)}return l}}_registerConverters(){const i=this.editor.conversion;i.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:s=>s.getStyle("width")}}),i.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:s=>({name:"figure",key:"style",value:{width:s}})}),i.elementToElement({model:"tableColumnGroup",view:"colgroup"}),i.elementToElement({model:"tableColumn",view:"col"}),i.for("downcast").add(n9e()),i.for("upcast").add(t9e(this._tableUtilsPlugin)),i.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:s=>{const r=s.getStyle("width");return!r||!r.endsWith("%")&&!r.endsWith("pt")?"auto":r}}}),i.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),i.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:s=>({key:"style",value:{width:s}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(x$),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(Pe.window.document,"mousemove",Mu(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(Pe.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(e,i){const s=i.target;if(!s.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const r=this.editor,o=r.editing.mapper.toModelElement(s.findAncestor("figure"));if(!r.model.canEditAt(o))return;i.preventDefault(),e.stop();const a=h(o,this._tableUtilsPlugin,r),l=s.findAncestor("table"),u=r.editing.view;Array.from(l.getChildren()).find(v=>v.is("element","colgroup"))||u.change(v=>{m(v,a,l)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(i,a),u.change(v=>p(v,l,this._resizingData));function h(v,_,k){const C=Array(_.getColumns(v)),T=new Yt(v);for(const S of T){const I=k.editing.mapper.toViewElement(S.cell),P=k.editing.view.domConverter.mapViewToDom(I),O=wDe(P);(!C[S.column]||O<C[S.column])&&(C[S.column]=xs(O))}return C}function m(v,_,k){const C=v.createContainerElement("colgroup");for(let T=0;T<_.length;T++){const S=v.createEmptyElement("col"),I=`${xs(_[T]/mp(_)*100)}%`;v.setStyle("width",I,S),v.insert(v.createPositionAt(C,"end"),S)}v.insert(v.createPositionAt(k,0),C)}function p(v,_,k){const C=k.widths.viewFigureWidth/k.widths.viewFigureParentWidth;v.addClass("ck-table-resized",_),v.addClass("ck-table-column-resizer__active",k.elements.viewResizer),v.setStyle("width",`${xs(C*100)}%`,_.findAncestor("figure"))}}_onMouseMoveHandler(e,i){if(!this._isResizingActive)return;if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:s,flags:{isRightEdge:r,isTableCentered:o,isLtrContent:a},elements:{viewFigure:l,viewLeftColumn:u,viewRightColumn:h},widths:{viewFigureParentWidth:m,tableWidth:p,leftColumnWidth:v,rightColumnWidth:_}}=this._resizingData,k=-v+$E,C=r?m-p:_-$E,T=(a?1:-1)*(r&&o?2:1),S=pDe((i.clientX-s)*T,Math.min(k,0),Math.max(C,0));S!==0&&this.editor.editing.view.change(I=>{const P=xs((v+S)*100/p);if(I.setStyle("width",`${P}%`,u),r){const O=xs((p+S)*100/m);I.setStyle("width",`${O}%`,l)}else{const O=xs((_-S)*100/p);I.setStyle("width",`${O}%`,h)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:e,modelTable:i,viewFigure:s,viewColgroup:r}=this._resizingData.elements,o=this.editor,a=o.editing.view,l=this.getColumnGroupElement(i),u=Array.from(r.getChildren()).filter(C=>C.is("view:element")),h=l?this.getTableColumnsWidths(l):null,m=u.map(C=>C.getStyle("width")),p=!jh(h,m),v=i.getAttribute("tableWidth"),_=s.getStyle("width"),k=v!==_;(p||k)&&(this._isResizingAllowed?o.execute("resizeTableWidth",{table:i,tableWidth:`${xs(_)}%`,columnWidths:m}):a.change(C=>{if(h)for(const T of u)C.setStyle("width",h.shift(),T);else C.remove(r);k&&(v?C.setStyle("width",v,s):C.removeStyle("width",s)),!h&&!v&&C.removeClass("ck-table-resized",[...s.getChildren()].find(T=>T.name==="table"))})),a.change(C=>{C.removeClass("ck-table-column-resizer__active",e)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(e,i){const s=this.editor,r=e.domEvent.clientX,o=e.target,a=o.findAncestor("td")||o.findAncestor("th"),l=s.editing.mapper.toModelElement(a),u=l.findAncestor("table"),h=gDe(l,this._tableUtilsPlugin).rightEdge,m=this._tableUtilsPlugin.getColumns(u)-1,p=h===m,v=!u.hasAttribute("tableAlignment"),_=s.locale.contentLanguageDirection!=="rtl",k=a.findAncestor("table"),C=k.findAncestor("figure"),T=[...k.getChildren()].find(z=>z.is("element","colgroup")),S=T.getChild(h),I=p?void 0:T.getChild(h+1),P=WE(s.editing.view.domConverter.mapViewToDom(C.parent)),O=WE(s.editing.view.domConverter.mapViewToDom(C)),D=v$(u,s),N=i[h],j=p?void 0:i[h+1];return{columnPosition:r,flags:{isRightEdge:p,isTableCentered:v,isLtrContent:_},elements:{viewResizer:o,modelTable:u,viewFigure:C,viewColgroup:T,viewLeftColumn:S,viewRightColumn:I},widths:{viewFigureParentWidth:P,viewFigureWidth:O,tableWidth:D,leftColumnWidth:N,rightColumnWidth:j}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(e=>{e.on("insert:tableCell",(i,s,r)=>{const o=s.item,a=r.mapper.toViewElement(o),l=r.writer;l.insert(l.createPositionAt(a,"end"),l.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}class s9e extends F{static get requires(){return[i9e,L$]}static get pluginName(){return"TableColumnResize"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function B$(n){if(n.is("$text")||n.is("$textProxy"))return n.data;const t=n;let e="",i=null;for(const s of t.getChildren()){const r=B$(s);i&&i.is("element")&&(e+=`
`),e+=r,i=s}return e}class r9e extends F{constructor(e){super(e);b(this,"_config");b(this,"_outputView");b(this,"_wordsMatchRegExp");this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=e.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=Ge.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}static get isOfficialPlugin(){return!0}init(){this.editor.model.document.on("change:data",Mu(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(i,s)=>{this._config.onUpdate(s)}),qa(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const e=this.editor,i=e.t,s=e.config.get("wordCount.displayWords"),r=e.config.get("wordCount.displayCharacters"),o=ss.bind(this,this),a=[];return this._outputView||(this._outputView=new ye,(s||s===void 0)&&(this.bind("_wordsLabel").to(this,"words",l=>i("Words: %0",l)),a.push({tag:"div",children:[{text:[o.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(r||r===void 0)&&(this.bind("_charactersLabel").to(this,"characters",l=>i("Characters: %0",l)),a.push({tag:"div",children:[{text:[o.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:a}),this._outputView.render()),this._outputView.element}_getText(){let e="";for(const i of this.editor.model.document.getRoots())e!==""&&(e+=`
`),e+=B$(i);return e}_getCharacters(e){return e.replace(/\n/g,"").length}_getWords(e){return(e.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const e=this._getText(),i=this.words=this._getWords(e),s=this.characters=this._getCharacters(e);this.fire("update",{words:i,characters:s})}}const o9e="eyJhbGciOiJFUzI1NiJ9.eyJleHAiOjE3NDI2ODc5OTksImp0aSI6IjhhYjliNGU0LTMzY2QtNDU4Ni05MDFlLTZiMWJkZmYyMDFiYyIsInVzYWdlRW5kcG9pbnQiOiJodHRwczovL3Byb3h5LWV2ZW50LmNrZWRpdG9yLmNvbSIsImRpc3RyaWJ1dGlvbkNoYW5uZWwiOlsiY2xvdWQiLCJkcnVwYWwiLCJzaCJdLCJ3aGl0ZUxhYmVsIjp0cnVlLCJsaWNlbnNlVHlwZSI6InRyaWFsIiwiZmVhdHVyZXMiOlsiKiJdLCJ2YyI6ImIxYWIwYjQzIn0.bY0D7yjJKPw8KPh_CovXYRqG8JKrAkALJWeOHgBLhpKCvfPWaX9FVdaIWZyD1lKtkl0bSaG9b7qm7X1ZGmYJMA";function F$({props:n}){const t=E.useRef(null),e=E.useRef(null),i=E.useRef(null),[s,r]=E.useState(!1);E.useEffect(()=>(r(!0),()=>r(!1)),[]);const{editorConfig:o}=E.useMemo(()=>s?{editorConfig:{toolbar:{items:["sourceEditing","showBlocks","findAndReplace","textPartLanguage","|","heading","style","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","subscript","superscript","code","removeFormat","|","emoji","specialCharacters","horizontalLine","pageBreak","link","bookmark","insertImage","mediaEmbed","insertTable","highlight","blockQuote","codeBlock","htmlEmbed","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[YSe,m5e,pIe,xH,g5e,PSe,J5e,DSe,v5e,YAe,k5e,w3e,U3e,t4e,m4e,$4e,F4e,C4e,D4e,cIe,rIe,X4e,c6e,p6e,aIe,x6e,TIe,OIe,Y5,AIe,JIe,oH,cRe,yRe,q5,_Re,rH,Pi,ERe,SRe,S5e,aPe,mPe,FPe,r8e,bOe,MOe,t7e,c7e,jv,wOe,Q7e,sMe,cMe,EEe,mMe,kMe,s$,l$,CMe,a$,o$,r$,P5e,jMe,V5e,F5e,rVe,QVe,SVe,s9e,WVe,oVe,ORe,a5e,J4e,p8e,H5e,r9e],balloonToolbar:["bold","italic","|","link","insertImage","|","bulletedList","numberedList"],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","|","bulletedList","numberedList","outdent","indent"],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},htmlSupport:{allow:[{name:/^.*$/,styles:!0,attributes:!0,classes:!0}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:(n==null?void 0:n.initialData)||"",licenseKey:o9e,link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},mention:{feeds:[{marker:"@",feed:[]}]},placeholder:"Type or paste your content here!",style:{definitions:[{name:"Article category",element:"h3",classes:["category"]},{name:"Title",element:"h2",classes:["document-title"]},{name:"Subtitle",element:"h3",classes:["document-subtitle"]},{name:"Info box",element:"p",classes:["info-box"]},{name:"Side quote",element:"blockquote",classes:["side-quote"]},{name:"Marker",element:"span",classes:["marker"]},{name:"Spoiler",element:"span",classes:["spoiler"]},{name:"Code (dark)",element:"pre",classes:["fancy-code","fancy-code-dark"]},{name:"Code (bright)",element:"pre",classes:["fancy-code","fancy-code-bright"]}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}}}:{},[s]);return y.jsx("div",{className:"main-container",children:y.jsxs("div",{className:"editor-container editor-container_classic-editor editor-container_include-style editor-container_include-block-toolbar editor-container_include-word-count",ref:t,children:[y.jsx("div",{className:"editor-container__editor",children:y.jsx("div",{ref:e,children:o&&y.jsx(aF,{onChange:n.onChange,onReady:a=>{const l=a.plugins.get("WordCount");i.current.appendChild(l.wordCountContainer)},onAfterDestroy:()=>{Array.from(i.current.children).forEach(a=>a.remove())},editor:x3e,config:o})})}),y.jsx("div",{className:"editor_container__word-count",ref:i})]})})}const a9e=()=>{const n=Bo(),t=jo(v=>v.user),{data:e}=Ii(`${Ot("VITE_API_BASE_URL")}/category/all-category`,{method:"get",credentials:"include"}),[i,s]=E.useState(),[r,o]=E.useState(),a=Zt.object({category:Zt.string().min(3,"Category must be at least 3 Characters"),title:Zt.string().min(3,"Title must be at least 3 Characters"),slug:Zt.string().min(3,"Slug must be at least 3 Characters"),blogContent:Zt.string().min(3,"Blog Content must be at least 3 Characters")}),l=gc({resolver:bc(a),defaultValues:{category:"",title:"",slug:"",blogContent:""}}),u=(v,_)=>{const k=_.getData();l.setValue("blogContent",k)},h=l.watch("title");E.useEffect(()=>{if(h){const v=Kw(h,{lower:!0});l.setValue("slug",v)}},[h]);async function m(v){try{const _={...v,author:t.user._id};i||gt("error","Feature image required.");const k=new FormData;k.append("file",i),k.append("data",JSON.stringify(_));const C=await fetch(`${Ot("VITE_API_BASE_URL")}/blog/add`,{method:"post",credentials:"include",body:k}),T=await C.json();if(!C.ok)return gt("error",T.message);l.reset(),s(),o(),n(_w),gt("success",T.message)}catch(_){gt("error",_.message)}}const p=v=>{const _=v[0],k=URL.createObjectURL(_);s(_),o(k)};return y.jsx("div",{children:y.jsx(xr,{className:"pt-5",children:y.jsxs(Uo,{children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add New Blog"}),y.jsx(pc,{...l,children:y.jsxs("form",{onSubmit:l.handleSubmit(m),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"category",render:({field:v})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Category"}),y.jsx(Vn,{children:y.jsxs(KB,{onValueChange:v.onChange,defaultValue:v.value,children:[y.jsx(JB,{className:"w-full",children:y.jsx(XB,{placeholder:"Select"})}),y.jsx(QB,{children:e&&e.category.length>0&&e.category.map(_=>y.jsx(eF,{value:_._id,children:_.name},_._id))})]})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"title",render:({field:v})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Title"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Title of Blog",...v})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"slug",render:({field:v})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Slug"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Slug",...v})}),y.jsx(Nn,{})]})})}),y.jsxs("div",{className:"mb-3",children:[y.jsx("span",{className:"mb-2 block",children:"Featured Image"}),y.jsx(df,{onDrop:v=>p(v),children:({getRootProps:v,getInputProps:_})=>y.jsxs("div",{...v(),children:[y.jsx("input",{..._()}),y.jsx("div",{className:"flex justify-center items-center w-36 h-28 border-2 border-dashed rounded",children:y.jsx("img",{src:r})})]})})]}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:l.control,name:"blogContent",render:({field:v})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Blog Content"}),y.jsx(Vn,{children:y.jsx(F$,{props:{initialData:"",onChange:u}})}),y.jsx(Nn,{})]})})}),y.jsx(hi,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"Submit"})]})})]})})})},l9e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(n=>n.charCodeAt(0))),c9e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(n=>n.charCodeAt(0)));var jk;const u9e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),d9e=(jk=String.fromCodePoint)!==null&&jk!==void 0?jk:function(n){let t="";return n>65535&&(n-=65536,t+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),t+=String.fromCharCode(n),t};function h9e(n){var t;return n>=55296&&n<=57343||n>1114111?65533:(t=u9e.get(n))!==null&&t!==void 0?t:n}var Si;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(Si||(Si={}));const f9e=32;var Zl;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(Zl||(Zl={}));function JE(n){return n>=Si.ZERO&&n<=Si.NINE}function m9e(n){return n>=Si.UPPER_A&&n<=Si.UPPER_F||n>=Si.LOWER_A&&n<=Si.LOWER_F}function g9e(n){return n>=Si.UPPER_A&&n<=Si.UPPER_Z||n>=Si.LOWER_A&&n<=Si.LOWER_Z||JE(n)}function p9e(n){return n===Si.EQUALS||g9e(n)}var xi;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(xi||(xi={}));var Ca;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(Ca||(Ca={}));class b9e{constructor(t,e,i){this.decodeTree=t,this.emitCodePoint=e,this.errors=i,this.state=xi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ca.Strict}startEntity(t){this.decodeMode=t,this.state=xi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case xi.EntityStart:return t.charCodeAt(e)===Si.NUM?(this.state=xi.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=xi.NamedEntity,this.stateNamedEntity(t,e));case xi.NumericStart:return this.stateNumericStart(t,e);case xi.NumericDecimal:return this.stateNumericDecimal(t,e);case xi.NumericHex:return this.stateNumericHex(t,e);case xi.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(t.charCodeAt(e)|f9e)===Si.LOWER_X?(this.state=xi.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=xi.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,i,s){if(e!==i){const r=i-e;this.result=this.result*Math.pow(s,r)+Number.parseInt(t.substr(e,r),s),this.consumed+=r}}stateNumericHex(t,e){const i=e;for(;e<t.length;){const s=t.charCodeAt(e);if(JE(s)||m9e(s))e+=1;else return this.addToNumericResult(t,i,e,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,i,e,16),-1}stateNumericDecimal(t,e){const i=e;for(;e<t.length;){const s=t.charCodeAt(e);if(JE(s))e+=1;else return this.addToNumericResult(t,i,e,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,i,e,10),-1}emitNumericEntity(t,e){var i;if(this.consumed<=e)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Si.SEMI)this.consumed+=1;else if(this.decodeMode===Ca.Strict)return 0;return this.emitCodePoint(h9e(this.result),this.consumed),this.errors&&(t!==Si.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:i}=this;let s=i[this.treeIndex],r=(s&Zl.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=v9e(i,s,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return this.result===0||this.decodeMode===Ca.Attribute&&(r===0||p9e(o))?0:this.emitNotTerminatedNamedEntity();if(s=i[this.treeIndex],r=(s&Zl.VALUE_LENGTH)>>14,r!==0){if(o===Si.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==Ca.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:i}=this,s=(i[e]&Zl.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,i){const{decodeTree:s}=this;return this.emitCodePoint(e===1?s[t]&~Zl.VALUE_LENGTH:s[t+1],i),e===3&&this.emitCodePoint(s[t+2],i),i}end(){var t;switch(this.state){case xi.NamedEntity:return this.result!==0&&(this.decodeMode!==Ca.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case xi.NumericDecimal:return this.emitNumericEntity(0,2);case xi.NumericHex:return this.emitNumericEntity(0,3);case xi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case xi.EntityStart:return 0}}}function z$(n){let t="";const e=new b9e(n,i=>t+=d9e(i));return function(s,r){let o=0,a=0;for(;(a=s.indexOf("&",a))>=0;){t+=s.slice(o,a),e.startEntity(r);const u=e.write(s,a+1);if(u<0){o=a+e.end();break}o=a+u,a=u===0?o+1:o}const l=t+s.slice(o);return t="",l}}function v9e(n,t,e,i){const s=(t&Zl.BRANCH_LENGTH)>>7,r=t&Zl.JUMP_TABLE;if(s===0)return r!==0&&i===r?e:-1;if(r){const l=i-r;return l<0||l>=s?-1:n[e+l]-1}let o=e,a=o+s-1;for(;o<=a;){const l=o+a>>>1,u=n[l];if(u<i)o=l+1;else if(u>i)a=l-1;else return n[l+s]}return-1}const w9e=z$(l9e),y9e=z$(c9e);function _9e(n,t=Ca.Legacy){return w9e(n,t)}function x9e(n){return y9e(n,Ca.Strict)}var Qv;(function(n){n[n.XML=0]="XML",n[n.HTML=1]="HTML"})(Qv||(Qv={}));var YM;(function(n){n[n.UTF8=0]="UTF8",n[n.ASCII=1]="ASCII",n[n.Extensive=2]="Extensive",n[n.Attribute=3]="Attribute",n[n.Text=4]="Text"})(YM||(YM={}));function j$(n,t=Qv.XML){if((typeof t=="number"?t:t.level)===Qv.HTML){const i=typeof t=="object"?t.mode:void 0;return _9e(n,i)}return x9e(n)}const k9e=()=>{const{blogid:n}=aw(),t=Bo();jo(k=>k.user);const{data:e}=Ii(`${Ot("VITE_API_BASE_URL")}/category/all-category`,{method:"get",credentials:"include"}),{data:i,loading:s}=Ii(`${Ot("VITE_API_BASE_URL")}/blog/edit/${n}`,{method:"get",credentials:"include"},[n]),[r,o]=E.useState(),[a,l]=E.useState(),u=Zt.object({category:Zt.string().min(3,"Category must be at least 3 Characters"),title:Zt.string().min(3,"Title must be at least 3 Characters"),slug:Zt.string().min(3,"Slug must be at least 3 Characters"),blogContent:Zt.string().min(3,"Blog Content must be at least 3 Characters")}),h=gc({resolver:bc(u),defaultValues:{category:"",title:"",slug:"",blogContent:""}});E.useEffect(()=>{i&&(l(i.blog.featuredImage),h.setValue("Category",i.blog.category._id),h.setValue("title",i.blog.title),h.setValue("slug",i.blog.title),h.setValue("slug",i.blog.slug),h.setValue("blogContent",j$(i.blog.blogContent)))},[i]);const m=(k,C)=>{const T=C.getData();h.setValue("blogContent",T)},p=h.watch("title");E.useEffect(()=>{if(p){const k=Kw(p,{lower:!0});h.setValue("slug",k)}},[p]);async function v(k){try{const C=new FormData;C.append("file",r),C.append("data",JSON.stringify(k));const T=await fetch(`${Ot("VITE_API_BASE_URL")}/blog/update/${n}`,{method:"put",credentials:"include",body:C}),S=await T.json();if(!T.ok)return gt("error",S.message);h.reset(),o(),l(),t(_w),gt("success",S.message)}catch(C){gt("error",C.message)}}const _=k=>{const C=k[0],T=URL.createObjectURL(C);o(C),l(T)};return s?y.jsx(sl,{}):y.jsx("div",{children:y.jsx(xr,{className:"pt-5",children:y.jsxs(Uo,{children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Blog"}),y.jsx(pc,{...h,children:y.jsxs("form",{onSubmit:h.handleSubmit(v),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:h.control,name:"category",render:({field:k})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Category"}),y.jsx(Vn,{children:y.jsxs(KB,{onValueChange:k.onChange,Value:k.value,children:[y.jsx(JB,{className:"w-full",children:y.jsx(XB,{placeholder:"Select"})}),y.jsx(QB,{children:e&&e.category.length>0&&e.category.map(C=>y.jsx(eF,{value:C._id,children:C.name},C._id))})]})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:h.control,name:"title",render:({field:k})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Title"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Enter Title of Blog",...k})}),y.jsx(Nn,{})]})})}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:h.control,name:"slug",render:({field:k})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Slug"}),y.jsx(Vn,{children:y.jsx(Ai,{placeholder:"Slug",...k})}),y.jsx(Nn,{})]})})}),y.jsxs("div",{className:"mb-3",children:[y.jsx("span",{className:"mb-2 block",children:"Featured Image"}),y.jsx(df,{onDrop:k=>_(k),children:({getRootProps:k,getInputProps:C})=>y.jsxs("div",{...k(),children:[y.jsx("input",{...C()}),y.jsx("div",{className:"flex justify-center items-center w-36 h-28 border-2 border-dashed rounded",children:y.jsx("img",{src:a})})]})})]}),y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:h.control,name:"blogContent",render:({field:k})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Blog Content"}),y.jsx(Vn,{children:y.jsx(F$,{props:{initialData:k.value,onChange:m}})}),y.jsx(Nn,{})]})})}),y.jsx(hi,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",children:"Submit"})]})})]})})})},C9e=()=>{const[n,t]=E.useState(!1),{data:e,loading:i}=Ii(`${Ot("VITE_API_BASE_URL")}/blog/get-all`,{method:"get",credentials:"include"},[n]),s=r=>{ey(`${Ot("VITE_API_BASE_URL")}/blog/delete/${r}`)?(t(!n),gt("success","Data Deleted")):gt("error","Data not Deleted")};return i?y.jsx(sl,{}):y.jsx("div",{children:y.jsxs(xr,{children:[y.jsx(J9,{children:y.jsx("div",{children:y.jsx(hi,{asChild:!0,className:"bg-purple-600 hover:bg-purple-700",children:y.jsx(Hn,{to:LT,children:"Add Blog"})})})}),y.jsx(Uo,{children:y.jsxs(Xw,{children:[y.jsx(Jw,{children:y.jsxs(fr,{children:[y.jsx(ui,{children:"Author"}),y.jsx(ui,{children:"Category Name"}),y.jsx(ui,{children:"Title"}),y.jsx(ui,{children:"Slug"}),y.jsx(ui,{children:"Dated"}),y.jsx(ui,{children:"Action"})]})}),y.jsx(Qw,{children:e&&e.blog.length>0?e.blog.map(r=>{var o,a;return y.jsxs(fr,{children:[y.jsx(Rn,{children:(o=r==null?void 0:r.author)==null?void 0:o.name}),y.jsx(Rn,{children:(a=r==null?void 0:r.category)==null?void 0:a.name}),y.jsx(Rn,{children:r.title}),y.jsx(Rn,{children:r.slug}),y.jsx(Rn,{children:Ne(r==null?void 0:r.createdAt).format("DD-MM-YYYY")}),y.jsxs(Rn,{className:"flex gap-3",children:[y.jsx(hi,{asChild:!0,variant:"outline",className:" hover:bg-violet-600 hover:text-white",children:y.jsx(Hn,{to:BV(r._id),children:y.jsx(kB,{})})}),y.jsx(hi,{onClick:()=>s(r._id),variant:"outline",className:" hover:bg-violet-600 hover:text-white",children:y.jsx(yw,{})})]})]},r._id)}):y.jsx(fr,{children:y.jsx(Rn,{colSpan:"3",children:"Data Not Found."})})})]})})]})})},E9e=({props:n})=>{var s,r,o;const t=jo(a=>a.user),{data:e,loading:i}=Ii(`${Ot("VITE_API_BASE_URL")}/comment/get/${n.blogid}`,{method:"get",credentials:"include"});return i?y.jsx(sl,{}):y.jsxs("div",{children:[y.jsxs("h4",{className:"text-2xl font-bold",children:[n.newComment?y.jsxs("span",{className:"me-2",children:[" ",e&&e.comments.length+1]}):y.jsx("span",{className:"me-2",children:e&&e.comments.length}),"Comments"]}),y.jsxs("div",{className:"mt-5",children:[n.newComment&&y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx(iC,{children:y.jsx(_u,{src:((s=t==null?void 0:t.user)==null?void 0:s.avatar)||xu})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:t==null?void 0:t.user.name}),y.jsx("p",{children:Ne((r=n.newComment)==null?void 0:r.createdAt).format("DD-MM-YYYY")}),y.jsx("div",{className:"pt-3",children:(o=n.newComment)==null?void 0:o.comment})]})]}),e&&e.comments.length>0&&e.comments.map(a=>y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx(iC,{children:y.jsx(_u,{src:a.user.avatar||xu})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:a.user.name}),y.jsx("p",{children:Ne(a.createdAt).format("DD-MM-YYYY")}),y.jsx("div",{className:"pt-1",children:a.comment})]})]},a._id))]})]})},T9e=({props:n})=>{const[t,e]=E.useState(),i=jo(a=>a.user),s=Zt.object({comment:Zt.string().min(3,"Comment must be at least 3 Characters")}),r=gc({resolver:bc(s),defaultValues:{comment:""}});async function o(a){try{const l={...a,blogid:n.blogid,user:i.user._id},u=await fetch(`${Ot("VITE_API_BASE_URL")}/comment/add`,{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),h=await u.json();if(!u.ok)return gt("error",h.message);e(h.comment),r.reset(),gt("success",h.message)}catch(l){gt("error",l.message)}}return y.jsxs("div",{children:[y.jsxs("h4",{className:"flex items-center gap-2 text-2xl font-bold",children:[" ",y.jsx(MQ,{className:"text-violet-500"})," Comment"]}),i&&i.isLoggedIn?y.jsx(pc,{...r,children:y.jsxs("form",{onSubmit:r.handleSubmit(o),children:[y.jsx("div",{className:"mb-3",children:y.jsx(On,{control:r.control,name:"comment",render:({field:a})=>y.jsxs(Mn,{children:[y.jsx(Dn,{children:"Comment"}),y.jsx(Vn,{children:y.jsx(hB,{placeholder:"Type your comment...",...a})}),y.jsx(Nn,{})]})})}),y.jsx(hi,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:"Submit"})]})}):y.jsx(hi,{asChild:!0,className:"bg-purple-600 hover:bg-purple-700",children:y.jsx(Hn,{to:yu,children:"Sign In "})}),y.jsx("div",{className:"mt-5",children:y.jsx(E9e,{props:{blogid:n.blogid,newComment:t}})})]})},S9e=({props:n})=>{const{data:t}=Ii(`${Ot("VITE_API_BASE_URL")}/comment/get-count/${n.blogid}`,{method:"get",credentials:"include"});return y.jsxs("button",{type:"button",className:"flex justify-between items-center gap-1 cursor-pointer",children:[y.jsx(LQ,{}),t&&t.commentCount]})},A9e=({props:n})=>{const[t,e]=E.useState(0),[i,s]=E.useState(!1),{user:r,isLoggedIn:o}=jo(u=>u.user),{data:a}=Ii(`${Ot("VITE_API_BASE_URL")}/blog-like/get-like/${n.blogid}`,{method:"get",credentials:"include"});E.useEffect(()=>{a&&(e(a.likecount),s(a.isUserliked))},[a]);const l=async()=>{try{if(!o)return gt("error","Please login into your account.");const u=await fetch(`${Ot("VITE_API_BASE_URL")}/blog-like/do-like`,{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:r._id,blogid:n.blogid})});if(!u.ok)return gt("error",u.statusText);const h=await u.json();e(h.likecount),s(!i)}catch(u){gt("error",u.message)}};return y.jsxs("button",{onClick:l,type:"button",className:"flex justify-between items-center gap-1 cursor-pointer",children:[i?y.jsx(DQ,{fill:"red"}):y.jsx(BQ,{}),t]})},I9e=({props:n})=>{const{data:t,loading:e,error:i}=Ii(`${Ot("VITE_API_BASE_URL")}/blog/get-related-blog/${n.category}/${n.currentBlog}`,{method:"get",credentials:"include"});return console.log("Fetching Related Blogs..."),console.log("API URL:",`${Ot("VITE_API_BASE_URL")}/blog/get-related-blog/${n.category}/${n.currentBlog}`),console.log("Fetched Data:",t),console.log("Loading State:",e),console.log("Error:",i),e?y.jsx("div",{children:"Loading ...."}):y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold mb-5",children:"RelatedBlog"}),y.jsx("div",{children:t&&t.relatedBlog?t.relatedBlog.map(s=>y.jsx(Hn,{to:BT(n.category,s.slug),children:y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx("img",{className:"w-[100px] h-[80px] object-cover rounded-md",src:s.featuredImage}),y.jsx("h4",{className:"line-clamp-2 text-lg font-semibold",children:s.title})]})},s._id)):y.jsx("div",{children:"No related Blog"})})]})},R9e=()=>{const{blog:n,category:t}=aw();console.log(t);const{data:e,loading:i}=Ii(`${Ot("VITE_API_BASE_URL")}/blog/get-blog/${n}`,{method:"get",credentials:"include"},[n,t]);return i?y.jsx(sl,{}):y.jsxs("div",{className:"md:flex-nowrap flex-wrap flex justify-between gap-20",children:[e&&e.blog&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"border rounded md:w-[70%] w-full p-5",children:[y.jsx("h1",{className:"text-2xl font-bold mb-5",children:e.blog.title}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex justify-between items-center gap-5",children:[y.jsx(kp,{children:y.jsx(_u,{className:"w-10 h-10 rounded-full",src:e.blog.author.avatar||xu})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:e.blog.author.name}),y.jsxs("p",{children:["Date: ",Ne(e.blog.createdAt).format("DD-MM-YYYY")]})]})]}),y.jsxs("div",{className:"flex justify-between items-center gap-5",children:[y.jsx(A9e,{props:{blogid:e.blog._id}}),y.jsx(S9e,{props:{blogid:e.blog._id}})]})]}),y.jsx("div",{className:"my-5",children:y.jsx("img",{src:e.blog.featuredImage,className:"rounded"})}),y.jsx("div",{dangerouslySetInnerHTML:{__html:j$(e.blog.blogContent)||""}}),y.jsx("div",{className:"border-t mt-5 pt-5",children:y.jsx(T9e,{props:{blogid:e.blog._id}})})]})}),y.jsx("div",{className:"border rounded md:w-[30%] w-full p-5",children:y.jsx(I9e,{props:{category:t,currentBlog:n}})})]})},P9e=()=>{var i;const{category:n}=aw(),{data:t,loading:e}=Ii(`${Ot("VITE_API_BASE_URL")}/blog/get-blog-by-category/${n}`,{method:"get",credentials:"include"},[n]);return e?y.jsx(sl,{}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center gap-3 text-2xl font-bold text-violet-500 border-b pb-3 mb-5",children:[y.jsx(PQ,{}),t&&((i=t.categoryData)==null?void 0:i.name)]}),y.jsx("div",{className:"grid md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-10",children:t&&t.blog.length>0?t.blog.map(s=>y.jsx(CS,{props:s},s._id)):y.jsx("div",{children:"Data Not Found"})})]})},O9e=()=>{const[n]=HY(),t=n.get("q"),{data:e}=Ii(`${Ot("VITE_API_BASE_URL")}/blog/search?q=${t}`,{method:"get",credentials:"include"});return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex items-center gap-3 text-2xl font-bold text-violet-500 border-b pb-3 mb-5",children:y.jsxs("h4",{children:["Search Result For : ",t]})}),y.jsx("div",{className:"grid md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-10",children:e&&e.blog.length>0?e.blog.map(i=>y.jsx(CS,{props:i},i._id)):y.jsx("div",{children:"Data Not Found"})})]})},M9e=()=>{const[n,t]=E.useState(!1),{data:e,loading:i}=Ii(`${Ot("VITE_API_BASE_URL")}/comment/get-all-comment`,{method:"get",credentials:"include"},[n]),s=async r=>{await ey(`${Ot("VITE_API_BASE_URL")}/comment/delete/${r}`)?(t(!n),gt("success","Comment Deleted")):gt("error","Comment not Deleted")};return console.log(e),i?y.jsx(sl,{}):y.jsx("div",{children:y.jsx(xr,{children:y.jsx(Uo,{children:y.jsxs(Xw,{children:[y.jsx(Jw,{children:y.jsxs(fr,{children:[y.jsx(ui,{children:"Blog"}),y.jsx(ui,{children:"Commented By"}),y.jsx(ui,{children:"comment"}),y.jsx(ui,{children:"Action"})]})}),y.jsx(Qw,{children:e&&e.comments.length>0?e.comments.map(r=>{var o,a;return y.jsxs(fr,{children:[y.jsx(Rn,{children:(o=r==null?void 0:r.blogid)==null?void 0:o.title}),y.jsx(Rn,{children:(a=r==null?void 0:r.user)==null?void 0:a.name}),y.jsx(Rn,{children:r==null?void 0:r.comment}),y.jsx(Rn,{className:"flex gap-3",children:y.jsx(hi,{onClick:()=>s(r._id),variant:"outline",className:" hover:bg-violet-600 hover:text-white",children:y.jsx(yw,{})})})]},r._id)}):y.jsx(fr,{children:y.jsx(Rn,{colSpan:"3",children:"Data Not Found."})})})]})})})})},D9e=()=>{const[n,t]=E.useState(!1),{data:e,loading:i}=Ii(`${Ot("VITE_API_BASE_URL")}/user/get-all-user`,{method:"get",credentials:"include"},[n]),s=async r=>{await ey(`${Ot("VITE_API_BASE_URL")}/user/delete/${r}`)?(t(!n),gt("success","User Deleted")):gt("error","User not Deleted")};return console.log(e),i?y.jsx(sl,{}):y.jsx("div",{children:y.jsx(xr,{children:y.jsx(Uo,{children:y.jsxs(Xw,{children:[y.jsx(Jw,{children:y.jsxs(fr,{children:[y.jsx(ui,{children:"Blog"}),y.jsx(ui,{children:"Name"}),y.jsx(ui,{children:"Email"}),y.jsx(ui,{children:"Avatar"}),y.jsx(ui,{children:"Dated"}),y.jsx(ui,{children:"Action"})]})}),y.jsx(Qw,{children:e&&e.user.length>0?e.user.map(r=>y.jsxs(fr,{children:[y.jsx(Rn,{children:r.role}),y.jsx(Rn,{children:r.name}),y.jsx(Rn,{children:r.email}),y.jsx(Rn,{children:y.jsx("img",{className:"w-10",src:r.avatar||xu,alt:""})}),y.jsx(Rn,{children:Ne(r.createdAt).format("DD-MM-YYYY")}),y.jsx(Rn,{className:"flex gap-3",children:y.jsx(hi,{onClick:()=>s(r._id),variant:"outline",className:" hover:bg-violet-600 hover:text-white",children:y.jsx(yw,{})})})]},r._id)):y.jsx(fr,{children:y.jsx(Rn,{colSpan:"3",children:"Data Not Found."})})})]})})})})},V9e=()=>{const n=jo(t=>t.user);return n&&n.isLoggedIn?y.jsx(aT,{}):y.jsx(uD,{to:yu})},N9e=()=>{const n=jo(t=>t.user);return n&&n.isLoggedIn&&n.user.role==="admin"?y.jsx(aT,{}):y.jsx(uD,{to:yu})},L9e=()=>y.jsx(BY,{children:y.jsxs(fY,{children:[y.jsxs(ai,{path:wu,element:y.jsx(xie,{}),children:[y.jsx(ai,{index:!0,element:y.jsx(Tae,{})}),y.jsx(ai,{path:BT(),element:y.jsx(R9e,{})}),y.jsx(ai,{path:FV(),element:y.jsx(P9e,{})}),y.jsx(ai,{path:zV(),element:y.jsx(O9e,{})}),y.jsxs(ai,{element:y.jsx(V9e,{}),children:[y.jsx(ai,{path:DV,element:y.jsx($fe,{})}),y.jsx(ai,{path:LT,element:y.jsx(a9e,{})}),y.jsx(ai,{path:_w,element:y.jsx(C9e,{})}),y.jsx(ai,{path:BV(),element:y.jsx(k9e,{})}),y.jsx(ai,{path:jV,element:y.jsx(M9e,{})})]}),y.jsxs(ai,{element:y.jsx(N9e,{}),children:[y.jsx(ai,{path:NV,element:y.jsx(Yfe,{})}),y.jsx(ai,{path:VV,element:y.jsx(Kfe,{})}),y.jsx(ai,{path:LV(),element:y.jsx(Zfe,{})}),y.jsx(ai,{path:UV,element:y.jsx(D9e,{})})]})]}),y.jsx(ai,{path:yu,element:y.jsx(Uhe,{})}),y.jsx(ai,{path:MV,element:y.jsx(Hhe,{})})]})});function R1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R1=function(e){return typeof e}:R1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R1(n)}function Uk(){}var B9e={getItem:Uk,setItem:Uk,removeItem:Uk};function F9e(n){if((typeof self>"u"?"undefined":R1(self))!=="object"||!(n in self))return!1;try{var t=self[n],e="redux-persist ".concat(n," test");t.setItem(e,"test"),t.getItem(e),t.removeItem(e)}catch{return!1}return!0}function z9e(n){var t="".concat(n,"Storage");return F9e(t)?self[t]:B9e}function j9e(n){var t=z9e(n);return{getItem:function(i){return new Promise(function(s,r){s(t.getItem(i))})},setItem:function(i,s){return new Promise(function(r,o){r(t.setItem(i,s))})},removeItem:function(i){return new Promise(function(s,r){s(t.removeItem(i))})}}}const U9e=j9e("session");var dA="persist:",U$="persist/FLUSH",hA="persist/REHYDRATE",H$="persist/PAUSE",$$="persist/PERSIST",W$="persist/PURGE",q$="persist/REGISTER",H9e=-1;function P1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P1=function(e){return typeof e}:P1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P1(n)}function ZM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function $9e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZM(e,!0).forEach(function(i){W9e(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZM(e).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function W9e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function q9e(n,t,e,i){i.debug;var s=$9e({},e);return n&&P1(n)==="object"&&Object.keys(n).forEach(function(r){r!=="_persist"&&t[r]===e[r]&&(s[r]=n[r])}),s}function G9e(n){var t=n.blacklist||null,e=n.whitelist||null,i=n.transforms||[],s=n.throttle||0,r="".concat(n.keyPrefix!==void 0?n.keyPrefix:dA).concat(n.key),o=n.storage,a;n.serialize===!1?a=function(O){return O}:typeof n.serialize=="function"?a=n.serialize:a=Y9e;var l=n.writeFailHandler||null,u={},h={},m=[],p=null,v=null,_=function(O){Object.keys(O).forEach(function(D){T(D)&&u[D]!==O[D]&&m.indexOf(D)===-1&&m.push(D)}),Object.keys(u).forEach(function(D){O[D]===void 0&&T(D)&&m.indexOf(D)===-1&&u[D]!==void 0&&m.push(D)}),p===null&&(p=setInterval(k,s)),u=O};function k(){if(m.length===0){p&&clearInterval(p),p=null;return}var P=m.shift(),O=i.reduce(function(D,N){return N.in(D,P,u)},u[P]);if(O!==void 0)try{h[P]=a(O)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete h[P];m.length===0&&C()}function C(){Object.keys(h).forEach(function(P){u[P]===void 0&&delete h[P]}),v=o.setItem(r,a(h)).catch(S)}function T(P){return!(e&&e.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function S(P){l&&l(P)}var I=function(){for(;m.length!==0;)k();return v||Promise.resolve()};return{update:_,flush:I}}function Y9e(n){return JSON.stringify(n)}function Z9e(n){var t=n.transforms||[],e="".concat(n.keyPrefix!==void 0?n.keyPrefix:dA).concat(n.key),i=n.storage;n.debug;var s;return n.deserialize===!1?s=function(o){return o}:typeof n.deserialize=="function"?s=n.deserialize:s=K9e,i.getItem(e).then(function(r){if(r)try{var o={},a=s(r);return Object.keys(a).forEach(function(l){o[l]=t.reduceRight(function(u,h){return h.out(u,l,a)},s(a[l]))}),o}catch(l){throw l}else return})}function K9e(n){return JSON.parse(n)}function X9e(n){var t=n.storage,e="".concat(n.keyPrefix!==void 0?n.keyPrefix:dA).concat(n.key);return t.removeItem(e,J9e)}function J9e(n){}function KM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function ga(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?KM(e,!0).forEach(function(i){Q9e(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):KM(e).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Q9e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function eNe(n,t){if(n==null)return{};var e=tNe(n,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function tNe(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}var nNe=5e3;function iNe(n,t){var e=n.version!==void 0?n.version:H9e;n.debug;var i=n.stateReconciler===void 0?q9e:n.stateReconciler,s=n.getStoredState||Z9e,r=n.timeout!==void 0?n.timeout:nNe,o=null,a=!1,l=!0,u=function(m){return m._persist.rehydrated&&o&&!l&&o.update(m),m};return function(h,m){var p=h||{},v=p._persist,_=eNe(p,["_persist"]),k=_;if(m.type===$$){var C=!1,T=function(j,z){C||(m.rehydrate(n.key,j,z),C=!0)};if(r&&setTimeout(function(){!C&&T(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},r),l=!1,o||(o=G9e(n)),v)return ga({},t(k,m),{_persist:v});if(typeof m.rehydrate!="function"||typeof m.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return m.register(n.key),s(n).then(function(N){var j=n.migrate||function(z,J){return Promise.resolve(z)};j(N,e).then(function(z){T(z)},function(z){T(void 0,z)})},function(N){T(void 0,N)}),ga({},t(k,m),{_persist:{version:e,rehydrated:!1}})}else{if(m.type===W$)return a=!0,m.result(X9e(n)),ga({},t(k,m),{_persist:v});if(m.type===U$)return m.result(o&&o.flush()),ga({},t(k,m),{_persist:v});if(m.type===H$)l=!0;else if(m.type===hA){if(a)return ga({},k,{_persist:ga({},v,{rehydrated:!0})});if(m.key===n.key){var S=t(k,m),I=m.payload,P=i!==!1&&I!==void 0?i(I,h,S,n):S,O=ga({},P,{_persist:ga({},v,{rehydrated:!0})});return u(O)}}}if(!v)return t(h,m);var D=t(k,m);return D===k?h:u(ga({},D,{_persist:v}))}}function XM(n){return oNe(n)||rNe(n)||sNe()}function sNe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function rNe(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function oNe(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}function JM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function QE(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?JM(e,!0).forEach(function(i){aNe(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):JM(e).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function aNe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var G$={registry:[],bootstrapped:!1},lNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G$,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case q$:return QE({},t,{registry:[].concat(XM(t.registry),[e.key])});case hA:var i=t.registry.indexOf(e.key),s=XM(t.registry);return s.splice(i,1),QE({},t,{registry:s,bootstrapped:s.length===0});default:return t}};function cNe(n,t,e){var i=JT(lNe,G$,void 0),s=function(l){i.dispatch({type:q$,key:l})},r=function(l,u,h){var m={type:hA,payload:u,err:h,key:l};n.dispatch(m),i.dispatch(m)},o=QE({},i,{purge:function(){var l=[];return n.dispatch({type:W$,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return n.dispatch({type:U$,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){n.dispatch({type:H$})},persist:function(){n.dispatch({type:$$,register:s,rehydrate:r})}});return o.persist(),o}const uNe=D9({user:Bne}),dNe={key:"root",storage:U9e},hNe=iNe(dNe,uNe),Y$=kne({reducer:hNe,middleware:n=>n({serializableCheck:!1})}),fNe=cNe(Y$);function O1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O1=function(e){return typeof e}:O1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O1(n)}function mNe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function gNe(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function pNe(n,t,e){return t&&gNe(n.prototype,t),n}function bNe(n,t){return t&&(O1(t)==="object"||typeof t=="function")?t:M1(n)}function eT(n){return eT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eT(n)}function M1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vNe(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&tT(n,t)}function tT(n,t){return tT=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},tT(n,t)}function D1(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Z$=function(n){vNe(t,n);function t(){var e,i;mNe(this,t);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return i=bNe(this,(e=eT(t)).call.apply(e,[this].concat(r))),D1(M1(i),"state",{bootstrapped:!1}),D1(M1(i),"_unsubscribe",void 0),D1(M1(i),"handlePersistorState",function(){var a=i.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return pNe(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(E.PureComponent);D1(Z$,"defaultProps",{children:null,loading:null});_G.createRoot(document.getElementById("root")).render(y.jsx(E.StrictMode,{children:y.jsx(tee,{store:Y$,children:y.jsxs(Z$,{loading:y.jsx("div",{children:" Loading .... "}),persistor:fNe,children:[y.jsx(wie,{}),y.jsx(L9e,{})]})})}))});export default wNe();
